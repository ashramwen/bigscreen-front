/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=oe.type(t);return"function"===n||oe.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(oe.isFunction(e))return oe.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return oe.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ge.test(e))return oe.filter(e,t,n);e=oe.filter(e,t)}return oe.grep(t,function(t){return Q.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return oe.each(t.match(xe)||[],function(t,n){e[n]=!0}),e}function a(){Y.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a),oe.ready()}function s(){this.expando=oe.expando+s.uid++}function u(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ae,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ce.test(n)?oe.parseJSON(n):n}catch(r){}$e.set(t,e,n)}else n=void 0;return n}function l(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return oe.css(t,e,"")},u=s(),l=n&&n[3]||(oe.cssNumber[e]?"":"px"),c=(oe.cssNumber[e]||"px"!==l&&+u)&&Ie.exec(oe.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,oe.style(t,e,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&oe.nodeName(t,e)?oe.merge([t],n):n}function h(t,e){for(var n=0,i=t.length;i>n;n++)Se.set(t[n],"globalEval",!e||Se.get(e[n],"globalEval"))}function p(t,e,n,i,r){for(var o,a,s,u,l,p,d=e.createDocumentFragment(),f=[],g=0,m=t.length;m>g;g++)if(o=t[g],o||0===o)if("object"===oe.type(o))oe.merge(f,o.nodeType?[o]:o);else if(Re.test(o)){for(a=a||d.appendChild(e.createElement("div")),s=(Pe.exec(o)||["",""])[1].toLowerCase(),u=Ne[s]||Ne._default,a.innerHTML=u[1]+oe.htmlPrefilter(o)+u[2],p=u[0];p--;)a=a.lastChild;oe.merge(f,a.childNodes),a=d.firstChild,a.textContent=""}else f.push(e.createTextNode(o));for(d.textContent="",g=0;o=f[g++];)if(i&&oe.inArray(o,i)>-1)r&&r.push(o);else if(l=oe.contains(o.ownerDocument,o),a=c(d.appendChild(o),"script"),l&&h(a),n)for(p=0;o=a[p++];)Le.test(o.type||"")&&n.push(o);return d}function d(){return!0}function f(){return!1}function g(){try{return Y.activeElement}catch(t){}}function m(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)m(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=f;else if(!r)return t;return 1===o&&(a=r,r=function(t){return oe().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=oe.guid++)),t.each(function(){oe.event.add(this,e,r,i,n)})}function v(t,e){return oe.nodeName(t,"table")&&oe.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _(t){var e=He.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){var n,i,r,o,a,s,u,l;if(1===e.nodeType){if(Se.hasData(t)&&(o=Se.access(t),a=Se.set(e,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)oe.event.add(e,r,l[r][n])}$e.hasData(t)&&(s=$e.access(t),u=oe.extend({},s),$e.set(e,u))}}function x(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Oe.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function w(t,e,n,i){e=X.apply([],e);var r,o,a,s,u,l,h=0,d=t.length,f=d-1,g=e[0],m=oe.isFunction(g);if(m||d>1&&"string"==typeof g&&!ie.checkClone&&je.test(g))return t.each(function(r){var o=t.eq(r);m&&(e[0]=g.call(this,r,o.html())),w(o,e,n,i)});if(d&&(r=p(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=oe.map(c(r,"script"),y),s=a.length;d>h;h++)u=r,h!==f&&(u=oe.clone(u,!0,!0),s&&oe.merge(a,c(u,"script"))),n.call(t[h],u,h);if(s)for(l=a[a.length-1].ownerDocument,oe.map(a,_),h=0;s>h;h++)u=a[h],Le.test(u.type||"")&&!Se.access(u,"globalEval")&&oe.contains(l,u)&&(u.src?oe._evalUrl&&oe._evalUrl(u.src):oe.globalEval(u.textContent.replace(ze,"")))}return t}function k(t,e,n){for(var i,r=e?oe.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||oe.cleanData(c(i)),i.parentNode&&(n&&oe.contains(i.ownerDocument,i)&&h(c(i,"script")),i.parentNode.removeChild(i));return t}function T(t,e){var n=oe(e.createElement(t)).appendTo(e.body),i=oe.css(n[0],"display");return n.detach(),i}function S(t){var e=Y,n=qe[t];return n||(n=T(t,e),"none"!==n&&n||(Fe=(Fe||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Fe[0].contentDocument,e.write(),e.close(),n=T(t,e),Fe.detach()),qe[t]=n),n}function $(t,e,n){var i,r,o,a,s=t.style;return n=n||Ze(t),a=n?n.getPropertyValue(e)||n[e]:void 0,""!==a&&void 0!==a||oe.contains(t.ownerDocument,t)||(a=oe.style(t,e)),n&&!ie.pixelMarginRight()&&Ye.test(a)&&Ge.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in rn)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=nn.length;n--;)if(t=nn[n]+e,t in rn)return t}function M(t,e,n){var i=Ie.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function I(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=oe.css(t,n+De[o],!0,r)),i?("content"===n&&(a-=oe.css(t,"padding"+De[o],!0,r)),"margin"!==n&&(a-=oe.css(t,"border"+De[o]+"Width",!0,r))):(a+=oe.css(t,"padding"+De[o],!0,r),"padding"!==n&&(a+=oe.css(t,"border"+De[o]+"Width",!0,r)));return a}function D(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Ze(t),a="border-box"===oe.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=$(t,e,o),(0>r||null==r)&&(r=t.style[e]),Ye.test(r))return r;i=a&&(ie.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+I(t,e,n||(a?"border":"content"),i,o)+"px"}function E(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=Se.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Ee(i)&&(o[a]=Se.access(i,"olddisplay",S(i.nodeName)))):(r=Ee(i),"none"===n&&r||Se.set(i,"olddisplay",r?n:oe.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function O(t,e,n,i,r){return new O.prototype.init(t,e,n,i,r)}function P(){return t.setTimeout(function(){on=void 0}),on=oe.now()}function L(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=De[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function N(t,e,n){for(var i,r=(K.tweeners[e]||[]).concat(K.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function R(t,e,n){var i,r,o,a,s,u,l,c,h=this,p={},d=t.style,f=t.nodeType&&Ee(t),g=Se.get(t,"fxshow");n.queue||(s=oe._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,oe.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=oe.css(t,"display"),c="none"===l?Se.get(t,"olddisplay")||S(t.nodeName):l,"inline"===c&&"none"===oe.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],sn.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||oe.style(t,i)}else l=void 0;if(oe.isEmptyObject(p))"inline"===("none"===l?S(t.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(f=g.hidden):g=Se.access(t,"fxshow",{}),o&&(g.hidden=!f),f?oe(t).show():h.done(function(){oe(t).hide()}),h.done(function(){var e;Se.remove(t,"fxshow");for(e in p)oe.style(t,e,p[e])});for(i in p)a=N(f?g[i]:0,i,h),i in g||(g[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function U(t,e){var n,i,r,o,a;for(n in t)if(i=oe.camelCase(n),r=e[i],o=t[n],oe.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=oe.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function K(t,e,n){var i,r,o=0,a=K.prefilters.length,s=oe.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=on||P(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),1>o&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:oe.extend({},e),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:e,originalOptions:n,startTime:on||P(),duration:n.duration,tweens:[],createTween:function(e,n){var i=oe.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(U(c,l.opts.specialEasing);a>o;o++)if(i=K.prefilters[o].call(l,t,c,l.opts))return oe.isFunction(i.stop)&&(oe._queueHooks(l.elem,l.opts.queue).stop=oe.proxy(i.stop,i)),i;return oe.map(c,N,l),oe.isFunction(l.opts.start)&&l.opts.start.call(t,l),oe.fx.timer(oe.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(t){return t.getAttribute&&t.getAttribute("class")||""}function V(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(xe)||[];if(oe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function B(t,e,n,i){function r(s){var u;return o[s]=!0,oe.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=t===Cn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function j(t,e){var n,i,r=oe.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&oe.extend(!0,t,i),t}function H(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(t,e,n,i){var r,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function F(t,e,n,i){var r;if(oe.isArray(e))oe.each(e,function(e,r){n||Dn.test(t)?i(t,r):F(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==oe.type(e))i(t,e);else for(r in e)F(t+"["+r+"]",e[r],n,i)}function q(t){return oe.isWindow(t)?t:9===t.nodeType&&t.defaultView}var G=[],Y=t.document,Z=G.slice,X=G.concat,J=G.push,Q=G.indexOf,te={},ee=te.toString,ne=te.hasOwnProperty,ie={},re="2.2.4",oe=function(t,e){return new oe.fn.init(t,e)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ue=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};oe.fn=oe.prototype={jquery:re,constructor:oe,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Z.call(this)},pushStack:function(t){var e=oe.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return oe.each(this,t)},map:function(t){return this.pushStack(oe.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:G.sort,splice:G.splice},oe.extend=oe.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(oe.isPlainObject(i)||(r=oe.isArray(i)))?(r?(r=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},a[e]=oe.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},oe.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===oe.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!oe.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==oe.type(t)||t.nodeType||oe.isWindow(t))return!1;if(t.constructor&&!ne.call(t,"constructor")&&!ne.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||ne.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?te[ee.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=oe.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(se,"ms-").replace(ue,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ae,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?oe.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;a>o;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o,a=0,s=[];if(n(t))for(r=t.length;r>a;a++)o=e(t[a],a,i),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,i),null!=o&&s.push(o);return X.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),oe.isFunction(t)?(i=Z.call(arguments,2),r=function(){return t.apply(e||this,i.concat(Z.call(arguments)))},r.guid=t.guid=t.guid||oe.guid++,r):void 0},now:Date.now,support:ie}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=G[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()});var ce=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,n,i){var r,o,a,s,u,l,h,d,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:W)!==E&&D(e),e=e||E,P)){if(11!==g&&(l=ve.exec(t)))if(r=l[1]){if(9===g){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&U(e,a)&&a.id===r)return n.push(a),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(!(!x.qsa||z[t+" "]||L&&L.test(t))){if(1!==g)f=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_e,"\\$&"):e.setAttribute("id",s=K),h=S(t),o=h.length,u=pe.test(s)?"#"+s:"[id='"+s+"']";o--;)h[o]=u+" "+p(h[o]);d=h.join(","),f=ye.test(t)&&c(e.parentNode)||e}if(d)try{return J.apply(n,f.querySelectorAll(d)),n}catch(m){}finally{s===K&&e.removeAttribute("id")}}}return C(t.replace(se,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[K]=!0,t}function r(t){var e=E.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||q)-(~t.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function d(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=B++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,u,l,c=[V,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[K]||(e[K]={}),u=l[e.uniqueID]||(l[e.uniqueID]={}),(s=u[i])&&s[0]===V&&s[1]===o)return c[2]=s[2];if(u[i]=c,c[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),l&&e.push(s));return a}function v(t,e,n,r,o,a){return r&&!r[K]&&(r=v(r)),o&&!o[K]&&(o=v(o,a)),i(function(i,a,s,u){var l,c,h,p=[],d=[],f=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,p,t,s,u),_=n?o||(i?t:f||r)?[]:a:y;if(n&&n(y,_,s,u),r)for(l=m(_,d),r(l,[],s,u),c=l.length;c--;)(h=l[c])&&(_[d[c]]=!(y[d[c]]=h));if(i){if(o||t){if(o){for(l=[],c=_.length;c--;)(h=_[c])&&l.push(y[c]=h);o(null,_=[],l,u)}for(c=_.length;c--;)(h=_[c])&&(l=o?te(i,h):p[c])>-1&&(i[l]=!(a[l]=h))}}else _=m(_===a?_.splice(f,_.length):_),o?o(null,a,_,u):J.apply(a,_)})}function y(t){for(var e,n,i,r=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=d(function(t){return t===e},a,!0),l=d(function(t){return te(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==A)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];r>s;s++)if(n=w.relative[t[s].type])c=[d(f(c),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[K]){for(i=++s;r>i&&!w.relative[t[i].type];i++);return v(s>1&&f(c),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}c.push(n)}return f(c)}function _(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,u,l){var c,h,p,d=0,f="0",g=i&&[],v=[],y=A,_=i||o&&w.find.TAG("*",l),b=V+=null==y?1:Math.random()||.1,x=_.length;for(l&&(A=a===E||a||l);f!==x&&null!=(c=_[f]);f++){if(o&&c){for(h=0,a||c.ownerDocument===E||(D(c),s=!P);p=t[h++];)if(p(c,a||E,s)){u.push(c);break}l&&(V=b)}r&&((c=!p&&c)&&d--,i&&g.push(c))}if(d+=f,r&&f!==d){for(h=0;p=n[h++];)p(g,v,a,s);if(i){if(d>0)for(;f--;)g[f]||v[f]||(v[f]=Z.call(u));v=m(v)}J.apply(u,v),l&&!i&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(V=b,A=y),g};return r?i(a):a}var b,x,w,k,T,S,$,C,A,M,I,D,E,O,P,L,N,R,U,K="sizzle"+1*new Date,W=t.document,V=0,B=0,j=n(),H=n(),z=n(),F=function(t,e){return t===e&&(I=!0),0},q=1<<31,G={}.hasOwnProperty,Y=[],Z=Y.pop,X=Y.push,J=Y.push,Q=Y.slice,te=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),pe=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},we=function(){D()};try{J.apply(Y=Q.call(W.childNodes),W.childNodes),Y[W.childNodes.length].nodeType}catch(ke){J={apply:Y.length?function(t,e){X.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:W;return i!==E&&9===i.nodeType&&i.documentElement?(E=i,O=E.documentElement,P=!T(E),(n=E.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(E.getElementsByClassName),x.getById=r(function(t){return O.appendChild(t).id=K,!E.getElementsByName||!E.getElementsByName(K).length}),x.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}},w.filter.ID=function(t){var e=t.replace(be,xe);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(be,xe);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&P?e.getElementsByClassName(t):void 0},N=[],L=[],(x.qsa=me.test(E.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+K+"'></a><select id='"+K+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+K+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+K+"+*").length||L.push(".#.+[+~]")}),r(function(t){var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=me.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){x.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),N.push("!=",oe)}),L=L.length&&new RegExp(L.join("|")),N=N.length&&new RegExp(N.join("|")),e=me.test(O.compareDocumentPosition),U=e||me.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},F=e?function(t,e){if(t===e)return I=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===E||t.ownerDocument===W&&U(W,t)?-1:e===E||e.ownerDocument===W&&U(W,e)?1:M?te(M,t)-te(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!r||!o)return t===E?-1:e===E?1:r?-1:o?1:M?te(M,t)-te(M,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[i]===u[i];)i++;return i?a(s[i],u[i]):s[i]===W?-1:u[i]===W?1:0},E):E},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==E&&D(t),n=n.replace(ce,"='$1']"),!(!x.matchesSelector||!P||z[n+" "]||N&&N.test(n)||L&&L.test(n)))try{var i=R.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&D(t),U(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&D(t);var n=w.attrHandle[e.toLowerCase()],i=n&&G.call(w.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==i?i:x.attributes||!P?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(I=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(F),I){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return M=null,t},k=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},w=e.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(be,xe),t[3]=(t[3]||t[4]||t[5]||"").replace(be,xe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return de.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(be,xe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,p,d,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,_=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(p=m,h=p[K]||(p[K]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),l=c[t]||[],d=l[0]===V&&l[1],_=d&&l[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(_=d=0)||f.pop();)if(1===p.nodeType&&++_&&p===e){c[t]=[V,d,_];break}}else if(y&&(p=e,h=p[K]||(p[K]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),l=c[t]||[],d=l[0]===V&&l[1],_=d),_===!1)for(;(p=++d&&p&&p[g]||(_=d=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++_||(y&&(h=p[K]||(p[K]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),c[t]=[V,_]),p!==e)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[K]?o(n):o.length>1?(r=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=te(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=$(t.replace(se,"$1"));return r[K]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(be,xe),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(be,xe).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return fe.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=u(b);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,S=e.tokenize=function(t,n){var i,r,o,a,s,u,l,c=H[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=w.preFilter;s;){(!i||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=le.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in w.filter)!(r=de[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):H(t,u).slice(0)},$=e.compile=function(t,e){var n,i=[],r=[],o=z[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[K]?i.push(o):r.push(o);o=z(t,_(r,i)),o.selector=t}return o},C=e.select=function(t,e,n,i){var r,o,a,s,u,l="function"==typeof t&&t,h=!i&&S(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&P&&w.relative[o[1].type]){if(e=(w.find.ID(a.matches[0].replace(be,xe),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=de.needsContext.test(t)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((u=w.find[s])&&(i=u(a.matches[0].replace(be,xe),ye.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return J.apply(n,i),n;break}}return(l||$(t,h))(i,e,!P,n,!e||ye.test(t)&&c(e.parentNode)||e),n},x.sortStable=K.split("").sort(F).join("")===K,x.detectDuplicates=!!I,D(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var he=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&oe(t).is(n))break;i.push(t)}return i},pe=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},de=oe.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ge=/^.[^:#\[\.,]*$/;oe.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?oe.find.matchesSelector(i,t)?[i]:[]:oe.find.matches(t,oe.grep(e,function(t){return 1===t.nodeType}))},oe.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(oe(t).filter(function(){for(e=0;n>e;e++)if(oe.contains(r[e],this))return!0}));for(e=0;n>e;e++)oe.find(t,r[e],i);return i=this.pushStack(n>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&de.test(t)?oe(t):t||[],!1).length}});var me,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=oe.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||me,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ve.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof oe?e[0]:e,oe.merge(this,oe.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),fe.test(i[1])&&oe.isPlainObject(e))for(i in e)oe.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=Y.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):oe.isFunction(t)?void 0!==n.ready?n.ready(t):t(oe):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),oe.makeArray(t,this))};ye.prototype=oe.fn,me=oe(Y);var _e=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(t){var e=oe(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(oe.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=de.test(t)||"string"!=typeof t?oe(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Q.call(oe(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),oe.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return he(t,"parentNode")},parentsUntil:function(t,e,n){return he(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return he(t,"nextSibling")},prevAll:function(t){return he(t,"previousSibling")},nextUntil:function(t,e,n){return he(t,"nextSibling",n)},prevUntil:function(t,e,n){return he(t,"previousSibling",n)},siblings:function(t){return pe((t.parentNode||{}).firstChild,t)},children:function(t){return pe(t.firstChild)},contents:function(t){return t.contentDocument||oe.merge([],t.childNodes)}},function(t,e){oe.fn[t]=function(n,i){var r=oe.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=oe.filter(i,r)),this.length>1&&(be[t]||oe.uniqueSort(r),_e.test(t)&&r.reverse()),this.pushStack(r)}});var xe=/\S+/g;oe.Callbacks=function(t){t="string"==typeof t?o(t):oe.extend({},t);var e,n,i,r,a=[],s=[],u=-1,l=function(){for(r=t.once,i=e=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)a[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(u=a.length-1,s.push(n)),function i(e){oe.each(e,function(e,n){oe.isFunction(n)?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==oe.type(n)&&i(n)})}(arguments),n&&!e&&l()),this},remove:function(){return oe.each(arguments,function(t,e){for(var n;(n=oe.inArray(e,a,n))>-1;)a.splice(n,1),u>=n&&u--}),this},has:function(t){return t?oe.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},oe.extend({Deferred:function(t){var e=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return oe.Deferred(function(n){oe.each(e,function(e,o){var a=oe.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&oe.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?oe.extend(t,i):i}},r={};return i.pipe=i.then,oe.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=Z.call(arguments),a=o.length,s=1!==a||t&&oe.isFunction(t.promise)?a:0,u=1===s?t:oe.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?Z.call(arguments):r,i===e?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().progress(l(r,n,e)).done(l(r,i,o)).fail(u.reject):--s;return s||u.resolveWith(i,o),u.promise()}});var we;oe.fn.ready=function(t){return oe.ready.promise().done(t),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(t){t?oe.readyWait++:oe.ready(!0)},ready:function(t){(t===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,t!==!0&&--oe.readyWait>0||(we.resolveWith(Y,[oe]),oe.fn.triggerHandler&&(oe(Y).triggerHandler("ready"),oe(Y).off("ready"))))}}),oe.ready.promise=function(e){return we||(we=oe.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?t.setTimeout(oe.ready):(Y.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a))),we.promise(e)},oe.ready.promise();var ke=function(t,e,n,i,r,o,a){var s=0,u=t.length,l=null==n;if("object"===oe.type(n)){r=!0;for(s in n)ke(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,oe.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(oe(t),n)})),e))for(;u>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):u?e(t[0],n):o},Te=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};s.uid=1,s.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Te(t))return{};var e=t[this.expando];return e||(e={},Te(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,oe.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{oe.isArray(e)?i=e.concat(e.map(oe.camelCase)):(r=oe.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(xe)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||oe.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!oe.isEmptyObject(e)}};var Se=new s,$e=new s,Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/[A-Z]/g;oe.extend({hasData:function(t){return $e.hasData(t)||Se.hasData(t)},data:function(t,e,n){return $e.access(t,e,n)},removeData:function(t,e){$e.remove(t,e)},_data:function(t,e,n){return Se.access(t,e,n)},_removeData:function(t,e){Se.remove(t,e)}}),oe.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=$e.get(o),1===o.nodeType&&!Se.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),u(o,i,r[i])));Se.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){$e.set(this,t)}):ke(this,function(e){var n,i;if(o&&void 0===e){if(n=$e.get(o,t)||$e.get(o,t.replace(Ae,"-$&").toLowerCase()),void 0!==n)return n;if(i=oe.camelCase(t),n=$e.get(o,i),void 0!==n)return n;if(n=u(o,i,void 0),void 0!==n)return n}else i=oe.camelCase(t),this.each(function(){var n=$e.get(this,i);$e.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&$e.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$e.remove(this,t)})}}),oe.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Se.get(t,e),n&&(!i||oe.isArray(n)?i=Se.access(t,e,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=oe.queue(t,e),i=n.length,r=n.shift(),o=oe._queueHooks(t,e),a=function(){oe.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Se.get(t,n)||Se.access(t,n,{empty:oe.Callbacks("once memory").add(function(){Se.remove(t,[e+"queue",n])})})}}),oe.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?oe.queue(this[0],t):void 0===e?this:this.each(function(){var n=oe.queue(this,t,e);oe._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&oe.dequeue(this,t)})},dequeue:function(t){return this.each(function(){oe.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=oe.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Se.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Me=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=new RegExp("^(?:([+-])=|)("+Me+")([a-z%]*)$","i"),De=["Top","Right","Bottom","Left"],Ee=function(t,e){return t=e||t,"none"===oe.css(t,"display")||!oe.contains(t.ownerDocument,t)},Oe=/^(?:checkbox|radio)$/i,Pe=/<([\w:-]+)/,Le=/^$|\/(?:java|ecma)script/i,Ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ne.optgroup=Ne.option,Ne.tbody=Ne.tfoot=Ne.colgroup=Ne.caption=Ne.thead,Ne.th=Ne.td;var Re=/<|&#?\w+;/;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ue=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,We=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,h,p,d,f,g,m=Se.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=oe.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return"undefined"!=typeof oe&&oe.event.triggered!==e.type?oe.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(xe)||[""],l=e.length;l--;)s=We.exec(e[l])||[],d=g=s[1],f=(s[2]||"").split(".").sort(),d&&(h=oe.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=oe.event.special[d]||{},c=oe.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&oe.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,h.setup&&h.setup.call(t,i,f,a)!==!1||t.addEventListener&&t.addEventListener(d,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),oe.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,u,l,c,h,p,d,f,g,m=Se.hasData(t)&&Se.get(t);if(m&&(u=m.events)){for(e=(e||"").match(xe)||[""],l=e.length;l--;)if(s=We.exec(e[l])||[],d=g=s[1],f=(s[2]||"").split(".").sort(),d){for(h=oe.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(t,c));
a&&!p.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||oe.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)oe.event.remove(t,d+e[l],n,i,!0);oe.isEmptyObject(u)&&Se.remove(t,"handle events")}},dispatch:function(t){t=oe.event.fix(t);var e,n,i,r,o,a=[],s=Z.call(arguments),u=(Se.get(this,"events")||{})[t.type]||[],l=oe.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=oe.event.handlers.call(this,t,u),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((oe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],n=0;s>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?oe(r,this).index(u)>-1:oe.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&a.push({elem:u,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Y,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[oe.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ke.test(r)?this.mouseHooks:Ue.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new oe.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return oe.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},oe.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},oe.Event=function(t,e){return this instanceof oe.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:f):this.type=t,e&&oe.extend(this,e),this.timeStamp=t&&t.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(t,e)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){oe.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!oe.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),oe.fn.extend({on:function(t,e,n,i){return m(this,t,e,n,i)},one:function(t,e,n,i){return m(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,oe(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=f),this.each(function(){oe.event.remove(this,t,n,e)})}});var Ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Be=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(t){return t.replace(Ve,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),u=oe.contains(t.ownerDocument,t);if(!(ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||oe.isXMLDoc(t)))for(a=c(s),o=c(t),i=0,r=o.length;r>i;i++)x(o[i],a[i]);if(e)if(n)for(o=o||c(t),a=a||c(s),i=0,r=o.length;r>i;i++)b(o[i],a[i]);else b(t,s);return a=c(s,"script"),a.length>0&&h(a,!u&&c(t,"script")),s},cleanData:function(t){for(var e,n,i,r=oe.event.special,o=0;void 0!==(n=t[o]);o++)if(Te(n)){if(e=n[Se.expando]){if(e.events)for(i in e.events)r[i]?oe.event.remove(n,i):oe.removeEvent(n,i,e.handle);n[Se.expando]=void 0}n[$e.expando]&&(n[$e.expando]=void 0)}}}),oe.fn.extend({domManip:w,detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return ke(this,function(t){return void 0===t?oe.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return w(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return w(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return w(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return w(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(oe.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return oe.clone(this,t,e)})},html:function(t){return ke(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Be.test(t)&&!Ne[(Pe.exec(t)||["",""])[1].toLowerCase()]){t=oe.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(oe.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return w(this,arguments,function(e){var n=this.parentNode;oe.inArray(this,t)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){oe.fn[t]=function(t){for(var n,i=[],r=oe(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),oe(r[a])[e](n),J.apply(i,n.get());return this.pushStack(i)}});var Fe,qe={HTML:"block",BODY:"block"},Ge=/^margin/,Ye=new RegExp("^("+Me+")(?!px)[a-z%]+$","i"),Ze=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Xe=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},Je=Y.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Je.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,Je.removeChild(a)}var n,i,r,o,a=Y.createElement("div"),s=Y.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),oe.extend(ie,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=s.appendChild(Y.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Je.appendChild(a),e=!parseFloat(t.getComputedStyle(n).marginRight),Je.removeChild(a),s.removeChild(n),e}}))}();var Qe=/^(none|table(?!-c[ea]).+)/,tn={position:"absolute",visibility:"hidden",display:"block"},en={letterSpacing:"0",fontWeight:"400"},nn=["Webkit","O","Moz","ms"],rn=Y.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=$(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=oe.camelCase(e),u=t.style;return e=oe.cssProps[s]||(oe.cssProps[s]=A(s)||s),a=oe.cssHooks[e]||oe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Ie.exec(n))&&r[1]&&(n=l(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(oe.cssNumber[s]?"":"px")),ie.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=oe.camelCase(e);return e=oe.cssProps[s]||(oe.cssProps[s]=A(s)||s),a=oe.cssHooks[e]||oe.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=$(t,e,i)),"normal"===r&&e in en&&(r=en[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),oe.each(["height","width"],function(t,e){oe.cssHooks[e]={get:function(t,n,i){return n?Qe.test(oe.css(t,"display"))&&0===t.offsetWidth?Xe(t,tn,function(){return D(t,e,i)}):D(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Ze(t),a=i&&I(t,e,i,"border-box"===oe.css(t,"boxSizing",!1,o),o);return a&&(r=Ie.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=oe.css(t,e)),M(t,n,a)}}}),oe.cssHooks.marginLeft=C(ie.reliableMarginLeft,function(t,e){return e?(parseFloat($(t,"marginLeft"))||t.getBoundingClientRect().left-Xe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=C(ie.reliableMarginRight,function(t,e){return e?Xe(t,{display:"inline-block"},$,[t,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(t,e){oe.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+De[i]+e]=o[i]||o[i-2]||o[0];return r}},Ge.test(t)||(oe.cssHooks[t+e].set=M)}),oe.fn.extend({css:function(t,e){return ke(this,function(t,e,n){var i,r,o={},a=0;if(oe.isArray(e)){for(i=Ze(t),r=e.length;r>a;a++)o[e[a]]=oe.css(t,e[a],!1,i);return o}return void 0!==n?oe.style(t,e,n):oe.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ee(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=O,O.prototype={constructor:O,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||oe.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var t=O.propHooks[this.prop];return t&&t.get?t.get(this):O.propHooks._default.get(this)},run:function(t){var e,n=O.propHooks[this.prop];return this.pos=e=this.options.duration?oe.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=oe.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){oe.fx.step[t.prop]?oe.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[oe.cssProps[t.prop]]&&!oe.cssHooks[t.prop]?t.elem[t.prop]=t.now:oe.style(t.elem,t.prop,t.now+t.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},oe.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},oe.fx=O.prototype.init,oe.fx.step={};var on,an,sn=/^(?:toggle|show|hide)$/,un=/queueHooks$/;oe.Animation=oe.extend(K,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return l(n.elem,t,Ie.exec(e),n),n}]},tweener:function(t,e){oe.isFunction(t)?(e=t,t=["*"]):t=t.match(xe);for(var n,i=0,r=t.length;r>i;i++)n=t[i],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(e)},prefilters:[R],prefilter:function(t,e){e?K.prefilters.unshift(t):K.prefilters.push(t)}}),oe.speed=function(t,e,n){var i=t&&"object"==typeof t?oe.extend({},t):{complete:n||!n&&e||oe.isFunction(t)&&t,duration:t,easing:n&&e||e&&!oe.isFunction(e)&&e};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=oe.isEmptyObject(t),o=oe.speed(e,n,i),a=function(){var e=K(this,oe.extend({},t),o);(r||Se.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=oe.timers,a=Se.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&un.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&oe.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Se.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=oe.timers,a=i?i.length:0;for(n.finish=!0,oe.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(t,e){var n=oe.fn[e];oe.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,i,r)}}),oe.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){oe.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),oe.timers=[],oe.fx.tick=function(){var t,e=0,n=oe.timers;for(on=oe.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||oe.fx.stop(),on=void 0},oe.fx.timer=function(t){oe.timers.push(t),t()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){an||(an=t.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){t.clearInterval(an),an=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,n){return e=oe.fx?oe.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),n=e.appendChild(Y.createElement("option"));t.type="checkbox",ie.checkOn=""!==t.value,ie.optSelected=n.selected,e.disabled=!0,ie.optDisabled=!n.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",ie.radioValue="t"===t.value}();var ln,cn=oe.expr.attrHandle;oe.fn.extend({attr:function(t,e){return ke(this,oe.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){oe.removeAttr(this,t)})}}),oe.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?oe.prop(t,e,n):(1===o&&oe.isXMLDoc(t)||(e=e.toLowerCase(),r=oe.attrHooks[e]||(oe.expr.match.bool.test(e)?ln:void 0)),void 0!==n?null===n?void oe.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=oe.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&oe.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(xe);if(o&&1===t.nodeType)for(;n=o[r++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),ln={set:function(t,e,n){return e===!1?oe.removeAttr(t,n):t.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(t,e){var n=cn[e]||oe.find.attr;cn[e]=function(t,e,i){var r,o;return i||(o=cn[e],cn[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,cn[e]=o),r}});var hn=/^(?:input|select|textarea|button)$/i,pn=/^(?:a|area)$/i;oe.fn.extend({prop:function(t,e){return ke(this,oe.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[oe.propFix[t]||t]})}}),oe.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(t)||(e=oe.propFix[e]||e,r=oe.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=oe.find.attr(t,"tabindex");return e?parseInt(e,10):hn.test(t.nodeName)||pn.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ie.optSelected||(oe.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var dn=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,u=0;if(oe.isFunction(t))return this.each(function(e){oe(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(xe)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(dn," ")){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=oe.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,u=0;if(oe.isFunction(t))return this.each(function(e){oe(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(xe)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(dn," ")){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=oe.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(oe.isFunction(t)?function(n){oe(this).toggleClass(t.call(this,n,W(this),e),e)}:function(){var e,i,r,o;if("string"===n)for(i=0,r=oe(this),o=t.match(xe)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(void 0===t||"boolean"===n)&&(e=W(this),e&&Se.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Se.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(dn," ").indexOf(e)>-1)return!0;return!1}});var fn=/\r/g,gn=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=oe.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,oe(this).val()):t,null==r?r="":"number"==typeof r?r+="":oe.isArray(r)&&(r=oe.map(r,function(t){return null==t?"":t+""})),e=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=oe.valHooks[r.type]||oe.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(fn,""):null==n?"":n)}}}),oe.extend({valHooks:{option:{get:function(t){var e=oe.find.attr(t,"value");return null!=e?e:oe.trim(oe.text(t)).replace(gn," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,u=0>r?s:o?r:0;s>u;u++)if(n=i[u],!(!n.selected&&u!==r||(ie.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(e=oe(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=oe.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=oe.inArray(oe.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(t,e){return oe.isArray(e)?t.checked=oe.inArray(oe(t).val(),e)>-1:void 0}},ie.checkOn||(oe.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var mn=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(e,n,i,r){var o,a,s,u,l,c,h,p=[i||Y],d=ne.call(e,"type")?e.type:e,f=ne.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||Y,3!==i.nodeType&&8!==i.nodeType&&!mn.test(d+oe.event.triggered)&&(d.indexOf(".")>-1&&(f=d.split("."),d=f.shift(),f.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[oe.expando]?e:new oe.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:oe.makeArray(n,[e]),h=oe.event.special[d]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!oe.isWindow(i)){for(u=h.delegateType||d,mn.test(u+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||Y)&&p.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||d,c=(Se.get(a,"events")||{})[e.type]&&Se.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Te(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),n)!==!1||!Te(i)||l&&oe.isFunction(i[d])&&!oe.isWindow(i)&&(s=i[l],s&&(i[l]=null),oe.event.triggered=d,i[d](),oe.event.triggered=void 0,s&&(i[l]=s)),e.result}},simulate:function(t,e,n){var i=oe.extend(new oe.Event,n,{type:t,isSimulated:!0});oe.event.trigger(i,null,e)}}),oe.fn.extend({trigger:function(t,e){return this.each(function(){oe.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?oe.event.trigger(t,e,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){oe.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),oe.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ie.focusin="onfocusin"in t,ie.focusin||oe.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){oe.event.simulate(e,t.target,oe.event.fix(t))};oe.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Se.access(i,e);r||i.addEventListener(t,n,!0),Se.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Se.access(i,e)-1;r?Se.access(i,e,r):(i.removeEventListener(t,n,!0),Se.remove(i,e))}}});var vn=t.location,yn=oe.now(),_n=/\?/;oe.parseJSON=function(t){return JSON.parse(t+"")},oe.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&oe.error("Invalid XML: "+e),n};var bn=/#.*$/,xn=/([?&])_=[^&]*/,wn=/^(.*?):[ \t]*([^\r\n]*)$/gm,kn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Sn=/^\/\//,$n={},Cn={},An="*/".concat("*"),Mn=Y.createElement("a");Mn.href=vn.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vn.href,type:"GET",isLocal:kn.test(vn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":An,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,oe.ajaxSettings),e):j(oe.ajaxSettings,t)},ajaxPrefilter:V($n),ajaxTransport:V(Cn),ajax:function(e,n){function i(e,n,i,s){var l,h,y,_,x,k=n;2!==b&&(b=2,u&&t.clearTimeout(u),r=void 0,a=s||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(_=H(p,w,i)),_=z(p,_,w,l),l?(p.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(oe.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(oe.etag[o]=x)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=_.state,h=_.data,y=_.error,l=!y)):(y=k,(e||!k)&&(k="error",0>e&&(e=0))),w.status=e,w.statusText=(n||k)+"",l?g.resolveWith(d,[h,k,w]):g.rejectWith(d,[w,k,y]),w.statusCode(v),v=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[w,p,l?h:y]),m.fireWith(d,[w,k]),c&&(f.trigger("ajaxComplete",[w,p]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,u,l,c,h,p=oe.ajaxSetup({},n),d=p.context||p,f=p.context&&(d.nodeType||d.jquery)?oe(d):oe.event,g=oe.Deferred(),m=oe.Callbacks("once memory"),v=p.statusCode||{},y={},_={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=wn.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=_[n]=_[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||vn.href)+"").replace(bn,"").replace(Sn,vn.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(xe)||[""],null==p.crossDomain){l=Y.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Mn.protocol+"//"+Mn.host!=l.protocol+"//"+l.host}catch(k){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional)),B($n,p,n,w),2===b)return w;c=oe.event&&p.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Tn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(_n.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=xn.test(o)?o.replace(xn,"$1_="+yn++):o+(_n.test(o)?"&":"?")+"_="+yn++)),p.ifModified&&(oe.lastModified[o]&&w.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&w.setRequestHeader("If-None-Match",oe.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+An+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)w.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(d,w,p)===!1||2===b))return w.abort();x="abort";for(h in{success:1,error:1,complete:1})w[h](p[h]);if(r=B(Cn,p,n,w)){if(w.readyState=1,c&&f.trigger("ajaxSend",[w,p]),2===b)return w;p.async&&p.timeout>0&&(u=t.setTimeout(function(){w.abort("timeout")},p.timeout));try{b=1,r.send(y,i)}catch(k){if(!(2>b))throw k;i(-1,k)}}else i(-1,"No Transport");return w},getJSON:function(t,e,n){return oe.get(t,e,n,"json")},getScript:function(t,e){return oe.get(t,void 0,e,"script")}}),oe.each(["get","post"],function(t,e){oe[e]=function(t,n,i,r){return oe.isFunction(n)&&(r=r||i,i=n,n=void 0),oe.ajax(oe.extend({url:t,type:e,dataType:r,data:n,success:i},oe.isPlainObject(t)&&t))}}),oe._evalUrl=function(t){return oe.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(t){var e;return oe.isFunction(t)?this.each(function(e){oe(this).wrapAll(t.call(this,e))}):(this[0]&&(e=oe(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(oe.isFunction(t)?function(e){oe(this).wrapInner(t.call(this,e))}:function(){var e=oe(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=oe.isFunction(t);return this.each(function(n){oe(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(t){return!oe.expr.filters.visible(t)},oe.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var In=/%20/g,Dn=/\[\]$/,En=/\r?\n/g,On=/^(?:submit|button|image|reset|file)$/i,Pn=/^(?:input|select|textarea|keygen)/i;oe.param=function(t,e){var n,i=[],r=function(t,e){e=oe.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(t)||t.jquery&&!oe.isPlainObject(t))oe.each(t,function(){r(this.name,this.value)});else for(n in t)F(n,t[n],e,r);return i.join("&").replace(In,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=oe.prop(this,"elements");return t?oe.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!oe(this).is(":disabled")&&Pn.test(this.nodeName)&&!On.test(t)&&(this.checked||!Oe.test(t))}).map(function(t,e){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(t){return{name:e.name,value:t.replace(En,"\r\n")}}):{name:e.name,value:n.replace(En,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ln={0:200,1223:204},Nn=oe.ajaxSettings.xhr();ie.cors=!!Nn&&"withCredentials"in Nn,ie.ajax=Nn=!!Nn,oe.ajaxTransport(function(e){var n,i;return ie.cors||Nn&&!e.crossDomain?{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");
for(a in r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ln[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return oe.globalEval(t),t}}}),oe.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),oe.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=oe("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Rn=[],Un=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Rn.pop()||oe.expando+"_"+yn++;return this[t]=!0,t}}),oe.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Un.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=oe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Un,"$1"+r):e.jsonp!==!1&&(e.url+=(_n.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||oe.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?oe(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Rn.push(r)),a&&oe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),oe.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Y;var i=fe.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=p([t],e,r),r&&r.length&&oe(r).remove(),oe.merge([],i.childNodes))};var Kn=oe.fn.load;oe.fn.load=function(t,e,n){if("string"!=typeof t&&Kn)return Kn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=oe.trim(t.slice(s)),t=t.slice(0,s)),oe.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&oe.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?oe("<div>").append(oe.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){oe.fn[e]=function(t){return this.on(e,t)}}),oe.expr.filters.animated=function(t){return oe.grep(oe.timers,function(e){return t===e.elem}).length},oe.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l,c=oe.css(t,"position"),h=oe(t),p={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=oe.css(t,"top"),u=oe.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),oe.isFunction(e)&&(e=e.call(t,n,oe.extend({},s))),null!=e.top&&(p.top=e.top-s.top+a),null!=e.left&&(p.left=e.left-s.left+r),"using"in e?e.using.call(t,p):h.css(p)}},oe.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){oe.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,oe.contains(e,i)?(r=i.getBoundingClientRect(),n=q(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===oe.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),oe.nodeName(t[0],"html")||(i=t.offset()),i.top+=oe.css(t[0],"borderTopWidth",!0),i.left+=oe.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-oe.css(n,"marginTop",!0),left:e.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===oe.css(t,"position");)t=t.offsetParent;return t||Je})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;oe.fn[t]=function(i){return ke(this,function(t,i,r){var o=q(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),oe.each(["top","left"],function(t,e){oe.cssHooks[e]=C(ie.pixelPosition,function(t,n){return n?(n=$(t,e),Ye.test(n)?oe(t).position()[e]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(t,e){oe.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){oe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return ke(this,function(e,n,i){var r;return oe.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?oe.css(e,n,a):oe.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),oe.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Wn=t.jQuery,Vn=t.$;return oe.noConflict=function(e){return t.$===oe&&(t.$=Vn),e&&t.jQuery===oe&&(t.jQuery=Wn),oe},e||(t.jQuery=t.$=oe),oe}),/**
 * @license AngularJS v1.5.8
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<o.length?ye(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.5.8/"+(t?t+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(ye(o[i]));return new e(s)}}function n(t){if(null==t||$(t))return!1;if(Yr(t)||x(t)||Ur&&t instanceof Ur)return!0;var e="length"in Object(t)&&t.length;return w(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function i(t,e,r){var o,a;if(t)if(T(t))for(o in t)"prototype"==o||"length"==o||"name"==o||t.hasOwnProperty&&!t.hasOwnProperty(o)||e.call(r,t[o],o,t);else if(Yr(t)||n(t)){var s="object"!=typeof t;for(o=0,a=t.length;a>o;o++)(s||o in t)&&e.call(r,t[o],o,t)}else if(t.forEach&&t.forEach!==i)t.forEach(e,r,t);else if(b(t))for(o in t)e.call(r,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t);else for(o in t)Er.call(t,o)&&e.call(r,t[o],o,t);return t}function r(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function o(t){return function(e,n){t(n,e)}}function a(){return++Gr}function s(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;o>r;++r){var a=e[r];if(_(a)||T(a))for(var l=Object.keys(a),c=0,h=l.length;h>c;c++){var p=l[c],d=a[p];n&&_(d)?k(d)?t[p]=new Date(d.valueOf()):S(d)?t[p]=new RegExp(d):d.nodeName?t[p]=d.cloneNode(!0):L(d)?t[p]=d.clone():(_(t[p])||(t[p]=Yr(d)?[]:{}),u(t[p],[d],!0)):t[p]=d}}return s(t,i),t}function l(t){return u(t,Vr.call(arguments,1),!1)}function c(t){return u(t,Vr.call(arguments,1),!0)}function h(t){return parseInt(t,10)}function p(t,e){return l(Object.create(t),e)}function d(){}function f(t){return t}function g(t){return function(){return t}}function m(t){return T(t.toString)&&t.toString!==Hr}function v(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function _(t){return null!==t&&"object"==typeof t}function b(t){return null!==t&&"object"==typeof t&&!zr(t)}function x(t){return"string"==typeof t}function w(t){return"number"==typeof t}function k(t){return"[object Date]"===Hr.call(t)}function T(t){return"function"==typeof t}function S(t){return"[object RegExp]"===Hr.call(t)}function $(t){return t&&t.window===t}function C(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===Hr.call(t)}function M(t){return"[object FormData]"===Hr.call(t)}function I(t){return"[object Blob]"===Hr.call(t)}function D(t){return"boolean"==typeof t}function E(t){return t&&T(t.then)}function O(t){return t&&w(t.length)&&Zr.test(Hr.call(t))}function P(t){return"[object ArrayBuffer]"===Hr.call(t)}function L(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function N(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function R(t){return Or(t.nodeName||t[0]&&t[0].nodeName)}function U(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function K(t,e){function n(t,e){var n,i=e.$$hashKey;if(Yr(t))for(var o=0,a=t.length;a>o;o++)e.push(r(t[o]));else if(b(t))for(n in t)e[n]=r(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));else for(n in t)Er.call(t,n)&&(e[n]=r(t[n]));return s(e,i),e}function r(t){if(!_(t))return t;var e=a.indexOf(t);if(-1!==e)return u[e];if($(t)||C(t))throw Fr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(t);return void 0===r&&(r=Yr(t)?[]:Object.create(zr(t)),i=!0),a.push(t),u.push(r),i?n(t,r):r}function o(t){switch(Hr.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(r(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}return T(t.cloneNode)?t.cloneNode(!0):void 0}var a=[],u=[];if(e){if(O(e)||P(e))throw Fr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Fr("cpi","Can't copy! Source and destination are identical.");return Yr(e)?e.length=0:i(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),u.push(e),n(t,e)}return r(t)}function W(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t,a=typeof e;if(o==a&&"object"==o){if(!Yr(t)){if(k(t))return k(e)?W(t.getTime(),e.getTime()):!1;if(S(t))return S(e)?t.toString()==e.toString():!1;if(C(t)||C(e)||$(t)||$(e)||Yr(e)||k(e)||S(e))return!1;r=fe();for(i in t)if("$"!==i.charAt(0)&&!T(t[i])){if(!W(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&y(e[i])&&!T(e[i]))return!1;return!0}if(!Yr(e))return!1;if((n=t.length)==e.length){for(i=0;n>i;i++)if(!W(t[i],e[i]))return!1;return!0}}return!1}function V(t,e,n){return t.concat(Vr.call(e,n))}function B(t,e){return Vr.call(t,e||0)}function j(t,e){var n=arguments.length>2?B(arguments,2):[];return!T(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,V(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:$(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":C(n)&&(i="$SCOPE"),i}function z(t,e){return v(t)?void 0:(w(e)||(e=e?2:null),JSON.stringify(t,H,e))}function F(t){return x(t)?JSON.parse(t):t}function q(t,e){t=t.replace(eo,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function G(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Y(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=q(e,i);return G(t,n*(r-i))}function Z(t){t=Ur(t).clone();try{t.empty()}catch(e){}var n=Ur("<div>").append(t).html();try{return t[0].nodeType===so?Or(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Or(e)})}catch(e){return Or(n)}}function X(t){try{return decodeURIComponent(t)}catch(e){}}function J(t){var e={};return i((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),r=t.substring(n+1)),i=X(i),y(i)&&(r=y(r)?X(r):!0,Er.call(e,i)?Yr(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function Q(t){var e=[];return i(t,function(t,n){Yr(t)?i(t,function(t){e.push(ee(n,!0)+(t===!0?"":"="+ee(t,!0)))}):e.push(ee(n,!0)+(t===!0?"":"="+ee(t,!0)))}),e.length?e.join("&"):""}function te(t){return ee(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ee(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function ne(t,e){var n,i,r=no.length;for(i=0;r>i;++i)if(n=no[i]+e,x(n=t.getAttribute(n)))return n;return null}function ie(t,e){var n,r,o={};i(no,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),i(no,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(o.strictDi=null!==ne(n,"strict-di"),e(n,r?[r]:[],o))}function re(e,n,r){_(r)||(r={});var o={strictDi:!1};r=l(o,r);var a=function(){if(e=Ur(e),e.injector()){var i=e[0]===t.document?"document":Z(e);throw Fr("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=rn(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!u.test(t.name)?a():(t.name=t.name.replace(u,""),qr.resumeBootstrap=function(t){return i(t,function(t){n.push(t)}),a()},void(T(qr.resumeDeferredBootstrap)&&qr.resumeDeferredBootstrap()))}function oe(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ae(t){var e=qr.element(t).injector();if(!e)throw Fr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function se(t,e){return e=e||"_",t.replace(io,function(t,n){return(n?e:"")+t.toLowerCase()})}function ue(){var e;if(!ro){var n=to();Kr=v(n)?t.jQuery:n?t[n]:void 0,Kr&&Kr.fn.on?(Ur=Kr,l(Kr.fn,{scope:Co.scope,isolateScope:Co.isolateScope,controller:Co.controller,injector:Co.injector,inheritedData:Co.inheritedData}),e=Kr.cleanData,Kr.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)n=Kr._data(i,"events"),n&&n.$destroy&&Kr(i).triggerHandler("$destroy");e(t)}):Ur=Me,qr.element=Ur,ro=!0}}function le(t,e,n){if(!t)throw Fr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ce(t,e,n){return n&&Yr(t)&&(t=t[t.length-1]),le(T(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function he(t,e){if("hasOwnProperty"===t)throw Fr("badname","hasOwnProperty is not a valid {0} name",e)}function pe(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;a>s;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&T(t)?j(o,t):t}function de(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=Ur(Vr.call(t,0,r))),e.push(n));return e||t}function fe(){return Object.create(null)}function ge(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),r=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return s(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function n(t,n){return function(i,o){return o&&T(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),c}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var r=[],s=[],u=[],l=t("$injector","invoke","push",s),c={_invokeQueue:r,_configBlocks:s,_runBlocks:u,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:l,run:function(t){return u.push(t),this}};return a&&l(a),c})}})}function me(t,e){if(Yr(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(_(t)){e=e||{};for(var r in t)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(e[r]=t[r])}return e||t}function ve(t){var e=[];return JSON.stringify(t,function(t,n){if(n=H(t,n),_(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function ye(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):v(t)?"undefined":"string"!=typeof t?ve(t):t}function _e(n){l(n,{bootstrap:re,copy:K,extend:l,merge:c,equals:W,element:Ur,forEach:i,injector:rn,noop:d,bind:j,toJson:z,fromJson:F,identity:f,isUndefined:v,isDefined:y,isString:x,isFunction:T,isObject:_,isNumber:w,isElement:L,isArray:Yr,version:ho,isDate:k,lowercase:Or,uppercase:Pr,callbacks:{$$counter:0},getTestability:ae,$$minErr:e,$$csp:Qr,reloadWithDebugInfo:oe}),(Wr=ge(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Si}),t.provider("$compile",gn).directive({a:La,input:ts,textarea:ts,form:Wa,script:Ys,select:Js,style:tu,option:Qs,ngBind:is,ngBindHtml:os,ngBindTemplate:rs,ngClass:ss,ngClassEven:ls,ngClassOdd:us,ngCloak:cs,ngController:hs,ngForm:Va,ngHide:Bs,ngIf:fs,ngInclude:gs,ngInit:vs,ngNonBindable:Os,ngPluralize:Rs,ngRepeat:Us,ngShow:Vs,ngStyle:js,ngSwitch:Hs,ngSwitchWhen:zs,ngSwitchDefault:Fs,ngOptions:Ns,ngTransclude:Gs,ngModel:Is,ngList:ys,ngChange:as,pattern:nu,ngPattern:nu,required:eu,ngRequired:eu,minlength:ru,ngMinlength:ru,maxlength:iu,ngMaxlength:iu,ngValue:ns,ngModelOptions:Es}).directive({ngInclude:ms}).directive(Na).directive(ps),t.provider({$anchorScroll:on,$animate:jo,$animateCss:Fo,$$animateJs:Vo,$$animateQueue:Bo,$$AnimateRunner:zo,$$animateAsyncRun:Ho,$browser:hn,$cacheFactory:pn,$controller:xn,$document:wn,$exceptionHandler:kn,$filter:Ki,$$forceReflow:Jo,$interpolate:Rn,$interval:Un,$http:On,$httpParamSerializer:Sn,$httpParamSerializerJQLike:$n,$httpBackend:Ln,$xhrFactory:Pn,$jsonpCallbacks:sa,$location:Qn,$log:ti,$parse:_i,$rootScope:Ti,$q:bi,$$q:xi,$sce:Mi,$sceDelegate:Ai,$sniffer:Ii,$templateCache:dn,$templateRequest:Di,$$testability:Ei,$timeout:Oi,$window:Ni,$$rAF:ki,$$jqLite:Ze,$$HashMap:Do,$$cookieReader:Ui})}])}function be(){return++fo}function xe(t){return t.replace(vo,function(t,e,n,i){return i?n.toUpperCase():n}).replace(yo,"Moz$1")}function we(t){return!wo.test(t)}function ke(t){var e=t.nodeType;return e===oo||!e||e===lo}function Te(t){for(var e in po[t.ng339])return!0;return!1}function Se(t){for(var e=0,n=t.length;n>e;e++)Oe(t[e])}function $e(t,e){var n,r,o,a,s=e.createDocumentFragment(),u=[];if(we(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(ko.exec(t)||["",""])[1].toLowerCase(),o=So[r]||So._default,n.innerHTML=o[1]+t.replace(To,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;u=V(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(u,function(t){s.appendChild(t)}),s}function Ce(e,n){n=n||t.document;var i;return(i=xo.exec(e))?[n.createElement(i[1])]:(i=$e(e,n))?i.childNodes:[]}function Ae(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Me(t){if(t instanceof Me)return t;var e;if(x(t)&&(t=Xr(t),e=!0),!(this instanceof Me)){if(e&&"<"!=t.charAt(0))throw bo("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Me(t)}e?Ke(this,Ce(t)):Ke(this,t)}function Ie(t){return t.cloneNode(!0)}function De(t,e){if(e||Oe(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Oe(n[i])}function Ee(t,e,n,r){if(y(r))throw bo("offargs","jqLite#off() does not support the `selector` argument");var o=Pe(t),a=o&&o.events,s=o&&o.handle;if(s)if(e){var u=function(e){var i=a[e];y(n)&&U(i||[],n),y(n)&&i&&i.length>0||(mo(t,e,s),delete a[e])};i(e.split(" "),function(t){u(t),_o[t]&&u(_o[t])})}else for(e in a)"$destroy"!==e&&mo(t,e,s),delete a[e]}function Oe(t,e){var n=t.ng339,i=n&&po[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Ee(t)),delete po[n],t.ng339=void 0}}function Pe(t,e){var n=t.ng339,i=n&&po[n];return e&&!i&&(t.ng339=n=be(),i=po[n]={events:{},data:{},handle:void 0}),i}function Le(t,e,n){if(ke(t)){var i=y(n),r=!i&&e&&!_(e),o=!e,a=Pe(t,!r),s=a&&a.data;if(i)s[e]=n;else{if(o)return s;if(r)return s&&s[e];l(s,e)}}}function Ne(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Re(t,e){e&&t.setAttribute&&i(e.split(" "),function(e){t.setAttribute("class",Xr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Xr(e)+" "," ")))})}function Ue(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(e.split(" "),function(t){t=Xr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Xr(n))}}function Ke(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function We(t,e){return Ve(t,"$"+(e||"ngController")+"Controller")}function Ve(t,e,n){t.nodeType==lo&&(t=t.documentElement);for(var i=Yr(e)?e:[e];t;){for(var r=0,o=i.length;o>r;r++)if(y(n=Ur.data(t,i[r])))return n;t=t.parentNode||t.nodeType===co&&t.host}}function Be(t){for(De(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function je(t,e){e||De(t);var n=t.parentNode;n&&n.removeChild(t)}function He(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Ur(n).on("load",e)}function ze(t,e){var n=Ao[e.toLowerCase()];return n&&Mo[R(t)]&&n}function Fe(t){return Io[t]}function qe(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||Ge;o>1&&(r=me(r));for(var u=0;o>u;u++)n.isImmediatePropagationStopped()||s(t,n,r[u])}};return n.elem=t,n}function Ge(t,e,n){n.call(t,e)}function Ye(t,e,n){var i=e.relatedTarget;(!i||i!==t&&!$o.call(t,i))&&n.call(t,e)}function Ze(){this.$get=function(){return l(Me,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ne(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ue(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Re(t,e)}})}}function Xe(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||a)():i+":"+t}function Je(t,e){if(e){var n=0;this.nextUid=function(){return++n}}i(t,this.put,this)}function Qe(t){return Function.prototype.toString.call(t)+" "}function tn(t){var e=Qe(t).replace(No,""),n=e.match(Eo)||e.match(Oo);return n}function en(t){var e=tn(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function nn(t,e,n){var r,o,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw x(n)&&n||(n=t.name||en(t)),Ro("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=tn(t),i(o[1].split(Po),function(t){t.replace(Lo,function(t,e,n){r.push(n)})})}t.$inject=r}}else Yr(t)?(a=t.length-1,ce(t[a],"fn"),r=t.slice(0,a)):ce(t,"fn",!0);return r}function rn(t,e){function n(t){return function(e,n){return _(e)?void i(e,o(t)):t(e,n)}}function r(t,e){if(he(t,"service"),(T(e)||Yr(e))&&(e=k.instantiate(e)),!e.$get)throw Ro("pget","Provider '{0}' must define $get factory method.",t);return w[t+m]=e}function a(t,e){return function(){var n=C.invoke(e,this);if(v(n))throw Ro("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return r(t,{$get:n!==!1?a(t,e):e})}function u(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return s(t,g(e),!1)}function c(t,e){he(t,"constant"),w[t]=e,S[t]=e}function h(t,e){var n=k.get(t+m),i=n.$get;n.$get=function(){var t=C.invoke(i,n);return C.invoke(e,null,{$delegate:t})}}function p(t){le(v(t)||Yr(t),"modulesToLoad","not an array");var e,n=[];return i(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=k.get(i[0]);r[i[1]].apply(r,i[2])}}if(!b.get(t)){b.put(t,!0);try{x(t)?(e=Wr(t),n=n.concat(p(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):T(t)?n.push(k.invoke(t)):Yr(t)?n.push(k.invoke(t)):ce(t,"module")}catch(r){throw Yr(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Ro("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function d(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===f)throw Ro("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=f,t[e]=n(e,i)}catch(r){throw t[e]===f&&delete t[e],r}finally{y.shift()}}function r(t,n,r){for(var o=[],a=rn.$$annotate(t,e,r),s=0,u=a.length;u>s;s++){var l=a[s];if("string"!=typeof l)throw Ro("itkn","Incorrect injection token! Expected service name as string, got {0}",l);o.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return o}function o(t){return 11>=Rr?!1:"function"==typeof t&&/^(?:class\b|constructor\()/.test(Qe(t))}function a(t,e,n,i){"string"==typeof n&&(i=n,n=null);var a=r(t,n,i);return Yr(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var i=Yr(t)?t[t.length-1]:t,o=r(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:rn.$$annotate,has:function(e){return w.hasOwnProperty(e+m)||t.hasOwnProperty(e)}}}e=e===!0;var f={},m="Provider",y=[],b=new Je([],!0),w={$provide:{provider:n(r),factory:n(s),service:n(u),value:n(l),constant:n(c),decorator:h}},k=w.$injector=d(w,function(t,e){throw qr.isString(e)&&y.push(e),Ro("unpr","Unknown provider: {0}",y.join(" <- "))}),S={},$=d(S,function(t,e){var n=k.get(t+m,e);return C.invoke(n.$get,n,void 0,t)}),C=$;w["$injector"+m]={$get:g($)};var A=p(t);return C=$.get("$injector"),C.strictDi=e,i(A,function(t){t&&C.invoke(t)}),C}function on(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===R(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(T(t))t=t();else if(L(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else w(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(t){t=x(t)?t:n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=r(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&He(function(){i.$evalAsync(s)})}),s}]}function an(t,e){return t||e?t?e?(Yr(t)&&(t=t.join(" ")),Yr(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function sn(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Ko)return n}}function un(t){x(t)&&(t=t.split(" "));var e=fe();return i(t,function(t){t.length&&(e[t]=!0)}),e}function ln(t){return _(t)?t:{}}function cn(t,e,n,r){function o(t){try{t.apply(null,B(arguments,1))}finally{if(y--,0===y)for(;_.length;)try{_.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){T=null,u(),l()}function u(){b=S(),b=v(b)?null:b,W(b,A)&&(b=A),A=b}function l(){(w!==c.url()||x!==b)&&(w=c.url(),x=b,i($,function(t){t(c.url(),b)}))}var c=this,h=t.location,p=t.history,f=t.setTimeout,g=t.clearTimeout,m={};c.isMock=!1;var y=0,_=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(t){0===y?t():_.push(t)};var b,x,w=h.href,k=e.find("base"),T=null,S=r.history?function(){try{return p.state}catch(t){}}:d;u(),x=b,c.url=function(e,n,i){if(v(i)&&(i=null),h!==t.location&&(h=t.location),p!==t.history&&(p=t.history),e){var o=x===i;if(w===e&&(!r.history||o))return c;var s=w&&Hn(w)===Hn(e);return w=e,x=i,!r.history||s&&o?(s||(T=e),n?h.replace(e):s?h.hash=a(e):h.href=e,h.href!==e&&(T=e)):(p[n?"replaceState":"pushState"](i,"",e),u(),x=b),T&&(T=e),c}return T||h.href.replace(/%27/g,"'")},c.state=function(){return b};var $=[],C=!1,A=null;c.onUrlChange=function(e){return C||(r.history&&Ur(t).on("popstate",s),Ur(t).on("hashchange",s),C=!0),$.push(e),e},c.$$applicationDestroyed=function(){Ur(t).off("hashchange popstate",s)},c.$$checkUrlChange=l,c.baseHref=function(){var t=k.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return y++,n=f(function(){delete m[n],o(t)},e||0),m[n]=!0,n},c.defer.cancel=function(t){return m[t]?(delete m[t],g(t),o(d),!0):!1}}function hn(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new cn(t,i,e,n)}]}function pn(){this.$get=function(){function t(t,i){function r(t){t!=p&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,p),p=t,p.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=l({},i,{id:t}),u=fe(),c=i&&i.capacity||Number.MAX_VALUE,h=fe(),p=null,d=null;return n[t]={put:function(t,e){if(!v(e)){if(c<Number.MAX_VALUE){var n=h[t]||(h[t]={key:t});r(n)}return t in u||a++,u[t]=e,a>c&&this.remove(d.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=h[t];if(!e)return;e==p&&(p=e.p),e==d&&(d=e.n),o(e.n,e.p),delete h[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=fe(),a=0,h=fe(),p=d=null},destroy:function(){u=null,s=null,h=null,delete n[t]},info:function(){return l({},s,{size:a})}}}var n={};return t.info=function(){var t={};return i(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function dn(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function fn(){}function gn(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=fe();return i(t,function(t,i){if(t in $)return void(o[i]=$[t]);var a=t.match(r);if(!a)throw qo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&($[t]=o[i])}),o}function a(t,e){var n={isolateScope:null,bindToController:null};if(_(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),_(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),_(n.bindToController)){var i=t.controller,o=t.controllerAs;if(!i)throw qo("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!bn(i,o))throw qo("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function s(t){var e=t.charAt(0);if(!e||e!==Or(e))throw qo("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw qo("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!Yr(e)&&_(e)&&i(e,function(t,n){var i=t.match(k),r=t.substring(i[0].length);r||(e[n]=i[0]+n)}),e}var c={},h="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,b=/(([\w\-]+)(?:\:([^;]+))?;?)/,w=N("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,$=fe();this.directive=function I(t,n){return he(t,"directive"),x(t)?(s(t),le(n,"directiveFactory"),c.hasOwnProperty(t)||(c[t]=[],e.factory(t+h,["$injector","$exceptionHandler",function(e,n){var r=[];return i(c[t],function(i,o){try{var a=e.invoke(i);T(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=u(a),a.restrict=a.restrict||"EA",a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),c[t].push(n)):i(t,o(I)),this},this.component=function(t,e){function n(t){function n(e){return T(e)||Yr(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var o=e.template||e.templateUrl?e.template:"",a={controller:r,controllerAs:bn(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return i(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var r=e.controller||function(){};return i(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,T(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(t){return y(t)?(A=t,this):A};var M=10;this.onChangesTtl=function(t){return arguments.length?(M=t,this):M},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,o,s,u,g,$,I,E){function O(){try{if(!--ke)throw _e=void 0,qo("infchng","{0} $onChanges() iterations reached. Aborting!\n",M);g.$apply(function(){for(var t=[],e=0,n=_e.length;n>e;++e)try{_e[e]()}catch(i){t.push(i)}if(_e=void 0,t.length)throw t})}finally{ke++}}function P(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function L(t,e,n){xe.innerHTML="<span "+e+">";var i=xe.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function N(t,e){try{t.addClass(e)}catch(n){}}function K(e,n,i,r,o){e instanceof Ur||(e=Ur(e));for(var a=/\S+/,s=0,u=e.length;u>s;s++){var l=e[s];l.nodeType===so&&l.nodeValue.match(a)&&Ae(l,e[s]=t.document.createElement("span"))}var c=H(e,n,e,i,r,o);K.$$addScopeClass(e);var h=null;return function(t,n,i){le(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,s=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),h||(h=V(s));var u;if(u="html"!==h?Ur(he(h,Ur("<div>").append(e).html())):n?Co.clone.call(e):e,a)for(var l in a)u.data("$"+l+"Controller",a[l].instance);return K.$$addScopeInfo(u,t),n&&n(u,t),c&&c(t,u,u,r),u}}function V(t){var e=t&&t[0];return e&&"foreignobject"!==R(e)&&Hr.call(e).match(/SVG/)?"svg":"html"}function H(t,e,n,i,r,o){function a(t,n,i,r){var o,a,s,u,l,c,h,p,g;if(d){var m=n.length;for(g=new Array(m),l=0;l<f.length;l+=3)h=f[l],g[h]=n[h]}else g=n;for(l=0,c=f.length;c>l;)s=g[f[l++]],o=f[l++],a=f[l++],o?(o.scope?(u=t.$new(),K.$$addScopeInfo(Ur(s),u)):u=t,p=o.transcludeOnThisElement?z(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?z(t,e):null,o(a,u,s,i,p)):a&&a(t,s.childNodes,void 0,r)}for(var s,u,l,c,h,p,d,f=[],g=0;g<t.length;g++)s=new P,u=F(t[g],[],s,0===g?i:void 0,r),l=u.length?J(u,t[g],s,e,n,null,[],[],o):null,l&&l.scope&&K.$$addScopeClass(s.$$element),h=l&&l.terminal||!(c=t[g].childNodes)||!c.length?null:H(c,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||h)&&(f.push(g,l,h),p=!0,d=d||l),o=null;return p?a:null}function z(t,e,n){function i(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=fe();for(var o in e.$$slots)r[o]=e.$$slots[o]?z(t,e.$$slots[o],n):null;return i}function F(t,e,n,i,r){var o,a,s=t.nodeType,u=n.$attr;switch(s){case oo:ne(e,vn(R(t)),"E",i,r);for(var l,c,h,p,d,f,g=t.attributes,m=0,v=g&&g.length;v>m;m++){var y=!1,w=!1;l=g[m],c=l.name,d=Xr(l.value),p=vn(c),(f=Ce.test(p))&&(c=c.replace(Yo,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var k=p.match(Me);k&&ie(k[1])&&(y=c,w=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),h=vn(c.toLowerCase()),u[h]=c,(f||!n.hasOwnProperty(h))&&(n[h]=d,ze(t,h)&&(n[h]=!0)),de(t,e,d,h,f),ne(e,h,"A",i,r,y,w)}if(a=t.className,_(a)&&(a=a.animVal),x(a)&&""!==a)for(;o=b.exec(a);)h=vn(o[2]),ne(e,h,"C",i,r)&&(n[h]=Xr(o[3])),a=a.substr(o.index+o[0].length);break;case so:if(11===Rr)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===so;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);ce(e,t.nodeValue);break;case uo:q(t,e,n,i,r)}return e.sort(ae),e}function q(t,e,n,i,r){try{var o=m.exec(t.nodeValue);
if(o){var a=vn(o[1]);ne(e,a,"M",i,r)&&(n[a]=Xr(o[2]))}}catch(s){}}function G(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw qo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==oo&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return Ur(i)}function Y(t,e,n){return function(i,r,o,a,s){return r=G(r[0],e,n),t(i,r,o,a,s)}}function X(t,e,n,i,r,o){var a;return t?K(e,n,i,r,o):function(){return a||(a=K(e,n,i,r,o),e=n=o=null),a.apply(this,arguments)}}function J(t,e,n,o,a,s,u,c,h){function p(t,e,n,i){t&&(n&&(t=Y(t,n,i)),t.require=f.require,t.directiveName=g,(S===f||f.$$isolateScope)&&(t=me(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=Y(e,n,i)),e.require=f.require,e.directiveName=g,(S===f||f.$$isolateScope)&&(e=me(e,{isolateScope:!0})),c.push(e))}function d(t,o,a,s,h){function p(t,e,n,i){var r;if(C(t)||(i=n,n=e,e=t,t=void 0),D&&(r=b),n||(n=D?A.parent():A),!i)return h(t,e,r,n,U);var o=h.$$slots[i];if(o)return o(t,e,r,n,U);if(v(o))throw qo("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,Z(A))}var d,f,g,m,y,b,x,A,M,I;e===a?(M=n,A=n.$$element):(A=Ur(a),M=new P(A,n)),y=o,S?m=o.$new(!0):w&&(y=o.$parent),h&&(x=p,x.$$boundTransclude=h,x.isSlotFilled=function(t){return!!h.$$slots[t]}),k&&(b=te(A,M,x,k,m,o,S)),S&&(K.$$addScopeInfo(A,m,!0,!($&&($===S||$===S.$$originalDirective))),K.$$addScopeClass(A,!0),m.$$isolateBindings=S.$$isolateBindings,I=ye(o,M,m,m.$$isolateBindings,S),I.removeWatches&&m.$on("$destroy",I.removeWatches));for(var E in b){var O=k[E],L=b[E],N=O.$$bindings.bindToController;L.bindingInfo=L.identifier&&N?ye(y,M,L.instance,N,O):{};var R=L();R!==L.instance&&(L.instance=R,A.data("$"+O.name+"Controller",R),L.bindingInfo.removeWatches&&L.bindingInfo.removeWatches(),L.bindingInfo=ye(y,M,L.instance,N,O))}for(i(k,function(t,e){var n=t.require;t.bindToController&&!Yr(n)&&_(n)&&l(b[e].instance,Q(e,n,A,b))}),i(b,function(t){var e=t.instance;if(T(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){r(n)}if(T(e.$onInit))try{e.$onInit()}catch(n){r(n)}T(e.$doCheck)&&(y.$watch(function(){e.$doCheck()}),e.$doCheck()),T(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),d=0,f=u.length;f>d;d++)g=u[d],ve(g,g.isolateScope?m:o,A,M,g.require&&Q(g.directiveName,g.require,A,b),x);var U=o;for(S&&(S.template||null===S.templateUrl)&&(U=m),t&&t(U,a.childNodes,void 0,h),d=c.length-1;d>=0;d--)g=c[d],ve(g,g.isolateScope?m:o,A,M,g.require&&Q(g.directiveName,g.require,A,b),x);i(b,function(t){var e=t.instance;T(e.$postLink)&&e.$postLink()})}h=h||{};for(var f,g,m,y,b,x=-Number.MAX_VALUE,w=h.newScopeDirective,k=h.controllerDirectives,S=h.newIsolateScopeDirective,$=h.templateDirective,A=h.nonTlbTranscludeDirective,M=!1,I=!1,D=h.hasElementTranscludeDirective,E=n.$$element=Ur(e),O=s,L=o,N=!1,U=!1,W=0,V=t.length;V>W;W++){f=t[W];var H=f.$$start,z=f.$$end;if(H&&(E=G(e,H,z)),m=void 0,x>f.priority)break;if((b=f.scope)&&(f.templateUrl||(_(b)?(ue("new/isolated scope",S||w,f,E),S=f):ue("new/isolated scope",S,f,E)),w=w||f),g=f.name,!N&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var q,J=W+1;q=t[J++];)if(q.transclude&&!q.$$tlb||q.replace&&(q.templateUrl||q.template)){U=!0;break}N=!0}if(!f.templateUrl&&f.controller&&(b=f.controller,k=k||fe(),ue("'"+g+"' controller",k[g],f,E),k[g]=f),b=f.transclude)if(M=!0,f.$$tlb||(ue("transclusion",A,f,E),A=f),"element"==b)D=!0,x=f.priority,m=E,E=n.$$element=Ur(K.$$createComment(g,n[g])),e=E[0],ge(a,B(m),e),m[0].$$parentNode=m[0].parentNode,L=X(U,m,o,x,O&&O.name,{nonTlbTranscludeDirective:A});else{var ne=fe();if(m=Ur(Ie(e)).contents(),_(b)){m=[];var ie=fe(),ae=fe();i(b,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,ie[t]=e,ne[e]=null,ae[e]=n}),i(E.contents(),function(t){var e=ie[vn(R(t))];e?(ae[e]=!0,ne[e]=ne[e]||[],ne[e].push(t)):m.push(t)}),i(ae,function(t,e){if(!t)throw qo("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var se in ne)ne[se]&&(ne[se]=X(U,ne[se],o))}E.empty(),L=X(U,m,o,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),L.$$slots=ne}if(f.template)if(I=!0,ue("template",$,f,E),$=f,b=T(f.template)?f.template(E,n):f.template,b=$e(b),f.replace){if(O=f,m=we(b)?[]:_n(he(f.templateNamespace,Xr(b))),e=m[0],1!=m.length||e.nodeType!==oo)throw qo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");ge(a,E,e);var le={$attr:{}},ce=F(e,[],le),pe=t.splice(W+1,t.length-(W+1));(S||w)&&ee(ce,S,w),t=t.concat(ce).concat(pe),re(n,le),V=t.length}else E.html(b);if(f.templateUrl)I=!0,ue("template",$,f,E),$=f,f.replace&&(O=f),d=oe(t.splice(W,t.length-W),E,n,a,M&&L,u,c,{controllerDirectives:k,newScopeDirective:w!==f&&w,newIsolateScopeDirective:S,templateDirective:$,nonTlbTranscludeDirective:A}),V=t.length;else if(f.compile)try{y=f.compile(E,n,L);var de=f.$$originalDirective||f;T(y)?p(null,j(de,y),H,z):y&&p(j(de,y.pre),j(de,y.post),H,z)}catch(_e){r(_e,Z(E))}f.terminal&&(d.terminal=!0,x=Math.max(x,f.priority))}return d.scope=w&&w.scope===!0,d.transcludeOnThisElement=M,d.templateOnThisElement=I,d.transclude=L,h.hasElementTranscludeDirective=D,d}function Q(t,e,n,r){var o;if(x(e)){var a=e.match(k),s=e.substring(a[0].length),u=a[1]||a[3],l="?"===a[2];if("^^"===u?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=u?n.inheritedData(c):n.data(c)}if(!o&&!l)throw qo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(Yr(e)){o=[];for(var h=0,p=e.length;p>h;h++)o[h]=Q(t,e[h],n,r)}else _(e)&&(o={},i(e,function(e,i){o[i]=Q(t,e,n,r)}));return o||null}function te(t,e,n,i,r,o,a){var s=fe();for(var l in i){var c=i[l],h={$scope:c===a||c.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},p=c.controller;"@"==p&&(p=e[c.name]);var d=u(p,h,!0,c.controllerAs);s[c.name]=d,t.data("$"+c.name+"Controller",d.instance)}return s}function ee(t,e,n){for(var i=0,r=t.length;r>i;i++)t[i]=p(t[i],{$$isolateScope:e,$$newScope:n})}function ne(t,n,i,o,s,u,l){if(n===s)return null;var d=null;if(c.hasOwnProperty(n))for(var f,g=e.get(n+h),m=0,y=g.length;y>m;m++)try{if(f=g[m],(v(o)||o>f.priority)&&-1!=f.restrict.indexOf(i)){if(u&&(f=p(f,{$$start:u,$$end:l})),!f.$$bindings){var b=f.$$bindings=a(f,f.name);_(b.isolateScope)&&(f.$$isolateBindings=b.isolateScope)}t.push(f),d=f}}catch(x){r(x)}return d}function ie(t){if(c.hasOwnProperty(t))for(var n,i=e.get(t+h),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function re(t,e){{var n=e.$attr,r=t.$attr;t.$$element}i(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),i(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function oe(t,e,n,r,a,s,u,l){var c,h,d=[],f=e[0],g=t.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=T(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),o(v).then(function(o){var p,b,x,w;if(o=$e(o),g.replace){if(x=we(o)?[]:_n(he(y,Xr(o))),p=x[0],1!=x.length||p.nodeType!==oo)throw qo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},ge(r,e,p);var k=F(p,[],b);_(g.scope)&&ee(k,!0),t=k.concat(t),re(n,b)}else p=f,e.html(o);for(t.unshift(m),c=J(t,p,n,a,e,g,s,u,l),i(r,function(t,n){t==p&&(r[n]=e[0])}),h=H(e[0].childNodes,a);d.length;){var T=d.shift(),S=d.shift(),$=d.shift(),C=d.shift(),A=e[0];if(!T.$$destroyed){if(S!==f){var M=S.className;l.hasElementTranscludeDirective&&g.replace||(A=Ie(p)),ge($,Ur(S),A),N(Ur(A),M)}w=c.transcludeOnThisElement?z(T,c.transclude,C):C,c(h,T,A,r,w)}}d=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(d?d.push(e,n,i,o):(c.transcludeOnThisElement&&(o=z(e,c.transclude,r)),c(h,e,n,i,o)))}}function ae(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function ue(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw qo("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,Z(i))}function ce(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&K.$$addBindingClass(e),function(t,e){var r=e.parent();n||K.$$addBindingClass(r),K.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function he(e,n){switch(e=Or(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function pe(t,e){if("srcdoc"==e)return $.HTML;var n=R(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?$.RESOURCE_URL:void 0}function de(t,e,i,r,o){var a=pe(t,r);o=w[r]||o;var s=n(i,!0,a,o);if(s){if("multiple"===r&&"select"===R(t))throw qo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var l=u.$$observers||(u.$$observers=fe());if(S.test(r))throw qo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=u[r];c!==i&&(s=c&&n(c,!0,a,o),i=c),s&&(u[r]=s(t),(l[r]||(l[r]=[])).$$inter=!0,(u.$$observers&&u.$$observers[r].$$scope||t).$watch(s,function(t,e){"class"===r&&t!=e?u.$updateClass(t,e):u.$set(r,t)}))}}}})}}function ge(e,n,i){var r,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]==a){e[r++]=i;for(var l=r,c=l+s-1,h=e.length;h>l;l++,c++)h>c?e[l]=e[c]:delete e[l];e.length-=s-1,e.context===a&&(e.context=i);break}u&&u.replaceChild(i,a);var p=t.document.createDocumentFragment();for(r=0;s>r;r++)p.appendChild(n[r]);for(Ur.hasData(a)&&(Ur.data(i,Ur.data(a)),Ur(a).off("$destroy")),Ur.cleanData(p.querySelectorAll("*")),r=1;s>r;r++)delete n[r];n[0]=i,n.length=1}function me(t,e){return l(function(){return t.apply(null,arguments)},t,e)}function ve(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(s){r(s,Z(n))}}function ye(t,e,r,o,a){function u(e,n,i){T(r.$onChanges)&&n!==i&&(_e||(t.$$postDigest(O),_e=[]),c||(c={},_e.push(l)),c[e]&&(i=c[e].previousValue),c[e]=new mn(i,n))}function l(){r.$onChanges(c),c=void 0}var c,h=[],p={};return i(o,function(i,o){var l,c,f,g,m,v=i.attrName,y=i.optional,_=i.mode;switch(_){case"@":y||Er.call(e,v)||(r[o]=e[v]=void 0),e.$observe(v,function(t){if(x(t)||D(t)){var e=r[o];u(o,t,e),r[o]=t}}),e.$$observers[v].$$scope=t,l=e[v],x(l)?r[o]=n(l)(t):D(l)&&(r[o]=l),p[o]=new mn(Go,r[o]);break;case"=":if(!Er.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]),g=c.literal?W:function(t,e){return t===e||t!==t&&e!==e},f=c.assign||function(){throw l=r[o]=c(t),qo("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[v],v,a.name)},l=r[o]=c(t);var b=function(e){return g(e,r[o])||(g(e,l)?f(t,e=r[o]):r[o]=e),l=e};b.$stateful=!0,m=i.collection?t.$watchCollection(e[v],b):t.$watch(s(e[v],b),null,c.literal),h.push(m);break;case"<":if(!Er.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]);var w=r[o]=c(t);p[o]=new mn(Go,r[o]),m=t.$watch(c,function(t,e){if(e===t){if(e===w)return;e=w}u(o,t,e),r[o]=t},c.literal),h.push(m);break;case"&":if(c=e.hasOwnProperty(v)?s(e[v]):d,c===d&&y)break;r[o]=function(e){return c(t,e)}}}),{initialChanges:p,removeWatches:h.length&&function(){for(var t=0,e=h.length;e>t;++t)h[t]()}}}var _e,be=/^\w/,xe=t.document.createElement("div"),ke=M;P.prototype={$normalize:vn,$addClass:function(t){t&&t.length>0&&I.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&I.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=yn(t,e);n&&n.length&&I.addClass(this.$$element,n);var i=yn(e,t);i&&i.length&&I.removeClass(this.$$element,i)},$set:function(t,e,n,o){var a,s=this.$$element[0],u=ze(s,t),l=Fe(t),c=t;if(u?(this.$$element.prop(t,e),o=u):l&&(this[l]=e,c=l),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t],o||(this.$attr[t]=o=se(t,"-"))),a=R(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=E(e,"src"===t);else if("img"===a&&"srcset"===t&&y(e)){for(var h="",p=Xr(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(p)?d:/(,)/,g=p.split(f),m=Math.floor(g.length/2),_=0;m>_;_++){var b=2*_;h+=E(Xr(g[b]),!0),h+=" "+Xr(g[b+1])}var x=Xr(g[2*_]).split(/\s/);h+=E(Xr(x[0]),!0),2===x.length&&(h+=" "+Xr(x[1])),this[t]=e=h}n!==!1&&(null===e||v(e)?this.$$element.removeAttr(o):be.test(o)?this.$$element.attr(o,e):L(this.$$element[0],o,e));var w=this.$$observers;w&&i(w[c],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=fe()),r=i[t]||(i[t]=[]);return r.push(e),g.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||v(n[t])||e(n[t])}),function(){U(r,e)}}};var Te=n.startSymbol(),Se=n.endSymbol(),$e="{{"==Te&&"}}"==Se?f:function(t){return t.replace(/\{\{/g,Te).replace(/}}/g,Se)},Ce=/^ngAttr[A-Z]/,Me=/^(.+)Start$/;return K.$$addBindingInfo=A?function(t,e){var n=t.data("$binding")||[];Yr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:d,K.$$addBindingClass=A?function(t){N(t,"ng-binding")}:d,K.$$addScopeInfo=A?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:d,K.$$addScopeClass=A?function(t,e){N(t,e?"ng-isolate-scope":"ng-scope")}:d,K.$$createComment=function(e,n){var i="";return A&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},K}]}function mn(t,e){this.previousValue=t,this.currentValue=e}function vn(t){return xe(t.replace(Yo,""))}function yn(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function _n(t){t=Ur(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===uo&&Br.call(t,e,1)}return t}function bn(t,e){if(e&&x(e))return e;if(x(t)){var n=Xo.exec(t);if(n)return n[3]}}function xn(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){he(e,"controller"),_(e)?l(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(t,n,i,r){if(!t||!_(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);t.$scope[n]=i}return function(e,a,s,u){var c,h,p,d;if(s=s===!0,u&&x(u)&&(d=u),x(e)){if(h=e.match(Xo),!h)throw Zo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);p=h[1],d=d||h[3],e=t.hasOwnProperty(p)?t[p]:pe(a.$scope,p,!0)||(n?pe(r,p,!0):void 0),ce(e,p,!0)}if(s){var f=(Yr(e)?e[e.length-1]:e).prototype;c=Object.create(f||null),d&&o(a,d,c,p||e.name);var g;return g=l(function(){var t=i.invoke(e,c,a,p);return t!==c&&(_(t)||T(t))&&(c=t,d&&o(a,d,c,p||e.name)),c},{instance:c,identifier:d})}return c=i.instantiate(e,a,p),d&&o(a,d,c,p||e.name),c}}]}function wn(){this.$get=["$window",function(t){return Ur(t.document)}]}function kn(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function Tn(t){return _(t)?k(t)?t.toISOString():z(t):t}function Sn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return r(t,function(t,n){null===t||v(t)||(Yr(t)?i(t,function(t){e.push(ee(n)+"="+ee(Tn(t)))}):e.push(ee(n)+"="+ee(Tn(t))))}),e.join("&")}}}function $n(){this.$get=function(){return function(t){function e(t,o,a){null===t||v(t)||(Yr(t)?i(t,function(t,n){e(t,o+"["+(_(t)?n:"")+"]")}):_(t)&&!k(t)?r(t,function(t,n){e(t,o+(a?"":"[")+n+(a?"":"]"))}):n.push(ee(o)+"="+ee(Tn(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Cn(t,e){if(x(t)){var n=t.replace(ia,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Qo)||An(n))&&(t=F(n))}}return t}function An(t){var e=t.match(ea);return e&&na[e[0]].test(t)}function Mn(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=fe();return x(t)?i(t.split("\n"),function(t){n=t.indexOf(":"),e(Or(Xr(t.substr(0,n))),Xr(t.substr(n+1)))}):_(t)&&i(t,function(t,n){e(Or(n),Xr(t))}),r}function In(t){var e;return function(n){if(e||(e=Mn(t)),n){var i=e[Or(n)];return void 0===i&&(i=null),i}return e}}function Dn(t,e,n,r){return T(r)?r(t,e,n):(i(r,function(i){t=i(t,e,n)}),t)}function En(t){return t>=200&&300>t}function On(){var t=this.defaults={transformResponse:[Cn],transformRequest:[function(t){return!_(t)||A(t)||I(t)||M(t)?t:z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:me(ta),put:me(ta),patch:me(ta)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(t){return y(t)?(n=!!t,this):n};var r=!0;this.useLegacyPromiseExtensions=function(t){return y(t)?(r=!!t,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,u,c,h,p){function d(n){function o(t,e){for(var n=0,i=e.length;i>n;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function a(t,e){var n,r={};return i(t,function(t,i){T(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function s(e){var n,i,r,o=t.headers,s=l({},e.headers);o=l({},o.common,o[Or(e.method)]);t:for(n in o){i=Or(n);for(r in s)if(Or(r)===i)continue t;s[n]=o[n]}return a(s,me(e))}function u(e){var n=e.headers,r=Dn(e.data,In(n),void 0,e.transformRequest);return v(r)&&i(n,function(t,e){"content-type"===Or(e)&&delete n[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,r).then(c,c)}function c(t){var e=l({},t);return e.data=Dn(t.data,t.headers,t.status,d.transformResponse),En(t.status)?e:h.reject(e)}if(!_(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!x(n.url))throw e("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var d=l({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},n);d.headers=s(n),d.method=Pr(d.method),d.paramSerializer=x(d.paramSerializer)?p.get(d.paramSerializer):d.paramSerializer;var f=[],g=[],y=h.when(d);return i(k,function(t){(t.request||t.requestError)&&f.unshift(t.request,t.requestError),(t.response||t.responseError)&&g.push(t.response,t.responseError)}),y=o(y,f),y=y.then(u),y=o(y,g),r?(y.success=function(t){return ce(t,"fn"),y.then(function(e){t(e.data,e.status,e.headers,d)}),y},y.error=function(t){return ce(t,"fn"),y.then(null,function(e){t(e.data,e.status,e.headers,d)}),y}):(y.success=oa("success"),y.error=oa("error")),y}function f(){i(arguments,function(t){d[t]=function(e,n){return d(l({},n||{},{method:t,url:e}))}})}function g(){i(arguments,function(t){d[t]=function(e,n,i){return d(l({},i||{},{method:t,url:e,data:n}))}})}function m(e,r){function o(t){if(t){var e={};return i(t,function(t,i){e[i]=function(e){function i(){t(e)}n?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),e}}function u(t,e,i,r){function o(){l(e,t,i,r)}g&&(En(t)?g.put(S,[t,e,Mn(i),r]):g.remove(S)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function l(t,n,i,r){n=n>=-1?n:0,(En(n)?x.resolve:x.reject)({data:t,status:n,headers:In(i),config:e,statusText:r})}function p(t){l(t.data,t.status,me(t.headers()),t.statusText)}function f(){var t=d.pendingRequests.indexOf(e);-1!==t&&d.pendingRequests.splice(t,1)}var g,m,x=h.defer(),k=x.promise,T=e.headers,S=b(e.url,e.paramSerializer(e.params));if(d.pendingRequests.push(e),k.then(f,f),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(g=_(e.cache)?e.cache:_(t.cache)?t.cache:w),g&&(m=g.get(S),y(m)?E(m)?m.then(p,p):Yr(m)?l(m[1],m[0],me(m[2]),m[3]):l(m,200,{},"OK"):g.put(S,k)),v(m)){var $=Li(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;$&&(T[e.xsrfHeaderName||t.xsrfHeaderName]=$),a(e.method,S,r,u,T,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))}return k}function b(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var w=u("$http");t.paramSerializer=x(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var k=[];return i(o,function(t){k.unshift(x(t)?p.get(t):p.invoke(t))}),d.pendingRequests=[],f("get","delete","head","jsonp"),g("post","put","patch"),d.defaults=t,d}]}function Pn(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Ln(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return Nn(t,i,t.defer,e,n[0])}]}function Nn(t,e,n,r,o){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=t,i.async=!0,a=function(t){mo(i,"load",a),mo(i,"error",a),o.body.removeChild(i),i=null;var s=-1,u="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},go(i,"load",a),go(i,"error",a),o.body.appendChild(i),a}return function(o,s,u,l,c,h,p,f,g,m){function _(){w&&w(),k&&k.abort()}function b(e,i,r,o,a){y($)&&n.cancel($),w=k=null,e(i,r,o,a),t.$$completeOutstandingRequest(d)}if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"===Or(o))var x=r.createCallback(s),w=a(s,x,function(t,e){var n=200===t&&r.getResponse(x);b(l,t,n,"",e),r.removeCallback(x)});else{var k=e(o,s);k.open(o,s,!0),i(c,function(t,e){y(t)&&k.setRequestHeader(e,t)}),k.onload=function(){var t=k.statusText||"",e="response"in k?k.response:k.responseText,n=1223===k.status?204:k.status;0===n&&(n=e?200:"file"==Pi(s).protocol?404:0),b(l,n,e,k.getAllResponseHeaders(),t)};var T=function(){b(l,-1,null,null,"")};if(k.onerror=T,k.onabort=T,i(g,function(t,e){k.addEventListener(e,t)}),i(m,function(t,e){k.upload.addEventListener(e,t)}),p&&(k.withCredentials=!0),f)try{k.responseType=f}catch(S){if("json"!==f)throw S}k.send(v(u)?null:u)}if(h>0)var $=n(_,h);else E(h)&&h.then(_)}}function Rn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(n){return n.replace(d,t).replace(f,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=z(t)}return t}function u(t,e,n,i){var r;return r=t.$watch(function(t){return r(),i(t)},e,n)}function c(o,c,d,f){function m(t){try{return t=E(t),f&&!y(t)?t:s(t)}catch(e){i(aa.interr(o,e))}}if(!o.length||-1===o.indexOf(t)){var _;if(!c){var b=a(o);_=g(b),_.exp=o,_.expressions=[],_.$$watchDelegate=u}return _}f=!!f;for(var x,w,k,S=0,$=[],C=[],A=o.length,M=[],I=[];A>S;){if(-1==(x=o.indexOf(t,S))||-1==(w=o.indexOf(e,x+h))){S!==A&&M.push(a(o.substring(S)));break}S!==x&&M.push(a(o.substring(S,x))),k=o.substring(x+h,w),$.push(k),C.push(n(k,m)),S=w+p,I.push(M.length),M.push("")}if(d&&M.length>1&&aa.throwNoconcat(o),!c||$.length){var D=function(t){for(var e=0,n=$.length;n>e;e++){if(f&&v(t[e]))return;M[I[e]]=t[e]}return M.join("")},E=function(t){return d?r.getTrusted(d,t):r.valueOf(t)};return l(function(t){var e=0,n=$.length,r=new Array(n);try{for(;n>e;e++)r[e]=C[e](t);return D(r)}catch(a){i(aa.interr(o,a))}},{exp:o,expressions:$,$$watchDelegate:function(t,e){var n;return t.$watchGroup(C,function(i,r){var o=D(i);T(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var h=t.length,p=e.length,d=new RegExp(t.replace(/./g,o),"g"),f=new RegExp(e.replace(/./g,o),"g");return c.startSymbol=function(){return t},c.endSymbol=function(){return e},c}]}function Un(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,s,u,l){function c(){h?o.apply(null,p):o(g)}var h=arguments.length>4,p=h?B(arguments,4):[],d=e.setInterval,f=e.clearInterval,g=0,m=y(l)&&!l,v=(m?i:n).defer(),_=v.promise;return u=y(u)?u:0,_.$$intervalId=d(function(){m?r.defer(c):t.$evalAsync(c),v.notify(g++),u>0&&g>=u&&(v.resolve(g),f(_.$$intervalId),delete a[_.$$intervalId]),m||t.$apply()},s),a[_.$$intervalId]=v,_}var a={};return o.cancel=function(t){return t&&t.$$intervalId in a?(a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0):!1},o}]}function Kn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=te(e[n]);return e.join("/")}function Wn(t,e){var n=Pi(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||la[n.protocol]||null}function Vn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Pi(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=J(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Bn(t,e){return 0===t.lastIndexOf(e,0)}function jn(t,e){return Bn(e,t)?e.substr(t.length):void 0}function Hn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function zn(t){return t.replace(/(#.+)|#$/,"$1")}function Fn(t){return t.substr(0,Hn(t).lastIndexOf("/")+1)}function qn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Gn(t,e,n){this.$$html5=!0,n=n||"",Wn(t,this),this.$$parse=function(t){var n=jn(e,t);if(!x(n))throw ca("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Vn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),n=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Kn(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return y(o=jn(t,i))?(a=o,s=y(o=jn(n,o))?e+(jn("/",o)||o):t+a):y(o=jn(e,i))?s=e+o:e==i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function Yn(t,e,n){Wn(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return Bn(e,n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,a=jn(t,i)||jn(e,i);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(t=i,this.replace())):(o=jn(n,a),v(o)&&(o=a)),Vn(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),i=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Kn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e){return Hn(t)==Hn(e)?(this.$$parse(e),!0):!1}}function Zn(t,e,n){this.$$html5=!0,Yn.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t==Hn(i)?o=i:(a=jn(e,i))?o=t+n+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=Q(this.$$search),i=this.$$hash?"#"+te(this.$$hash):"";this.$$url=Kn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function Xn(t){return function(){return this[t]}}function Jn(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Qn(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return D(t)?(e.enabled=t,this):_(t)?(D(t.enabled)&&(e.enabled=t.enabled),D(t.requireBase)&&(e.requireBase=t.requireBase),D(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=l.url(),o=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(a){throw l.url(r),l.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,c,h,p=i.baseHref(),d=i.url();if(e.enabled){if(!p&&e.requireBase)throw ca("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=qn(d)+(p||"/"),c=r.history?Gn:Zn}else h=Hn(d),c=Yn;var f=Fn(h);l=new c(h,f,"#"+t),l.$$parseLinkUrl(d,d),l.$$state=i.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=Ur(t.target);"a"!==R(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),u=r.attr("href")||r.attr("xlink:href");_(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Pi(s.animVal).href),g.test(s)||!s||r.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(t.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),zn(l.absUrl())!=zn(d)&&i.url(l.absUrl(),!0);var m=!0;return i.onUrlChange(function(t,e){return v(jn(f,t))?void(a.location.href=t):(n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;t=zn(t),l.$$parse(t),l.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,l.absUrl()===t&&(i?(l.$$parse(r),l.$$state=o,s(r,!1,o)):(m=!1,u(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=zn(i.url()),e=zn(l.absUrl()),o=i.state(),a=l.$$replace,c=t!==e||l.$$html5&&r.history&&o!==l.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var e=l.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(i?(l.$$parse(t),l.$$state=o):(c&&s(e,a,o===l.$$state?null:l.$$state),u(t,o)))})),l.$$replace=!1}),l}]}function ti(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||d,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var t=[];return i(arguments,function(e){t.push(r(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function ei(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw pa("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function ni(t){return t+""}function ii(t,e){if(t){if(t.constructor===t)throw pa("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw pa("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw pa("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw pa("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function ri(t,e){if(t){if(t.constructor===t)throw pa("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===da||t===fa||t===ga)throw pa("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function oi(t,e){if(t&&(t===0..constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw pa("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function ai(t,e){return"undefined"!=typeof t?t:e}function si(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function ui(t,e){var n=t(e);return!n.$stateful}function li(t,e){var n,r;switch(t.type){case _a.Program:n=!0,i(t.body,function(t){li(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case _a.Literal:t.constant=!0,t.toWatch=[];break;case _a.UnaryExpression:li(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case _a.BinaryExpression:li(t.left,e),li(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case _a.LogicalExpression:li(t.left,e),li(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case _a.ConditionalExpression:li(t.test,e),li(t.alternate,e),li(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case _a.Identifier:t.constant=!1,t.toWatch=[t];break;case _a.MemberExpression:li(t.object,e),t.computed&&li(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;
case _a.CallExpression:n=t.filter?ui(e,t.callee.name):!1,r=[],i(t.arguments,function(t){li(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&ui(e,t.callee.name)?r:[t];break;case _a.AssignmentExpression:li(t.left,e),li(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case _a.ArrayExpression:n=!0,r=[],i(t.elements,function(t){li(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case _a.ObjectExpression:n=!0,r=[],i(t.properties,function(t){li(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case _a.ThisExpression:t.constant=!1,t.toWatch=[];break;case _a.LocalsExpression:t.constant=!1,t.toWatch=[]}}function ci(t){if(1==t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function hi(t){return t.type===_a.Identifier||t.type===_a.MemberExpression}function pi(t){return 1===t.body.length&&hi(t.body[0].expression)?{type:_a.AssignmentExpression,left:t.body[0].expression,right:{type:_a.NGValueParameter},operator:"="}:void 0}function di(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===_a.Literal||t.body[0].expression.type===_a.ArrayExpression||t.body[0].expression.type===_a.ObjectExpression)}function fi(t){return t.constant}function gi(t,e){this.astBuilder=t,this.$filter=e}function mi(t,e){this.astBuilder=t,this.$filter=e}function vi(t){return"constructor"==t}function yi(t){return T(t.valueOf)?t.valueOf():xa.call(t)}function _i(){var t,e,n=fe(),r=fe(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(a){function s(t,e,i){var o,s,l;switch(i=i||b,typeof t){case"string":t=t.trim(),l=t;var m=i?r:n;if(o=m[l],!o){":"===t.charAt(0)&&":"===t.charAt(1)&&(s=!0,t=t.substring(2));var y=i?_:v,x=new ya(y),w=new ba(x,a,y);o=w.parse(t),o.constant?o.$$watchDelegate=f:s?o.$$watchDelegate=o.literal?p:h:o.inputs&&(o.$$watchDelegate=c),i&&(o=u(o)),m[l]=o}return g(o,e);case"function":return g(t,e);default:return g(d,e)}}function u(t){function e(e,n,i,r){var o=b;b=!0;try{return t(e,n,i,r)}finally{b=o}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=u(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=u(t.inputs[n]);return e.inputs=t.inputs,e}function l(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=yi(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function c(t,e,n,i,r){var o,a=i.inputs;if(1===a.length){var s=l;return a=a[0],t.$watch(function(t){var e=a(t);return l(e,s)||(o=i(t,void 0,void 0,[e]),s=e&&yi(e)),o},e,n,r)}for(var u=[],c=[],h=0,p=a.length;p>h;h++)u[h]=l,c[h]=null;return t.$watch(function(t){for(var e=!1,n=0,r=a.length;r>n;n++){var s=a[n](t);(e||(e=!l(s,u[n])))&&(c[n]=s,u[n]=s&&yi(s))}return e&&(o=i(t,void 0,void 0,c)),o},e,n,r)}function h(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,T(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function p(t,e,n,r){function o(t){var e=!0;return i(t,function(t){y(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,i){s=t,T(e)&&e.call(this,t,n,i),o(t)&&i.$$postDigest(function(){o(s)&&a()})},n)}function f(t,e,n,i){var r;return r=t.$watch(function(t){return r(),i(t)},e,n)}function g(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==p&&n!==h,o=r?function(n,r,o,a){var s=i&&a?a[0]:t(n,r,o,a);return e(s,n,r)}:function(n,i,r,o){var a=t(n,i,r,o),s=e(a,n,i);return y(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==c?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=c,i=!t.inputs,o.inputs=t.inputs?t.inputs:[t]),o}var m=Qr().noUnsafeEval,v={csp:m,expensiveChecks:!1,literals:K(o),isIdentifierStart:T(t)&&t,isIdentifierContinue:T(e)&&e},_={csp:m,expensiveChecks:!0,literals:K(o),isIdentifierStart:T(t)&&t,isIdentifierContinue:T(e)&&e},b=!1;return s.$$runningExpensiveChecks=function(){return b},s}]}function bi(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return wi(function(e){t.$evalAsync(e)},e)}]}function xi(){this.$get=["$browser","$exceptionHandler",function(t,e){return wi(function(e){t.defer(e)},e)}]}function wi(t,n){function r(){this.$$state={status:0}}function o(t,e){return function(n){e.call(t,n)}}function a(t){var e,i,r;r=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,a=r.length;a>o;++o){i=r[o][0],e=r[o][t.status];try{T(e)?i.resolve(e(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(s){i.reject(s),n(s)}}}function s(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){a(e)}))}function u(){this.promise=new r}function c(t){var e=new u,n=0,r=Yr(t)?[]:{};return i(t,function(t,i){n++,y(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}function h(t){var e=d();return i(t,function(t){y(t).then(e.resolve,e.reject)}),e.promise}var p=e("$q",TypeError),d=function(){var t=new u;return t.resolve=o(t,t.resolve),t.reject=o(t,t.reject),t.notify=o(t,t.notify),t};l(r.prototype,{then:function(t,e,n){if(v(t)&&v(e)&&v(n))return this;var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&s(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}}),l(u.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){function e(t){u||(u=!0,a.$$resolve(t))}function i(t){u||(u=!0,a.$$reject(t))}var r,a=this,u=!1;try{(_(t)||T(t))&&(r=t&&t.then),T(r)?(this.promise.$$state.status=-1,r.call(t,e,i,o(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,s(this.promise.$$state))}catch(l){i(l),n(l)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(e){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,a=i.length;a>o;o++){r=i[o][0],t=i[o][3];try{r.notify(T(t)?t(e):e)}catch(s){n(s)}}})}});var f=function(t){var e=new u;return e.reject(t),e.promise},g=function(t,e){var n=new u;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var i=null;try{T(n)&&(i=n())}catch(r){return g(r,!1)}return E(i)?i.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},y=function(t,e,n,i){var r=new u;return r.resolve(t),r.promise.then(e,n,i)},b=y,x=function(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!T(t))throw p("norslvr","Expected resolverFn, got '{0}'",t);var i=new u;return t(e,n),i.promise};return x.prototype=r.prototype,x.defer=d,x.reject=f,x.when=y,x.resolve=b,x.all=c,x.race=h,x}function ki(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function Ti(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return e.prototype=t,e}var r=10,o=e("$rootScope"),s=null,u=null;this.digestTtl=function(t){return arguments.length&&(r=t),r},this.$get=["$exceptionHandler","$parse","$browser",function(e,l,c){function h(t){t.currentScope.$$destroyed=!0}function p(t){9===Rr&&(t.$$childHead&&p(t.$$childHead),t.$$nextSibling&&p(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function f(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(t){if(S.$$phase)throw o("inprog","{0} already in progress",S.$$phase);S.$$phase=t}function m(){S.$$phase=null}function y(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function b(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function x(){}function w(){for(;A.length;)try{A.shift()()}catch(t){e(t)}u=null}function k(){null===u&&(u=c.defer(function(){S.$apply(w)}))}f.prototype={constructor:f,$new:function(e,n){var i;return n=n||this,e?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",h),i},$watch:function(t,e,n,i){var r=l(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,a=o.$$watchers,u={fn:e,last:x,get:r,exp:i||t,eq:!!n};return s=null,T(e)||(u.fn=d),a||(a=o.$$watchers=[]),a.unshift(u),y(this,1),function(){U(a,u)>=0&&y(o,-1),s=null}},$watchGroup:function(t,e){function n(){u=!1,l?(l=!1,e(o,o,s)):e(o,r,s)}var r=new Array(t.length),o=new Array(t.length),a=[],s=this,u=!1,l=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(o,o,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,i){o[0]=t,r[0]=n,e(o,t===n?o:r,i)}):(i(t,function(t,e){var i=s.$watch(t,function(t,i){o[e]=t,r[e]=i,u||(u=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function i(t){o=t;var e,i,r,s,u;if(!v(o)){if(_(o))if(n(o)){a!==d&&(a=d,m=a.length=0,h++),e=o.length,m!==e&&(h++,a.length=m=e);for(var l=0;e>l;l++)u=a[l],s=o[l],r=u!==u&&s!==s,r||u===s||(h++,a[l]=s)}else{a!==f&&(a=f={},m=0,h++),e=0;for(i in o)Er.call(o,i)&&(e++,s=o[i],u=a[i],i in a?(r=u!==u&&s!==s,r||u===s||(h++,a[i]=s)):(m++,a[i]=s,h++));if(m>e){h++;for(i in a)Er.call(o,i)||(m--,delete a[i])}}else a!==o&&(a=o,h++);return h}}function r(){if(g?(g=!1,e(o,o,u)):e(o,s,u),c)if(_(o))if(n(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var i in o)Er.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,u=this,c=e.length>1,h=0,p=l(t,i),d=[],f={},g=!0,m=0;return this.$watch(p,r)},$digest:function(){var t,n,i,a,l,h,p,d,f,v,y,_,b=r,k=this,A=[];g("$digest"),c.$$checkUrlChange(),this===S&&null!==u&&(c.defer.cancel(u),w()),s=null;do{d=!1,v=k;for(var I=0;I<$.length;I++){try{_=$[I],_.scope.$eval(_.expression,_.locals)}catch(D){e(D)}s=null}$.length=0;t:do{if(h=v.$$watchers)for(p=h.length;p--;)try{if(t=h[p])if(l=t.get,(n=l(v))===(i=t.last)||(t.eq?W(n,i):"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))){if(t===s){d=!1;break t}}else d=!0,s=t,t.last=t.eq?K(n,null):n,a=t.fn,a(n,i===x?n:i,v),5>b&&(y=4-b,A[y]||(A[y]=[]),A[y].push({msg:T(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:i}))}catch(D){e(D)}if(!(f=v.$$watchersCount&&v.$$childHead||v!==k&&v.$$nextSibling))for(;v!==k&&!(f=v.$$nextSibling);)v=v.$parent}while(v=f);if((d||$.length)&&!b--)throw m(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,A)}while(d||$.length);for(m();M<C.length;)try{C[M++]()}catch(D){e(D)}C.length=M=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&c.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){S.$$phase||$.length||c.defer(function(){$.length&&S.$digest()}),$.push({scope:this,expression:l(t),locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{g("$apply");try{return this.$eval(t)}finally{m()}}catch(n){e(n)}finally{try{S.$digest()}catch(n){throw e(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),t=l(t),k()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,b(r,1,t))}},$emit:function(t){var n,i,r,o=[],a=this,s=!1,u={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=V([u],arguments,1);do{for(n=a.$$listeners[t]||o,u.currentScope=a,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,l)}catch(c){e(c)}else n.splice(i,1),i--,r--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(t){var n=this,i=n,r=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,u,l=V([o],arguments,1);i=r;){for(o.currentScope=i,a=i.$$listeners[t]||[],s=0,u=a.length;u>s;s++)if(a[s])try{a[s].apply(null,l)}catch(c){e(c)}else a.splice(s,1),s--,u--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return o.currentScope=null,o}};var S=new f,$=S.$$asyncQueue=[],C=S.$$postDigestQueue=[],A=S.$$applyAsyncQueue=[],M=0;return S}]}function Si(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=Pi(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function $i(t){if("self"===t)return t;if(x(t)){if(t.indexOf("***")>-1)throw wa("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Jr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw wa("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Ci(t){var e=[];return y(t)&&i(t,function(t){e.push($i(t))}),e}function Ai(){this.SCE_CONTEXTS=ka;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Ci(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Ci(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Li(e):!!t.exec(e.href)}function r(n){var r,o,a=Pi(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw wa("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||v(e)||""===e)return e;if("string"!=typeof e)throw wa("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof c?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||v(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===ka.RESOURCE_URL){if(r(e))return e;throw wa("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===ka.HTML)return l(e);throw wa("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(){throw wa("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var c=o(),h={};return h[ka.HTML]=o(c),h[ka.CSS]=o(c),h[ka.URL]=o(c),h[ka.JS]=o(c),h[ka.RESOURCE_URL]=o(h[ka.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function Mi(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Rr)throw wa("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=me(ka);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=f),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(ka,function(t,e){var n=Or(e);r[xe("parse_as_"+n)]=function(e){return o(t,e)},r[xe("get_trusted_"+n)]=function(e){return a(t,e)},r[xe("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Ii(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=t.chrome&&t.chrome.app&&t.chrome.app.runtime,a=!o&&t.history&&t.history.pushState,s=h((/android (\d+)/.exec(Or((t.navigator||{}).userAgent))||[])[1]),u=/Boxee/i.test((t.navigator||{}).userAgent),l=e[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,p=l.body&&l.body.style,d=!1,f=!1;if(p){for(var g in p)if(i=c.exec(g)){n=i[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),d=!!("transition"in p||n+"Transition"in p),f=!!("animation"in p||n+"Animation"in p),!s||d&&f||(d=x(p.webkitTransition),f=x(p.webkitAnimation))}return{history:!(!a||4>s||u),hasEvent:function(t){if("input"===t&&11>=Rr)return!1;if(v(r[t])){var e=l.createElement("div");r[t]="on"+t in e}return r[t]},csp:Qr(),vendorPrefix:n,transitions:d,animations:f,android:s}}]}function Di(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$templateCache","$http","$q","$sce",function(e,n,i,r){function o(a,s){function u(t){if(!s)throw Ta("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText);return i.reject(t)}o.totalPendingRequests++,(!x(a)||v(e.get(a)))&&(a=r.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return Yr(c)?c=c.filter(function(t){return t!==Cn}):c===Cn&&(c=null),n.get(a,l({cache:e,transformResponse:c},t))["finally"](function(){o.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},u)}return o.totalPendingRequests=0,o}]}function Ei(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),o=[];return i(r,function(t){var r=qr.element(t).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+Jr(e)+"(\\s|\\||$)");r.test(i)&&o.push(t)}else-1!=i.indexOf(e)&&o.push(t)})}),o},r.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Oi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,u){T(o)||(u=s,s=o,o=d);var l,c=B(arguments,3),h=y(u)&&!u,p=(h?i:n).defer(),f=p.promise;return l=e.defer(function(){try{p.resolve(o.apply(null,c))}catch(e){p.reject(e),r(e)}finally{delete a[f.$$timeoutId]}h||t.$apply()},s),f.$$timeoutId=l,a[l]=p,f}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Pi(t){var e=t;return Rr&&(Sa.setAttribute("href",e),e=Sa.href),Sa.setAttribute("href",e),{href:Sa.href,protocol:Sa.protocol?Sa.protocol.replace(/:$/,""):"",host:Sa.host,search:Sa.search?Sa.search.replace(/^\?/,""):"",hash:Sa.hash?Sa.hash.replace(/^#/,""):"",hostname:Sa.hostname,port:Sa.port,pathname:"/"===Sa.pathname.charAt(0)?Sa.pathname:"/"+Sa.pathname}}function Li(t){var e=x(t)?Pi(t):t;return e.protocol===$a.protocol&&e.host===$a.host}function Ni(){this.$get=g(t)}function Ri(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,o,a,s,u,l=n.cookie||"";if(l!==r)for(r=l,t=r.split("; "),i={},a=0;a<t.length;a++)o=t[a],s=o.indexOf("="),s>0&&(u=e(o.substring(0,s)),v(i[u])&&(i[u]=e(o.substring(s+1))));return i}}function Ui(){this.$get=Ri}function Ki(t){function e(r,o){if(_(r)){var a={};return i(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Hi),e("date",or),e("filter",Wi),e("json",ar),e("limitTo",sr),e("lowercase",Oa),e("number",zi),e("orderBy",lr),e("uppercase",Pa)}function Wi(){return function(t,i,r,o){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=ji(i);switch(u){case"function":a=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Vi(i,r,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function Vi(t,e,n,i){var r,o=_(t)&&n in t;return e===!0?e=W:T(e)||(e=function(t,e){return v(t)?!1:null===t||null===e?t===e:_(e)||_(t)&&!m(t)?!1:(t=Or(""+t),e=Or(""+e),-1!==t.indexOf(e))}),r=function(r){return o&&!_(r)?Bi(r,t[n],e,n,!1):Bi(r,t,e,n,i)}}function Bi(t,e,n,i,r,o){var a=ji(t),s=ji(e);if("string"===s&&"!"===e.charAt(0))return!Bi(t,e.substring(1),n,i,r);if(Yr(t))return t.some(function(t){return Bi(t,e,n,i,r)});switch(a){case"object":var u;if(r){for(u in t)if("$"!==u.charAt(0)&&Bi(t[u],e,n,i,!0))return!0;return o?!1:Bi(t,e,n,i,!1)}if("object"===s){for(u in e){var l=e[u];if(!T(l)&&!v(l)){var c=u===i,h=c?t:t[u];if(!Bi(h,l,n,i,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function ji(t){return null===t?"null":typeof t}function Hi(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Gi(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function zi(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Gi(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Fi(t){var e,n,i,r,o,a=0;for((n=t.indexOf(Aa))>-1&&(t=t.replace(Aa,"")),(i=t.search(/e/i))>0?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)==Ma;i++);if(i==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==Ma;)o--;for(n-=i,e=[],r=0;o>=i;i++,r++)e[r]=+t.charAt(i)}return n>Ca&&(e=e.splice(0,Ca-1),a=n-1,n=1),{d:e,e:a,i:n}}function qi(t,e,n,i){var r=t.d,o=r.length-t.i;e=v(e)?Math.min(Math.max(n,o),i):+e;var a=e+t.i,s=r[a];if(a>0){r.splice(Math.max(t.i,a));for(var u=a;u<r.length;u++)r[u]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,a=e+1),r[0]=0;for(var l=1;a>l;l++)r[l]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[a-1]++;for(;o<Math.max(0,e);o++)r.push(0);var h=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.i++)}function Gi(t,e,n,i,r){if(!x(t)&&!w(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",l="";if(a)l="";else{o=Fi(u),qi(o,r,e.minFrac,e.maxFrac);var c=o.d,h=o.i,p=o.e,d=[];for(s=c.reduce(function(t,e){return t&&!e},!0);0>h;)c.unshift(0),h++;h>0?d=c.splice(h,c.length):(d=c,c=[0]);var f=[];for(c.length>=e.lgSize&&f.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)f.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&f.unshift(c.join("")),l=f.join(n),d.length&&(l+=i+d.join("")),p&&(l+="e+"+p)}return 0>t&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function Yi(t,e,n,i){var r="";for((0>t||i&&0>=t)&&(i?t=-t+1:(t=-t,r="-")),t=""+t;t.length<e;)t=Ma+t;return n&&(t=t.substr(t.length-e)),r+t}function Zi(t,e,n,i,r){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Yi(a,e,i,r)}}function Xi(t,e,n){return function(i,r){var o=i["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),s=Pr(a+t);return r[s][o]}}function Ji(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=Yi(Math[i>0?"floor":"ceil"](i/60),2)+Yi(Math.abs(i%60),2)}function Qi(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function tr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function er(t){return function(e){var n=Qi(e.getFullYear()),i=tr(e),r=+i-+n,o=1+Math.round(r/6048e5);return Yi(o,t)}}function nr(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ir(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function rr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function or(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,a=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=h(e[9]+e[10]),o=h(e[9]+e[11])),a.call(i,h(e[1]),h(e[2])-1,h(e[3]));var u=h(e[4]||0)-r,l=h(e[5]||0)-o,c=h(e[6]||0),p=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,u,l,c,p),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,u="",l=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,x(n)&&(n=Ea.test(n)?h(n):e(n)),w(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;r;)s=Da.exec(r),s?(l=V(l,s,1),r=l.pop()):(l.push(r),r=null);var c=n.getTimezoneOffset();return o&&(c=q(o,c),n=Y(n,o,!0)),i(l,function(e){a=Ia[e],u+=a?a(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function ar(){return function(t,e){return v(e)&&(e=2),z(t,e)}}function sr(){return function(t,e,i){return e=1/0===Math.abs(Number(e))?Number(e):h(e),isNaN(e)?t:(w(t)&&(t=t.toString()),n(t)?(i=!i||isNaN(i)?0:h(i),i=0>i?Math.max(0,t.length+i):i,e>=0?ur(t,i,i+e):0===i?ur(t,e,t.length):ur(t,Math.max(0,i+e),i)):t)}}function ur(t,e,n){return x(t)?t.slice(e,n):Vr.call(t,e,n)}function lr(t){function i(e){return e.map(function(e){var n=1,i=f;if(T(e))i=e;else if(x(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var r=i();i=function(t){return t[r]}}return{get:i,descending:n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return T(t.valueOf)&&(t=t.valueOf(),r(t))?t:m(t)&&(t=t.toString(),r(t))?t:t}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,i=t.type,r=e.type;if(i===r){var o=t.value,a=e.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(_(o)&&(o=t.index),_(a)&&(a=e.index)),o!==a&&(n=a>o?-1:1)}else n=r>i?-1:1;return n}return function(t,r,o,u){function l(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:h.map(function(n){return a(n.get(t),e)})}}function c(t,e){for(var n=0,i=h.length;i>n;n++){var r=d(t.predicateValues[n],e.predicateValues[n]);if(r)return r*h[n].descending*p}return d(t.tieBreaker,e.tieBreaker)*p}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);Yr(r)||(r=[r]),0===r.length&&(r=["+"]);var h=i(r),p=o?-1:1,d=T(u)?u:s,f=Array.prototype.map.call(t,l);return f.sort(c),t=f.map(function(t){return t.value})}}function cr(t){return T(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function hr(t,e){t.$name=e}function pr(t,e,n,r,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(e.name||e.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Ra,a.$rollbackViewValue=function(){i(s,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){i(s,function(t){t.$commitViewValue()})},a.$addControl=function(t){he(t.$name,"input"),s.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],i(a.$pending,function(e,n){a.$setValidity(n,null,t)}),i(a.$error,function(e,n){a.$setValidity(n,null,t)}),i(a.$$success,function(e,n){a.$setValidity(n,null,t)}),U(s,t),t.$$parentForm=Ra},Cr({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(U(i,n),0===i.length&&delete t[e])},$animate:r}),a.$setDirty=function(){r.removeClass(t,xs),r.addClass(t,ws),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(t,xs,ws+" "+Ua),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,i(s,function(t){t.$setPristine()})},a.$setUntouched=function(){i(s,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,Ua),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function dr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function fr(t,e,n,i,r,o){gr(t,e,n,i,r,o),dr(i)}function gr(t,e,n,i,r,o){var a=Or(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,l()})}var u,l=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var r=e.val(),l=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=Xr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,l)}};if(r.hasEvent("input"))e.on("input",l);else{var c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),Ja[a]&&i.$$hasNativeValidators&&a===n.type&&e.on(Xa,function(t){if(!u){var e=this[Dr],n=e.badInput,i=e.typeMismatch;u=o.defer(function(){u=null,(e.badInput!==n||e.typeMismatch!==i)&&l(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function mr(t,e){if(k(t))return t;if(x(t)){Ga.lastIndex=0;var n=Ga.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,u=0,l=Qi(i),c=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(i,0,l.getDate()+c,o,a,s,u)}}return 0/0}function vr(t,e){return function(n,r){var o,a;if(k(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ba.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function yr(t,e,n,i){return function(r,o,a,s,u,l,c){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return y(t)&&!k(t)?n(t)||void 0:t}_r(r,o,a,s),gr(r,o,a,s,u,l);var d,f=s&&s.$options&&s.$options.timezone;if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var i=n(t,d);return f&&(i=Y(i,f)),i}return void 0}),s.$formatters.push(function(t){if(t&&!k(t))throw As("datefmt","Expected `{0}` to be a date",t);return h(t)?(d=t,d&&f&&(d=Y(d,f,!0)),c("date")(t,i,f)):(d=null,"")}),y(a.min)||a.ngMin){var g;s.$validators.min=function(t){return!h(t)||v(g)||n(t)>=g
},a.$observe("min",function(t){g=p(t),s.$validate()})}if(y(a.max)||a.ngMax){var m;s.$validators.max=function(t){return!h(t)||v(m)||n(t)<=m},a.$observe("max",function(t){m=p(t),s.$validate()})}}}function _r(t,e,n,i){var r=e[0],o=i.$$hasNativeValidators=_(r.validity);o&&i.$parsers.push(function(t){var n=e.prop(Dr)||{};return n.badInput||n.typeMismatch?void 0:t})}function br(t,e,n,i,r,o){if(_r(t,e,n,i),gr(t,e,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:za.test(t)?parseFloat(t):void 0}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!w(t))throw As("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(n.min)||n.ngMin){var a;i.$validators.min=function(t){return i.$isEmpty(t)||v(a)||t>=a},n.$observe("min",function(t){y(t)&&!w(t)&&(t=parseFloat(t)),a=w(t)&&!isNaN(t)?t:void 0,i.$validate()})}if(y(n.max)||n.ngMax){var s;i.$validators.max=function(t){return i.$isEmpty(t)||v(s)||s>=t},n.$observe("max",function(t){y(t)&&!w(t)&&(t=parseFloat(t)),s=w(t)&&!isNaN(t)?t:void 0,i.$validate()})}}function xr(t,e,n,i,r,o){gr(t,e,n,i,r,o),dr(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||ja.test(n)}}function wr(t,e,n,i,r,o){gr(t,e,n,i,r,o),dr(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Ha.test(n)}}function kr(t,e,n,i){v(n.name)&&e.attr("name",a());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function Tr(t,e,n,i,r){var o;if(y(i)){if(o=t(i),!o.constant)throw As("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function Sr(t,e,n,i,r,o,a,s){var u=Tr(s,t,"ngTrueValue",n.ngTrueValue,!0),l=Tr(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return W(t,u)}),i.$parsers.push(function(t){return t?u:l})}function $r(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function o(t){var e=[];return Yr(t)?(i(t,function(t){e=e.concat(o(t))}),e):x(t)?t.split(" "):_(t)?(i(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,u){function l(t){var e=h(t,1);u.$addClass(e)}function c(t){var e=h(t,-1);u.$removeClass(e)}function h(t,e){var n=s.data("$classCounts")||fe(),r=[];return i(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function p(t,e){var i=r(e,t),o=r(t,e);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function d(t){if(e===!0||(1&a.$index)===e){var n=o(t||[]);if(f){if(!W(t,f)){var i=o(f);p(i,n)}}else l(n)}f=Yr(t)?t.map(function(t){return me(t)}):me(t)}var f;a.$watch(u[t],d,!0),u.$observe("class",function(){d(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var s=o(a.$eval(u[t]));r===e?l(s):c(s)}})}}}]}function Cr(t){function e(t,e,s){v(e)?n("$pending",t,s):i("$pending",t,s),D(e)?e?(c(a.$error,t,s),l(a.$$success,t,s)):(l(a.$error,t,s),c(a.$$success,t,s)):(c(a.$error,t,s),c(a.$$success,t,s)),a.$pending?(r(Ss,!0),a.$valid=a.$invalid=void 0,o("",null)):(r(Ss,!1),a.$valid=Ar(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var u;u=a.$pending&&a.$pending[t]?void 0:a.$error[t]?!1:a.$$success[t]?!0:null,o(t,u),a.$$parentForm.$setValidity(t,u,a)}function n(t,e,n){a[t]||(a[t]={}),l(a[t],e,n)}function i(t,e,n){a[t]&&c(a[t],e,n),Ar(a[t])&&(a[t]=void 0)}function r(t,e){e&&!u[t]?(h.addClass(s,t),u[t]=!0):!e&&u[t]&&(h.removeClass(s,t),u[t]=!1)}function o(t,e){t=t?"-"+se(t,"-"):"",r(_s+t,e===!0),r(bs+t,e===!1)}var a=t.ctrl,s=t.$element,u={},l=t.set,c=t.unset,h=t.$animate;u[bs]=!(u[_s]=s.hasClass(_s)),a.$setValidity=e}function Ar(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Mr(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var Ir=/^\/(.+)\/([a-z]*)$/,Dr="validity",Er=Object.prototype.hasOwnProperty,Or=function(t){return x(t)?t.toLowerCase():t},Pr=function(t){return x(t)?t.toUpperCase():t},Lr=function(t){return x(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Nr=function(t){return x(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Or=Lr,Pr=Nr);var Rr,Ur,Kr,Wr,Vr=[].slice,Br=[].splice,jr=[].push,Hr=Object.prototype.toString,zr=Object.getPrototypeOf,Fr=e("ng"),qr=t.angular||(t.angular={}),Gr=0;Rr=t.document.documentMode,d.$inject=[],f.$inject=[];var Yr=Array.isArray,Zr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Xr=function(t){return x(t)?t.trim():t},Jr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Qr=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!y(Qr.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Qr.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else Qr.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Qr.rules},to=function(){if(y(to.name_))return to.name_;var e,n,i,r,o=no.length;for(n=0;o>n;++n)if(i=no[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return to.name_=r},eo=/:/g,no=["ng-","data-ng-","ng:","x-ng-"],io=/[A-Z]/g,ro=!1,oo=1,ao=2,so=3,uo=8,lo=9,co=11,ho={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};Me.expando="ng339";var po=Me.cache={},fo=1,go=function(t,e,n){t.addEventListener(e,n,!1)},mo=function(t,e,n){t.removeEventListener(e,n,!1)};Me._data=function(t){return this.cache[t[this.expando]]||{}};var vo=/([\:\-\_]+(.))/g,yo=/^moz([A-Z])/,_o={mouseleave:"mouseout",mouseenter:"mouseover"},bo=e("jqLite"),xo=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,wo=/<|&#?\w+;/,ko=/<([\w:-]+)/,To=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,So={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};So.optgroup=So.option,So.tbody=So.tfoot=So.colgroup=So.caption=So.thead,So.th=So.td;var $o=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Co=Me.prototype={ready:function(e){function n(){i||(i=!0,e())}var i=!1;"complete"===t.document.readyState?t.setTimeout(n):(this.on("DOMContentLoaded",n),Me(t).on("load",n))},toString:function(){var t=[];return i(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Ur(t>=0?this[t]:this[this.length+t])},length:0,push:jr,sort:[].sort,splice:[].splice},Ao={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Ao[Or(t)]=t});var Mo={};i("input,select,option,textarea,button,form,details".split(","),function(t){Mo[t]=!0});var Io={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:Le,removeData:Oe,hasData:Te,cleanData:Se},function(t,e){Me[e]=t}),i({data:Le,inheritedData:Ve,scope:function(t){return Ur.data(t,"$scope")||Ve(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Ur.data(t,"$isolateScope")||Ur.data(t,"$isolateScopeNoTemplate")},controller:We,injector:function(t){return Ve(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ne,css:function(t,e,n){return e=xe(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i=t.nodeType;if(i!==so&&i!==ao&&i!==uo){var r=Or(e);if(Ao[r]){if(!y(n))return t[e]||(t.attributes.getNamedItem(e)||d).specified?r:void 0;n?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(y(n))t.setAttribute(e,n);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?void 0:o}}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===oo||n===so?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===R(t)){var n=[];return i(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return v(e)?t.innerHTML:(De(t,!0),void(t.innerHTML=e))},empty:Be},function(t,e){Me.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Be&&v(2==t.length&&t!==Ne&&t!==We?e:n)){if(_(e)){for(i=0;o>i;i++)if(t===Le)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var a=t.$dv,s=v(a)?Math.min(o,1):o,u=0;s>u;u++){var l=t(this[u],e,n);a=a?a+l:l}return a}for(i=0;o>i;i++)t(this[i],e,n);return this}}),i({removeData:Oe,on:function(t,e,n,i){if(y(i))throw bo("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ke(t)){var r=Pe(t,!0),o=r.events,a=r.handle;a||(a=r.handle=qe(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,l=function(e,i,r){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=i,"$destroy"===e||r||go(t,e,a)),s.push(n)};u--;)e=s[u],_o[e]?(l(_o[e],Ye),l(e,void 0,!0)):l(e)}},off:Ee,one:function(t,e,n){t=Ur(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;De(t),i(new Me(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return i(t.childNodes,function(t){t.nodeType===oo&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===oo||n===co){e=new Me(e);for(var i=0,r=e.length;r>i;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===oo){var n=t.firstChild;i(new Me(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Ae(t,Ur(e).eq(0).clone()[0])},remove:je,detach:function(t){je(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new Me(e);for(var r=0,o=e.length;o>r;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Ue,removeClass:Re,toggleClass:function(t,e,n){e&&i(e.split(" "),function(e){var i=n;v(i)&&(i=!Ne(t,e)),(i?Ue:Re)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==co?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Ie,triggerHandler:function(t,e,n){var r,o,a,s=e.type||e,u=Pe(t),c=u&&u.events,h=c&&c[s];h&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:d,type:s,target:t},e.type&&(r=l(r,e)),o=me(h),a=n?[r].concat(n):[r],i(o,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Me.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;a>o;o++)v(r)?(r=t(this[o],e,n,i),y(r)&&(r=Ur(r))):Ke(r,t(this[o],e,n,i));return y(r)?r:this},Me.prototype.bind=Me.prototype.on,Me.prototype.unbind=Me.prototype.off}),Je.prototype={put:function(t,e){this[Xe(t,this.nextUid)]=e},get:function(t){return this[Xe(t,this.nextUid)]},remove:function(t){var e=this[t=Xe(t,this.nextUid)];return delete this[t],e}};var Do=[function(){this.$get=[function(){return Je}]}],Eo=/^([^\(]+?)=>/,Oo=/^[^\(]*\(\s*([^\)]*)\)/m,Po=/,/,Lo=/^\s*(_?)(\S+?)\1\s*$/,No=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ro=e("$injector");rn.$$annotate=nn;var Uo=e("$animate"),Ko=1,Wo="ng-animate",Vo=function(){this.$get=d},Bo=function(){var t=new Je,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(t,e,n){var r=!1;return e&&(e=x(e)?e.split(" "):Yr(e)?e:[],i(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){i(e,function(e){var n=t.get(e);if(n){var r=un(e.attr("class")),o="",a="";i(n,function(t,e){var n=!!r[e];t!==n&&(t?o+=(o.length?" ":"")+e:a+=(a.length?" ":"")+e)}),i(e,function(t){o&&Ue(t,o),a&&Re(t,a)}),t.remove(e)}}),e.length=0}function s(n,i,s){var u=t.get(n)||{},l=o(u,i,!0),c=o(u,s,!1);(l||c)&&(t.put(n,u),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:d,on:d,off:d,pin:d,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&s(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},jo=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Uo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Wo+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Uo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Wo)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=sn(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&Ur(i),r=r&&Ur(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",ln(o))},move:function(n,i,r,o){return i=i&&Ur(i),r=r&&Ur(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",ln(o))},leave:function(e,n){return t.push(e,"leave",ln(n),function(){e.remove()})},addClass:function(e,n,i){return i=ln(i),i.addClass=an(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=ln(i),i.removeClass=an(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=ln(r),r.addClass=an(r.addClass,n),r.removeClass=an(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=ln(o),o.from=o.from?l(o.from,n):n,o.to=o.to?l(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=an(o.tempClasses,r),t.push(e,"animate",o)}}}]}],Ho=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},zo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,r,o){function a(t){this.setHost(t);var e=n(),i=function(t){o(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=r[0];n&&n.hidden?i(t):e(t)},this._state=0}var s=0,u=1,l=2;return a.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},a.all=function(t,e){function n(n){o=o&&n,++r===t.length&&e(o)}var r=0,o=!0;i(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===l?t():this._doneCallbacks.push(t)},progress:d,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==l&&(i(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=l)}},a}]},Fo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=K(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:r,end:r}}}]},qo=e("$compile"),Go=new fn;gn.$inject=["$provide","$$sanitizeUriProvider"],mn.prototype.isFirstChange=function(){return this.previousValue===Go};var Yo=/^((?:x|data)[\:\-_])/i,Zo=e("$controller"),Xo=/^(\S+)(\s+as\s+([\w$]+))?$/,Jo=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Ur&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Qo="application/json",ta={"Content-Type":Qo+";charset=utf-8"},ea=/^\[|^\{(?!\{)/,na={"[":/]$/,"{":/}$/},ia=/^\)\]\}',?\n/,ra=e("$http"),oa=function(t){return function(){throw ra("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},aa=qr.$interpolateMinErr=e("$interpolate");aa.throwNoconcat=function(t){throw aa("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},aa.interr=function(t,e){return aa("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var sa=function(){this.$get=["$window",function(t){function e(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var n=t.angular.callbacks,i={};return{createCallback:function(){var t="_"+(n.$$counter++).toString(36),r="angular.callbacks."+t,o=e(t);return i[r]=n[t]=o,r},wasCalled:function(t){return i[t].called},getResponse:function(t){return i[t].data},removeCallback:function(t){var e=i[t];delete n[e.id],delete i[t]}}}]},ua=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,la={http:80,https:443,ftp:21},ca=e("$location"),ha={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Xn("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=ua.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Xn("$$protocol"),host:Xn("$$host"),port:Xn("$$port"),path:Jn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||w(t))t=t.toString(),this.$$search=J(t);else{if(!_(t))throw ca("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=K(t,{}),i(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Jn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Zn,Yn,Gn],function(t){t.prototype=Object.create(ha),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Gn||!this.$$html5)throw ca("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(e)?null:e,this}});var pa=e("$parse"),da=Function.prototype.call,fa=Function.prototype.apply,ga=Function.prototype.bind,ma=fe();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){ma[t]=!0});var va={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},ya=function(t){this.options=t};ya.prototype={constructor:ya,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=ma[e],o=ma[n],a=ma[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&56319>=n&&i>=56320&&57343>=i?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw pa("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Or(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=va[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var _a=function(t,e){this.lexer=t,this.options=e};_a.Program="Program",_a.ExpressionStatement="ExpressionStatement",_a.AssignmentExpression="AssignmentExpression",_a.ConditionalExpression="ConditionalExpression",_a.LogicalExpression="LogicalExpression",_a.BinaryExpression="BinaryExpression",_a.UnaryExpression="UnaryExpression",_a.CallExpression="CallExpression",_a.MemberExpression="MemberExpression",_a.Identifier="Identifier",_a.Literal="Literal",_a.ArrayExpression="ArrayExpression",_a.Property="Property",_a.ObjectExpression="ObjectExpression",_a.ThisExpression="ThisExpression",_a.LocalsExpression="LocalsExpression",_a.NGValueParameter="NGValueParameter",_a.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:_a.Program,body:t}},expressionStatement:function(){return{type:_a.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:_a.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:_a.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:_a.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:_a.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:_a.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:_a.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:_a.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:_a.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:_a.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=K(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:_a.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:_a.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:_a.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:_a.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:_a.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:_a.Identifier,name:t.text}},constant:function(){return{type:_a.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_a.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:_a.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:_a.ObjectExpression,properties:e}},throwError:function(t,e){throw pa("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw pa("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw pa("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return r?(this.tokens.shift(),r):!1},selfReferential:{"this":{type:_a.ThisExpression},$locals:{type:_a.LocalsExpression}}},gi.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},li(r,n.$filter);var o,a="";if(this.stage="assign",o=pi(r)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var u=ci(r.body);n.stage="inputs",i(u,function(t,e){var i="fn"+e;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(t,r),n.return_(r),n.state.inputs.push(i),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,ei,ii,ri,ni,oi,ai,si,t);return this.state=this.stage=void 0,c.literal=di(r),c.constant=fi(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return i(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return i(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,o,a){var s,u,l,c,h,p=this;if(r=r||d,!a&&y(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,o,!0));switch(t.type){case _a.Program:i(t.body,function(e,n){p.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?p.current().body.push(u,";"):p.return_(u)});break;case _a.Literal:c=this.escape(t.value),this.assign(e,c),r(c);break;case _a.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),c=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,c),r(c);break;case _a.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),c="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,c),r(c);break;case _a.LogicalExpression:e=e||this.nextId(),p.recurse(t.left,e),p.if_("&&"===t.operator?e:p.not(e),p.lazyRecurse(t.right,e)),r(e);break;case _a.ConditionalExpression:e=e||this.nextId(),p.recurse(t.test,e),p.if_(e,p.lazyRecurse(t.alternate,e),p.lazyRecurse(t.consequent,e)),r(e);break;case _a.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),ei(t.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",t.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",t.name)),p.lazyAssign(p.nonComputedMember("s",t.name),"{}")),p.assign(e,p.nonComputedMember("s",t.name))
})},e&&p.lazyAssign(e,p.nonComputedMember("l",t.name))),(p.state.expensiveChecks||vi(t.name))&&p.addEnsureSafeObject(e),r(e);break;case _a.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(t.object,s,void 0,function(){p.if_(p.notNull(s),function(){o&&1!==o&&p.addEnsureSafeAssignContext(s),t.computed?(u=p.nextId(),p.recurse(t.property,u),p.getStringValue(u),p.addEnsureSafeMemberName(u),o&&1!==o&&p.if_(p.not(p.computedMember(s,u)),p.lazyAssign(p.computedMember(s,u),"{}")),c=p.ensureSafeObject(p.computedMember(s,u)),p.assign(e,c),n&&(n.computed=!0,n.name=u)):(ei(t.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(s,t.property.name)),p.lazyAssign(p.nonComputedMember(s,t.property.name),"{}")),c=p.nonComputedMember(s,t.property.name),(p.state.expensiveChecks||vi(t.property.name))&&(c=p.ensureSafeObject(c)),p.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){p.assign(e,"undefined")}),r(e)},!!o);break;case _a.CallExpression:e=e||this.nextId(),t.filter?(u=p.filter(t.callee.name),l=[],i(t.arguments,function(t){var e=p.nextId();p.recurse(t,e),l.push(e)}),c=u+"("+l.join(",")+")",p.assign(e,c),r(e)):(u=p.nextId(),s={},l=[],p.recurse(t.callee,u,s,function(){p.if_(p.notNull(u),function(){p.addEnsureSafeFunction(u),i(t.arguments,function(t){p.recurse(t,p.nextId(),void 0,function(t){l.push(p.ensureSafeObject(t))})}),s.name?(p.state.expensiveChecks||p.addEnsureSafeObject(s.context),c=p.member(s.context,s.name,s.computed)+"("+l.join(",")+")"):c=u+"("+l.join(",")+")",c=p.ensureSafeObject(c),p.assign(e,c)},function(){p.assign(e,"undefined")}),r(e)}));break;case _a.AssignmentExpression:if(u=this.nextId(),s={},!hi(t.left))throw pa("lval","Trying to assign a value to a non l-value");this.recurse(t.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(t.right,u),p.addEnsureSafeObject(p.member(s.context,s.name,s.computed)),p.addEnsureSafeAssignContext(s.context),c=p.member(s.context,s.name,s.computed)+t.operator+u,p.assign(e,c),r(e||c)})},1);break;case _a.ArrayExpression:l=[],i(t.elements,function(t){p.recurse(t,p.nextId(),void 0,function(t){l.push(t)})}),c="["+l.join(",")+"]",this.assign(e,c),r(c);break;case _a.ObjectExpression:l=[],h=!1,i(t.properties,function(t){t.computed&&(h=!0)}),h?(e=e||this.nextId(),this.assign(e,"{}"),i(t.properties,function(t){t.computed?(s=p.nextId(),p.recurse(t.key,s)):s=t.key.type===_a.Identifier?t.key.name:""+t.key.value,u=p.nextId(),p.recurse(t.value,u),p.assign(p.member(e,s,t.computed),u)})):(i(t.properties,function(e){p.recurse(e.value,t.constant?void 0:p.nextId(),void 0,function(t){l.push(p.escape(e.key.type===_a.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+l.join(",")+"}",this.assign(e,c)),r(e||c);break;case _a.ThisExpression:this.assign(e,"s"),r("s");break;case _a.LocalsExpression:this.assign(e,"l"),r("l");break;case _a.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,i=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw pa("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},mi.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,li(r,n.$filter);var o,a;(o=pi(r))&&(a=this.recurse(o));var s,u=ci(r.body);u&&(s=[],i(u,function(t,e){var i=n.recurse(t);t.input=i,s.push(i),t.watchId=e}));var l=[];i(r.body,function(t){l.push(n.recurse(t.expression))});var c=0===r.body.length?d:1===r.body.length?l[0]:function(t,e){var n;return i(l,function(i){n=i(t,e)}),n};return a&&(c.assign=function(t,e,n){return a(t,n,e)}),s&&(c.inputs=s),c.literal=di(r),c.constant=fi(r),c},recurse:function(t,e,n){var r,o,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case _a.Literal:return this.value(t.value,e);case _a.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case _a.BinaryExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case _a.LogicalExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case _a.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case _a.Identifier:return ei(t.name,s.expression),s.identifier(t.name,s.expensiveChecks||vi(t.name),e,n,s.expression);case _a.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(ei(t.property.name,s.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(r,o,e,n,s.expression):this.nonComputedMember(r,o,s.expensiveChecks,e,n,s.expression);case _a.CallExpression:return a=[],i(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,i,r){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,i,r));var l=o.apply(void 0,s,r);return e?{context:void 0,name:void 0,value:l}:l}:function(t,n,i,r){var u,l=o(t,n,i,r);if(null!=l.value){ii(l.context,s.expression),ri(l.value,s.expression);for(var c=[],h=0;h<a.length;++h)c.push(ii(a[h](t,n,i,r),s.expression));u=ii(l.value.apply(l.context,c),s.expression)}return e?{value:u}:u};case _a.AssignmentExpression:return r=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,i,a){var u=r(t,n,i,a),l=o(t,n,i,a);return ii(u.value,s.expression),oi(u.context),u.context[u.name]=l,e?{value:l}:l};case _a.ArrayExpression:return a=[],i(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case _a.ObjectExpression:return a=[],i(t.properties,function(t){a.push(t.computed?{key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}:{key:t.key.type===_a.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,i,r)]=a[s].value(t,n,i,r):o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case _a.ThisExpression:return function(t){return e?{value:t}:t};case _a.LocalsExpression:return function(t,n){return e?{value:n}:n};case _a.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,r,o){var a=!t(n,i,r,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),u=e(i,r,o,a),l=si(s,u);return n?{value:l}:l}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),u=e(i,r,o,a),l=(y(s)?s:0)-(y(u)?u:0);return n?{value:l}:l}},"binary*":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)*e(i,r,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)/e(i,r,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)%e(i,r,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)===e(i,r,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!==e(i,r,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)==e(i,r,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!=e(i,r,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<e(i,r,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>e(i,r,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<=e(i,r,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>=e(i,r,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)&&e(i,r,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)||e(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){var u=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s);return i?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n,i,r){return function(o,a){var s=a&&t in a?a:o;i&&1!==i&&s&&!s[t]&&(s[t]={});var u=s?s[t]:void 0;return e&&ii(u,r),n?{context:s,name:t,value:u}:u}},computedMember:function(t,e,n,i,r){return function(o,a,s,u){var l,c,h=t(o,a,s,u);return null!=h&&(l=e(o,a,s,u),l=ni(l),ei(l,r),i&&1!==i&&(oi(h),h&&!h[l]&&(h[l]={})),c=h[l],ii(c,r)),n?{context:h,name:l,value:c}:c}},nonComputedMember:function(t,e,n,i,r,o){return function(a,s,u,l){var c=t(a,s,u,l);r&&1!==r&&(oi(c),c&&!c[e]&&(c[e]={}));var h=null!=c?c[e]:void 0;return(n||vi(e))&&ii(h,o),i?{context:c,name:e,value:h}:h}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var ba=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new _a(t,n),this.astCompiler=n.csp?new mi(this.ast,e):new gi(this.ast,e)};ba.prototype={constructor:ba,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var xa=Object.prototype.valueOf,wa=e("$sce"),ka={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ta=e("$compile"),Sa=t.document.createElement("a"),$a=Pi(t.location.href);Ri.$inject=["$document"],Ki.$inject=["$provide"];var Ca=22,Aa=".",Ma="0";Hi.$inject=["$locale"],zi.$inject=["$locale"];var Ia={yyyy:Zi("FullYear",4,0,!1,!0),yy:Zi("FullYear",2,0,!0,!0),y:Zi("FullYear",1,0,!1,!0),MMMM:Xi("Month"),MMM:Xi("Month",!0),MM:Zi("Month",2,1),M:Zi("Month",1,1),LLLL:Xi("Month",!1,!0),dd:Zi("Date",2),d:Zi("Date",1),HH:Zi("Hours",2),H:Zi("Hours",1),hh:Zi("Hours",2,-12),h:Zi("Hours",1,-12),mm:Zi("Minutes",2),m:Zi("Minutes",1),ss:Zi("Seconds",2),s:Zi("Seconds",1),sss:Zi("Milliseconds",3),EEEE:Xi("Day"),EEE:Xi("Day",!0),a:nr,Z:Ji,ww:er(2),w:er(1),G:ir,GG:ir,GGG:ir,GGGG:rr},Da=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ea=/^\-?\d+$/;or.$inject=["$locale"];var Oa=g(Or),Pa=g(Pr);lr.$inject=["$parse"];var La=g({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Hr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Na={};i(Ao,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=vn("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),Na[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(Io,function(t,e){Na[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ir);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),i(["src","srcset","href"],function(t){var e=vn("ng-"+t);Na[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Hr.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(a,e),void(Rr&&o&&i.prop(o,r[a]))):void("href"===t&&r.$set(a,null))})}}}});var Ra={$addControl:d,$$renameControl:hr,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d},Ua="ng-submitted";pr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ka=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||d}var r={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:pr,compile:function(n,r){n.addClass(xs).addClass(_s);var o=r.name?"name":t&&r.ngForm?"ngForm":!1;return{pre:function(t,n,r,a){var s=a[0];if(!("action"in r)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};go(n[0],"submit",u),n.on("$destroy",function(){e(function(){mo(n[0],"submit",u)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var h=o?i(s.$name):d;o&&(h(t,s),r.$observe(o,function(e){s.$name!==e&&(h(t,void 0),s.$$parentForm.$$renameControl(s,e),(h=i(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),h(t,void 0),l(s,Ra)})}}}};return r}]},Wa=Ka(),Va=Ka(!0),Ba=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ja=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ha=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,za=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Fa=/^(\d{4,})-(\d{2})-(\d{2})$/,qa=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ga=/^(\d{4,})-W(\d\d)$/,Ya=/^(\d{4,})-(\d\d)$/,Za=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Xa="keydown wheel mousedown",Ja=fe();i("date,datetime-local,month,time,week".split(","),function(t){Ja[t]=!0});var Qa={text:fr,date:yr("date",Fa,vr(Fa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":yr("datetimelocal",qa,vr(qa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:yr("time",Za,vr(Za,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:yr("week",Ga,mr,"yyyy-Www"),month:yr("month",Ya,vr(Ya,["yyyy","MM"]),"yyyy-MM"),number:br,url:xr,email:wr,radio:kr,checkbox:Sr,hidden:d,button:d,submit:d,reset:d,file:d},ts=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Qa[Or(a.type)]||Qa.text)(r,o,a,s[0],e,t,n,i)}}}}],es=/^(true|false|\d+)$/,ns=function(){return{restrict:"A",priority:100,compile:function(t,e){return es.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},is=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=v(t)?"":t})}}}}],rs=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=v(t)?"":t})}}}}],os=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],as=g({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),ss=$r("",!0),us=$r("Odd",0),ls=$r("Even",1),cs=cr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),hs=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ps={},ds={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=vn("ng-"+t);ps[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};ds[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var fs=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,u,l;n.$watch(r.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),s={clone:n},t.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=de(s.clone),t.leave(l).then(function(){l=null}),s=null))})}}}],gs=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:qr.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,u,l,c){var h,p,d,f=0,g=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){p=null}),p=d,d=null)};i.$watch(o,function(o){var u=function(){!y(s)||s&&!i.$eval(s)||e()},p=++f;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&p===f){var e=i.$new();l.template=t;var s=c(e,function(t){g(),n.enter(t,null,r).then(u)});h=e,d=s,h.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||p===f&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),l.template=null)})}}}}],ms=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return Hr.call(i[0]).match(/SVG/)?(i.empty(),void e($e(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void e(i.contents())(n))}}}],vs=cr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),ys=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var o=e.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Xr(o):o,u=function(t){if(!v(t)){var e=[];return t&&i(t.split(s),function(t){t&&e.push(a?Xr(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){return Yr(t)?t.join(o):void 0}),r.$isEmpty=function(t){return!t||!t.length}}}},_s="ng-valid",bs="ng-invalid",xs="ng-pristine",ws="ng-dirty",ks="ng-untouched",Ts="ng-touched",Ss="ng-pending",$s="ng-empty",Cs="ng-not-empty",As=e("ngModel"),Ms=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,r,o,a,s,u,l,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(t),this.$$parentForm=Ra;var h,p=o(n.ngModel),f=p.assign,g=p,m=f,_=null,b=this;this.$$setOptions=function(t){if(b.$options=t,t&&t.getterSetter){var e=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");g=function(t){var n=p(t);return T(n)&&(n=e(t)),n},m=function(t,e){T(p(t))?i(t,{$$$p:e}):f(t,e)}}else if(!p.assign)throw As("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,Z(r))},this.$render=d,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t},this.$$updateEmptyClasses=function(t){b.$isEmpty(t)?(a.removeClass(r,Cs),a.addClass(r,$s)):(a.removeClass(r,$s),a.addClass(r,Cs))};var x=0;Cr({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,a.removeClass(r,ws),a.addClass(r,xs)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,a.removeClass(r,xs),a.addClass(r,ws),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,a.setClass(r,ks,Ts)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,a.setClass(r,Ts,ks)},this.$rollbackViewValue=function(){s.cancel(_),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!w(b.$modelValue)||!isNaN(b.$modelValue)){var t=b.$$lastCommittedViewValue,e=b.$$rawModelValue,n=b.$valid,i=b.$modelValue,r=b.$options&&b.$options.allowInvalid;b.$$runValidators(e,t,function(t){r||n===t||(b.$modelValue=t?e:void 0,b.$modelValue!==i&&b.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function r(){var t=b.$$parserName||"parse";return v(h)?(s(t,null),!0):(h||(i(b.$validators,function(t,e){s(e,null)}),i(b.$asyncValidators,function(t,e){s(e,null)})),s(t,h),h)}function o(){var n=!0;return i(b.$validators,function(i,r){var o=i(t,e);n=n&&o,s(r,o)}),n?!0:(i(b.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var n=[],r=!0;i(b.$asyncValidators,function(i,o){var a=i(t,e);if(!E(a))throw As("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?l.all(n).then(function(){u(r)},d):u(!0)}function s(t,e){c===x&&b.$setValidity(t,e)}function u(t){c===x&&n(t)}x++;var c=x;return r()&&o()?void a():void u(!1)},this.$commitViewValue=function(){var t=b.$viewValue;s.cancel(_),(b.$$lastCommittedViewValue!==t||""===t&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(t),b.$$lastCommittedViewValue=t,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){b.$modelValue!==o&&b.$$writeModelToScope()}var n=b.$$lastCommittedViewValue,i=n;if(h=v(i)?void 0:!0)for(var r=0;r<b.$parsers.length;r++)if(i=b.$parsers[r](i),v(i)){h=!1;break}w(b.$modelValue)&&isNaN(b.$modelValue)&&(b.$modelValue=g(t));var o=b.$modelValue,a=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=i,a&&(b.$modelValue=i,e()),b.$$runValidators(i,b.$$lastCommittedViewValue,function(t){a||(b.$modelValue=t?i:void 0,e())})},this.$$writeModelToScope=function(){m(t,b.$modelValue),i(b.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){b.$viewValue=t,(!b.$options||b.$options.updateOnDefault)&&b.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=b.$options;r&&y(r.debounce)&&(n=r.debounce,w(n)?i=n:w(n[e])?i=n[e]:w(n["default"])&&(i=n["default"])),s.cancel(_),i?_=s(function(){b.$commitViewValue()},i):u.$$phase?b.$commitViewValue():t.$apply(function(){b.$commitViewValue()})},t.$watch(function(){var e=g(t);if(e!==b.$modelValue&&(b.$modelValue===b.$modelValue||e===e)){b.$modelValue=b.$$rawModelValue=e,h=void 0;for(var n=b.$formatters,i=n.length,r=e;i--;)r=n[i](r);b.$viewValue!==r&&(b.$$updateEmptyClasses(r),b.$viewValue=b.$$lastCommittedViewValue=r,b.$render(),b.$$runValidators(e,r,d))}return e})}],Is=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ms,priority:1,compile:function(e){return e.addClass(xs).addClass(ks).addClass(_s),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Ds=/(\s+|^)default(\s+|$)/,Es=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=K(t.$eval(e.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Xr(this.$options.updateOn.replace(Ds,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Os=cr({terminal:!0,priority:1e3}),Ps=e("ngOptions"),Ls=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ns=["$compile","$document","$parse",function(e,r,o){function a(t,e,i){function r(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function a(t){var e;if(!l&&n(t))e=t;else{e=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i)}return e}var s=t.match(Ls);if(!s)throw Ps("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Z(e));var u=s[5]||s[7],l=s[6],c=/ as /.test(s[0])&&s[1],h=s[9],p=o(s[2]?s[1]:u),d=c&&o(c),f=d||p,g=h&&o(h),m=h?function(t,e){return g(i,e)}:function(t){return Xe(t)},v=function(t,e){return m(t,k(t,e))},y=o(s[2]||s[1]),_=o(s[3]||""),b=o(s[4]||""),x=o(s[8]),w={},k=l?function(t,e){return w[l]=e,w[u]=t,w}:function(t){return w[u]=t,w};return{trackBy:h,getTrackByValue:v,getWatchables:o(x,function(t){var e=[];t=t||[];for(var n=a(t),r=n.length,o=0;r>o;o++){var u=t===n?o:n[o],l=t[u],c=k(l,u),h=m(l,c);if(e.push(h),s[2]||s[1]){var p=y(i,c);e.push(p)}if(s[4]){var d=b(i,c);e.push(d)}}return e}),getOptions:function(){for(var t=[],e={},n=x(i)||[],o=a(n),s=o.length,u=0;s>u;u++){var l=n===o?u:o[u],c=n[l],p=k(c,l),d=f(i,p),g=m(d,p),w=y(i,p),T=_(i,p),S=b(i,p),$=new r(g,d,w,T,S);t.push($),e[g]=$}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return h?qr.copy(t.viewValue):t.viewValue}}}}}function s(t,n,o,s){function c(t,e){var n=u.cloneNode(!1);e.appendChild(n),h(t,n)}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function p(){var t=k&&f.readValue();if(k)for(var e=k.items.length-1;e>=0;e--){var i=k.items[e];je(y(i.group)?i.element.parentNode:i.element)}k=T.getOptions();var r={};if(x&&n.prepend(d),k.items.forEach(function(t){var e;y(t.group)?(e=r[t.group],e||(e=l.cloneNode(!1),S.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),c(t,e)):c(t,S)}),n[0].appendChild(S),g.$render(),!g.$isEmpty(t)){var o=f.readValue(),a=T.trackBy||m;(a?W(t,o):t===o)||(g.$setViewValue(o),g.$render())}}for(var d,f=s[0],g=s[1],m=o.multiple,v=0,_=n.children(),b=_.length;b>v;v++)if(""===_[v].value){d=_.eq(v);break}var x=!!d,w=Ur(u.cloneNode(!1));w.val("?");var k,T=a(o.ngOptions,n,t),S=r[0].createDocumentFragment(),$=function(){x||n.prepend(d),n.val(""),d.prop("selected",!0),d.attr("selected",!0)},C=function(){x||d.remove()},A=function(){n.prepend(w),n.val("?"),w.prop("selected",!0),w.attr("selected",!0)},M=function(){w.remove()};m?(g.$isEmpty=function(t){return!t||0===t.length},f.writeValue=function(t){k.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=k.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},f.readValue=function(){var t=n.val()||[],e=[];return i(t,function(t){var n=k.selectValueMap[t];n&&!n.disabled&&e.push(k.getViewValueFromOption(n))}),e},T.trackBy&&t.$watchCollection(function(){return Yr(g.$viewValue)?g.$viewValue.map(function(t){return T.getTrackByValue(t)}):void 0},function(){g.$render()})):(f.writeValue=function(t){var e=k.getOptionFromViewValue(t);e?(n[0].value!==e.selectValue&&(M(),C(),n[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||x?(M(),$()):(C(),A())},f.readValue=function(){var t=k.selectValueMap[n.val()];return t&&!t.disabled?(C(),M(),k.getViewValueFromOption(t)):null},T.trackBy&&t.$watch(function(){return T.getTrackByValue(g.$viewValue)},function(){g.$render()})),x?(d.remove(),e(d)(t),d.removeClass("ng-scope")):d=Ur(u.cloneNode(!1)),n.empty(),p(),t.$watchCollection(T.getWatchables,p)}var u=t.document.createElement("option"),l=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=d},post:s}}}],Rs=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function l(t){s.text(t||"")}var c,h=u.count,p=u.$attr.when&&s.attr(u.$attr.when),f=u.offset||0,g=a.$eval(p)||{},m={},y=e.startSymbol(),_=e.endSymbol(),b=y+h+"-"+f+_,x=qr.noop;i(u,function(t,e){var n=o.exec(e);if(n){var i=(n[1]?"-":"")+Or(n[2]);g[i]=s.attr(u.$attr[e])}}),i(g,function(t,n){m[n]=e(t.replace(r,b))}),a.$watch(h,function(e){var i=parseFloat(e),r=isNaN(i);if(r||i in g||(i=t.pluralCat(i-f)),i!==c&&!(r&&w(c)&&isNaN(c))){x();var o=m[i];v(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),x=d,l()):x=a.$watch(o,l),c=i}})}}}],Us=["$parse","$animate","$compile",function(t,r,o){var a="$$NG_REMOVED",s=e("ngRepeat"),u=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,h){var p=h.ngRepeat,d=o.$$createComment("end ngRepeat",p),f=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!f)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=f[1],m=f[2],v=f[3],y=f[4];if(f=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!f)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var _=f[3]||f[1],b=f[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var x,w,k,T,S={$id:Xe};return y?x=t(y):(k=function(t,e){return Xe(e)},T=function(t){return t}),function(t,e,o,h,f){x&&(w=function(e,n,i){return b&&(S[b]=e),S[_]=n,S.$index=i,x(t,S)});var g=fe();t.$watchCollection(m,function(o){var h,m,y,x,S,$,C,A,M,I,D,E,O=e[0],P=fe();if(v&&(t[v]=o),n(o))M=o,A=w||k;else{A=w||T,M=[];for(var L in o)Er.call(o,L)&&"$"!==L.charAt(0)&&M.push(L)}for(x=M.length,D=new Array(x),h=0;x>h;h++)if(S=o===M?h:M[h],$=o[S],C=A(S,$,h),g[C])I=g[C],delete g[C],P[C]=I,D[h]=I;
else{if(P[C])throw i(D,function(t){t&&t.scope&&(g[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,C,$);D[h]={id:C,scope:void 0,clone:void 0},P[C]=!0}for(var N in g){if(I=g[N],E=de(I.clone),r.leave(E),E[0].parentNode)for(h=0,m=E.length;m>h;h++)E[h][a]=!0;I.scope.$destroy()}for(h=0;x>h;h++)if(S=o===M?h:M[h],$=o[S],I=D[h],I.scope){y=O;do y=y.nextSibling;while(y&&y[a]);l(I)!=y&&r.move(de(I.clone),null,O),O=c(I),u(I.scope,h,_,$,b,S,x)}else f(function(t,e){I.scope=e;var n=d.cloneNode(!1);t[t.length++]=n,r.enter(t,null,O),O=n,I.clone=t,P[I.id]=I,u(I.scope,h,_,$,b,S,x)});g=P})}}}}],Ks="ng-hide",Ws="ng-hide-animate",Vs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,Ks,{tempClasses:Ws})})}}}],Bs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,Ks,{tempClasses:Ws})})}}}],js=cr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&i(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Hs=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,u=[],l=[],c=[],h=[],p=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,o;for(r=0,o=c.length;o>r;++r)t.cancel(c[r]);for(c.length=0,r=0,o=h.length;o>r;++r){var s=de(l[r].clone);h[r].$destroy();var d=c[r]=t.leave(s);d.then(p(c,r))}l.length=0,h.length=0,(u=a.cases["!"+n]||a.cases["?"])&&i(u,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:i};l.push(a),t.enter(i,o.parent(),o)})})})}}}],zs=cr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Fs=cr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),qs=e("ngTransclude"),Gs=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){function a(t,n){t.length?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}if(!o)throw qs("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var u=i.ngTransclude||i.ngTranscludeSlot;o(a,null,u),u&&!o.isSlotFilled(u)&&s()}}}}],Ys=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Zs={$setViewValue:d,$render:d},Xs=["$element","$scope",function(e,n){var i=this,r=new Je;i.ngModelCtrl=Zs,i.unknownOption=Ur(t.document.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Xe(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=d}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(t,e){if(e[0].nodeType!==uo){he(t,'"option value"'),""===t&&(i.emptyOption=e);var n=r.get(t)||0;r.put(t,n+1),i.ngModelCtrl.$render(),Mr(e)}},i.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.remove(t),""===t&&(i.emptyOption=void 0)):r.put(t,e-1))},i.hasOption=function(t){return!!r.get(t)},i.registerOption=function(t,e,n,r,o){if(r){var a;n.$observe("value",function(t){y(a)&&i.removeOption(a),a=t,i.addOption(t,e)})}else o?t.$watch(o,function(t,r){n.$set("value",t),r!==t&&i.removeOption(r),i.addOption(t,e)}):i.addOption(n.value,e);e.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Js=function(){function t(t,e,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,e.on("change",function(){t.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return i(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Je(t);i(e.find("option"),function(t){t.selected=y(n.get(t.value))})};var s,u=0/0;t.$watch(function(){u!==o.$viewValue||W(s,o.$viewValue)||(s=me(o.$viewValue),o.$render()),u=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Xs,priority:1,link:{pre:t,post:e}}},Qs=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(y(n.value))var i=t(n.value,!0);else{var r=t(e.text(),!0);r||n.$set("value",e.text())}return function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,i,r)}}}}],tu=g({restrict:"E",terminal:!1}),eu=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},nu=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(x(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,Z(n));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||v(o)||o.test(e)}}}}},iu=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=h(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},ru=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(ue(),_e(qr),qr.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var r=Math.pow(10,i),o=(t*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var r=0|t,o=n(t,e);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void Ur(t.document).ready(function(){ie(t.document,re)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.5.8
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function i(t,i){if(!n(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var r=i.split("."),a=0,s=r.length;s>a&&e.isDefined(t);a++){var u=r[a];t=null!==t?t[u]:void 0}return t}function r(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var o=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,u,l){function c(t){return h(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function h(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function p(t,e){this.template=t,this.defaults=m({},n.defaults,e),this.urlParams={}}function d(t,c,h,_){function b(t,e){var n={};return e=m({},c,e),g(e,function(e,r){y(e)&&(e=e(t)),n[r]=e&&e.charAt&&"@"==e.charAt(0)?i(t,e.substr(1)):e}),n}function x(t){return t.resource}function w(t){r(t||{},this)}var k=new p(t,_);return h=m({},n.defaults.actions,h),w.prototype.toJSON=function(){var t=m({},this);return delete t.$promise,delete t.$resolved,t},g(h,function(t,i){var c=/^(POST|PUT|PATCH)$/i.test(t.method),h=t.timeout,p=e.isDefined(t.cancellable)?t.cancellable:_&&e.isDefined(_.cancellable)?_.cancellable:n.defaults.cancellable;h&&!e.isNumber(h)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,h=null),w[i]=function(n,s,d,_){var T,S,$,C={};switch(arguments.length){case 4:$=_,S=d;case 3:case 2:if(!y(s)){C=n,T=s,S=d;break}if(y(n)){S=n,$=s;break}S=s,$=d;case 1:y(n)?S=n:c?T=n:C=n;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var A,M,I=this instanceof w,D=I?T:t.isArray?[]:new w(T),E={},O=t.interceptor&&t.interceptor.response||x,P=t.interceptor&&t.interceptor.responseError||void 0;g(t,function(t,e){switch(e){default:E[e]=v(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!I&&p&&(A=u.defer(),E.timeout=A.promise,h&&(M=l(A.resolve,h))),c&&(E.data=T),k.setUrlParams(E,m({},b(T,t.params||{}),C),t.url);var L=a(E).then(function(n){var a=n.data;if(a){if(e.isArray(a)!==!!t.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",i,t.isArray?"array":"object",e.isArray(a)?"array":"object",E.method,E.url);if(t.isArray)D.length=0,g(a,function(t){D.push("object"==typeof t?new w(t):t)});else{var s=D.$promise;r(a,D),D.$promise=s}}return n.resource=D,n},function(t){return($||f)(t),u.reject(t)});return L["finally"](function(){D.$resolved=!0,!I&&p&&(D.$cancelRequest=e.noop,l.cancel(M),A=M=E.timeout=null)}),L=L.then(function(t){var e=O(t);return(S||f)(e,t.headers),e},P),I?L:(D.$promise=L,D.$resolved=!1,p&&(D.$cancelRequest=A.resolve),D)},w.prototype["$"+i]=function(t,e,n){y(t)&&(n=e,e=t,t={});var r=w[i].call(this,t,this,e,n);return r.$promise||r}}),w.bind=function(e){return d(t,m({},c,e),h)},w}var f=e.noop,g=e.forEach,m=e.extend,v=e.copy,y=e.isFunction;return p.prototype={setUrlParams:function(n,i,r){var a,s,u=this,l=r||u.template,p="",d=u.urlParams={};g(l.split(/\W/),function(t){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(l)&&(d[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(t,function(t){return p=t,""}),i=i||{},g(u.urlParams,function(t,n){a=i.hasOwnProperty(n)?i[n]:u.defaults[n],e.isDefined(a)&&null!==a?(s=t.isQueryParamValue?h(a,!0):c(a),l=l.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return s+e})):l=l.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),u.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),n.url=p+l.replace(/\/\\\./,"/."),g(i,function(t,e){u.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},d}]})}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return j(new(j(function(){},{prototype:t})),e)}function r(t){return B(arguments,function(e){e!==t&&B(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function a(t){if(Object.keys)return Object.keys(t);var e=[];return B(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in t&&t[i]===e)return i;return-1}function u(t,e,n,i){var r,u=o(n,i),l={},c=[];for(var h in u)if(u[h]&&u[h].params&&(r=a(u[h].params),r.length))for(var p in r)s(c,r[p])>=0||(c.push(r[p]),l[r[p]]=t[r[p]]);return j({},l,e)}function l(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return B(t,function(t){n[t]=e[t]}),n}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return B(n,function(n){n in t&&(e[n]=t[n])}),e}function p(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==s(n,i)&&(e[i]=t[i]);return e}function d(t,e){var n=V(t),i=n?[]:{};return B(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function f(t,e){var n=V(t)?[]:{};return B(t,function(t,i){n[i]=e(t,i)}),n}function g(t,e){var i=1,o=2,u={},l=[],c=u,h=j(t.when(u),{$$promises:u,$$values:u});this.study=function(u){function d(t,n){if(y[n]!==o){if(v.push(n),y[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=i,K(t))m.push(n,[function(){return e.get(t)}],l);else{var r=e.annotate(t);B(r,function(t){t!==n&&u.hasOwnProperty(t)&&d(u[t],t)}),m.push(n,t,r)}v.pop(),y[n]=o}}function f(t){return W(t)&&t.then&&t.$$promises}if(!W(u))throw new Error("'invocables' must be an object");var g=a(u||{}),m=[],v=[],y={};return B(u,d),u=v=y=null,function(i,o,a){function s(){--b||(x||r(_,o.$$values),v.$$values=_,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,d.resolve(_))}function u(t){v.$$failure=t,d.reject(t)}function l(n,r,o){function l(t){h.reject(t),u(t)}function c(){if(!R(v.$$failure))try{h.resolve(e.invoke(r,a,_)),h.promise.then(function(t){_[n]=t,s()},l)}catch(t){l(t)}}var h=t.defer(),p=0;B(o,function(t){y.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(p++,y[t].then(function(e){_[t]=e,--p||c()},l))}),p||c(),y[n]=h.promise}if(f(i)&&a===n&&(a=o,o=i,i=null),i){if(!W(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=h;var d=t.defer(),v=d.promise,y=v.$$promises={},_=j({},i),b=1+m.length/3,x=!1;if(R(o.$$failure))return u(o.$$failure),v;o.$$inheritedValues&&r(_,p(o.$$inheritedValues,g)),j(y,o.$$promises),o.$$values?(x=r(_,p(o.$$values,g)),v.$$inheritedValues=p(o.$$values,g),s()):(o.$$inheritedValues&&(v.$$inheritedValues=p(o.$$inheritedValues,g)),o.then(s,u));for(var w=0,k=m.length;k>w;w+=3)i.hasOwnProperty(m[w])?s():l(m[w],m[w+1],m[w+2]);return v}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function m(t,e,n){this.fromConfig=function(t,e,n){return R(t.template)?this.fromString(t.template,e):R(t.templateUrl)?this.fromUrl(t.templateUrl,e):R(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return U(t)?t(e):t},this.fromUrl=function(n,i){return U(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function v(t,e,r){function o(e,n,i,r){if(m.push(e),f[e])return f[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new F.Param(e,n,i,r),g[e]}function a(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function s(r,o){var a,s,u,l,c;return a=r[2]||r[3],c=e.params[a],u=t.substring(p,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),s&&(l=F.type(s)||i(F.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:u,type:l,cfg:c}}e=j({params:{}},W(e)?e:{});var u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",p=0,d=this.segments=[],f=r?r.params:{},g=this.params=r?r.params.$$new():new F.ParamSet,m=[];this.source=t;for(var v,y,_;(u=l.exec(t))&&(v=s(u,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),h+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),d.push(v.segment),p=l.lastIndex;_=t.substring(p);var b=_.indexOf("?");if(b>=0){var x=this.sourceSearch=_.substring(b);if(_=_.substring(0,b),this.sourcePath=t.substring(0,p+b),x.length>0)for(p=0;u=c.exec(x);)v=s(u,!0),y=o(v.id,v.type,v.cfg,"search"),p=l.lastIndex}else this.sourcePath=t,this.sourceSearch="";h+=a(_)+(e.strict===!1?"/?":"")+"$",d.push(_),this.regexp=new RegExp(h,e.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=m}function y(t){j(this,t)}function _(){function t(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}function r(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t}function o(){return{strict:g,caseInsensitive:p}}function u(t){return U(t)||V(t)&&U(t[t.length-1])}function l(){for(;w.length;){var t=w.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],h.invoke(t.def))}}function c(t){j(this,t||{})}F=this;var h,p=!1,g=!0,m=!1,b={},x=!0,w=[],k={string:{encode:t,decode:r,is:function(t){return null==t||!R(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return R(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};_.$$getDefaultValue=function(t){if(!u(t.value))return t.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(t.value)},this.caseInsensitive=function(t){return R(t)&&(p=t),p},this.strictMode=function(t){return R(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!R(t))return m;if(t!==!0&&t!==!1&&!K(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new v(t,j(o(),e))},this.isMatcher=function(t){if(!W(t))return!1;var e=!0;return B(v.prototype,function(n,i){U(n)&&(e=e&&R(t[i])&&U(t[i]))}),e},this.type=function(t,e,n){if(!R(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new y(j({name:t},e)),n&&(w.push({name:t,def:n}),x||l()),this},B(k,function(t,e){b[e]=new y(j({name:e},t))}),b=i(b,{}),this.$get=["$injector",function(t){return h=t,x=!1,l(),B(k,function(t,e){b[e]||(b[e]=new y(t))}),this}],this.Param=function(t,i,r,o){function l(t){var e=W(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=u(t.value)?t.value:function(){return t.value},t}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i?i:n.type?e.isString(n.type)?b[n.type]:n.type instanceof y?n.type:new y(n.type):"config"===r?b.any:b.string}function p(){var e={array:"search"===o?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return j(e,n,r).array}function g(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!R(n)||null==n)return m;if(n===!0||K(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(t,e,i,r){var o,a,u=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return o=V(t.replace)?t.replace:[],K(r)&&o.push({from:r,to:n}),a=f(o,function(t){return t.from}),d(u,function(t){return-1===s(a,t.from)}).concat(o)}function _(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");var t=h.invoke(r.$$fn);if(null!==t&&t!==n&&!k.type.is(t))throw new Error("Default value ("+t+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return t}function x(t){function e(t){return function(e){return e.from===t}}function n(t){var n=f(d(k.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),R(t)?k.type.$normalize(t):_()}function w(){return"{Param:"+t+" "+i+" squash: '"+$+"' optional: "+S+"}"}var k=this;r=l(r),i=c(r,i,o);var T=p();i=T?i.$asArray(T,"search"===o):i,"string"!==i.name||T||"path"!==o||r.value!==n||(r.value="");var S=r.value!==n,$=g(r,S),C=v(r,T,S,$);j(this,{id:t,type:i,location:o,array:T,squash:$,replace:C,isOptional:S,value:x,dynamic:n,config:r,toString:w})},c.prototype={$$new:function(){return i(this,j(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=a(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),B(e,function(e){B(a(e),function(e){-1===s(t,e)&&-1===s(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return B(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return B(i.$$keys(),function(r){var o=t&&t[r],a=e&&e[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var i,r,o,a,s,u=this.$$keys();for(i=0;i<u.length&&(r=this[u[i]],o=t[u[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),e.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function b(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return R(i)?i:!0}function s(i,r,o,a,s){function p(t,e,n){return"/"===m?t:e?m.slice(0,-1)+t:n?m.slice(1)+t:t}function d(t){function e(t){var e=t(o,i);return e?(K(e)&&i.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){{g&&i.url()===g}g=n;var r,a=l.length;for(r=0;a>r;r++)if(e(l[r]))return;c&&e(c)}}function f(){return u=u||r.$on("$locationChangeSuccess",d)}var g,m=a.baseHref(),v=i.url();return h||f(),{sync:function(){d()},listen:function(){return f()},update:function(t){return t?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled),a=a&&s.history;var u=n.format(r);if(o=o||{},a||null===u||(u="#"+t.hashPrefix()+u),null!==u&&r&&r["#"]&&(u+="#"+r["#"]),u=p(u,a,o.absolute),!o.absolute||!u)return u;var l=!a&&u?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,l,u].join("")}}}var u,l=[],c=null,h=!1;this.rule=function(t){if(!U(t))throw new Error("'rule' must be a function");return l.push(t),this},this.otherwise=function(t){if(K(t)){var e=t;t=function(){return e}}else if(!U(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=K(e);if(K(t)&&(t=i.compile(t)),!s&&!U(e)&&!V(e))throw new Error("invalid 'handler' in when()");var u={matcher:function(t,e){return s&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),j(function(n,i){return a(n,e,t.exec(i.path(),i.search()))},{prefix:K(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),j(function(n,i){return a(n,e,t.exec(i.path()))},{prefix:r(t)})}},l={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in l)if(l[c])return this.rule(u[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),h=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function x(t,r){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function p(t,e){if(!t)return n;var i=K(t),r=i?t:t.name,a=o(r);if(a){if(!e)throw new Error("No reference point given for path '"+r+"'");e=p(e);for(var s=r.split("."),u=0,l=s.length,c=e;l>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(u).join("."),r=c.name+(c.name&&s?".":"")+s}var h=S[r];return!h||!i&&(i||h!==t&&h.self!==t)?n:h}function d(t,e){$[t]||($[t]=[]),$[t].push(e)}function g(t){for(var e=$[t]||[];e.length;)m(e.shift())}function m(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!K(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):K(e.parent)?e.parent:W(e.parent)&&K(e.parent.name)?e.parent.name:"";if(r&&!S[r])return d(r,e.self);for(var o in A)U(A[o])&&(e[o]=A[o](e,A.$delegates[o]));return S[n]=e,!e[C]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){T.$current.navigable==e&&l(t,n)||T.transitionTo(e,t,{inherit:!0,location:!1})}]),g(n),e}function v(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),n=T.$current.name.split("."),i=0,r=e.length;r>i;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function _(t,e){return K(t)&&!R(e)?A[t]:U(e)&&K(t)?(A[t]&&!A.$delegates[t]&&(A.$delegates[t]=A[t]),A[t]=e,this):this}function b(t,e){return W(t)?e=t:e.name=t,m(e),this}function x(t,r,o,s,h,d,g){function m(e,n,i,o){var a=t.$broadcast("$stateNotFound",e,n,i);if(a.defaultPrevented)return g.update(),$;if(!a.retry)return null;if(o.$retry)return g.update(),A;var s=T.transition=r.when(a.retry);return s.then(function(){return s!==T.transition?b:(e.options.$retry=!0,T.transitionTo(e.to,e.toParams,e.options))},function(){return $}),g.update(),s}function _(t,n,i,a,u,l){function p(){var n=[];return B(t.views,function(i,r){var a=i.resolve&&i.resolve!==t.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:u.globals,params:d,notify:l.notify})||""}],n.push(h.resolve(a,u.globals,u.resolve,t).then(function(n){if(U(i.controllerProvider)||V(i.controllerProvider)){var o=e.extend({},a,u.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,u[r]=n}))}),r.all(n).then(function(){return u.globals})}var d=i?n:c(t.params.$$keys(),n),f={$stateParams:d};u.resolve=h.resolve(t.resolve,f,u.resolve,t);var g=[u.resolve.then(function(t){u.globals=t})];return a&&g.push(a),r.all(g).then(p).then(function(){return u})}var b=r.reject(new Error("transition superseded")),x=r.reject(new Error("transition prevented")),$=r.reject(new Error("transition aborted")),A=r.reject(new Error("transition failed"));return k.locals={resolve:null,globals:{$stateParams:{}}},T={params:{},current:k.self,$current:k,transition:null},T.reload=function(t){return T.transitionTo(T.current,d,{reload:t||!0,inherit:!1,notify:!0})},T.go=function(t,e,n){return T.transitionTo(t,e,j({inherit:!0,relative:T.$current},n))},T.transitionTo=function(e,n,o){n=n||{},o=j({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,l=T.$current,h=T.params,f=l.path,v=p(e,o.relative),y=n["#"];if(!R(v)){var S={to:e,toParams:n,options:o},$=m(S,l.self,h,o);if($)return $;if(e=S.to,n=S.toParams,o=S.options,v=p(e,o.relative),!R(v)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(v[C])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=u(d,n||{},T.$current,v)),!v.params.$$validates(n))return A;n=v.params.$$values(n),e=v;var M=e.path,I=0,D=M[I],E=k.locals,O=[];if(o.reload){if(K(o.reload)||W(o.reload)){if(W(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var P=o.reload===!0?f[0]:p(o.reload);if(o.reload&&!P)throw new Error("No such reload state '"+(K(o.reload)?o.reload:o.reload.name)+"'");for(;D&&D===f[I]&&D!==P;)E=O[I]=D.locals,I++,D=M[I]}}else for(;D&&D===f[I]&&D.ownParams.$$equals(n,h);)E=O[I]=D.locals,I++,D=M[I];if(w(e,n,l,h,E,o))return y&&(n["#"]=y),T.params=n,H(T.params,d),H(c(e.params.$$keys(),d),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(g.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),T.transition=null,r.when(T.current);if(n=c(e.params.$$keys(),n||{}),y&&(n["#"]=y),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,l.self,h,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,h),null==T.transition&&g.update(),x;for(var L=r.when(E),N=I;N<M.length;N++,D=M[N])E=O[N]=i(E),L=_(D,n,D===e,L,E,o);var U=T.transition=L.then(function(){var i,r,a;if(T.transition!==U)return b;for(i=f.length-1;i>=I;i--)a=f[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=I;i<M.length;i++)r=M[i],r.locals=O[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return T.transition!==U?b:(T.$current=e,T.current=e.self,T.params=n,H(T.params,d),T.transition=null,o.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,l.self,h),g.update(!0),T.current)},function(i){return T.transition!==U?b:(T.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,l.self,h,i),a.defaultPrevented||g.update(),r.reject(i))});return U},T.is=function(t,e,i){i=j({relative:T.$current},i||{});var r=p(t,i.relative);return R(r)?T.$current!==r?!1:e?l(r.params.$$values(e),d):!0:n},T.includes=function(t,e,i){if(i=j({relative:T.$current},i||{}),K(t)&&v(t)){if(!y(t))return!1;t=T.$current.name}var r=p(t,i.relative);return R(r)?R(T.$current.includes[r.name])?e?l(r.params.$$values(e),d,a(e)):!0:!1:n},T.href=function(t,e,i){i=j({lossy:!0,inherit:!0,absolute:!1,relative:T.$current},i||{});var r=p(t,i.relative);if(!R(r))return null;i.inherit&&(e=u(d,e||{},T.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?g.href(o.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},T.get=function(t,e){if(0===arguments.length)return f(a(S),function(t){return S[t].self});var n=p(t,e||T.$current);return n&&n.self?n.self:null},T}function w(t,e,n,i,r,o){function a(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),o=h.apply({},[t.params].concat(r)),a=new F.ParamSet(o);return a.$$equals(e,n)}return!o.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&a(n,i,e))?!0:void 0}var k,T,S={},$={},C="abstract",A={parent:function(t){if(R(t.parent)&&t.parent)return p(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?p(e[1]):k},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=i(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(K(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||k).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new F.ParamSet;return B(t.params||{},function(t,n){e[n]||(e[n]=new F.Param(n,null,t,"config"))}),e},params:function(t){var e=h(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?j(t.parent.params.$$new(),e):new F.ParamSet},views:function(t){var e={};return B(R(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?j({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};k=m({name:"",url:"^",views:null,"abstract":!0}),k.navigable=null,this.decorator=_,this.state=b,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function t(t,e){return{load:function(t,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=j(r,n),n.view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function k(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function T(t,n,i,r){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,n){function i(t){return 1===q&&G>=4?!!l.enabled(t):1===q&&G>=2?!!l.enabled():!!u}var r={enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}};if(t.noanimation)return r;if(l)return{enter:function(t,n,o){i(t)?e.version.minor>2?l.enter(t,null,n).then(o):l.enter(t,null,n,o):r.enter(t,n,o)},leave:function(t,n){i(t)?e.version.minor>2?l.leave(t).then(n):l.leave(t,n):r.leave(t,n)}};if(u){var o=u&&u(n,t);return{enter:function(t,e,n){o.enter(t,null,e),n()},leave:function(t,e){o.leave(t),e()}}}return r}var s=o(),u=s("$animator"),l=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,u){function l(){function t(){e&&e.remove(),n&&n.$destroy()}var e=h,n=d;n&&(n._willBeDestroyed=!0),p?(v.leave(p,function(){t(),h=null}),h=p):(t(),h=null),p=null,d=null}function c(a){var c,h=$(n,u,o,r),y=h&&t.$current&&t.$current.locals[h];if((a||y!==f)&&!n._willBeDestroyed){c=n.$new(),f=t.$current.locals[h],c.$emit("$viewContentLoading",h);var _=s(c,function(t){v.enter(t,o,function(){d&&d.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||n.$eval(m))&&i(t)}),l()});p=_,d=c,d.$emit("$viewContentLoaded",h),d.$eval(g)}}var h,p,d,f,g=u.onload||"",m=u.autoscroll,v=a(u,n);n.$on("$stateChangeSuccess",function(){c(!1)}),c(!0)}}};return c}function S(t,e,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,a,s){var u=n.$current,l=$(r,s,a,i),c=u&&u.locals[l];if(c){a.data("$uiView",{name:l,state:c.$$state}),a.html(c.$template?c.$template:o);var h=t(a.contents());if(c.$$controller){c.$scope=r,c.$element=a;var p=e(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=p),a.data("$ngControllerController",p),a.children().data("$ngControllerController",p)}h(r)}}}}}function $(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function C(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function A(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function M(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function I(t,e,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var u=n(function(){e.go(s.state,s.params,s.options)});o.preventDefault();var l=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){l--<=0&&n.cancel(u)}}}}function D(t,e){return{relative:A(t)||e.$current,inherit:!0}}function E(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s=C(o.uiSref,t.current.name),u={state:s.state,href:null,params:null},l=M(r),c=a[1]||a[0];u.options=j(D(r,t),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var h=function(n){n&&(u.params=e.copy(n)),u.href=t.href(s.state,u.params,u.options),c&&c.$$addStateInfo(s.state,u.params),null!==u.href&&o.$set(l.attr,u.href)};s.paramExpr&&(i.$watch(s.paramExpr,function(t){t!==u.params&&h(t)},!0),u.params=e.copy(i.$eval(s.paramExpr))),h(),l.clickable&&r.bind("click",I(r,t,n,l,function(){return u}))}}}function O(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function a(e){h.state=e[0],h.params=e[1],h.options=e[2],h.href=t.href(h.state,h.params,h.options),u&&u.$$addStateInfo(h.state,h.params),h.href&&r.$set(s.attr,h.href)}var s=M(i),u=o[1]||o[0],l=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],c="["+l.map(function(t){return t||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null};n.$watch(c,a,!0),a(n.$eval(c)),s.clickable&&i.bind("click",I(i,t,e,s,function(){return h}))}}}function P(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,o){function a(e,n,r){var o=t.get(e,A(i)),a=s(e,n);g.push({state:o||{name:e},params:n,hash:a}),m[a]=r}function s(t,n){if(!K(t))throw new Error("state should be a string");return W(n)?t+z(n):(n=e.$eval(n),W(n)?t+z(n):t)}function u(){for(var t=0;t<g.length;t++)h(g[t].state,g[t].params)?l(i,m[g[t].hash]):c(i,m[g[t].hash]),p(g[t].state,g[t].params)?l(i,d):c(i,d)}function l(t,e){o(function(){t.addClass(e)})}function c(t,e){t.removeClass(e)}function h(e,n){return t.includes(e.name,n)}function p(e,n){return t.is(e.name,n)}var d,f,g=[],m={};d=n(r.uiSrefActiveEq||"",!1)(e);try{f=e.$eval(r.uiSrefActive)}catch(v){}f=f||n(r.uiSrefActive||"",!1)(e),W(f)&&B(f,function(n,i){if(K(n)){var r=C(n,t.current.name);a(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){W(f)&&g.length>0||(a(t,e,f),u())},e.$on("$stateChangeSuccess",u),u()}]}}function L(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function N(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}var R=e.isDefined,U=e.isFunction,K=e.isString,W=e.isObject,V=e.isArray,B=e.forEach,j=e.extend,H=e.copy,z=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",m);var F;v.prototype.concat=function(t,e){var n={caseInsensitive:F.caseInsensitive(),strict:F.strictMode(),squash:F.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,j(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=f(i,e);return f(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,o,a,s=this.parameters(),u=s.length,l=this.segments.length-1,c={};if(l!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var h,p;for(r=0;l>r;r++){for(a=s[r],h=this.params[a],p=i[r+1],o=0;o<h.replace.length;o++)h.replace[o].from===p&&(p=h.replace[o].to);p&&h.array===!0&&(p=n(p)),R(p)&&(p=h.type.decode(p)),c[a]=h.value(p)}for(;u>r;r++){for(a=s[r],c[a]=this.params[a].value(e[a]),h=this.params[a],p=e[a],o=0;o<h.replace.length;o++)h.replace[o].from===p&&(p=h.replace[o].to);R(p)&&(p=h.type.decode(p)),c[a]=h.value(p)}return c},v.prototype.parameters=function(t){return R(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,u=i.length,l=n[0];for(o=0;u>o;o++){var c=s>o,h=i[o],p=r[h],d=p.value(t[h]),g=p.isOptional&&p.type.equals(p.value(),d),m=g?p.squash:!1,v=p.type.encode(d);if(c){var y=n[o+1],_=o+1===s;if(m===!1)null!=v&&(l+=V(v)?f(v,e).join("-"):encodeURIComponent(v)),l+=y;else if(m===!0){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match(b)[1]}else K(m)&&(l+=m+y);_&&p.squash===!0&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(V(v)||(v=[v]),0===v.length)continue;v=f(v,encodeURIComponent).join("&"+h+"="),l+=(a?"&":"?")+(h+"="+v),a=!0}}return l},y.prototype.is=function(){return!0},y.prototype.encode=function(t){return t},y.prototype.decode=function(t){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return V(t)?t:R(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){if(V(n)&&0===n.length)return n;n=r(n);var i=f(n,t);return e===!0?0===d(i,a).length:o(i)}}function u(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}this.encode=s(i(t,"encode")),this.decode=s(i(t,"decode")),this.is=s(i(t,"is"),!0),this.equals=u(i(t,"equals")),this.pattern=t.pattern,this.$normalize=s(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",_),e.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",b),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",x),w.$inject=[],e.module("ui.router.state").provider("$view",w),e.module("ui.router.state").provider("$uiViewScroll",k);var q=e.version.major,G=e.version.minor;T.$inject=["$state","$injector","$uiViewScroll","$interpolate"],S.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",T),e.module("ui.router.state").directive("uiView",S),E.$inject=["$state","$timeout"],O.$inject=["$state","$timeout"],P.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",E).directive("uiSrefActive",P).directive("uiSrefActiveEq",P).directive("uiState",O),L.$inject=["$state"],N.$inject=["$state"],e.module("ui.router.state").filter("isState",L).filter("includedByState",N)
}(window,window.angular),//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
function(){function t(t){function e(e,n,i,r,o,a){for(;o>=0&&a>o;o+=t){var s=r?r[o]:o;i=n(i,e[s],s,e)}return i}return function(n,i,r,o){i=_(i,o,4);var a=!$(n)&&y.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(r=n[a?a[u]:u],u+=t),e(n,i,r,a,u,s)}}function e(t){return function(e,n,i){n=b(n,i);for(var r=S(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var a=0,s=S(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(c.call(i,a,s),y.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&s>o;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=D.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=D[n],o in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,a=Array.prototype,s=Object.prototype,u=Function.prototype,l=a.push,c=a.slice,h=s.toString,p=s.hasOwnProperty,d=Array.isArray,f=Object.keys,g=u.bind,m=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var _=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return b(t,e,1/0)};var x=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],a=t(o),s=a.length,u=0;s>u;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}},w=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},T=Math.pow(2,53)-1,S=k("length"),$=function(t){var e=S(t);return"number"==typeof e&&e>=0&&T>=e};y.each=y.forEach=function(t,e,n){e=_(e,n);var i,r;if($(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var i=!$(t)&&y.keys(t),r=(i||t).length,o=Array(r),a=0;r>a;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;return i=$(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},y.filter=y.select=function(t,e,n){var i=[];return e=b(e,n),y.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var i=!$(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var i=!$(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return $(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e&&null!=t){t=$(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],i>o&&(o=i)}else e=b(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},y.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e&&null!=t){t=$(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],o>i&&(o=i)}else e=b(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(a>r||1/0===r&&1/0===o)&&(o=t,a=r)});return o},y.shuffle=function(t){for(var e,n=$(t)?t:y.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=y.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?($(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=b(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,n,i){var r={};return n=b(n,i),y.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};y.groupBy=C(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=C(function(t,e,n){t[n]=e}),y.countBy=C(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):$(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:$(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=b(e,n);var i=[],r=[];return y.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var A=function(t,e,n,i){for(var r=[],o=0,a=i||0,s=S(t);s>a;a++){var u=t[a];if($(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=A(u,e,n));var l=0,c=u.length;for(r.length+=c;c>l;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};y.flatten=function(t,e){return A(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],a=0,s=S(t);s>a;a++){var u=t[a],l=n?n(u,a,t):u;e?(a&&o===l||r.push(u),o=l):n?y.contains(o,l)||(o.push(l),r.push(u)):y.contains(r,u)||r.push(u)}return r},y.union=function(){return y.uniq(A(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=S(t);r>i;i++){var o=t[i];if(!y.contains(e,o)){for(var a=1;n>a&&y.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},y.difference=function(t){var e=A(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,S).length||0,n=Array(e),i=0;e>i;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=S(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=b(n,i,1);for(var r=n(e),o=0,a=S(t);a>o;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var M=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=w(t.prototype),a=t.apply(o,r);return y.isObject(a)?a:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return M(t,i,e,this,n.concat(c.call(arguments)))};return i},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;r>a;a++)o[a]=e[a]===y?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return M(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:y.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var l=y.now();s||n.leading!==!1||(s=l);var c=e-(l-s);return i=this,r=arguments,0>=c||c>e?(a&&(clearTimeout(a),a=null),s=l,o=t.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},y.debounce=function(t,e,n){var i,r,o,a,s,u=function(){var l=y.now()-a;e>l&&l>=0?i=setTimeout(u,e-l):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=y.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(s=t.apply(o,r),o=r=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return I&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return I&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=r.length,a={},s=0;o>s;s++)i=r[s],a[i]=e(t[i],i,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var i,r=y.keys(t),o=0,a=r.length;a>o;o++)if(i=r[o],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;y.isFunction(e)?(r=y.allKeys(a),i=_(e,n)):(r=A(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=r.length;u>s;s++){var l=r[s],c=a[l];i(c,l,a)&&(o[l]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(A(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=x(y.allKeys,!0),y.create=function(t,e){var n=w(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var E=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!E(t[u],e[u],n,i))return!1}else{var l,c=y.keys(t);if(u=c.length,y.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(e,l)||!E(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return E(t,e)},y.isEmpty=function(t){return null==t?!0:$(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=d||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&p.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=k,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=y.invert(O),L=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};y.escape=L(O),y.unescape=L(P),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var N=0;y.uniqueId=function(t){var e=++N+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,W=function(t){return"\\"+U[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||R).source,(e.interpolate||R).source,(e.evaluate||R).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(K,W),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(t){return a.call(this,t,y)},l=e.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},y.chain=function(t){var e=y(t);return e._chain=!0,e};var V=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),V(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],V(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return V(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 1.3.3 - 2016-05-22
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(t,e,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){function s(){o.hasClass("collapse")&&o.hasClass("in")||e.resolve(h(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start()["finally"](u):t.addClass(o,"in",{to:{height:o[0].scrollHeight+"px"}}).then(u)})}function u(){o.removeClass("collapsing").addClass("collapse").css({height:"auto"}),p(i)}function l(){return o.hasClass("collapse")||o.hasClass("in")?void e.resolve(d(i)).then(function(){o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:{height:"0"}}).start()["finally"](c):t.removeClass(o,"in",{to:{height:"0"}}).then(c)}):c()}function c(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse"),f(i)}var h=n(a.expanding),p=n(a.expanded),d=n(a.collapsing),f=n(a.collapsed);i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),i.$watch(a.uibCollapse,function(t){t?l():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){i.addGroup(t),t.openClass=n.openClass||"panel-open",t.panelClass=n.panelClass||"panel-default",t.$watch("isOpen",function(n){e.toggleClass(t.openClass,!!n),n&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};var r="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=r+"-tab",t.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){function t(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(e,n,i,r){e.$watch(function(){return r[i.uibAccordionTransclude]},function(e){if(e){var i=angular.element(n[0].querySelector(t()));i.html(""),i.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(t,e,n,i){t.closeable=!!e.close;var r=angular.isDefined(e.dismissOnTimeout)?n(e.dismissOnTimeout)(t.$parent):null;r&&i(function(){t.close()},parseInt(r,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(t){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,r){var o=r[0],a=r[1],s=t(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(o.activeClass);(!t||angular.isDefined(i.uncheckable))&&e.$apply(function(){a.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&e.$watch(s,function(t){i.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,e,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){return angular.isDefined(e)?t.$eval(e):n}var s=i[0],u=i[1];e.find("input").css({display:"none"}),u.$render=function(){e.toggleClass(s.activeClass,angular.equals(u.$modelValue,r()))},e.on(s.toggleEvent,function(){n.disabled||t.$apply(function(){u.$setViewValue(e.hasClass(s.activeClass)?o():r()),u.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(t,e,n,i,r){function o(){for(;_.length;)_.shift()}function a(t){for(var e=0;e<m.length;e++)m[e].slide.active=e===t}function s(n,i,u){if(!b){if(angular.extend(n,{direction:u}),angular.extend(m[y].slide||{},{direction:u}),r.enabled(e)&&!t.$currentTransition&&m[i].element&&g.slides.length>1){m[i].element.data(v,n.direction);var l=g.getCurrentIndex();angular.isNumber(l)&&m[l].element&&m[l].element.data(v,n.direction),t.$currentTransition=!0,r.on("addClass",m[i].element,function(e,n){if("close"===n&&(t.$currentTransition=null,r.off("addClass",e),_.length)){var i=_.pop().slide,a=i.index,u=a>g.getCurrentIndex()?"next":"prev";o(),s(i,a,u)}})}t.active=n.index,y=n.index,a(i),h()}}function u(t){for(var e=0;e<m.length;e++)if(m[e].slide===t)return e}function l(){d&&(n.cancel(d),d=null)}function c(e){e.length||(t.$currentTransition=null,o())}function h(){l();var e=+t.interval;!isNaN(e)&&e>0&&(d=n(p,e))}function p(){var e=+t.interval;f&&!isNaN(e)&&e>0&&m.length?t.next():t.pause()}var d,f,g=this,m=g.slides=t.slides=[],v="uib-slideDirection",y=t.active,_=[],b=!1;g.addSlide=function(e,n){m.push({slide:e,element:n}),m.sort(function(t,e){return+t.slide.index-+e.slide.index}),(e.index===t.active||1===m.length&&!angular.isNumber(t.active))&&(t.$currentTransition&&(t.$currentTransition=null),y=e.index,t.active=e.index,a(y),g.select(m[u(e)]),1===m.length&&t.play())},g.getCurrentIndex=function(){for(var t=0;t<m.length;t++)if(m[t].slide.index===y)return t},g.next=t.next=function(){var e=(g.getCurrentIndex()+1)%m.length;return 0===e&&t.noWrap()?void t.pause():g.select(m[e],"next")},g.prev=t.prev=function(){var e=g.getCurrentIndex()-1<0?m.length-1:g.getCurrentIndex()-1;return t.noWrap()&&e===m.length-1?void t.pause():g.select(m[e],"prev")},g.removeSlide=function(e){var n=u(e),i=_.indexOf(m[n]);-1!==i&&_.splice(i,1),m.splice(n,1),m.length>0&&y===n?n>=m.length?(y=m.length-1,t.active=y,a(y),g.select(m[m.length-1])):(y=n,t.active=y,a(y),g.select(m[n])):y>n&&(y--,t.active=y),0===m.length&&(y=null,t.active=null,o())},g.select=t.select=function(e,n){var i=u(e.slide);void 0===n&&(n=i>g.getCurrentIndex()?"next":"prev"),e.slide.index===y||t.$currentTransition?e&&e.slide.index!==y&&t.$currentTransition&&_.push(m[i]):s(e.slide,i,n)},t.indexOfSlide=function(t){return+t.slide.index},t.isActive=function(e){return t.active===e.slide.index},t.isPrevDisabled=function(){return 0===t.active&&t.noWrap()},t.isNextDisabled=function(){return t.active===m.length-1&&t.noWrap()},t.pause=function(){t.noPause||(f=!1,l())},t.play=function(){f||(f=!0,h())},t.$on("$destroy",function(){b=!0,l()}),t.$watch("noTransition",function(t){r.enabled(e,!t)}),t.$watch("interval",h),t.$watchCollection("slides",c),t.$watch("active",function(t){if(angular.isNumber(t)&&y!==t){for(var e=0;e<m.length;e++)if(m[e].slide.index===t){t=e;break}var n=m[t];n&&(a(t),g.select(m[t]),y=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)})}}}).animation(".item",["$animateCss",function(t){function e(t,e,n){t.removeClass(e),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),u="next"===s?"left":"right",l=e.bind(this,i,u+" "+s,o);return i.addClass(s),t(i,{addClass:u}).start().done(l),function(){a=!0}}o()},beforeRemoveClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),u="next"===s?"left":"right",l=e.bind(this,i,u,o);return t(i,{addClass:u}).start().done(l),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(t,e,n,i){function r(t,e){var n=[],r=t.split(""),o=t.indexOf("'");if(o>-1){var a=!1;t=t.split("");for(var s=o;s<t.length;s++)a?("'"===t[s]&&(s+1<t.length&&"'"===t[s+1]?(t[s+1]="$",r[s+1]=""):(r[s]="",a=!1)),t[s]="$"):"'"===t[s]&&(t[s]="$",r[s]="",a=!0);t=t.join("")}return angular.forEach(d,function(i){var o=t.indexOf(i.key);if(o>-1){t=t.split(""),r[o]="("+i.regex+")",t[o]="$";for(var a=o+1,s=o+i.key.length;s>a;a++)r[a]="",t[a]="$";t=t.join(""),n.push({index:o,key:i.key,apply:i[e],matcher:i.regex})}}),{regex:new RegExp("^"+r.join("")+"$"),map:i(n,"index")}}function o(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}function a(t){return parseInt(t,10)}function s(t,e){return t&&e?h(t,e):t}function u(t,e){return t&&e?h(t,e,!0):t}function l(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function c(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function h(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=l(e,i);return c(t,n*(r-i))}var p,d,f=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){p=e.id,this.parsers={},this.formatters={},d=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=69>t?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:e.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:e.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],r=e[3];this.hours+=a(n+i),this.minutes+=a(n+r)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:e.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}]},this.init(),this.filter=function(t,n){if(!angular.isDate(t)||isNaN(t)||!n)return"";n=e.DATETIME_FORMATS[n]||n,e.id!==p&&this.init(),this.formatters[n]||(this.formatters[n]=r(n,"formatter"));var i=this.formatters[n],o=i.map,a=n;return o.reduce(function(e,n,i){var r=a.match(new RegExp("(.*)"+n.key));r&&angular.isString(r[1])&&(e+=r[1],a=a.replace(r[1]+n.key,""));var s=i===o.length-1?a:"";return n.apply?e+n.apply.call(null,t)+s:e+s},"")},this.parse=function(n,i,a){if(!angular.isString(n)||!i)return n;i=e.DATETIME_FORMATS[i]||i,i=i.replace(f,"\\$&"),e.id!==p&&this.init(),this.parsers[i]||(this.parsers[i]=r(i,"apply"));var s=this.parsers[i],u=s.regex,l=s.map,c=n.match(u),h=!1;if(c&&c.length){var d,g;angular.isDate(a)&&!isNaN(a.getTime())?d={year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:(a&&t.warn("dateparser:","baseDate is not a valid date"),d={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,v=c.length;v>m;m++){var y=l[m-1];"Z"===y.matcher&&(h=!0),y.apply&&y.apply.call(d,c[m])}var _=h?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,b=h?Date.prototype.setUTCHours:Date.prototype.setHours;return o(d.year,d.month,d.date)&&(!angular.isDate(a)||isNaN(a.getTime())||h?(g=new Date(0),_.call(g,d.year,d.month,d.date),b.call(g,d.hours||0,d.minutes||0,d.seconds||0,d.milliseconds||0)):(g=new Date(a),_.call(g,d.year,d.month,d.date),b.call(g,d.hours,d.minutes,d.seconds,d.milliseconds))),g}},this.toTimezone=s,this.fromTimezone=u,this.timezoneToOffset=l,this.addDateMinutes=c,this.convertTimezoneToLocal=h}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(t){var e=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function o(t,e){u.push(t),l.push({scope:t,element:e}),f.forEach(function(e){a(e,t)}),t.$on("$destroy",s)}function a(e,i){var r=e.match(n),o=i.$eval(r[1]),a=r[2],s=c[e];if(!s){var u=function(e){var n=null;l.some(function(t){var i=t.scope.$eval(p);return i===e?(n=t,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&t.removeClass(s.lastActivated.element,o),n&&t.addClass(n.element,o),s.lastActivated=n)};c[e]=s={lastActivated:null,scope:i,watchFn:u,compareWithExp:a,watcher:i.$watch(a,u)}}s.watchFn(i.$eval(a))}function s(t){var e=t.targetScope,n=u.indexOf(e);if(u.splice(n,1),l.splice(n,1),u.length){var i=u[0];angular.forEach(c,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else c={}}var u=[],l=[],c={},h=r.uibIsClass.match(e),p=h[2],d=h[1],f=d.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(t,e,n,i,r,o,a,s,u,l,c){function h(e){t.datepickerMode=e,t.datepickerOptions.datepickerMode=e}{var p=this,d={$setViewValue:angular.noop},f={},g=[];!!e.datepickerOptions}t.datepickerOptions||(t.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":t[e]=t.datepickerOptions[e]||angular.noop;break;case"datepickerMode":t.datepickerMode=angular.isDefined(t.datepickerOptions.datepickerMode)?t.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[e]=angular.isDefined(t.datepickerOptions[e])?i(t.datepickerOptions[e])(t.$parent):s[e];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[e]=angular.isDefined(t.datepickerOptions[e])?t.datepickerOptions[e]:s[e];break;case"startingDay":p.startingDay=angular.isDefined(t.datepickerOptions.startingDay)?t.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?s.startingDay:(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":t.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?p[e]=c.fromTimezone(new Date(t),f.timezone):(u&&o.warn("Literal date support has been deprecated, please switch to date object usage"),p[e]=new Date(a(t,"medium"))):p[e]=s[e]?c.fromTimezone(new Date(s[e]),f.timezone):null,p.refreshView()});break;case"maxMode":case"minMode":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(n){p[e]=t[e]=angular.isDefined(n)?n:datepickerOptions[e],("minMode"===e&&p.modes.indexOf(t.datepickerOptions.datepickerMode)<p.modes.indexOf(p[e])||"maxMode"===e&&p.modes.indexOf(t.datepickerOptions.datepickerMode)>p.modes.indexOf(p[e]))&&(t.datepickerMode=p[e],t.datepickerOptions.datepickerMode=p[e])}):p[e]=t[e]=s[e]||null}}),t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(e.disabled)||!1,angular.isDefined(e.ngDisabled)&&g.push(t.$parent.$watch(e.ngDisabled,function(e){t.disabled=e,p.refreshView()})),t.isActive=function(e){return 0===p.compare(e.date,p.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(e){d=e,f=e.$options||s.ngModelOptions,t.datepickerOptions.initDate?(p.activeDate=c.fromTimezone(t.datepickerOptions.initDate,f.timezone)||new Date,t.$watch("datepickerOptions.initDate",function(t){t&&(d.$isEmpty(d.$modelValue)||d.$invalid)&&(p.activeDate=c.fromTimezone(t,f.timezone),p.refreshView())})):p.activeDate=new Date;var n=d.$modelValue?new Date(d.$modelValue):new Date;this.activeDate=isNaN(n)?c.fromTimezone(new Date,f.timezone):c.fromTimezone(n,f.timezone),d.$render=function(){p.render()}},this.render=function(){if(d.$viewValue){var t=new Date(d.$viewValue),e=!isNaN(t);e?this.activeDate=c.fromTimezone(t,f.timezone):l||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=d.$viewValue?new Date(d.$viewValue):null;e=c.fromTimezone(e,f.timezone),d.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,n){var i=d.$viewValue?new Date(d.$viewValue):null;i=c.fromTimezone(i,f.timezone);var r=new Date;r=c.fromTimezone(r,f.timezone);var o=this.compare(e,r),a={date:e,label:c.filter(e,n),selected:i&&0===this.compare(e,i),disabled:this.isDisabled(e),past:0>o,current:0===o,future:o>0,customClass:this.customClass(e)||null};return i&&0===this.compare(e,i)&&(t.selectedDt=a),p.activeDate&&0===this.compare(a.date,p.activeDate)&&(t.activeDt=a),a},this.isDisabled=function(e){return t.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===p.minMode){var n=d.$viewValue?c.fromTimezone(new Date(d.$viewValue),f.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n=c.toTimezone(n,f.timezone),d.$setViewValue(n),d.$render()}else p.activeDate=e,h(p.modes[p.modes.indexOf(t.datepickerMode)-1]),t.$emit("uib:datepicker.mode");t.$broadcast("uib:datepicker.focus")},t.move=function(t){var e=p.activeDate.getFullYear()+t*(p.step.years||0),n=p.activeDate.getMonth()+t*(p.step.months||0);p.activeDate.setFullYear(e,n,1),p.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===p.maxMode&&1===e||t.datepickerMode===p.minMode&&-1===e||(h(p.modes[p.modes.indexOf(t.datepickerMode)+e]),t.$emit("uib:datepicker.mode"))},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var m=function(){p.element[0].focus()};t.$on("uib:datepicker.focus",m),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),p.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;t.select(p.activeDate)}else!e.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,e),p.refreshView()):t.toggleMode("up"===n?1:-1)},t.$on("$destroy",function(){for(;g.length;)g.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,e,n){function i(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?o[e]:29}function r(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),r=new Date(t),o=0;e>o;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var e=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(e,i,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,u=new Date(o);s>0&&u.setDate(-s+1);for(var l=this.getDates(u,42),c=0;42>c;c++)l[c]=angular.extend(this.createDateObject(l[c],this.formatDay),{secondary:l[c].getMonth()!==i,uid:t.uniqueId+"-"+c});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:n(l[h].date,this.formatDayHeader),full:n(l[h].date,"EEEE")};if(t.title=n(this.activeDate,this.formatDayTitle),t.rows=this.split(l,7),t.showWeeks){t.weekNumbers=[];for(var p=(11-this.startingDay)%7,d=t.rows.length,f=0;d>f;f++)t.weekNumbers.push(r(t.rows[f][p].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t){var e=this.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(n,1),e=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(e)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,n){this.step={years:1},this.element=e,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var e,i=new Array(12),r=this.activeDate.getFullYear(),o=0;12>o;o++)e=new Date(this.activeDate),e.setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:t.uniqueId+"-"+o});t.title=n(this.activeDate,this.formatMonthTitle),t.rows=this.split(i,3)},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t){var e=this.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);this.activeDate.setMonth(e)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,e){function n(t){return parseInt((t-1)/r,10)*r+1}var i,r;this.element=e,this.yearpickerInit=function(){i=this.yearColumns,r=this.yearRows*i,this.step={years:r}},this._refreshView=function(){for(var e,o=new Array(r),a=0,s=n(this.activeDate.getFullYear());r>a;a++)e=new Date(this.activeDate),e.setFullYear(s+a,0,1),o[a]=angular.extend(this.createDateObject(e,this.formatYear),{uid:t.uniqueId+"-"+a});t.title=[o[0].label,o[r-1].label].join(" - "),t.rows=this.split(o,i),t.columns=i},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t){var e=this.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=i:"right"===t?e+=1:"down"===t?e+=i:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*r:"home"===t?e=n(this.activeDate.getFullYear()):"end"===t&&(e=n(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(e)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(t,e,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(n){function i(t){return"static"===(e.getComputedStyle(t).position||"static")}n=this.getRawNode(n);for(var r=n.offsetParent||t[0].documentElement;r&&r!==t[0].documentElement&&i(r);)r=r.offsetParent;return r||t[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=t.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=e.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');t.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(t){t=this.getRawNode(t);var n=e.getComputedStyle(t),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(t,!1,!0),s=this.scrollbarWidth(o,a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}
},isScrollable:function(t,n){t=this.getRawNode(t);var i=n?r.hidden:r.normal,o=e.getComputedStyle(t);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=t[0].documentElement,u=e.getComputedStyle(n);if(o&&a.test(u.overflow+u.overflowY+u.overflowX))return n;var l="absolute"===u.position,c=n.parentElement||s;if(c===s||"fixed"===u.position)return s;for(;c.parentElement&&c!==s;){var h=e.getComputedStyle(c);if(l&&"static"!==h.position&&(l=!1),!l&&a.test(h.overflow+h.overflowY+h.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=e.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==t[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(i.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=r!==!1?!0:!1;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?t[0].documentElement:this.scrollParent(n),u=s.getBoundingClientRect();if(a.top=u.top+s.clientTop,a.left=u.left+s.clientLeft,s===t[0].documentElement&&(a.top+=e.pageYOffset,a.left+=e.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var l=e.getComputedStyle(s);a.top+=this.parseStyle(l.paddingTop),a.bottom-=this.parseStyle(l.paddingBottom),a.left+=this.parseStyle(l.paddingLeft),a.right-=this.parseStyle(l.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(t){var e=o.auto.test(t);return e&&(t=t.replace(o.auto,"")),t=t.split("-"),t[0]=t[0]||"top",o.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",o.secondary.test(t[1])||(t[1]="center"),t[2]=e?!0:!1,t},positionElements:function(t,n,i,r){t=this.getRawNode(t),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var u=r?this.offset(t):this.position(t),l={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(t,r),h=e.getComputedStyle(n),p={width:a+Math.round(Math.abs(this.parseStyle(h.marginLeft)+this.parseStyle(h.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(h.marginTop)+this.parseStyle(h.marginBottom)))};if(i[0]="top"===i[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===i[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===i[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===i[0]&&p.width>c.right&&p.width<=c.left?"left":i[0],i[1]="top"===i[1]&&p.height-u.height>c.bottom&&p.height-u.height<=c.top?"bottom":"bottom"===i[1]&&p.height-u.height>c.top&&p.height-u.height<=c.bottom?"top":"left"===i[1]&&p.width-u.width>c.right&&p.width-u.width<=c.left?"right":"right"===i[1]&&p.width-u.width>c.left&&p.width-u.width<=c.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var d=u.width/2-a/2;c.left+d<0&&p.width-u.width<=c.right?i[1]="left":c.right+d<0&&p.width-u.width<=c.left&&(i[1]="right")}else{var f=u.height/2-p.height/2;c.top+f<0&&p.height-u.height<=c.bottom?i[1]="top":c.bottom+f<0&&p.height-u.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":l.top=u.top-s;break;case"bottom":l.top=u.top+u.height;break;case"left":l.left=u.left-a;break;case"right":l.left=u.left+u.width}switch(i[1]){case"top":l.top=u.top;break;case"bottom":l.top=u.top+u.height-s;break;case"left":l.left=u.left;break;case"right":l.left=u.left+u.width-a;break;case"center":o.vertical.test(i[0])?l.left=u.left+u.width/2-a/2:l.top=u.top+u.height/2-s/2}return l.top=Math.round(l.top),l.left=Math.round(l.left),l.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],l},positionArrow:function(t,n){t=this.getRawNode(t);var i=t.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=t.querySelector(r?".tooltip-arrow":".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var u="border-"+n[0]+"-width",l=e.getComputedStyle(a)[u],c="border-";c+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var h=e.getComputedStyle(r?i:t)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+l;break;case"bottom":s.top=r?"0":"-"+l;break;case"left":s.right=r?"0":"-"+l;break;case"right":s.left=r?"0":"-"+l}s[n[1]]=h,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(t,e,n,i,r,o,a,s,u,l,c,h,p,d,f,g){function m(e){var n=h.parse(e,w,t.date);if(isNaN(n))for(var i=0;i<P.length;i++)if(n=h.parse(e,P[i],t.date),!isNaN(n))return n;return n}function v(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=m(t);if(!isNaN(e))return h.toTimezone(e,L)}return D.$options&&D.$options.allowInvalid?t:void 0}function y(t,e){var i=t||e;return n.ngRequired||i?(angular.isNumber(i)&&(i=new Date(i)),i?angular.isDate(i)&&!isNaN(i)?!0:angular.isString(i)?!isNaN(m(e)):!1:!0):!0}function _(n){if(t.isOpen||!t.disabled){var i=O[0],r=e[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!t.isOpen||r||o||t.$apply(function(){t.isOpen=!1})}}function b(n){27===n.which&&t.isOpen?(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!1}),e[0].focus()):40!==n.which||t.isOpen||(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!0}))}function x(){if(t.isOpen){var i=angular.element(O[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:p.placement,o=l.positionElements(e,i,r,T);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}var w,k,T,S,$,C,A,M,I,D,E,O,P,L,N=!1,R=[];this.init=function(r){if(D=r,E=r.$options,k=angular.isDefined(n.closeOnDateSelection)?t.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,T=angular.isDefined(n.datepickerAppendToBody)?t.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,S=angular.isDefined(n.onOpenFocus)?t.$parent.$eval(n.onOpenFocus):p.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,C=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,P=angular.isDefined(n.altInputFormats)?t.$parent.$eval(n.altInputFormats):p.altInputFormats,t.showButtonBar=angular.isDefined(n.showButtonBar)?t.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(w=p.html5Types[n.type],N=!0):(w=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(t){var e=t||p.datepickerPopup;if(e!==w&&(w=e,D.$modelValue=null,!w))throw new Error("uibDatepickerPopup must have a date format specified.")})),!w)throw new Error("uibDatepickerPopup must have a date format specified.");if(N&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");A=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),E?(L=E.timezone,t.ngModelOptions=angular.copy(E),t.ngModelOptions.timezone=null,t.ngModelOptions.updateOnDefault===!0&&(t.ngModelOptions.updateOn=t.ngModelOptions.updateOn?t.ngModelOptions.updateOn+" default":"default"),A.attr("ng-model-options","ngModelOptions")):L=null,A.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$}),M=angular.element(A.children()[0]),M.attr("template-url",C),t.datepickerOptions||(t.datepickerOptions={}),N&&"month"===n.type&&(t.datepickerOptions.datepickerMode="month",t.datepickerOptions.minMode="month"),M.attr("datepicker-options","datepickerOptions"),N?D.$formatters.push(function(e){return t.date=h.fromTimezone(e,L),e}):(D.$$parserName="date",D.$validators.date=y,D.$parsers.unshift(v),D.$formatters.push(function(e){return D.$isEmpty(e)?(t.date=e,e):(angular.isNumber(e)&&(e=new Date(e)),t.date=h.fromTimezone(e,L),h.filter(t.date,w))})),D.$viewChangeListeners.push(function(){t.date=m(D.$viewValue)}),e.on("keydown",b),O=i(A)(t),A.remove(),T?s.find("body").append(O):e.after(O),t.$on("$destroy",function(){for(t.isOpen===!0&&(u.$$phase||t.$apply(function(){t.isOpen=!1})),O.remove(),e.off("keydown",b),s.off("click",_),I&&I.off("scroll",x),angular.element(a).off("resize",x);R.length;)R.shift()()})},t.getText=function(e){return t[e+"Text"]||p[e+"Text"]},t.isDisabled=function(e){"today"===e&&(e=h.fromTimezone(new Date,L));var n={};return angular.forEach(["minDate","maxDate"],function(e){t.datepickerOptions[e]?angular.isDate(t.datepickerOptions[e])?n[e]=h.fromTimezone(new Date(t.datepickerOptions[e]),L):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[e]=new Date(c(t.datepickerOptions[e],"medium"))):n[e]=null}),t.datepickerOptions&&n.minDate&&t.compare(e,n.minDate)<0||n.maxDate&&t.compare(e,n.maxDate)>0},t.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.dateSelection=function(n){angular.isDefined(n)&&(t.date=n);var i=t.date?h.filter(t.date,w):null;e.val(i),D.$setViewValue(i),k&&(t.isOpen=!1,e[0].focus())},t.keydown=function(n){27===n.which&&(n.stopPropagation(),t.isOpen=!1,e[0].focus())},t.select=function(e,n){if(n.stopPropagation(),"today"===e){var i=new Date;angular.isDate(t.date)?(e=new Date(t.date),e.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):e=new Date(i.setHours(0,0,0,0))}t.dateSelection(e)},t.close=function(n){n.stopPropagation(),t.isOpen=!1,e[0].focus()},t.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&R.push(t.$parent.$watch(o(n.ngDisabled),function(e){t.disabled=e})),t.$watch("isOpen",function(i){i?t.disabled?t.isOpen=!1:d(function(){x(),S&&t.$broadcast("uib:datepicker.focus"),s.on("click",_);var i=n.popupPlacement?n.popupPlacement:p.placement;T||l.parsePlacement(i)[2]?(I=I||angular.element(l.scrollParent(e)),I&&I.on("scroll",x)):I=null,angular.element(a).on("resize",x)},0,!1):(s.off("click",_),I&&I.off("scroll",x),angular.element(a).off("resize",x))}),t.$on("uib:datepicker.mode",function(){d(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&t.cancel(i),i=t(function(){e.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e,o){n||(t.on("click",i),o.on("keydown",r)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e,o){n===e&&(n=null,t.off("click",i),o.off("keydown",r))};var i=function(t){if(n&&!(t&&"disabled"===n.getAutoClose()||t&&3===t.which)){var i=n.getToggleElement();if(!(t&&i&&i[0].contains(t.target))){var r=n.getDropdownElement();t&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},r=function(t){27===t.which?(t.stopPropagation(),n.focusToggleElement(),i()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&n.isOpen&&(t.preventDefault(),t.stopPropagation(),n.focusDropdownEntry(t.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(t,e,n,i,r,o,a,s,u,l,c){var h,p,d=this,f=t.$new(),g=r.appendToOpenClass,m=r.openClass,v=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,_=!1,b=null,x=!1,w=u.find("body");e.addClass("dropdown"),this.init=function(){if(n.isOpen&&(p=i(n.isOpen),v=p.assign,t.$watch(p,function(t){f.isOpen=!!t})),angular.isDefined(n.dropdownAppendTo)){var r=i(n.dropdownAppendTo)(f);r&&(b=angular.element(r))}_=angular.isDefined(n.dropdownAppendToBody),x=angular.isDefined(n.keyboardNav),_&&!b&&(b=w),b&&d.dropdownMenu&&(b.append(d.dropdownMenu),e.on("$destroy",function(){d.dropdownMenu.remove()}))},this.toggle=function(t){return f.isOpen=arguments.length?!!t:!f.isOpen,angular.isFunction(v)&&v(f,f.isOpen),f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return d.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return e},f.isKeynavEnabled=function(){return x},f.focusDropdownEntry=function(t){var n=d.dropdownMenu?angular.element(d.dropdownMenu).find("a"):e.find("ul").eq(0).find("a");switch(t){case 40:d.selectedOption=angular.isNumber(d.selectedOption)?d.selectedOption===n.length-1?d.selectedOption:d.selectedOption+1:0;break;case 38:d.selectedOption=angular.isNumber(d.selectedOption)?0===d.selectedOption?0:d.selectedOption-1:n.length-1}n[d.selectedOption].focus()},f.getDropdownElement=function(){return d.dropdownMenu},f.focusToggleElement=function(){d.toggleElement&&d.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){if(b&&d.dropdownMenu){var r,u,p,x=s.positionElements(e,d.dropdownMenu,"bottom-left",!0);if(r={top:x.top+"px",display:n?"block":"none"},u=d.dropdownMenu.hasClass("dropdown-menu-right"),u?(r.left="auto",p=s.scrollbarWidth(!0),r.right=window.innerWidth-p-(x.left+e.prop("offsetWidth"))+"px"):(r.left=x.left+"px",r.right="auto"),!_){var w=s.offset(b);r.top=x.top-w.top+"px",u?r.right=window.innerWidth-(x.left-w.left+e.prop("offsetWidth"))+"px":r.left=x.left-w.left+"px"}d.dropdownMenu.css(r)}var k=b?b:e,T=k.hasClass(b?g:m);if(T===!n&&a[n?"addClass":"removeClass"](k,b?g:m).then(function(){angular.isDefined(n)&&n!==i&&y(t,{open:!!n})}),n)d.dropdownMenuTemplateUrl&&c(d.dropdownMenuTemplateUrl).then(function(t){h=f.$new(),l(t.trim())(h,function(t){var e=t;d.dropdownMenu.replaceWith(e),d.dropdownMenu=e})}),f.focusToggleElement(),o.open(f,e);else{if(d.dropdownMenuTemplateUrl){h&&h.$destroy();var S=angular.element('<ul class="dropdown-menu"></ul>');d.dropdownMenu.replaceWith(S),d.dropdownMenu=S}o.close(f,e),d.selectedOption=null}angular.isFunction(v)&&v(t,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,e,n,i){if(i){e.addClass("dropdown-toggle"),i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.bind("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e===t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e===t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,n){t[e]||(t[e]=[]),t[e].push(n)},remove:function(e,n){var i=t[e];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete t[e]}}}}}}).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(e,n){var i=t.resolver?e.get(t.resolver):null;return{resolve:function(t,r,o,a){if(i)return i.resolve(t,r,o,a);var s=[];return angular.forEach(t,function(t){s.push(angular.isFunction(t)||angular.isArray(t)?n.resolve(e.invoke(t)):angular.isString(t)?n.resolve(e.get(t)):n.resolve(t))}),n.all(s).then(function(e){var n={},i=0;return angular.forEach(t,function(t,r){n[r]=e[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(t,e,n){function i(e,i,r){r.modalInClass&&(t.addClass(i,r.modalInClass),e.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();e.modalOptions.animation?t.removeClass(i,r.modalInClass).then(a):a()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(t,e,n,i){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowClass||""),o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=e.defer();a.$observe("modalRender",function(t){"true"===t&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(t.NOW_CLOSING_EVENT,function(t,e){var i=e();n(o,{removeClass:a.modalInClass}).start().then(i)})),e.when(s).then(function(){var e=t.getTop();if(e&&t.modalRendered(e.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(t,e,n,i,r,o,a,s,u){function l(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function c(){for(var t=-1,e=x.keys(),n=0;n<e.length;n++)x.get(e[n]).value.backdrop&&(t=n);return t>-1&&T>t&&(t=T),t}function h(t,e){var n=x.get(t).value,i=n.appendTo;x.remove(t),S=x.top(),S&&(T=parseInt(S.value.modalDomEl.attr("index"),10)),f(n.modalDomEl,n.modalScope,function(){var e=n.openedClass||b;w.remove(e,t);var r=w.hasKey(e);i.toggleClass(e,r),!r&&_&&_.heightOverflow&&_.scrollbarWidth&&(i.css(_.originalRight?{paddingRight:_.originalRight+"px"}:{paddingRight:""}),_=null),p(!0)},n.closedDeferred),d(),e&&e.focus?e.focus():i.focus&&i.focus()}function p(t){var e;x.length()>0&&(e=x.top().value,e.modalDomEl.toggleClass(e.windowTopClass||"",t))}function d(){if(v&&-1===c()){var t=y;f(v,y,function(){t=null}),v=void 0,y=void 0}}function f(e,n,i,r){function a(){a.done||(a.done=!0,t.leave(e).then(function(){e.remove(),r&&r.resolve()}),n.$destroy(),i&&i())}var s,u=null,l=function(){return s||(s=o.defer(),u=s.promise),function(){s.resolve()}};return n.$broadcast(k.NOW_CLOSING_EVENT,l),o.when(u).then(a)}function g(t){if(t.isDefaultPrevented())return t;var e=x.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),r.$apply(function(){k.dismiss(e.key,"escape key press")}));break;case 9:var n=k.loadFocusElementList(e),i=!1;t.shiftKey?(k.isFocusInFirstItem(t,n)||k.isModalFocused(t,e))&&(i=k.focusLastFocusableElement(n)):k.isFocusInLastItem(t,n)&&(i=k.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}}function m(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var v,y,_,b="modal-open",x=s.createNew(),w=a.createNew(),k={NOW_CLOSING_EVENT:"modal.stack.now-closing"},T=0,S=null,$="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return r.$watch(c,function(t){y&&(y.index=t)}),n.on("keydown",g),r.$on("$destroy",function(){n.off("keydown",g)}),k.open=function(e,o){var a=n[0].activeElement,s=o.openedClass||b;p(!1),S=x.top(),x.add(e,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),w.put(s,e);var l=o.appendTo,h=c();if(!l.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");h>=0&&!v&&(y=r.$new(!0),y.modalOptions=o,y.index=h,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr("backdrop-class",o.backdropClass),o.animation&&v.attr("modal-animation","true"),i(v)(y),t.enter(v,l),_=u.scrollbarPadding(l),_.heightOverflow&&_.scrollbarWidth&&l.css({paddingRight:_.right+"px"})),T=S?parseInt(S.value.modalDomEl.attr("index"),10)+1:0;var d=angular.element('<div uib-modal-window="modal-window"></div>');d.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,"window-top-class":o.windowTopClass,size:o.size,index:T,animate:"animate"}).html(o.content),o.animation&&d.attr("modal-animation","true"),l.addClass(s),t.enter(i(d)(o.scope),l),x.top().value.modalDomEl=d,x.top().value.modalOpener=a},k.close=function(t,e){var n=x.get(t);return n&&m(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),h(t,n.value.modalOpener),!0):!n},k.dismiss=function(t,e){var n=x.get(t);return n&&m(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),h(t,n.value.modalOpener),!0):!n},k.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},k.getTop=function(){return x.top()},k.modalRendered=function(t){var e=x.get(t);e&&e.value.renderDeferred.resolve()},k.focusFirstFocusableElement=function(t){return t.length>0?(t[0].focus(),!0):!1},k.focusLastFocusableElement=function(t){return t.length>0?(t[t.length-1].focus(),!0):!1},k.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},k.isFocusInFirstItem=function(t,e){return e.length>0?(t.target||t.srcElement)===e[0]:!1},k.isFocusInLastItem=function(t,e){return e.length>0?(t.target||t.srcElement)===e[e.length-1]:!1},k.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll($);return n?Array.prototype.filter.call(n,function(t){return l(t)}):n}}},k}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(e,n,i,r,o,a,s){function u(t){return t.template?n.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}var l={},c=null;return l.getPromiseChain=function(){return c},l.open=function(r){function l(){return v}var h=n.defer(),p=n.defer(),d=n.defer(),f=n.defer(),g={result:h.promise,opened:p.promise,closed:d.promise,rendered:f.promise,close:function(t){return s.close(g,t)},dismiss:function(t){return s.dismiss(g,t)}};if(r=angular.extend({},t.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.template&&!r.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,v=n.all([u(r),a.resolve(r.resolve,{},null,null)]);return m=c=n.all([c]).then(l,l).then(function(t){var n=r.scope||e,i=n.$new();i.$close=g.close,i.$dismiss=g.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var a,u,l={};r.controller&&(l.$scope=i,l.$scope.$resolve={},l.$uibModalInstance=g,angular.forEach(t[1],function(t,e){l[e]=t,l.$scope.$resolve[e]=t}),u=o(r.controller,l,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(a=u.instance,a.$close=i.$close,a.$dismiss=i.$dismiss,angular.extend(a,{$resolve:l.$scope.$resolve},n)),a=u(),angular.isFunction(a.$onInit)&&a.$onInit()),s.open(g,{scope:i,deferred:h,renderDeferred:f,closedDeferred:d,content:t[0],animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo}),p.resolve(!0)},function(t){p.reject(t),h.reject(t)})["finally"](function(){c===m&&(c=null)}),g},l}]};return t}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(e,n,i){e.setNumPages=i.numPages?t(i.numPages).assign:angular.noop,e.ngModelCtrl={$setViewValue:angular.noop},e._watchers=[],e.init=function(t,r){e.ngModelCtrl=t,e.config=r,t.$render=function(){e.render()},i.itemsPerPage?e._watchers.push(n.$parent.$watch(i.itemsPerPage,function(t){e.itemsPerPage=parseInt(t,10),n.totalPages=e.calculateTotalPages(),e.updatePage()})):e.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(t,i){(angular.isDefined(t)||t!==i)&&(n.totalPages=e.calculateTotalPages(),e.updatePage())})},e.calculateTotalPages=function(){var t=e.itemsPerPage<1?1:Math.ceil(n.totalItems/e.itemsPerPage);return Math.max(t||0,1)},e.render=function(){n.page=parseInt(e.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(t,i){i&&i.preventDefault();var r=!n.ngDisabled||!i;r&&n.page!==t&&t>0&&t<=n.totalPages&&(i&&i.target&&i.target.blur(),e.ngModelCtrl.$setViewValue(t),e.ngModelCtrl.$render())},n.getText=function(t){return n[t+"Text"]||e.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},e.updatePage=function(){e.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):e.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;e._watchers.length;)e._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(t){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(e,n,i,r){var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,e,n,i,r){function o(t,e,n){return{number:t,text:e,active:n}}function a(t,e){var n=[],i=1,r=e,a=angular.isDefined(u)&&e>u;a&&(l?(i=Math.max(t-Math.floor(u/2),1),r=i+u-1,r>e&&(r=e,i=r-u+1)):(i=(Math.ceil(t/u)-1)*u+1,r=Math.min(i+u-1,e)));for(var s=i;r>=s;s++){var d=o(s,p(s),s===t);n.push(d)}if(a&&u>0&&(!l||c||h)){if(i>1){if(!h||i>3){var f=o(i-1,"...",!1);n.unshift(f)}if(h){if(3===i){var g=o(2,"2",!1);n.unshift(g)}var m=o(1,"1",!1);n.unshift(m)}}if(e>r){if(!h||e-2>r){var v=o(r+1,"...",!1);n.push(v)}if(h){if(r===e-2){var y=o(e-1,e-1,!1);n.push(y)}var _=o(e,e,!1);n.push(_)}}}return n}var s=this,u=angular.isDefined(e.maxSize)?t.$parent.$eval(e.maxSize):r.maxSize,l=angular.isDefined(e.rotate)?t.$parent.$eval(e.rotate):r.rotate,c=angular.isDefined(e.forceEllipses)?t.$parent.$eval(e.forceEllipses):r.forceEllipses,h=angular.isDefined(e.boundaryLinkNumbers)?t.$parent.$eval(e.boundaryLinkNumbers):r.boundaryLinkNumbers,p=angular.isDefined(e.pageLabel)?function(n){return t.$parent.$eval(e.pageLabel,{$page:n})}:angular.identity;t.boundaryLinks=angular.isDefined(e.boundaryLinks)?t.$parent.$eval(e.boundaryLinks):r.boundaryLinks,t.directionLinks=angular.isDefined(e.directionLinks)?t.$parent.$eval(e.directionLinks):r.directionLinks,i.create(this,t,e),e.maxSize&&s._watchers.push(t.$parent.$watch(n(e.maxSize),function(t){u=parseInt(t,10),s.render()}));var d=this.render;this.render=function(){d(),t.page>0&&t.page<=t.totalPages&&(t.pages=a(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,e){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,o,a,s,u,l,c,h,p){function d(t){if(27===t.which){var e=f.top();e&&(e.value.close(),f.removeTop(),e=null)}}var f=p.createNew();return s.on("keypress",d),c.$on("$destroy",function(){s.off("keypress",d)}),function(r,c,p,d){function g(t){var e=(t||d.trigger||p).split(" "),i=e.map(function(t){return n[t]||t});return{show:e,hide:i}}d=angular.extend({},e,i,d);var m=t(r),v=l.startSymbol(),y=l.endSymbol(),_="<div "+m+'-popup uib-title="'+v+"title"+y+'" '+(d.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';
return{compile:function(){var t=o(_);return function(e,n,i){function o(){U.isOpen?p():l()}function l(){(!R||e.$eval(i[c+"Enable"]))&&(_(),w(),U.popupDelay?D||(D=a(m,U.popupDelay,!1)):m())}function p(){v(),U.popupCloseDelay?E||(E=a(y,U.popupCloseDelay,!1)):y()}function m(){return v(),_(),U.content?(b(),void U.$evalAsync(function(){U.isOpen=!0,k(!0),j()})):angular.noop}function v(){D&&(a.cancel(D),D=null),O&&(a.cancel(O),O=null)}function y(){U&&U.$evalAsync(function(){U&&(U.isOpen=!1,k(!1),U.animation?I||(I=a(x,150,!1)):x())})}function _(){E&&(a.cancel(E),E=null),I&&(a.cancel(I),I=null)}function b(){A||(M=U.$new(),A=t(M,function(t){L?s.find("body").append(t):n.after(t)}),T())}function x(){v(),_(),S(),A&&(A.remove(),A=null),M&&(M.$destroy(),M=null)}function w(){U.title=i[c+"Title"],U.content=V?V(e):i[r],U.popupClass=i[c+"Class"],U.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:d.placement;var t=u.parsePlacement(U.placement);P=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[c+"PopupDelay"],10),o=parseInt(i[c+"PopupCloseDelay"],10);U.popupDelay=isNaN(n)?d.popupDelay:n,U.popupCloseDelay=isNaN(o)?d.popupCloseDelay:o}function k(t){W&&angular.isFunction(W.assign)&&W.assign(e,t)}function T(){B.length=0,V?(B.push(e.$watch(V,function(t){U.content=t,!t&&U.isOpen&&y()})),B.push(M.$watch(function(){K||(K=!0,M.$$postDigest(function(){K=!1,U&&U.isOpen&&j()}))}))):B.push(i.$observe(r,function(t){U.content=t,!t&&U.isOpen?y():j()})),B.push(i.$observe(c+"Title",function(t){U.title=t,U.isOpen&&j()})),B.push(i.$observe(c+"Placement",function(t){U.placement=t?t:d.placement,U.isOpen&&j()}))}function S(){B.length&&(angular.forEach(B,function(t){t()}),B.length=0)}function $(t){U&&U.isOpen&&A&&(n[0].contains(t.target)||A[0].contains(t.target)||p())}function C(){var t=i[c+"Trigger"];H(),N=g(t),"none"!==N.show&&N.show.forEach(function(t,e){"outsideClick"===t?(n.on("click",o),s.on("click",$)):t===N.hide[e]?n.on(t,o):t&&(n.on(t,l),n.on(N.hide[e],p)),n.on("keypress",function(t){27===t.which&&p()})})}var A,M,I,D,E,O,P,L=angular.isDefined(d.appendToBody)?d.appendToBody:!1,N=g(void 0),R=angular.isDefined(i[c+"Enable"]),U=e.$new(!0),K=!1,W=angular.isDefined(i[c+"IsOpen"])?h(i[c+"IsOpen"]):!1,V=d.useContentExp?h(i[r]):!1,B=[],j=function(){A&&A.html()&&(O||(O=a(function(){var t=u.positionElements(n,A,U.placement,L);A.css({top:t.top+"px",left:t.left+"px"}),A.hasClass(t.placement.split("-")[0])||(A.removeClass(P.split("-")[0]),A.addClass(t.placement.split("-")[0])),A.hasClass(d.placementClassPrefix+t.placement)||(A.removeClass(d.placementClassPrefix+P),A.addClass(d.placementClassPrefix+t.placement)),A.hasClass("uib-position-measure")?(u.positionArrow(A,t.placement),A.removeClass("uib-position-measure")):P!==t.placement&&u.positionArrow(A,t.placement),P=t.placement,O=null},0,!1)))};U.origScope=e,U.isOpen=!1,f.add(U,{close:y}),U.contentExp=function(){return U.content},i.$observe("disabled",function(t){t&&v(),t&&U.isOpen&&y()}),W&&e.$watch(W,function(t){U&&!t===U.isOpen&&o()});var H=function(){N.show.forEach(function(t){"outsideClick"===t?n.off("click",o):(n.off(t,l),n.off(t,o))}),N.hide.forEach(function(t){"outsideClick"===t?s.off("click",$):n.off(t,p)})};C();var z=e.$eval(i[c+"Animation"]);U.animation=angular.isDefined(z)?!!z:d.animation;var F,q=c+"AppendToBody";F=q in i&&void 0===i[q]?!0:e.$eval(i[q]),L=angular.isDefined(F)?F:L,e.$on("$destroy",function(){H(),x(),f.remove(U),U=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,o,a){var s,u,l,c=r.$eval(a.tooltipTemplateTranscludeScope),h=0,p=function(){u&&(u.remove(),u=null),s&&(s.$destroy(),s=null),l&&(t.leave(l).then(function(){u=null}),u=l,l=null)};r.$watch(e.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(e){var a=++h;e?(i(e,!0).then(function(i){if(a===h){var r=c.$new(),u=i,d=n(u)(r,function(e){p(),t.enter(e,o)});s=r,l=d,s.$emit("$includeContentLoaded",e)}},function(){a===h&&(p(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):p()}),r.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(e,n,i){if(e.placement){var r=t.parsePlacement(e.placement);n.addClass(r[0])}e.popupClass&&n.addClass(e.popupClass),e.animation()&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){function i(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}var r=this,o=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=i(),this.addBar=function(t,e,n){o||e.css({transition:"none"}),this.bars.push(t),t.max=i(),t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=r.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,r.removeBar(t)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(){r.bars.forEach(function(t){t.max=i(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,e,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff,this.enableReset=angular.isDefined(e.enableReset)?t.$parent.$eval(e.enableReset):n.enableReset;var o=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){if(!t.readonly&&e>=0&&e<=t.range.length){var n=r.enableReset&&i.$viewValue===e?0:e;i.$setViewValue(n),i.$render()}},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue,t.title=r.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function e(t){for(var e=0;e<i.tabs.length;e++)if(i.tabs[e].index===t)return e}var n,i=this;i.tabs=[],i.select=function(t,o){if(!r){var a=e(n),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:t}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var u=i.tabs[t];u?(u.tab.onSelect({$event:o}),u.tab.active=!0,i.active=u.index,n=u.index):!u&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(t){if(i.tabs.push({tab:t,index:t.index}),i.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=e(t.index);i.select(n)}},i.removeTab=function(t){for(var e,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===t){e=n;break}if(i.tabs[e].index===i.active){var r=e===i.tabs.length-1?e-1:e+1%i.tabs.length;i.select(r)}i.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==n&&i.select(e(t))});var r;t.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(e,n,i,r,o){e.disabled=!1,i.disable&&e.$parent.$watch(t(i.disable),function(t){e.disabled=!!t}),angular.isUndefined(i.index)&&(e.index=r.tabs&&r.tabs.length?Math.max.apply(null,r.tabs.map(function(t){return t.index}))+1:0),angular.isUndefined(i.classes)&&(e.classes=""),e.select=function(t){if(!e.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===e){n=i;break}r.select(n,t)}},r.addTab(e),e.$on("$destroy",function(){r.removeTab(e)}),e.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(e,n,i){var r=e.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(t,e,n,i,r,o,a){function s(){var e=+t.hours,n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n&&""!==t.hours?(t.showMeridian&&(12===e&&(e=0),t.meridian===x[1]&&(e+=12)),e):void 0}function u(){var e=+t.minutes,n=e>=0&&60>e;return n&&""!==t.minutes?e:void 0}function l(){var e=+t.seconds;return e>=0&&60>e?e:void 0}function c(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function h(t){p(),b.$setViewValue(new Date(y)),d(t)}function p(){b.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1,t.invalidSeconds=!1}function d(e){if(b.$modelValue){var n=y.getHours(),i=y.getMinutes(),r=y.getSeconds();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:c(n,!w),"m"!==e&&(t.minutes=c(i)),t.meridian=y.getHours()<12?x[0]:x[1],"s"!==e&&(t.seconds=c(r)),t.meridian=y.getHours()<12?x[0]:x[1]}else t.hours=null,t.minutes=null,t.seconds=null,t.meridian=x[0]}function f(t){y=m(y,t),h()}function g(t,e){return m(t,60*e)}function m(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return!(null!==t.hours&&""!==t.hours||null!==t.minutes&&""!==t.minutes||t.showSeconds&&(!t.showSeconds||null!==t.seconds&&""!==t.seconds))}var y=new Date,_=[],b={$setViewValue:angular.noop},x=angular.isDefined(n.meridians)?t.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,w=angular.isDefined(n.padHours)?t.$parent.$eval(n.padHours):!0;t.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,i){b=e,b.$render=this.render,b.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),o=i.eq(1),s=i.eq(2),u=angular.isDefined(n.mousewheel)?t.$parent.$eval(n.mousewheel):a.mousewheel;u&&this.setupMousewheelEvents(r,o,s);var l=angular.isDefined(n.arrowkeys)?t.$parent.$eval(n.arrowkeys):a.arrowkeys;l&&this.setupArrowkeyEvents(r,o,s),t.readonlyInput=angular.isDefined(n.readonlyInput)?t.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var k=a.hourStep;n.hourStep&&_.push(t.$parent.$watch(i(n.hourStep),function(t){k=+t}));var T=a.minuteStep;n.minuteStep&&_.push(t.$parent.$watch(i(n.minuteStep),function(t){T=+t}));var S;_.push(t.$parent.$watch(i(n.min),function(t){var e=new Date(t);S=isNaN(e)?void 0:e}));var $;_.push(t.$parent.$watch(i(n.max),function(t){var e=new Date(t);$=isNaN(e)?void 0:e}));var C=!1;n.ngDisabled&&_.push(t.$parent.$watch(i(n.ngDisabled),function(t){C=t})),t.noIncrementHours=function(){var t=g(y,60*k);return C||t>$||y>t&&S>t},t.noDecrementHours=function(){var t=g(y,60*-k);return C||S>t||t>y&&t>$},t.noIncrementMinutes=function(){var t=g(y,T);return C||t>$||y>t&&S>t},t.noDecrementMinutes=function(){var t=g(y,-T);return C||S>t||t>y&&t>$},t.noIncrementSeconds=function(){var t=m(y,A);return C||t>$||y>t&&S>t},t.noDecrementSeconds=function(){var t=m(y,-A);return C||S>t||t>y&&t>$},t.noToggleMeridian=function(){return y.getHours()<12?C||g(y,720)>$:C||g(y,-720)<S};var A=a.secondStep;n.secondStep&&_.push(t.$parent.$watch(i(n.secondStep),function(t){A=+t})),t.showSeconds=a.showSeconds,n.showSeconds&&_.push(t.$parent.$watch(i(n.showSeconds),function(e){t.showSeconds=!!e})),t.showMeridian=a.showMeridian,n.showMeridian&&_.push(t.$parent.$watch(i(n.showMeridian),function(e){if(t.showMeridian=!!e,b.$error.time){var n=s(),i=u();angular.isDefined(n)&&angular.isDefined(i)&&(y.setHours(n),h())}else d()})),this.setupMousewheelEvents=function(e,n,i){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){C||t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){C||t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()}),i.bind("mousewheel wheel",function(e){C||t.$apply(r(e)?t.incrementSeconds():t.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n,i){e.bind("keydown",function(e){C||(38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply()))}),n.bind("keydown",function(e){C||(38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply()))}),i.bind("keydown",function(e){C||(38===e.which?(e.preventDefault(),t.incrementSeconds(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementSeconds(),t.$apply()))})},this.setupInputEvents=function(e,n,i){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void(t.updateSeconds=angular.noop);var r=function(e,n,i){b.$setViewValue(null),b.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n),angular.isDefined(i)&&(t.invalidSeconds=i)};t.updateHours=function(){var t=s(),e=u();b.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(y.setHours(t),y.setMinutes(e),S>y||y>$?r(!0):h("h")):r(!0)},e.bind("blur",function(){b.$setTouched(),v()?p():null===t.hours||""===t.hours?r(!0):!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=c(t.hours,!w)})}),t.updateMinutes=function(){var t=u(),e=s();b.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(y.setHours(e),y.setMinutes(t),S>y||y>$?r(void 0,!0):h("m")):r(void 0,!0)},n.bind("blur",function(){b.$setTouched(),v()?p():null===t.minutes?r(void 0,!0):!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=c(t.minutes)})}),t.updateSeconds=function(){var t=l();b.$setDirty(),angular.isDefined(t)?(y.setSeconds(t),h("s")):r(void 0,void 0,!0)},i.bind("blur",function(){v()?p():!t.invalidSeconds&&t.seconds<10&&t.$apply(function(){t.seconds=c(t.seconds)})})},this.render=function(){var e=b.$viewValue;isNaN(e)?(b.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(y=e),S>y||y>$?(b.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):p(),d())},t.showSpinners=angular.isDefined(n.showSpinners)?t.$parent.$eval(n.showSpinners):a.showSpinners,t.incrementHours=function(){t.noIncrementHours()||f(60*k*60)},t.decrementHours=function(){t.noDecrementHours()||f(60*-k*60)},t.incrementMinutes=function(){t.noIncrementMinutes()||f(60*T)},t.decrementMinutes=function(){t.noDecrementMinutes()||f(60*-T)},t.incrementSeconds=function(){t.noIncrementSeconds()||f(A)},t.decrementSeconds=function(){t.noDecrementSeconds()||f(-A)},t.toggleMeridian=function(){var e=u(),n=s();t.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(n)?f(720*(y.getHours()<12?60:-60)):t.meridian=t.meridian===x[0]?x[1]:x[0])},t.blur=function(){b.$setTouched()},t.$on("$destroy",function(){for(;_.length;)_.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(t){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,n){return n.templateUrl||t.templateUrl},link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,n,i,r,o,a,s,u,l,c,h,p){function d(){W.moveInProgress||(W.moveInProgress=!0,W.$digest()),X()}function f(){W.position=I?h.offset(e):h.position(e),W.position.top+=e.prop("offsetHeight")}var g,m,v=[9,13,27,38,40],y=200,_=t.$eval(n.typeaheadMinLength);_||0===_||(_=1),t.$watch(n.typeaheadMinLength,function(t){_=t||0===t?t:1});var b=t.$eval(n.typeaheadWaitMs)||0,x=t.$eval(n.typeaheadEditable)!==!1;t.$watch(n.typeaheadEditable,function(t){x=t!==!1});var w,k,T=r(n.typeaheadLoading).assign||angular.noop,S=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},$=r(n.typeaheadOnSelect),C=angular.isDefined(n.typeaheadSelectOnBlur)?t.$eval(n.typeaheadSelectOnBlur):!1,A=r(n.typeaheadNoResults).assign||angular.noop,M=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,I=n.typeaheadAppendToBody?t.$eval(n.typeaheadAppendToBody):!1,D=n.typeaheadAppendTo?t.$eval(n.typeaheadAppendTo):null,E=t.$eval(n.typeaheadFocusFirst)!==!1,O=n.typeaheadSelectOnExact?t.$eval(n.typeaheadSelectOnExact):!1,P=r(n.typeaheadIsOpen).assign||angular.noop,L=t.$eval(n.typeaheadShowHint)||!1,N=r(n.ngModel),R=r(n.ngModel+"($$$p)"),U=function(e,n){return angular.isFunction(N(t))&&m&&m.$options&&m.$options.getterSetter?R(e,{$$$p:n}):N.assign(e,n)},K=p.parse(n.uibTypeahead),W=t.$new(),V=t.$on("$destroy",function(){W.$destroy()});W.$on("$destroy",V);var B="typeahead-"+W.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":B});var j,H;L&&(j=angular.element("<div></div>"),j.css("position","relative"),e.after(j),H=e.clone(),H.attr("placeholder",""),H.attr("tabindex","-1"),H.val(""),H.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),j.append(H),H.after(e));var z=angular.element("<div uib-typeahead-popup></div>");z.attr({id:B,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&z.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&z.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var F=function(){L&&H.val("")},q=function(){W.matches=[],W.activeIdx=-1,e.attr("aria-expanded",!1),F()},G=function(t){return B+"-option-"+t};W.$watch("activeIdx",function(t){0>t?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",G(t))});var Y=function(t,e){return W.matches.length>e&&t?t.toUpperCase()===W.matches[e].label.toUpperCase():!1},Z=function(n,i){var r={$viewValue:n};T(t,!0),A(t,!1),o.when(K.source(t,r)).then(function(o){var a=n===g.$viewValue;if(a&&w)if(o&&o.length>0){W.activeIdx=E?0:-1,A(t,!1),W.matches.length=0;for(var s=0;s<o.length;s++)r[K.itemName]=o[s],W.matches.push({id:G(s),label:K.viewMapper(W,r),model:o[s]});if(W.query=n,f(),e.attr("aria-expanded",!0),O&&1===W.matches.length&&Y(n,0)&&(angular.isNumber(W.debounceUpdate)||angular.isObject(W.debounceUpdate)?c(function(){W.select(0,i)},angular.isNumber(W.debounceUpdate)?W.debounceUpdate:W.debounceUpdate["default"]):W.select(0,i)),L){var u=W.matches[0].label;H.val(angular.isString(n)&&n.length>0&&u.slice(0,n.length).toUpperCase()===n.toUpperCase()?n+u.slice(n.length):"")}}else q(),A(t,!0);a&&T(t,!1)},function(){q(),T(t,!1),A(t,!0)})};I&&(angular.element(u).on("resize",d),s.find("body").on("scroll",d));var X=c(function(){W.matches.length&&f(),W.moveInProgress=!1},y);W.moveInProgress=!1,W.query=void 0;var J,Q=function(t){J=a(function(){Z(t)},b)},te=function(){J&&a.cancel(J)};q(),W.assignIsOpen=function(e){P(t,e)},W.select=function(i,r){var o,s,u={};k=!0,u[K.itemName]=s=W.matches[i].model,o=K.modelMapper(t,u),U(t,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),$(t,{$item:s,$model:o,$label:K.viewMapper(t,u),$event:r}),q(),W.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){e[0].focus()},0,!1)},e.on("keydown",function(e){if(0!==W.matches.length&&-1!==v.indexOf(e.which)){var n=S(t,{$event:e});if(-1===W.activeIdx&&n||9===e.which&&e.shiftKey)return q(),void W.$digest();e.preventDefault();var i;switch(e.which){case 27:e.stopPropagation(),q(),t.$digest();break;case 38:W.activeIdx=(W.activeIdx>0?W.activeIdx:W.matches.length)-1,W.$digest(),i=z.find("li")[W.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:W.activeIdx=(W.activeIdx+1)%W.matches.length,W.$digest(),i=z.find("li")[W.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&W.$apply(function(){angular.isNumber(W.debounceUpdate)||angular.isObject(W.debounceUpdate)?c(function(){W.select(W.activeIdx,e)},angular.isNumber(W.debounceUpdate)?W.debounceUpdate:W.debounceUpdate["default"]):W.select(W.activeIdx,e)})}}}),e.bind("focus",function(t){w=!0,0!==_||g.$viewValue||a(function(){Z(g.$viewValue,t)},0)}),e.bind("blur",function(t){C&&W.matches.length&&-1!==W.activeIdx&&!k&&(k=!0,W.$apply(function(){angular.isObject(W.debounceUpdate)&&angular.isNumber(W.debounceUpdate.blur)?c(function(){W.select(W.activeIdx,t)},W.debounceUpdate.blur):W.select(W.activeIdx,t)})),!x&&g.$error.editable&&(g.$setViewValue(),g.$setValidity("editable",!0),g.$setValidity("parse",!0),e.val("")),w=!1,k=!1});var ee=function(n){e[0]!==n.target&&3!==n.which&&0!==W.matches.length&&(q(),l.$$phase||t.$digest())};s.on("click",ee),t.$on("$destroy",function(){s.off("click",ee),(I||D)&&ne.remove(),I&&(angular.element(u).off("resize",d),s.find("body").off("scroll",d)),z.remove(),L&&j.remove()});var ne=i(z)(W);I?s.find("body").append(ne):D?angular.element(D).eq(0).append(ne):e.after(ne),this.init=function(e,n){g=e,m=n,W.debounceUpdate=g.$options&&r(g.$options.debounce)(t),g.$parsers.unshift(function(e){return w=!0,0===_||e&&e.length>=_?b>0?(te(),Q(e)):Z(e):(T(t,!1),te(),q()),x?e:e?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(e){var n,i,r={};return x||g.$setValidity("editable",!0),M?(r.$model=e,M(t,r)):(r[K.itemName]=e,n=K.viewMapper(t,r),r[K.itemName]=void 0,i=K.viewMapper(t,r),n!==i?n:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(t,e,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,n,i){e.templateUrl=i.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(n,i){var r=e.debounce();angular.isNumber(r)||angular.isObject(r)?t(function(){e.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r["default"]):e.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";t(a).then(function(t){var n=angular.element(t.trim());r.replaceWith(n),e(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,n){function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(t){return/<.*>/g.test(t)}var o;return o=e.has("$sanitize"),function(e,a){return!o&&r(e)&&n.warn("Unsafe use of typeahead please use ngSanitize"),e=a?(""+e).replace(new RegExp(i(a),"gi"),"<strong>$&</strong>"):e,o||(e=t.trustAsHtml(e)),e}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')
}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),"undefined"==typeof jQuery&&"object"==typeof process&&"object"==typeof process.versions)var XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest;!function(){var t=function(){Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in r)t.call(r,a)&&o.push(a);if(e)for(var s=0;i>s;s++)t.call(r,n[s])&&o.push(n[s]);return o}}()),/**@license MIT-promiscuous library-2013 Ruben Verborgh*/
"undefined"==typeof Promise&&/**@license MIT-promiscuous-Ruben Verborgh*/
!function(t,e){function n(t,e){return(typeof e)[0]==t}function i(o,a){return a=function s(u,l,c,h,p,d){function f(t){return function(e){p&&(p=0,s(n,t,e))}}if(h=s.q,u!=n)return i(function(t,e){h.push({p:this,r:t,j:e,1:u,0:l})});if(c&&n(t,c)|n(e,c))try{p=c.then}catch(g){l=0,c=g}if(n(t,p))try{p.call(c,f(1),l=f(0))}catch(g){l(g)}else for(a=function(e,a){return n(t,e=l?e:a)?i(function(t,n){r(this,t,n,c,e)}):o},d=0;d<h.length;)p=h[d++],n(t,u=p[l])?r(p.p,p.r,p.j,c,u):(l?p.r:p.j)(c)},a.q=[],o.call(o={then:function(t,e){return a(t,e)},"catch":function(t){return a(0,t)}},function(t){a(n,1,t)},function(t){a(n,0,t)}),o}function r(i,r,o,a,s){setTimeout(function(){try{a=s(a),s=a&&n(e,a)|n(t,a)&&a.then,n(t,s)?a==i?o(TypeError()):s.call(a,r,o):r(a)}catch(u){o(u)}})}function o(t){return i(function(e){e(t)})}Promise=i,i.resolve=o,i.reject=function(t){return i(function(e,n){n(t)})},i.all=function(t){return i(function(e,n,i,r){r=[],i=t.length||e(r),t.map(function(t,a){o(t).then(function(t){r[a]=t,--i||e(r)},n)})})}}("f","o");var t,e,n,i,r,o,a,s,u,l,c,h,p,d,f,g,m,v=function(t,e){return function(){return t.apply(e,arguments)}},y={}.hasOwnProperty,_=function(t,e){function n(){this.constructor=t}for(var i in e)y.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};return d="undefined"!=typeof exports&&null!==exports?new Object:this,d.KiiSocialNetworkName={FACEBOOK:1,TWITTER:2,QQ:3,GOOGLEPLUS:4,RENREN:5},d.KiiSite={US:"https://api.kii.com/api",JP:"https://api-jp.kii.com/api",CN:"https://api-cn2.kii.com/api",SG:"https://api-sg.kii.com/api",CN3:"https://api-cn3.kii.com/api",EU:"https://api-eu.kii.com/api"},d.Kii=function(){function t(){}var e,n;return n=null,e=null,t.getBuildNumber=function(){return"1"},t.getSDKVersion=function(){return"2.4.7"},t.getBaseURL=function(){return n._baseURL},t.getAppID=function(){return n._appID},t.getAdditionalHeaders=function(){return e},t.setAdditionalHeaders=function(t){return e=t},t.getAppKey=function(){return n._appKey},t.isLogging=function(){return n._logging},t.setLogging=function(t){return n._logging=t,d.Kii.logger("Setting logging: "+t),d.Kii.logger("Base URL: "+n._baseURL)},t.setAccessTokenExpiration=function(t){if(!n)throw new d.IllegalStateException("Kii is not initialized");if(isNaN(parseInt(t,10)))throw new d.InvalidArgumentException("expiresIn should be a number");if(0>t)throw new d.InvalidArgumentException("expiresIn should not negative number");return n?n._expiresIn=t:void 0},t.getAccessTokenExpiration=function(){if(!n)throw new d.IllegalStateException("Kii is not initialized");return n._expiresIn},t.initializeWithSite=function(t,e,i,r){return n=new f(t,e,i),d.Kii.logger("Initialized "+t+", "+e+", "+i),"object"===l._type(r)?d.KiiAnalytics._initializeWithSite(t,e,i,r.deviceId):void 0},t.initialize=function(t,e,n){return d.Kii.initializeWithSite(t,e,d.KiiSite.US,n)},t.logger=function(t){return n._logging?console.log(t):void 0},t.bucketWithName=function(t){var e;return e=new d.KiiBucket(t,null)},t.encryptedBucketWithName=function(t){var e;return e=new d.KiiEncryptedBucket(t,null)},t.groupWithName=function(t){return new d.Kii.groupWithNameAndMembers(t,null)},t.groupWithNameAndMembers=function(t,e){return new d.KiiGroup.groupWithNameAndMembers(t,e)},t.logOut=function(){return n._currentUser=null,d.KiiSocialConnect.logOutAll()},t.loggedIn=function(){return null!=n._currentUser},t.getCurrentUser=function(){var t;return null!=n._currentUser?(t=new d.KiiUser,t._uuid=n._currentUser._uuid,t._username=n._currentUser._username,t._displayName=n._currentUser._displayName,t._password=n._currentUser._password,t._emailAddress=n._currentUser._emailAddress,t._phoneNumber=n._currentUser._phoneNumber,t._country=n._currentUser._country,t._created=n._currentUser._created,t._modified=n._currentUser._modified,t._emailVerified=n._currentUser._emailVerified,t._phoneVerified=n._currentUser._phoneVerified,t._accessToken=n._currentUser._accessToken,t._customInfo=n._currentUser._customInfo,t._expiresAt=n._currentUser._expiresAt,t._thirdPartyAccounts=n._currentUser._thirdPartyAccounts,t._disabled=n._currentUser._disabled,d.Kii.logger("my instance:"),d.Kii.logger(t),t):null},t.setCurrentUser=function(t){return n._currentUser=new d.KiiUser,n._currentUser._uuid=t._uuid,n._currentUser._username=t._username,n._currentUser._displayName=t._displayName,n._currentUser._password=t._password,n._currentUser._emailAddress=t._emailAddress,n._currentUser._phoneNumber=t._phoneNumber,n._currentUser._country=t._country,n._currentUser._created=t._created,n._currentUser._modified=t._modified,n._currentUser._emailVerified=t._emailVerified,n._currentUser._phoneVerified=t._phoneVerified,n._currentUser._accessToken=t._accessToken,n._currentUser._customInfo=t._customInfo,n._currentUser._expiresAt=t._expiresAt,n._currentUser._thirdPartyAccounts=t._thirdPartyAccounts,n._currentUser._disabled=t._disabled,d.Kii.logger("my instance:"),d.Kii.logger(n._currentUser)},t.authenticateAsAppAdmin=function(t,e,n){return new Promise(function(i){return function(r,o){var a;return a={success:function(){return null!=n&&n.success.apply(n,arguments),r(arguments[0])},failure:function(){return null!=n&&n.failure.apply(n,arguments),o(l._Error(arguments[0]))}},i._authenticateAsAppAdminUsingCallbacks(t,e,a)}}(this))},t._authenticateAsAppAdminUsingCallbacks=function(t,e,n){var i,r;return r=new a("/oauth2/token",!1),r.setAnonymous(!0),r.setMethod("POST"),r.setData({client_id:t,client_secret:e}),i={success:function(){return function(t){var e,i,r;return r=t.access_token,i=t.id,d.Kii.logger("token: "+r),d.Kii.logger("id: "+i),e=new d.KiiAppAdminContext({token:r,id:i}),null!=n?n.success(e):void 0}}(this),failure:function(){return function(t,e){return d.Kii.logger("error: "+t),d.Kii.logger("statusCode: "+e),null!=n?n.failure(t,e):void 0}}(this)},r.execute(i,!1)},t.authenticateAsAdminWithToken=function(t){return new d.KiiAppAdminContext({token:t})},t.serverCodeEntry=function(t){if(!l._validateServerCodeEntryName(t))throw new d.InvalidArgumentException("entryName is invalid");return new d.KiiServerCodeEntry(t)},t.serverCodeEntryWithVersion=function(t,e){if(!l._validateServerCodeEntryName(t))throw new d.InvalidArgumentException("entryName is invalid");if(!l._validateServerCodeEnryVersion(e))throw new d.InvalidArgumentException("version is invalid");return new d.KiiServerCodeEntry(t,e)},t._setHttpRequestType=function(t){return d.Kii.logger("Set http request as "+t),n._httpRequestType=t},t._getHttpRequestType=function(){return n._httpRequestType},t._getKiiUtilities=function(){return l},t.topicWithName=function(t){var e;if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");return e=""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID(),new d.KiiTopic(e,t)},t.listTopics=function(e,n){return t._listTopics(e,n)},t._listTopics=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=e&&e.success.apply(e,arguments),r(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),o(arguments[0])}},t._listTopicsUsingCallbacks(a,n,i)})},t._listTopicsUsingCallbacks=function(e,n,i){var r,o,a;return o=""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/topics","string"==typeof n&&""!==n&&(o=o+"?paginationKey="+encodeURIComponent(n)),a=h.createXHRWrapper("GET",o),a.setKiiHeaders(),null!=i?a.setAuthToken(i._getToken()):a.setCurrentUserToken(),r={success:function(){var n,i,r,o,s,u;for(n=JSON.parse(a.xhr.responseText),r=[],u=n.topics,o=0,s=u.length;s>o;o++)i=u[o],r.push(t.topicWithName(i.topicID));return null!=e?e.success(r,void 0===n.paginationKey?null:n.paginationKey):void 0},failure:function(){var n,i;return i=a.getErrorString("list topics"),n=l._Error(i,t),null!=e?e.failure(n):void 0}},a.send(r)},t.authenticateAsThing=function(t,e,n){return new Promise(function(){return function(i,r){var o,a,s;return l._isNonEmptyString(t)&&l._isNonEmptyString(e)?(s=h.createXHRWrapper("POST",""+d.Kii.getBaseURL()+"/oauth2/token"),s.setKiiHeaders(),s.setContentType("application/vnd.kii.OauthTokenRequest+json"),a={success:function(){var e,a,u,c,h;return u=JSON.parse(decodeURIComponent(s.xhr.responseText)),h=u.id,e=u.access_token,null!=h&&null!=e?(c=new d.KiiThingContext({thingId:h,token:e,vendorThingID:t}),null!=n&&n.success(c),i(c)):(a=s.getErrorString("invalid format response when authenticate thing "),o=l._Error(a),null!=n&&n.failure(o),r(o))},failure:function(){var t;return t=s.getErrorString("authenticate as thing"),o=l._Error(t),null!=n&&n.failure(o),r(o)}},s.sendData(JSON.stringify({username:"VENDOR_THING_ID:"+t,password:e}),a)):(o=l._Error("vendorThingID or password is invalid"),null!=n&&n.failure(o),void r(o))}}(this))},t.authenticateAsThingWithToken=function(t,e,n){return new Promise(function(){return function(i,r){var o,a;return l._isNonEmptyString(t)&&l._isNonEmptyString(e)?(a=new d.KiiThingContext({thingId:t,token:e}),null!=n&&n.success(a),i(a)):(o=l._Error("thingID or token is invalid"),null!=n&&n.failure(o),r(o))}}(this))},t}(),d._KiiHttpRequestType={jQuery:"jQuery",XMLHttpRequest:"XMLHttpRequest",Titanium:"Titanium"},f=function(){function t(t,e,n){this._appKey=e,this._appID=t,this._baseURL=n,this._expiresIn=0}return t.prototype._logging=!1,t.prototype._baseURL=null,t.prototype._currentUser=null,t.prototype._httpRequestType=null,t}(),d.KiiACL=function(){function t(){this._thingWithID=v(this._thingWithID,this),this._userWithID=v(this._userWithID,this),this._groupWithID=v(this._groupWithID,this),this._getRequest=v(this._getRequest,this),this._saveItr=v(this._saveItr,this),this._saveUsingCallbacks=v(this._saveUsingCallbacks,this),this.save=v(this.save,this),this._getKeyOfEntry=v(this._getKeyOfEntry,this),this.removeACLEntry=v(this.removeACLEntry,this),this.putACLEntry=v(this.putACLEntry,this),this._listACLEntriesUsingCallbacks=v(this._listACLEntriesUsingCallbacks,this),this.listACLEntries=v(this.listACLEntries,this),this.aclPath=v(this.aclPath,this),this._setParent=v(this._setParent,this),this._entriesMap={}}return t.prototype._setParent=function(t){this._parent=t},t.prototype.aclPath=function(){var t,e,n,i,r,o,a,s,u,l;return this._parent instanceof d.KiiObject?(i=this._parent,null!=i.getBucket().getUser()?l=i.getBucket().getUser():null!=i.getBucket().getGroup()?n=i.getBucket().getGroup():null!=i.getBucket().getThing()&&(s=i.getBucket().getThing()),e=i.getBucket()._getQualifiedBucketName(),r=i.getUUID()):this._parent instanceof d.KiiBucket?(t=this._parent,null!=t.getUser()?l=t.getUser():null!=t.getGroup()?n=t.getGroup():null!=t.getThing()&&(s=t.getThing()),e=t._getQualifiedBucketName()):this._parent instanceof d.KiiTopic?u=this._parent:d.Kii.logger("Invalid ACL parent. Must belong to a KiiObject"),o="/",null!=n?o+="groups/"+n.getUUID()+"/":null!=l?o+="users/"+l.getUUID()+"/":null!=s&&(o+="things/"+s.getThingID()+"/"),u?(a=""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/",0!==u._uri.indexOf(a)?o=null:o+=u._uri.substr(a.length)+"/acl"):o+=null!=r?"buckets/"+e+"/objects/"+r+"/acl":"buckets/"+e+"/acl",o},t.prototype.listACLEntries=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._listACLEntriesUsingCallbacks(r)}}(this))},t.prototype._listACLEntriesUsingCallbacks=function(t){var e,n;return d.Kii.logger("Listing ACL entries"),n=this._getRequest({path:this.aclPath(),withApp:!0}),e={success:function(e){return function(n,i){var r,o,a,s,u,l,c,h;if(300>i&&i>=200){s=[];for(a in n){if(l=n[a],"WRITE_EXISTING_OBJECT"===a)r=d.KiiACLAction.KiiACLObjectActionWrite;else if("READ_EXISTING_OBJECT"===a)r=d.KiiACLAction.KiiACLObjectActionRead;else if("QUERY_OBJECTS_IN_BUCKET"===a)r=d.KiiACLAction.KiiACLBucketActionQueryObjects;else if("CREATE_OBJECTS_IN_BUCKET"===a)r=d.KiiACLAction.KiiACLBucketActionCreateObjects;else if("DROP_BUCKET_WITH_ALL_CONTENT"===a)r=d.KiiACLAction.KiiACLBucketActionDropBucket;else if("READ_OBJECTS_IN_BUCKET"===a)r=d.KiiACLAction.KiiACLBucketActionReadObjects;else if("SUBSCRIBE_TO_TOPIC"===a)r=d.KiiACLAction.KiiACLSubscribeToTopic;else{if("SEND_MESSAGE_TO_TOPIC"!==a)continue;r=d.KiiACLAction.KiiACLSendMessageToTopic}for(c=0,h=l.length;h>c;c++){if(o=l[c],null!=o.groupID)u=e._groupWithID(o.groupID);else if(null!=o.userID)u=e._userWithID(o.userID);else{if(null==o.thingID)continue;u=e._thingWithID(o.thingID)}s.push(d.KiiACLEntry.entryWithSubject(u,r))}}return t.success(e,s)}return t.failure(e,"Unable to retrieve ACL list")}}(this),failure:function(e){return function(n){return t.failure(e,n)}}(this)},n.execute(e,!1)},t.prototype.putACLEntry=function(t){var e;if(!(t instanceof d.KiiACLEntry))throw new d.InvalidArgumentException("invalid entry");return e=this._getKeyOfEntry(t),this._entriesMap[e]=t},t.prototype.removeACLEntry=function(t){var e;if(!(t instanceof d.KiiACLEntry))throw new d.InvalidArgumentException("invalid entry");return e=this._getKeyOfEntry(t),delete this._entriesMap[e]},t.prototype._getKeyOfEntry=function(t){var e,n,i;return e=t.getActionString(),n=t.getEntityString(),i=t.getGrant(),""+e+"/"+n+":"+i},t.prototype.save=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._saveUsingCallbacks(r)}}(this))},t.prototype._saveUsingCallbacks=function(t){var e;return d.Kii.logger("SAving acl"),this._entriesMap?(e=Object.keys(this._entriesMap),d.Kii.logger("Saving total entries : "+e.length),e.length<1?void t.failure(this,"There is no entry to save."):this._saveItr(e,0,t)):void t.failure(this,"There is no entry to save.")},t.prototype._saveItr=function(t,e,n){var i,r,o,a;return i=this._entriesMap[t[e]],r=""+this.aclPath()+"/"+i.getActionString()+"/"+i.getEntityString(),d.Kii.logger("Saving single @path: "+r),d.Kii.logger("Saving  entries index : "+e),o=this._getRequest({path:r,withApp:!0}),o.setMethod(i.getGrant()===!0?"PUT":"DELETE"),a=null,o.execute({success:function(r){return function(){return r.removeACLEntry(i),e<t.length-1?r._saveItr(t,e+1,n):n.success(r)}}(this),failure:function(t){return function(e){return n.failure(t,e)}}(this)},!1)},t.aclWithParent=function(t){var e;return e=new d.KiiACL,e._setParent(t),e},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.prototype._groupWithID=function(t){var e;return e=d.KiiGroup.groupWithID(t)},t.prototype._userWithID=function(t){return"ANONYMOUS_USER"===t?new d.KiiAnonymousUser:"ANY_AUTHENTICATED_USER"===t?new d.KiiAnyAuthenticatedUser:d.KiiUser.userWithID(t)},t.prototype._thingWithID=function(t){return d.KiiThing.thingWithID(t)},t}(),d.KiiACLAction={KiiACLActionStart:-1,KiiACLBucketActionCreateObjects:0,KiiACLBucketActionQueryObjects:1,KiiACLBucketActionDropBucket:2,KiiACLBucketActionReadObjects:3,KiiACLObjectActionRead:4,KiiACLObjectActionWrite:5,KiiACLSubscribeToTopic:6,KiiACLSendMessageToTopic:7,KiiACLActionEnd:8},d.KiiACLEntry=function(){function t(){this.getEntityString=v(this.getEntityString,this),this.getActionString=v(this.getActionString,this),this.getGrant=v(this.getGrant,this),this.setGrant=v(this.setGrant,this),this.getSubject=v(this.getSubject,this),this.setSubject=v(this.setSubject,this),this.getAction=v(this.getAction,this),this.setAction=v(this.setAction,this),this._action=-1,this._grant=!0}return t.prototype.setAction=function(t){if(t>d.KiiACLAction.KiiACLActionStart&&t<d.KiiACLAction.KiiACLActionEnd)return this._action=t;throw new d.InvalidACLAction},t.prototype.getAction=function(){return this._action},t.prototype.setSubject=function(t){if(t instanceof d.KiiGroup&&null!=t.getID()||t instanceof d.KiiUser&&null!=t.getID()||t instanceof d.KiiAnyAuthenticatedUser||t instanceof d.KiiAnonymousUser||t instanceof d.KiiThing&&null!=t.getThingID())return this._subject=t;throw new d.InvalidACLSubject},t.prototype.getSubject=function(){return this._subject},t.prototype.setGrant=function(t){if(t===!0||t===!1)return this._grant=t;throw new d.InvalidACLGrant},t.prototype.getGrant=function(){return this._grant},t.entryWithSubject=function(t,e){var n;return d.Kii.logger("EWS: "+t+", "+e),n=new d.KiiACLEntry,n.setSubject(t),n.setAction(e),n},t.prototype.getActionString=function(){var t;switch(d.Kii.logger("Action: "+this.action),this._action){case d.KiiACLAction.KiiACLBucketActionCreateObjects:t="CREATE_OBJECTS_IN_BUCKET";break;case d.KiiACLAction.KiiACLBucketActionQueryObjects:t="QUERY_OBJECTS_IN_BUCKET";break;case d.KiiACLAction.KiiACLBucketActionDropBucket:t="DROP_BUCKET_WITH_ALL_CONTENT";break;case d.KiiACLAction.KiiACLBucketActionReadObjects:t="READ_OBJECTS_IN_BUCKET";break;case d.KiiACLAction.KiiACLObjectActionRead:t="READ_EXISTING_OBJECT";break;case d.KiiACLAction.KiiACLObjectActionWrite:t="WRITE_EXISTING_OBJECT";break;case d.KiiACLAction.KiiACLSubscribeToTopic:t="SUBSCRIBE_TO_TOPIC";break;case d.KiiACLAction.KiiACLSendMessageToTopic:t="SEND_MESSAGE_TO_TOPIC";break;default:return t}return t},t.prototype.getEntityString=function(){var t,e;return this._subject instanceof d.KiiGroup?(t=this._subject.getUUID(),e="GroupID"):this._subject instanceof d.KiiUser?(t=this._subject.getUUID(),e="UserID"):this._subject instanceof d.KiiAnyAuthenticatedUser?(e="UserID",t="ANY_AUTHENTICATED_USER"):this._subject instanceof d.KiiAnonymousUser?(e="UserID",t="ANONYMOUS_USER"):this._subject instanceof d.KiiThing&&(e="ThingID",t=this._subject.getThingID()),""+e+":"+t},t}(),d.KiiBucket=function(){function t(t,e){if(this.objectWithJSON=v(this.objectWithJSON,this),this._getHttpUri=v(this._getHttpUri,this),this._generatePath=v(this._generatePath,this),this._getRequest=v(this._getRequest,this),this._deleteUsingCallbacks=v(this._deleteUsingCallbacks,this),this["delete"]=v(this["delete"],this),this.count=v(this.count,this),this._countWithQueryUsingCallbacks=v(this._countWithQueryUsingCallbacks,this),this.countWithQuery=v(this.countWithQuery,this),this._executeQueryUsingCallbacks=v(this._executeQueryUsingCallbacks,this),this.executeQuery=v(this.executeQuery,this),this.acl=v(this.acl,this),this.createObjectWithID=v(this.createObjectWithID,this),this.createObjectWithType=v(this.createObjectWithType,this),this.createObject=v(this.createObject,this),this._getQualifiedBucketName=v(this._getQualifiedBucketName,this),this._setBucketName=v(this._setBucketName,this),this.getBucketName=v(this.getBucketName,this),this.getThing=v(this.getThing,this),this.getGroup=v(this.getGroup,this),this.getUser=v(this.getUser,this),!l._isNonEmptyString(t))throw d.InvalidArgumentException("Specified bucket name is null or empty.");this._bucketName=t,null!=e&&(e instanceof d.KiiGroup?this._group=e:e instanceof d.KiiUser?this._user=e:e instanceof d.KiiThing&&(this._thing=e))}return t.prototype._className="KiiBucket",t.prototype.getUser=function(){return this._user},t.prototype.getGroup=function(){return this._group},t.prototype.getThing=function(){return this._thing},t.prototype.getBucketName=function(){return this._bucketName},t.prototype._setBucketName=function(t){this._bucketName=t},t.prototype._getQualifiedBucketName=function(){return this._bucketName},t.prototype.createObject=function(){return d.KiiObject.objectWithBucket(this,null)},t.prototype.createObjectWithType=function(t){return d.KiiObject.objectWithBucket(this,t)},t.prototype.createObjectWithID=function(t){if(!d.KiiObject.isValidObjectID(t))throw d.InvalidArgumentException("Specified obejctID is invalid.");return d.KiiObject.objectWithID(this,t)},t.prototype.acl=function(){return d.KiiACL.aclWithParent(this)},t.prototype.executeQuery=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._executeQueryUsingCallbacks(t,o)}}(this))},t.prototype._executeQueryUsingCallbacks=function(t,e){var n,i,r,o;return r=this._generatePath()+"/query",n={},null!=t?n=t._dictValue():n.bucketQuery={clause:d.KiiQuery._emptyDictValue()},o=this._getRequest({path:r,withApp:!0}),o.setMethod("POST"),o.setContentType("application/vnd.kii.QueryRequest+json"),o.setData(n),i={success:function(n){return function(i,r){var o,a,s,u,l,c;if(300>r&&r>=200){for(s=[],c=i.results,u=0,l=c.length;l>u;u++)a=c[u],s.push(n.objectWithJSON(a));if(null!=i.nextPaginationKey?(o=new d.KiiQuery(t),o.setPaginationKey(i.nextPaginationKey)):o=null,null!=e)return e.success(t,s,o)}else if(null!=e)return e.failure(n,"Unable to parse response")}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},o.execute(i,!1)},t.prototype.countWithQuery=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._countWithQueryUsingCallbacks(t,o)}}(this))},t.prototype._countWithQueryUsingCallbacks=function(t,e){var n,i,r,o;return r=this._generatePath()+"/query",n={},null!=t?n=t._dictValue():(n.bucketQuery={clause:d.KiiQuery._emptyDictValue()},t=d.KiiQuery.queryWithClause()),n.bucketQuery.aggregations=[{type:"COUNT",putAggregationInto:"count_field"}],o=this._getRequest({path:r,withApp:!0}),o.setMethod("POST"),o.setContentType("application/vnd.kii.QueryRequest+json"),o.setData(n),i={success:function(n){return function(i,r){var o;if(300>r&&r>=200){if(o=i.aggregations.count_field,null!=e)return e.success(n,t,o)}else if(null!=e)return e.failure(n,"Unable to parse response")}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},o.execute(i,!1)},t.prototype.count=function(t){var e;return e=d.KiiQuery.queryWithClause(),this.countWithQuery(e,t)},t.prototype["delete"]=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteUsingCallbacks(r)}}(this))},t.prototype._deleteUsingCallbacks=function(t){var e,n;return n=this._getRequest({path:this._generatePath(),withApp:!0}),n.setMethod("DELETE"),e={success:function(e){return function(){return null!=t?t.success(e):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!0)},t._bucketWithName=function(t,e){var n;return n=new d.KiiBucket(t,e)},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.prototype._generatePath=function(){var t;return t=null!=this._user?"/users/"+this._user.getUUID()+"/buckets/"+this._getQualifiedBucketName():null!=this._group?"/groups/"+this._group.getUUID()+"/buckets/"+this._getQualifiedBucketName():null!=this._thing?"/things/"+this._thing.getThingID()+"/buckets/"+this._getQualifiedBucketName():"/buckets/"+this._getQualifiedBucketName()},t.prototype._getHttpUri=function(){return""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/"+this._generatePath()},t.prototype.objectWithJSON=function(t){var e;return e=this.createObject(),e._updateWithJSON(t),e},t}(),d.KiiEncryptedBucket=function(t){function e(t,n){if(this._getQualifiedBucketName=v(this._getQualifiedBucketName,this),!l._isNonEmptyString(t))throw d.InvalidArgumentException("Specified bucket name is null or empty.");d.KiiEncryptedBucket._isEncrypted(t)?e.__super__.constructor.call(this,t.replace("CRYPTO:",""),n):e.__super__.constructor.call(this,t,n)}return _(e,t),e.prototype._getQualifiedBucketName=function(){return"CRYPTO:"+this._bucketName},e._bucketWithName=function(t,e){var n;return n=new d.KiiEncryptedBucket(t,e)},e._isEncrypted=function(t){var e;return e=0===t.indexOf("CRYPTO:")},e}(d.KiiBucket),d.KiiEncryptedBucketWithToken=function(t){function e(t,n,i){this.acl=v(this.acl,this),this.createObjectWithID=v(this.createObjectWithID,this),this.createObjectWithType=v(this.createObjectWithType,this),this.createObject=v(this.createObject,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this,t,n),this._authToken=i}return _(e,t),e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype.createObject=function(){return d.KiiObjectWithToken.objectWithBucket(this,null,this._authToken)},e.prototype.createObjectWithType=function(t){return d.KiiObjectWithToken.objectWithBucket(this,t,this._authToken)},e.prototype.createObjectWithID=function(t){return d.KiiObjectWithToken.objectWithID(this,t,this._authToken)},e.prototype.acl=function(){var t;return t=new d.KiiACLWithToken(this,this._authToken)},e}(d.KiiEncryptedBucket),d.KiiBucketWithToken=function(t){function e(t,n,i){this.acl=v(this.acl,this),this.createObjectWithID=v(this.createObjectWithID,this),this.createObjectWithType=v(this.createObjectWithType,this),this.createObject=v(this.createObject,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this,t,n),this._authToken=i}return _(e,t),e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype.createObject=function(){return d.KiiObjectWithToken.objectWithBucket(this,null,this._authToken)},e.prototype.createObjectWithType=function(t){return d.KiiObjectWithToken.objectWithBucket(this,t,this._authToken)},e.prototype.createObjectWithID=function(t){return d.KiiObjectWithToken.objectWithID(this,t,this._authToken)},e.prototype.acl=function(){var t;return t=new d.KiiACLWithToken(this,this._authToken)},e}(d.KiiBucket),d.KiiGroup=function(){function t(){this._setAuthToken=v(this._setAuthToken,this),this._getHttpURI=v(this._getHttpURI,this),this._listTopicsUsingCallbacks=v(this._listTopicsUsingCallbacks,this),this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this._setOwnerFromContext=v(this._setOwnerFromContext,this),this._userWithID=v(this._userWithID,this),this._getRequest=v(this._getRequest,this),this._updateWithJSON=v(this._updateWithJSON,this),this._getOwnerUsingCallbacks=v(this._getOwnerUsingCallbacks,this),this.getOwner=v(this.getOwner,this),this._deleteUsingCallbacks=v(this._deleteUsingCallbacks,this),this["delete"]=v(this["delete"],this),this._refreshUsingCallbacks=v(this._refreshUsingCallbacks,this),this.refresh=v(this.refresh,this),this._saveWithOwnerUsingCallbacks=v(this._saveWithOwnerUsingCallbacks,this),this.saveWithOwner=v(this.saveWithOwner,this),this._saveUsingCallbacks=v(this._saveUsingCallbacks,this),this.save=v(this.save,this),this._changeGroupNameUsingCallbacks=v(this._changeGroupNameUsingCallbacks,this),this.changeGroupName=v(this.changeGroupName,this),this._changeOwner=v(this._changeOwner,this),this._saveMembers=v(this._saveMembers,this),this._getMemberListUsingCallbacks=v(this._getMemberListUsingCallbacks,this),this.getMemberList=v(this.getMemberList,this),this._removeMember=v(this._removeMember,this),this._addMember=v(this._addMember,this),this.removeUser=v(this.removeUser,this),this.addUser=v(this.addUser,this),this.encryptedBucketWithName=v(this.encryptedBucketWithName,this),this.bucketWithName=v(this.bucketWithName,this),this.objectURI=v(this.objectURI,this),this._setOwner=v(this._setOwner,this),this.getCachedOwner=v(this.getCachedOwner,this),this._setName=v(this._setName,this),this.getName=v(this.getName,this),this.getID=v(this.getID,this),this._setUUID=v(this._setUUID,this),this.getUUID=v(this.getUUID,this),this._setAddMembers=v(this._setAddMembers,this),this._getRemoveMembers=v(this._getRemoveMembers,this),this._getAddMembers=v(this._getAddMembers,this),this._addMembers={},this._removeMembers={}}return t.prototype._getAddMembers=function(){return this._addMembers},t.prototype._getRemoveMembers=function(){return this._removeMembers},t.prototype._setAddMembers=function(t){var e,n,i,r;if(null!=t){for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(this.addUser(e));return r}},t.prototype.getUUID=function(){return this._uuid},t.prototype._setUUID=function(t){this._uuid=t},t.prototype.getID=function(){return this._uuid},t.prototype.getName=function(){return this._groupName},t.prototype._setName=function(t){this._groupName=t},t.prototype.getCachedOwner=function(){return this._owner},t.prototype._setOwner=function(t){this._owner=t},t.prototype.objectURI=function(){return null!=this._uuid?"kiicloud://groups/"+this._uuid:null},t.registerGroupWithID=function(e,n,i,r){return new Promise(function(o,a){var s,u,c;return s={success:function(){return null!=r&&r.success.apply(r,arguments),o(arguments[0])},failure:function(){var t;return null!=r&&r.failure.apply(r,arguments),t=l._Error(arguments[1],arguments[0]),t.addMembersArray=arguments[2],t.removeMembersArray=arguments[3],a(t)}},t._registerGroupWithIDUsingCallbacks(null!=(u=d.KiiUser.getCurrentUser())?u.getAccessToken():void 0,e,n,null!=(c=d.Kii.getCurrentUser())?c.getID():void 0,i,s)})},t._registerGroupWithIDUsingCallbacks=function(e,n,i,r,o,a){var s,u,c,p,f,g,m,v,y,_;if(!l._isNonEmptyString(n))return void a.failure(null,"groupID is null or empty",o,null);if(!l._validateGroupID(n))return void a.failure(null,"invalid groupID : "+n,o,null);if(!l._isNonEmptyString(i))return void a.failure(null,"groupName is null or empty",o,null);if(null==r)return void a.failure(null,"owner is null",o,null);if(g=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/groups/"+n,m=h.createXHRWrapper("PUT",g),v=m.xhr,m.setKiiHeaders(),m.setAuthToken(e),m.setContentType("application/vnd.kii.GroupCreationRequest+json"),s={},s.name=i,s.owner=r,null!=o&&o.length>0){for(p=[],u=y=0,_=o.length;_>y;u=++y)c=o[u],p.push(c.getID());s.members=p}return f={success:function(){var e;try{return e=t.groupWithNameAndMembers(i,o),e._setUUID(n),a.success(e)}catch(r){return a.failure(null,m.getErrorString("failed to register group."))}},failure:function(){var t;return t=m.getErrorString("failed to register group."),a.failure(null,t,o,null)}},m.sendData(JSON.stringify(s),f)},t.prototype.bucketWithName=function(t){var e;return e=new d.KiiBucket(t,this)},t.prototype.encryptedBucketWithName=function(t){var e;return e=new d.KiiEncryptedBucket(t,this)},t.prototype.addUser=function(t){var e;return null==t?void d.Kii.logger("Passed member is null"):null==t.getUUID()?void d.Kii.logger("Passed member ID is null"):(e=t.getUUID(),e in this._addMembers||(this._addMembers[e]=t),e in this._removeMembers?delete this._removeMembers[e]:void 0)},t.prototype.removeUser=function(t){var e;return null==t?void d.Kii.logger("Passed member is null"):null==t.getUUID()?void d.Kii.logger("Passed member uuid is null"):(e=t.getUUID(),e in this._removeMembers||(this._removeMembers[e]=t),e in this._addMembers?delete this._addMembers[e]:void 0)},t.prototype._addMember=function(t,e){var n,i;return d.Kii.logger("Adding member "+t.getUUID()+" to group "+this._groupName),i=this._getRequest({path:"/groups/"+this._uuid+"/members/"+t.getUUID(),withApp:!0}),i.setMethod("PUT"),n={success:function(n){return function(){return delete n._addMembers[t.getUUID()],n._saveMembers(e)}}(this),failure:function(n){return function(i){var r,o,a;return r=function(){var e,n;e=this._addMembers,n=[];for(a in e)t=e[a],n.push(t);return n}.call(n),o=function(){var e,n;e=this._removeMembers,n=[];for(a in e)t=e[a],n.push(t);return n}.call(n),e.failure(n,i,r,o)}}(this)},i.execute(n,!1)},t.prototype._removeMember=function(t,e){var n,i;return d.Kii.logger("Removing member "+t.getUUID()+" to group "+this._groupName),i=this._getRequest({path:"/groups/"+this._uuid+"/members/"+t.getUUID(),withApp:!0}),i.setMethod("DELETE"),n={success:function(n){return function(){return delete n._getRemoveMembers()[t.getUUID()],n._saveMembers(e)}}(this),failure:function(n){return function(i){var r,o,a;
return r=function(){var e,n;e=this._addMembers,n=[];for(a in e)t=e[a],n.push(t);return n}.call(n),o=function(){var e,n;e=this._removeMembers,n=[];for(a in e)t=e[a],n.push(t);return n}.call(n),e.failure(n,i,r,o)}}(this)},i.execute(n,!1)},t.prototype.getMemberList=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._getMemberListUsingCallbacks(r)}}(this))},t.prototype._getMemberListUsingCallbacks=function(t){var e,n;return d.Kii.logger("Getting member list for group "+this._groupName),n=this._getRequest({path:"/groups/"+this._uuid+"/members",withApp:!0}),n.setAccept("application/vnd.kii.MembersRetrievalResponse+json"),e={success:function(e){return function(n,i){var r,o,a,s,u;if(300>i&&i>=200){for(o=[],a=n.members,s=0,u=a.length;u>s;s++)r=a[s],o.push(e._userWithID(r.userID));if(null!=t)return t.success(e,o)}else if(null!=t)return t.failure(e,"Unable to get member list of group")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!1)},t.prototype._saveMembers=function(t){var e,n;return e=Object.keys(this._addMembers),n=Object.keys(this._removeMembers),0===e.length&&0===n.length&&t.success(this),e.length>0?void this._addMember(this._addMembers[e[0]],t):void(n.length>0&&this._removeMember(this._removeMembers[n[0]],t))},t.prototype._changeOwner=function(t,e){var n,i,r;return i=this._getRequest({path:"/groups/"+this._uuid+"/owner",withApp:!0}),i.setContentType("application/vnd.kii.GroupOwnerChangeRequest+json"),i.setMethod("PUT"),n={},n.owner=t,i.setData(n),r={success:function(t){return function(n,i){return 300>i&&i>=200?e.success(t):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},i.execute(r,!1)},t.prototype.changeGroupName=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._changeGroupNameUsingCallbacks(t,o)}}(this))},t.prototype._changeGroupNameUsingCallbacks=function(t,e){var n,i;return d.Kii.logger("Saving group: "+this.name),null!=this._uuid?(n=this._getRequest({path:"/groups/"+this._uuid+"/name",withApp:!0}),n.setContentType("text/plain"),n.setMethod("PUT"),n.setData(t),i={success:function(n){return function(i,r){if(300>r&&r>=200){if(n._setName(t),null!=e)return e.success(n)}else if(null!=e)return e.failure(n,"Unable to change group name - invalid response")}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},n.execute(i,!0)):e.failure(this,"Invalid group. Save the group on the server before updating the name.")},t.prototype.save=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){var n;return null!=t&&t.failure.apply(t,arguments),n=l._Error(arguments[1],e),n.addMembersArray=arguments[2],n.removeMembersArray=arguments[3],i(n)}},e._saveUsingCallbacks(r)}}(this))},t.prototype._saveUsingCallbacks=function(t){var e,n,i;return d.Kii.logger("Saving group: "+this.name),null==this._uuid?(n=this._getRequest({path:"/groups",withApp:!0}),n.setContentType("application/vnd.kii.GroupCreationRequest+json"),n.setMethod("POST"),e={},null!=this._groupName&&(e.name=this._groupName),this._setOwnerFromContext(e),n.setData(e),i={success:function(e){return function(n,i){return 300>i&&i>=200?(e._setUUID(n.groupID),e._saveMembers(t)):void 0}}(this),failure:function(e){return function(n){var i,r,o,a;return null!=t?(i=function(){var t,e;t=this._addMembers,e=[];for(a in t)r=t[a],e.push(r);return e}.call(e),o=function(){var t,e;t=this._removeMembers,e=[];for(a in t)r=t[a],e.push(r);return e}.call(e),t.failure(e,n,i,o)):void 0}}(this)},n.execute(i,!1)):this._saveMembers(t)},t.prototype.saveWithOwner=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){var t;return null!=e&&e.failure.apply(e,arguments),t=l._Error(arguments[1],n),t.addMembersArray=arguments[2],t.removeMembersArray=arguments[3],r(t)}},n._saveWithOwnerUsingCallbacks(t,o)}}(this))},t.prototype._saveWithOwnerUsingCallbacks=function(t,e){var n,i,r,o;return null==this._uuid?(i=this._getRequest({path:"/groups",withApp:!0}),i.setContentType("application/vnd.kii.GroupCreationRequest+json"),i.setMethod("POST"),n={},null!=this._groupName&&(n.name=this._groupName),n.owner=t,i.setData(n),r={success:function(t){return function(n,i){return 300>i&&i>=200?(t._setUUID(n.groupID),t._saveMembers(e)):void 0}}(this),failure:function(t){return function(n){var i,r,o,a;return null!=e?(i=function(){var t,e;t=this._addMembers,e=[];for(a in t)r=t[a],e.push(r);return e}.call(t),o=function(){var t,e;t=this._removeMembers,e=[];for(a in t)r=t[a],e.push(r);return e}.call(t),e.failure(t,n,i,o)):void 0}}(this)},i.execute(r,!1)):(o={success:function(n){return function(){return n._changeOwner(t,e)}}(this),failure:function(t){return function(n,i){var r,o,a,s;return r=function(){var t,e;t=this._addMembers,e=[];for(s in t)o=t[s],e.push(o);return e}.call(t),a=function(){var t,e;t=this._removeMembers,e=[];for(s in t)o=t[s],e.push(o);return e}.call(t),e.failure(t,i,r,a)}}(this)},this._saveMembers(o))},t.prototype.refresh=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._refreshUsingCallbacks(r)}}(this))},t.prototype._refreshUsingCallbacks=function(t){var e,n;return d.Kii.logger("Refreshing group: "+this._groupName),n=new this._getRequest({path:"/groups/"+this._uuid,withApp:!0}),n.setAccept("application/vnd.kii.GroupRetrievalResponse+json"),e={success:function(e){return function(n){return e._updateWithJSON(n),null!=t?t.success(e):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!1)},t.prototype["delete"]=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteUsingCallbacks(r)}}(this))},t.prototype._deleteUsingCallbacks=function(t){var e,n;return d.Kii.logger("Deleting group: "+this._groupName),n=this._getRequest({path:"/groups/"+this._uuid,withApp:!0}),n.setMethod("DELETE"),e={success:function(e){return function(n,i){return 300>i&&i>=200&&null!=t?t.success(e):null!=t?t.failure(e,"Unable to parse response"):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!0)},t.prototype.getOwner=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._getOwnerUsingCallbacks(r)}}(this))},t.prototype._getOwnerUsingCallbacks=function(t){return d.Kii.logger("Getting owner of group "+this._groupName),this.refresh({success:function(){return function(e){return null!=t?t.success(e,e.getCachedOwner()):void 0}}(this),failure:function(){return function(e,n){return null!=t?t.failure(e,n):void 0}}(this)})},t.groupWithName=function(t){return d.KiiGroup.groupWithNameAndMembers(t,null)},t.groupWithNameAndMembers=function(t,e){var n;return n=new d.KiiGroup,n._setName(t),n._setAddMembers(e),n},t.groupWithID=function(t){var e;if(null==t||""===t)throw new d.InvalidArgumentException("groupID should not null or empty");return e=new d.KiiGroup,e._setUUID(t),e},t.groupWithURI=function(t){var e,n,i,r;if(i=null,r=t.substr("kiicloud://".length),n=r.split("/"),e=n.length,!(e>0))throw new d.InvalidURIException;return i=new d.KiiGroup,i._setUUID(n[e-1]),i},t._groupWithJSON=function(t){var e;return e=new d.KiiGroup,null!=t.groupID&&e._setUUID(t.groupID),null!=t.name&&e._setName(t.name),null!=t.owner&&e._setOwner(d.KiiUser.userWithID(t.owner)),e},t.prototype._updateWithJSON=function(t){return null!=t.groupID&&this._setUUID(t.groupID),this._setName(null!=t.name?t.name:null),this._setOwner(null!=t.owner?this._userWithID(t.owner):null)},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.prototype._userWithID=function(t){var e;return e=d.KiiUser.userWithID(t)},t.prototype._setOwnerFromContext=function(t){return null!=d.Kii.getCurrentUser()?(this._owner=d.Kii.getCurrentUser(),t.owner=this._owner.getUUID()):void 0},t.prototype.topicWithName=function(t){var e,n;if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");if(e=this.getID(),!e)throw"can not instantiate topic from instance which doesn't have ID";return n=this._getHttpURI(),new d.KiiTopic(n,t)},t.prototype.listTopics=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(arguments[0])}},n._listTopicsUsingCallbacks(o,e)}}(this))},t.prototype._listTopicsUsingCallbacks=function(t,e){var n,i,r;return i=""+this._getHttpURI()+"/topics","string"==typeof e&&""!==e&&(i=i+"?paginationKey="+encodeURIComponent(e)),r=h.createXHRWrapper("GET",i),r.setKiiHeaders(),this._setAuthToken(r),n={success:function(e){return function(){var n,i,o,a,s,u;for(n=JSON.parse(r.xhr.responseText),o=[],u=n.topics,a=0,s=u.length;s>a;a++)i=u[a],o.push(e.topicWithName(i.topicID));return null!=t?t.success(o,void 0===n.paginationKey?null:n.paginationKey):void 0}}(this),failure:function(e){return function(){var n,i;return i=r.getErrorString("list topics"),n=l._Error(i,e),null!=t?t.failure(n):void 0}}(this)},r.send(n)},t.prototype._getHttpURI=function(){return""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/groups/"+this.getID()},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t}(),d.KiiObject=function(){function t(){this._deleteBodyUsingCallbacks=v(this._deleteBodyUsingCallbacks,this),this.deleteBody=v(this.deleteBody,this),this._publishBodyExpiresInUsingCallbacks=v(this._publishBodyExpiresInUsingCallbacks,this),this.publishBodyExpiresIn=v(this.publishBodyExpiresIn,this),this._publishBodyExpiresAtUsingCallbacks=v(this._publishBodyExpiresAtUsingCallbacks,this),this.publishBodyExpiresAt=v(this.publishBodyExpiresAt,this),this._publishBodyUsingCallbacks=v(this._publishBodyUsingCallbacks,this),this.publishBody=v(this.publishBody,this),this._downloadBodyUsingCallbacks=v(this._downloadBodyUsingCallbacks,this),this.downloadBody=v(this.downloadBody,this),this._uploadBodyUsingCallbacks=v(this._uploadBodyUsingCallbacks,this),this.uploadBody=v(this.uploadBody,this),this._moveBodyUsingCallbacks=v(this._moveBodyUsingCallbacks,this),this.moveBody=v(this.moveBody,this),this._parseObjectUri=v(this._parseObjectUri,this),this._userWithID=v(this._userWithID,this),this._setAuthorizationHeader=v(this._setAuthorizationHeader,this),this._getToken=v(this._getToken,this),this._getRequest=v(this._getRequest,this),this._setETag=v(this._setETag,this),this._deleteUsingCallbacks=v(this._deleteUsingCallbacks,this),this["delete"]=v(this["delete"],this),this._refreshUsingCallbacks=v(this._refreshUsingCallbacks,this),this.refresh=v(this.refresh,this),this._saveUsingCallbacks=v(this._saveUsingCallbacks,this),this.save=v(this.save,this),this._saveAllFieldsUsingCallbacks=v(this._saveAllFieldsUsingCallbacks,this),this.saveAllFields=v(this.saveAllFields,this),this._performUpdate=v(this._performUpdate,this),this._performSave=v(this._performSave,this),this._updateWithJSON=v(this._updateWithJSON,this),this._convertToObjectType=v(this._convertToObjectType,this),this.objectURI=v(this.objectURI,this),this.objectACL=v(this.objectACL,this),this.getGeoPoint=v(this.getGeoPoint,this),this.setGeoPoint=v(this.setGeoPoint,this),this.get=v(this.get,this),this.set=v(this.set,this),this._getPath=v(this._getPath,this),this._setBodyContentType=v(this._setBodyContentType,this),this.getBodyContentType=v(this.getBodyContentType,this),this._setBucket=v(this._setBucket,this),this.getBucket=v(this.getBucket,this),this._setObjectType=v(this._setObjectType,this),this.getObjectType=v(this.getObjectType,this),this._setModified=v(this._setModified,this),this.getModified=v(this.getModified,this),this._setCreated=v(this._setCreated,this),this.getCreated=v(this.getCreated,this),this.getID=v(this.getID,this),this._setUUID=v(this._setUUID,this),this.getUUID=v(this.getUUID,this),this._customInfo={},this._alteredFields=[]}return t.prototype.getUUID=function(){return this._uuid},t.prototype._setUUID=function(t){this._uuid=t},t.prototype.getID=function(){return this._uuid},t.prototype.getCreated=function(){return this._created},t.prototype._setCreated=function(t){this._created=t},t.prototype.getModified=function(){return this._modified},t.prototype._setModified=function(t){this._modified=t},t.prototype.getObjectType=function(){return this._objectType},t.prototype._setObjectType=function(t){this._objectType=t},t.prototype.getBucket=function(){return d.Kii.logger("GEtting bucket "+this._bucket),this._bucket},t.prototype._setBucket=function(t){this._bucket=t},t.prototype.getBodyContentType=function(){return this._bodyContentType},t.prototype._setBodyContentType=function(t){this._bodyContentType=t},t.prototype._getPath=function(){var t;return t=null!=this._bucket.getUser()?"/users/"+this._bucket.getUser().getUUID()+"/buckets/"+this._bucket._getQualifiedBucketName()+"/objects/":null!=this._bucket.getGroup()?"/groups/"+this._bucket.getGroup().getUUID()+"/buckets/"+this._bucket._getQualifiedBucketName()+"/objects/":null!=this._bucket.getThing()?"/things/"+this._bucket.getThing().getThingID()+"/buckets/"+this._bucket._getQualifiedBucketName()+"/objects/":"/buckets/"+this._bucket._getQualifiedBucketName()+"/objects/",null!=this._uuid&&(t+=this._uuid),t},t.prototype.set=function(t,e){return l._isNonEmptyString(t)&&0!==t.indexOf("_")?(this._customInfo[t]=e,this._alteredFields.push(t)):void d.Kii.logger("[WARN] Reserved key is used for custom field. key="+t)},t.prototype.get=function(t){return this._customInfo[t]},t.prototype.setGeoPoint=function(t,e){if(!(e instanceof d.KiiGeoPoint))throw d.InvalidArgumentException("Specified kiiGeoPoint is not an instance of KiiGeoPoint");return this._customInfo[t]=e._toDict(),this._alteredFields.push(t)},t.prototype.getGeoPoint=function(t){var e,n,i;return i=this._customInfo[t],e=i.lat,n=i.lon,d.KiiGeoPoint.geoPoint(e,n)},t.prototype.objectACL=function(){return d.KiiACL.aclWithParent(this)},t.prototype.objectURI=function(){var t,e;return t="kiicloud://",null!=this._bucket&&null!=this._uuid&&(e=t,null!=this._bucket.getGroup()?e+="groups/"+this._bucket.getGroup().getUUID()+"/":null!=this._bucket.getUser()?e+="users/"+this._bucket.getUser().getUUID()+"/":null!=this._bucket.getThing()&&(e+="things/"+this._bucket.getThing().getThingID()+"/"),e+="buckets/"+this._bucket._getQualifiedBucketName()+"/objects/"+this._uuid),e},t.prototype._convertToObjectType=function(t){var e;return"application/json"===t?{success:!0,type:null}:(e=t.match(RegExp("$application/vnd\\."+d.Kii.getAppID()+"\\.([^\\.])+\\+json")),null!=e?{success:!0,type:e}:{success:!1,type:null})},t.prototype._updateWithJSON=function(t){var e,n,i;i=[];for(e in t)n=t[e],"_id"===e?null==this._uuid?(d.Kii.logger("Setting uuid: "+n),i.push(this._uuid=n)):i.push(void 0):i.push("_created"===e?this._created=n:"_modified"===e?this._modified=n:"_owner"===e?this._owner=this._userWithID(n):"_dataType"===e?this._objectType=n:"_calculated"===e?this._customInfo[e]=n:"_"!==e[0]?this._customInfo[e]=n:"_version"===e?this._etag=n:void 0);return i},t.prototype._performSave=function(t){var e,n,i,r;return n=this._getPath(),n=n.slice(0,+(n.length-2)+1||9e9),i=new this._getRequest({path:n,withApp:!0}),i.setMethod("POST"),e=this._customInfo,i.setData(e),null!=this._objectType&&i.setContentType("application/vnd."+d.Kii.getAppID()+"."+this._objectType+"+json"),r={success:function(e){return function(n,i,r){var o;if(300>i&&i>=200){if(e._etag=r.etag,null==n.objectID)return t.failure(e,"No objectID response");if(e._uuid=n.objectID,null!=n.createdAt&&(e._created=n.createdAt),null!=n.dataType&&(o=e._convertToObjectType(n.dataType),o.success&&(e._objectType=o.type)),e._modified=e._created,e._alteredFields=[],null!=t)return t.success(e)}else if(null!=t)return t.failure(e,"Unable to parse response")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(r,!1)},t.prototype._performUpdate=function(t,e,n){var i,r,o,a,s,u,l,c,h;if(a=this._getPath(),s=new this._getRequest({path:a,withApp:!0}),i={},t)for(s.addHeader("X-HTTP-Method-Override","PATCH"),s.setMethod("POST"),h=this._alteredFields,l=0,c=h.length;c>l;l++)o=h[l],i[o]=this._customInfo[o];else s.setMethod("PUT"),i=this._customInfo;if(s.setData(i),r=this._created>0,!n)if(r){if(null==this._etag)return void e.failure(this,"IllegalState! Call KiiObject#refresh() prior call this method.");s.addHeader("If-Match",this._etag)}else{if(t&&null==this._etag)return void e.failure(this,"IllegalState! Call KiiObject#refresh() prior call this method.");s.addHeader("If-None-Match","*")}return null!=this._objectType&&s.setContentType("application/vnd."+d.Kii.getAppID()+"."+this._objectType+"+json"),u={success:function(n){return function(i,r,o){if(300>r&&r>=200){if(n._etag=o.etag,t?n._updateWithJSON(i):(null!=i.createdAt&&(n._created=i.createdAt),null!=i.modifiedAt&&(n._modified=i.modifiedAt)),n._alteredFields=[],null!=e)return e.success(n)}else if(null!=e)return e.failure(n,"Unable to parse response")}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},s.execute(u,!1)},t.prototype.saveAllFields=function(t,e){return null==e&&(e=!0),new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(l._Error(arguments[1],n))}},n._saveAllFieldsUsingCallbacks(o,e)}}(this))},t.prototype._saveAllFieldsUsingCallbacks=function(t,e){return null==e&&(e=!0),null!=this._uuid?this._performUpdate(!1,t,e):this._performSave(t)},t.prototype.save=function(t,e){return null==e&&(e=!0),new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(l._Error(arguments[1],n))}},n._saveUsingCallbacks(o,e)}}(this))},t.prototype._saveUsingCallbacks=function(t,e){return null==e&&(e=!0),null!=this._uuid?this._performUpdate(!0,t,e):this._performSave(t)},t.prototype.refresh=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._refreshUsingCallbacks(r)}}(this))},t.prototype._refreshUsingCallbacks=function(t){var e,n,i;return e=this._getPath(),i=new this._getRequest({path:e,withApp:!0}),n={success:function(e){return function(n,i,r){if(300>i&&i>=200){if(e._etag=r.etag,e._updateWithJSON(n),null!=t)return t.success(e)}else if(null!=t)return t.failure(e,"Unable to parse response")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(n,!1)},t.prototype["delete"]=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteUsingCallbacks(r)}}(this))},t.prototype._deleteUsingCallbacks=function(t){var e,n,i;return e=this._getPath(),i=new this._getRequest({path:e,withApp:!0}),i.setMethod("DELETE"),n={success:function(e){return function(n,i){return 300>i&&i>=200&&null!=t?t.success(e):null!=t?t.failure(e,"Unable to parse response"):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(n,!0)},t.objectWithBucket=function(t,e){var n;return d.Kii.logger("Creating object w type: "+e),n=new d.KiiObject,n._setBucket(t),n._setObjectType(e),d.Kii.logger(n),n},t.objectWithID=function(t,e){var n;return d.Kii.logger("Creating object with id: "+e),n=new d.KiiObject,n._setBucket(t),n._setUUID(e),d.Kii.logger(n),n},t.prototype._setETag=function(t){this._etag=t},t.objectWithURI=function(t){var e,n,i,r,o,a,s,u;if(a=t.substr("kiicloud://".length),o=a.split("/"),r=o.length,d.Kii.logger(o),!(r>=4))throw new d.InvalidURIException;return n=4===r?1:3,i=o[n],u=null,"groups"===o[0]?u=new d.KiiGroup.groupWithID(o[1]):"users"===o[0]?u=d.KiiUser.userWithID(o[1]):"things"===o[0]&&(u=d.KiiThing.thingWithID(o[1])),e=null,e=d.KiiEncryptedBucket._isEncrypted(i)?new d.KiiEncryptedBucket._bucketWithName(i,u):new d.KiiBucket._bucketWithName(i,u),d.Kii.logger(e),s=e.createObject(),s._setUUID(o[r-1]),d.Kii.logger(s),s},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.prototype._getToken=function(){var t,e;return t=d.KiiUser.getCurrentUser(),e=t?t.getAccessToken():null,e?e:null},t.prototype._setAuthorizationHeader=function(t){var e;return e=this._getToken(),e?t.setRequestHeader("Authorization","Bearer "+e):void 0},t.prototype._userWithID=function(t){var e;return e=d.KiiUser.userWithID(t)},t.prototype._parseObjectUri=function(t){var e,n,i,r;if(i=t.replace(/^kiicloud:\/\//g,"").split("/"),r=i[0],"users"===r)n={appID:d.Kii.getAppID(),userID:i[1],type:"APP_AND_USER"},e=d.KiiEncryptedBucket._isEncrypted(i[3])?{targetObjectScope:n,targetBucketType:"crypto",targetBucketID:i[3].replace("CRYPTO:",""),targetObjectID:i[5]}:{targetObjectScope:n,targetBucketID:i[3],targetObjectID:i[5]};else if("groups"===r)n={appID:d.Kii.getAppID(),groupID:i[1],type:"APP_AND_GROUP"},e=d.KiiEncryptedBucket._isEncrypted(i[3])?{targetObjectScope:n,targetBucketType:"crypto",targetBucketID:i[3].replace("CRYPTO:",""),targetObjectID:i[5]}:{targetObjectScope:n,targetBucketID:i[3],targetObjectID:i[5]};else{if("things"===r)throw new d.InvalidURIException;n={appID:d.Kii.getAppID(),type:"APP"},e=d.KiiEncryptedBucket._isEncrypted(i[1])?{targetObjectScope:n,targetBucketType:"crypto",targetBucketID:i[1].replace("CRYPTO:",""),targetObjectID:i[3]}:{targetObjectScope:n,targetBucketID:i[1],targetObjectID:i[3]}}return e},t.prototype.moveBody=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){var t;return null!=e&&e.failure.apply(e,arguments),t=l._Error(arguments[2],n),t.targetObjectUri=arguments[1],r(t)}},n._moveBodyUsingCallbacks(t,o)}}(this))},t.prototype._moveBodyUsingCallbacks=function(t,e){var n,i,r,o;if(null==t)return e.failure(this,null,d.InvalidArgumentException("targetObjectUri is required"));if(null==this.getUUID())return e.failure(this,t,d.InvalidArgumentException("Source object is not saved on the cloud"));r=this._getPath()+"/body/move",o=new this._getRequest({path:r,withApp:!0}),o.setMethod("POST"),o.setContentType("application/vnd.kii.ObjectBodyMoveRequest+json");try{o.setData(this._parseObjectUri(t))}catch(a){return n=a,e.failure(this,t,"Not support to move body of thing scope object.")}return i={success:function(n){return function(i,r){return 300>r&&r>=200&&null!=e?e.success(n,t):null!=e?e.failure(n,t,"Unable to parse response"):void 0}}(this),failure:function(n){return function(i){return null!=e?e.failure(n,t,i):void 0}}(this)},o.execute(i,!0)},t.prototype.uploadBody=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){var t;return null!=e&&null!=(t=e.success)&&t.apply(e,arguments),i(arguments[0])},failure:function(){var t;return null!=e&&null!=(t=e.failure)&&t.apply(e,arguments),r(l._Error(arguments[1],n))},progress:function(){var t;return null!=e&&null!=(t=e.progress)?t.apply(e,arguments):void 0}},n._uploadBodyUsingCallbacks(t,o)}}(this))},t.prototype._uploadBodyUsingCallbacks=function(t,e){var n,i,r,o,a;return t&&t instanceof Blob?(r=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+this._getPath()+"/body",n="application/octet-stream",t.type&&(n=t.type),o=h.createXHRWrapper("PUT",r),a=o.xhr,a.setRequestHeader("Content-Type",n),a.setRequestHeader("x-kii-appid",d.Kii.getAppID()),a.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),a.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),this._setAuthorizationHeader(a),i={success:function(t){return function(){var i;return i=JSON.parse(a.responseText),null!=i.modifiedAt&&(t._modified=i.modifiedAt),t._setBodyContentType(n),null!=e?e.success(t):void 0}}(this),failure:function(t){return function(){var n,i;if(n="failed to upload body. statusCode: "+a.status,null!=e)try{if(i=JSON.parse(decodeURIComponent(a.responseText)),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" message: "+i.message}catch(r){}finally{d.Kii.logger("Failure: "+n),d.Kii.logger(a.responseText),e.failure(t,n)}}}(this),progress:function(){return function(t){return e&&e.progress?e.progress(t):void 0}}(this)},o.sendData(t,i)):void e.failure(this,"Invalid parameter")},t.prototype.downloadBody=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){var e;return null!=t&&null!=(e=t.success)&&e.apply(t,arguments),n(arguments)},failure:function(){var n;return null!=t&&null!=(n=t.failure)&&n.apply(t,arguments),i(l._Error(arguments[1],e))},progress:function(){var e;return null!=t&&null!=(e=t.progress)?e.apply(t,arguments):void 0}},e._downloadBodyUsingCallbacks(r)}}(this))},t.prototype._downloadBodyUsingCallbacks=function(t){var e,n,i,r;return n=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+this._getPath()+"/body",i=h.createXHRWrapper("GET",n),r=i.xhr,r.setRequestHeader("x-kii-appid",d.Kii.getAppID()),r.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),r.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),this._setAuthorizationHeader(r),r.responseType="blob",e={success:function(e){return function(){var n;return n=r.status,e._setBodyContentType(r.getResponseHeader("content-type")),null!=t?t.success(e,r.response):void 0}}(this),failure:function(e){return function(){var n,i,o,a;return null!=t?(n="failed to download body. statusCode: "+r.status,i=new FileReader,a=null,o=e,i.onload=function(){var e;a=this.result;try{if(e=JSON.parse(decodeURIComponent(a)),null!=e.errorCode&&(n+=" error code: "+e.errorCode),null!=e.message)return n+=" message: "+e.message}catch(i){}finally{d.Kii.logger("Failure: "+n),d.Kii.logger(r.response),t.failure(o,n)}},i.readAsText(r.response)):void 0}}(this),progress:function(){return function(e){return t&&t.progress?t.progress(e):void 0}}(this)},i.send(e)},t.prototype.publishBody=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._publishBodyUsingCallbacks(r)}}(this))},t.prototype._publishBodyUsingCallbacks=function(t){var e,n,i,r,o,a;return r=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+this._getPath()+"/body/publish",o=h.createXHRWrapper("POST",r),a=o.xhr,a.setRequestHeader("x-kii-appid",d.Kii.getAppID()),a.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),a.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),a.setRequestHeader("Content-Type","application/vnd.kii.ObjectBodyPublicationRequest+json"),this._setAuthorizationHeader(a),i={success:function(e){return function(){var n;if(null!=t)try{return n=JSON.parse(a.responseText),n.url?t.success(e,n.url):t.failure(e,"failed to parse response")}catch(i){return t.failure(e,"failed to parse response")}}}(this),failure:function(e){return function(){var n,i;if(null!=t){n="failed to publish body. statusCode: "+a.status;try{if(i=JSON.parse(a.responseText),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" error message: "+i.message}catch(r){}finally{t.failure(e,n)}}}}(this)},n={},e=JSON.stringify(n),o.sendData(e,i)},t.prototype.publishBodyExpiresAt=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._publishBodyExpiresAtUsingCallbacks(t,o)}}(this))},t.prototype._publishBodyExpiresAtUsingCallbacks=function(t,e){var n,i,r,o,a,s;return o=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+this._getPath()+"/body/publish",a=h.createXHRWrapper("POST",o),s=a.xhr,s.setRequestHeader("x-kii-appid",d.Kii.getAppID()),s.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),s.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),s.setRequestHeader("Content-Type","application/vnd.kii.ObjectBodyPublicationRequest+json"),this._setAuthorizationHeader(s),r={success:function(t){return function(){var n;if(null!=e)try{return n=JSON.parse(s.responseText),n.url?e.success(t,n.url):e.failure(t,"failed to parse response")}catch(i){return e.failure(t,"failed to parse response")}}}(this),failure:function(t){return function(){var n,i;if(null!=e){n="failed to publish body. statusCode: "+s.status,null==s.responseText&&e.failure(t,n);try{if(i=JSON.parse(s.responseText),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" error message: "+i.message}catch(r){}finally{e.failure(t,n)}}}}(this)},i={},i.expiresAt=t,n=JSON.stringify(i),a.sendData(n,r)},t.prototype.publishBodyExpiresIn=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._publishBodyExpiresInUsingCallbacks(t,o)}}(this))},t.prototype._publishBodyExpiresInUsingCallbacks=function(t,e){var n,i,r,o,a,s;return o=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+this._getPath()+"/body/publish",a=h.createXHRWrapper("POST",o),s=a.xhr,s.setRequestHeader("x-kii-appid",d.Kii.getAppID()),s.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),s.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),s.setRequestHeader("Content-Type","application/vnd.kii.ObjectBodyPublicationRequest+json"),this._setAuthorizationHeader(s),r={success:function(t){return function(){var n;try{return n=JSON.parse(s.responseText),n.url?e.success(t,n.url):e.failure(t,"failed to parse response")}catch(i){return e.failure(t,"failed to parse response")}}}(this),failure:function(t){return function(){var n,i;n="failed to publish body. statusCode: "+s.status;try{if(i=JSON.parse(s.responseText),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" error message: "+i.message}catch(r){}finally{e.failure(t,n)}}}(this)},i={},i.expiresIn=t,n=JSON.stringify(i),a.sendData(n,r)},t.prototype.deleteBody=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteBodyUsingCallbacks(r)}}(this))},t.prototype._deleteBodyUsingCallbacks=function(t){var e,n,i,r;
return n=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+this._getPath()+"/body",i=h.createXHRWrapper("DELETE",n),r=i.xhr,r.setRequestHeader("x-kii-appid",d.Kii.getAppID()),r.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),r.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),this._setAuthorizationHeader(r),e={success:function(e){return function(){return e._setBodyContentType(null),null!=t?t.success(e):void 0}}(this),failure:function(e){return function(){var n,i;if(null!=t){n="failed to delete body. statusCode: "+r.status;try{if(i=JSON.parse(r.responseText),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" error message: "+i.message}catch(o){}finally{t.failure(e,n)}}}}(this)},i.send(e)},t.isValidObjectID=function(t){var e;return e=/^[a-zA-Z0-9-_.]{2,100}$/i,"string"!==(typeof t).toLowerCase()?!1:null!==t.match(e)?!0:!1},t}(),d.KiiQuery=function(){function t(t){return this._dictValue=v(this._dictValue,this),this.sortByAsc=v(this.sortByAsc,this),this.sortByDesc=v(this.sortByDesc,this),this.setLimit=v(this.setLimit,this),this.getLimit=v(this.getLimit,this),this._setClause=v(this._setClause,this),this.setPaginationKey=v(this.setPaginationKey,this),this.getPaginationKey=v(this.getPaginationKey,this),this._clone=v(this._clone,this),this._clone(t)}return t.prototype._clone=function(t){var e,n;if(null==t||"object"!=typeof t)return t;n=new t.constructor;for(e in t)n[e]=this._clone(t[e]);return n},t.prototype.getPaginationKey=function(){return this._paginationKey},t.prototype.setPaginationKey=function(t){this._paginationKey=t},t.prototype._setClause=function(t){this._clause=t},t.prototype.getLimit=function(){return this._limit},t.prototype.setLimit=function(t){if(t>0)return this._limit=t;throw new d.InvalidLimitException},t.queryWithClause=function(t){var e;return e=new d.KiiQuery,e._setClause(t),e},t.prototype.sortByDesc=function(t){return this._sortField=t,this._sortDescending=!0},t.prototype.sortByAsc=function(t){return this._sortField=t,this._sortDescending=!1},t._emptyDictValue=function(){return{type:"all"}},t.prototype._dictValue=function(){var t,e;return e={},e.bestEffortLimit=this._limit,null!=this._paginationKey&&(e.paginationKey=this._paginationKey),t={descending:this._sortDescending},t.clause=null!=this._clause?this._clause._getDictValue():d.KiiQuery._emptyDictValue(),null!=this._sortField&&(t.orderBy=this._sortField),e.bucketQuery=t,e},t}(),d.KiiClause=function(){function t(){this._getDictValue=v(this._getDictValue,this),this._setDictValue=v(this._setDictValue,this),this._setWhereClauses=v(this._setWhereClauses,this),this._setWhereType=v(this._setWhereType,this)}return t.constructor=function(){return t._whereClauses=[],t._dictExpression={}},t.prototype._setWhereType=function(t){this._whereType=t},t.prototype._setWhereClauses=function(t){this._whereClauses=t},t.prototype._setDictValue=function(t){this._dictExpression=t},t.prototype._getDictValue=function(){var t,e,n,i,r,o;if(n={},null!=this._whereClauses&&null!=this._whereType)if(e=[],1===this._whereClauses.length)t=this._whereClauses[0],n="not"===this._whereType?{type:this._whereType,clause:t._getDictValue()}:t._getDictValue();else{for(o=this._whereClauses,i=0,r=o.length;r>i;i++)t=o[i],e.push(t._getDictValue());n={type:this._whereType,clauses:e}}else null!=this._whereClauses?this._whereClauses.length>0&&(n=this._whereClauses[0]._getDictValue()):null!=this._dictExpression&&(n=this._dictExpression);return null==n&&(n=d.KiiQuery.emptyDictValue()),n},t.createWithWhere=function(t,e){var n;return n=new d.KiiClause,n._setWhereType(t),n._setWhereClauses(e),n},t.create=function(t,e,n){var i,r;return i=new d.KiiClause,r={},"="===t?(r.type="eq",r.field=e,r.value=n):"<"===t?(r.type="range",r.field=e,r.upperLimit=n,r.upperIncluded=!1):"<="===t?(r.type="range",r.field=e,r.upperLimit=n,r.upperIncluded=!0):">"===t?(r.type="range",r.field=e,r.lowerLimit=n,r.lowerIncluded=!1):">="===t?(r.type="range",r.field=e,r.lowerLimit=n,r.lowerIncluded=!0):"in"===t?(r.type="in",r.field=e,r.values=n):"prefix"===t&&(r.type="prefix",r.field=e,r.prefix=n),i._setDictValue(r),i},t.and=function(){return t.createWithWhere("and",arguments)},t.or=function(){return t.createWithWhere("or",arguments)},t.equals=function(t,e){return null!=e._className&&(e=e.objectURI),d.KiiClause.create("=",t,e)},t.notEquals=function(t,e){return null!=e._className&&(e=e.objectURI),d.KiiClause.createWithWhere("not",[d.KiiClause.equals(t,e)])},t.greaterThan=function(t,e){return d.KiiClause.create(">",t,e)},t.greaterThanOrEqual=function(t,e){return d.KiiClause.create(">=",t,e)},t.lessThan=function(t,e){return d.KiiClause.create("<",t,e)},t.lessThanOrEqual=function(t,e){return d.KiiClause.create("<=",t,e)},t["in"]=function(t,e){return d.KiiClause.create("in",t,e)},t.inClause=function(t,e){return d.KiiClause.create("in",t,e)},t.startsWith=function(t,e){return d.KiiClause.create("prefix",t,e)},t.geoDistance=function(t,e,n,i){var r,o,a,s,u;if(a=function(t){return"string"==typeof t&&t.length>0},o=function(t){return null==t?!1:t instanceof d.KiiGeoPoint},!a(t))throw d.InvalidArgumentException("Specified key is not a string or is an empty string.");if(!o(e))throw d.InvalidArgumentException("center is not a reference of KiiGeoPoint.");if(s="^[a-zA-Z_][a-zA-Z0-9_]*$",null!=i&&!i.match(s))throw d.InvalidArgumentException("putDistanceInto is invalid.");if(0>=n||n>2e7||isNaN(n))throw d.InvalidArgumentException("radius is invalid.");return r=new d.KiiClause,u={},u.type="geodistance",u.field=t,e=e._toDict(),u.center=e,u.radius=n,u.putDistanceInto=i,r._setDictValue(u),r},t.geoBox=function(t,e,n){var i,r,o,a,s,u;if(o=function(t){return"string"==typeof t&&t.length>0},r=function(t){return null==t?!1:t instanceof d.KiiGeoPoint},!o(t))throw d.InvalidArgumentException("Specified key is not a string or is an empty string.");if(!r(e)||!r(n))throw d.InvalidArgumentException("northEast or southWest is not a reference of KiiGeoPoint.");return i=new d.KiiClause,u={},u.type="geobox",u.field=t,a=e._toDict(),s=n._toDict(),u.box={ne:a,sw:s},i._setDictValue(u),i},t}(),a=function(){function t(t,e){this.execute=v(this.execute,this),this.setAdminToken=v(this.setAdminToken,this),this.addHeader=v(this.addHeader,this),this.setAccept=v(this.setAccept,this),this.getAccept=v(this.getAccept,this),this.setAnonymous=v(this.setAnonymous,this),this.isAnonymous=v(this.isAnonymous,this),this.setContentType=v(this.setContentType,this),this.getContentType=v(this.getContentType,this),this.setData=v(this.setData,this),this.getData=v(this.getData,this),this.setHeaders=v(this.setHeaders,this),this.getHeaders=v(this.getHeaders,this),this.setMethod=v(this.setMethod,this),this.getMethod=v(this.getMethod,this),this.setPath=v(this.setPath,this),this.getPath=v(this.getPath,this),this._path=e?"/apps/"+d.Kii.getAppID()+t:t,this._method="GET",this._headers={accept:"*/*"},this._contentType="application/json",this._anonymous=!1,this._success=function(){return function(){}}(this),this._failure=function(){return function(){}}(this),this._httpRequest=null}return t.prototype.getPath=function(){return this._path},t.prototype.setPath=function(t){this._path=t},t.prototype.getMethod=function(){return this._method},t.prototype.setMethod=function(t){this._method=t},t.prototype.getHeaders=function(){return this._headers},t.prototype.setHeaders=function(t){this._headers=t},t.prototype.getData=function(){return this._data},t.prototype.setData=function(t){this._data=t},t.prototype.getContentType=function(){return this._contentType},t.prototype.setContentType=function(t){this._contentType=t},t.prototype.isAnonymous=function(){return this._anonymous},t.prototype.setAnonymous=function(t){this._anonymous=t},t.prototype.getAccept=function(){return this._accept},t.prototype.setAccept=function(t){this._accept=t},t.prototype.addHeader=function(t,e){return this._headers[t]=e},t.prototype.setAdminToken=function(t){return this._adminToken=t},t.prototype.execute=function(t,e){var n,i,r,o,a,s,u;if(this._success=null!=t.success?t.success:this._success,this._failure=null!=t.failure?t.failure:this._failure,this._ignoreBody=e,a=d.Kii.getBaseURL()+this._path,d.Kii.logger("POSTING: "),d.Kii.logger(JSON.stringify(this._data)),o=l._isJSONType(this._contentType)?JSON.stringify(this._data):this._data,d.Kii.logger("Making request["+this._method+"] to "+a+" with data: "+o),n=d.Kii.getAdditionalHeaders(),null!=n)for(r in n)s=n[r],this._headers[r]=s;this._headers["x-kii-appid"]=d.Kii.getAppID(),this._headers["x-kii-appkey"]=d.Kii.getAppKey(),this._headers["x-kii-sdk"]=d.KiiSDKClientInfo.getSDKClientInfo(),null!=this._accept&&(this._headers.accept=this._accept),this._anonymous||null==d.KiiUser.getCurrentUser()||(this._headers.Authorization="Bearer "+d.KiiUser.getCurrentUser().getAccessToken()),null!=this._adminToken&&(this._headers.Authorization="Bearer "+this._adminToken),null!=this._contentType&&(this._headers["Content-Type"]=this._contentType),d.Kii.logger("Headers: "),d.Kii.logger(JSON.stringify(this._headers)),t={onComplete:function(t){return function(){var e,n,i,r,o,a,s;if(a=t._httpRequest.xhr,4===a.readyState){if(200<=(s=a.status)&&400>s){if(d.Kii.logger("Completed Request["+a.status+"]"),d.Kii.logger(a.responseText),o=t._parseResponseHeaders(a.getAllResponseHeaders()),t._ignoreBody)return t._success(null,a.status);try{r=JSON.parse(a.responseText)}catch(u){e=u,r=null}return null!=r?null!=r.errorCode?(n=r.errorCode,null!=r.message&&(n+=": "+r.message),t._failure(n,a.status,r.errorCode)):t._success(r,a.status,o):t._success(null,a.status,null)}d.Kii.logger("Error loading data..."),n=a.status+" : "+d.Kii.getBaseURL()+t._path;try{r=JSON.parse(decodeURIComponent(a.responseText))}catch(u){i=u,r=null}return null!=r&&null!=r.errorCode&&(n=r.errorCode,null!=r.message&&(n+=": "+r.message)),d.Kii.logger("Failure: "+n),d.Kii.logger(a.responseText),t._failure(n,a.status)}}}(this),onError:function(t){return function(){var e,n,i,r;r=t._httpRequest.xhr,d.Kii.logger("Error loading data..."),e=r.status+" : "+d.Kii.getBaseURL()+t._path;try{i=JSON.parse(decodeURIComponent(r.responseText))}catch(o){n=o,i=null}return null!=i&&null!=i.errorCode&&(e=i.errorCode,null!=i.message&&(e+=": "+i.message)),d.Kii.logger("Failure: "+e),d.Kii.logger(r.responseText),t._failure(e,r.status)}}(this)},this._httpRequest=this._createHttpRequest(this._method,a,t),null==this._httpRequest.xhr&&this._failure("Cross-Origin Resource Sharing is not supported by the browser.",0),u=this._headers;for(i in u)s=u[i],this._httpRequest.xhr.setRequestHeader(i,s);return"GET"!==this._method&&"DELETE"!==this._method?this._httpRequest.xhr.send(o):this._httpRequest.xhr.send()},t.prototype._createHttpRequest=function(t,e,n){var i;return i=null,null===d.Kii._getHttpRequestType()?"undefined"!=typeof jQuery?(d.Kii.logger("Use jQuery"),i=new o(t,e,n)):"undefined"!=typeof XMLHttpRequest?(d.Kii.logger("Use XMLHttpRequest"),i=new p(t,e,n)):"undefined"!=typeof Titanium&&(d.Kii.logger("Use Titanium"),i=new u(t,e,n)):(d.Kii.logger("Use http request backdoor"),d.Kii._getHttpRequestType()===d._KiiHttpRequestType.jQuery?(d.Kii.logger("Use jQuery"),i=new o(t,e,n)):d.Kii._getHttpRequestType()===d._KiiHttpRequestType.XMLHttpRequest?(d.Kii.logger("Use XMLHttpRequest"),i=new p(t,e,n)):d.Kii._getHttpRequestType()===d._KiiHttpRequestType.Titanium&&(d.Kii.logger("Use Titanium"),i=new u(t,e,n))),i},t.prototype._parseResponseHeaders=function(t){var e,n,i,r,o,a,s;if(i={},!t)return i;for(n=t.split("\r\n"),r=0;r<n.length;)e=n[r],o=e.indexOf(": "),o>0&&(a=e.substring(0,o).toLowerCase(),s=e.substring(o+2),i[a]=s),r++;return i},t}(),d.KiiUser=function(){function t(){this._setAuthToken=v(this._setAuthToken,this),this._getHttpURI=v(this._getHttpURI,this),this._clone=v(this._clone,this),this._getSubscriberPath=v(this._getSubscriberPath,this),this.pushInstallation=v(this.pushInstallation,this),this.pushSubscription=v(this.pushSubscription,this),this._listTopicsUsingCallbacks=v(this._listTopicsUsingCallbacks,this),this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this._groupWithJSON=v(this._groupWithJSON,this),this._setAuthHeader=v(this._setAuthHeader,this),this._getXhrWrapper=v(this._getXhrWrapper,this),this._getRequest=v(this._getRequest,this),this._updateWithJSON=v(this._updateWithJSON,this),this._validateLocalPhoneNumber=v(this._validateLocalPhoneNumber,this),this._validateIdentityData=v(this._validateIdentityData,this),this._updateWithUserFields=v(this._updateWithUserFields,this),this._updateWithIdentityData=v(this._updateWithIdentityData,this),this._deleteUsingCallbacks=v(this._deleteUsingCallbacks,this),this["delete"]=v(this["delete"],this),this._refreshUsingCallbacks=v(this._refreshUsingCallbacks,this),this.refresh=v(this.refresh,this),this._saveUsingCallbacks=v(this._saveUsingCallbacks,this),this.save=v(this.save,this),this._changeEmailUsingCallbacks=v(this._changeEmailUsingCallbacks,this),this.changeEmail=v(this.changeEmail,this),this._changePhoneUsingCallbacks=v(this._changePhoneUsingCallbacks,this),this.changePhone=v(this.changePhone,this),this._ownerOfGroupsUsingCallbacks=v(this._ownerOfGroupsUsingCallbacks,this),this.ownerOfGroups=v(this.ownerOfGroups,this),this._memberOfGroupsUsingCallbacks=v(this._memberOfGroupsUsingCallbacks,this),this.memberOfGroups=v(this.memberOfGroups,this),this.resendPhoneNumberVerification=v(this.resendPhoneNumberVerification,this),this.resendEmailVerification=v(this.resendEmailVerification,this),this._resendVerificationUsingCallbacks=v(this._resendVerificationUsingCallbacks,this),this.resendVerification=v(this.resendVerification,this),this.verifyPhoneNumber=v(this.verifyPhoneNumber,this),this._verifyCredentialsUsingCallbacks=v(this._verifyCredentialsUsingCallbacks,this),this.verifyCredentials=v(this.verifyCredentials,this),this._updatePasswordUsingCallbacks=v(this._updatePasswordUsingCallbacks,this),this.updatePassword=v(this.updatePassword,this),this._updateUsingCallbacks=v(this._updateUsingCallbacks,this),this.update=v(this.update,this),this._putIdentityUsingCallbacks=v(this._putIdentityUsingCallbacks,this),this.putIdentity=v(this.putIdentity,this),this._registerUsingCallbacks=v(this._registerUsingCallbacks,this),this.register=v(this.register,this),this._authenticateWithToken=v(this._authenticateWithToken,this),this._authenticate=v(this._authenticate,this),this.encryptedBucketWithName=v(this.encryptedBucketWithName,this),this.bucketWithName=v(this.bucketWithName,this),this.get=v(this.get,this),this.set=v(this.set,this),this.objectURI=v(this.objectURI,this),this.getAccessTokenObject=v(this.getAccessTokenObject,this),this._setExpiresAt=v(this._setExpiresAt,this),this._setAccessToken=v(this._setAccessToken,this),this.getAccessToken=v(this.getAccessToken,this),this.getLinkedSocialAccounts=v(this.getLinkedSocialAccounts,this),this._setPhoneVerified=v(this._setPhoneVerified,this),this.getPhoneVerified=v(this.getPhoneVerified,this),this._setEmailVerified=v(this._setEmailVerified,this),this.getEmailVerified=v(this.getEmailVerified,this),this._setModified=v(this._setModified,this),this.getModified=v(this.getModified,this),this._setCreated=v(this._setCreated,this),this.getCreated=v(this.getCreated,this),this.setLocale=v(this.setLocale,this),this.getLocale=v(this.getLocale,this),this.setCountry=v(this.setCountry,this),this.getCountry=v(this.getCountry,this),this._clearPassword=v(this._clearPassword,this),this._setPassword=v(this._setPassword,this),this._setLocalPhone=v(this._setLocalPhone,this),this.getPendingPhoneNumber=v(this.getPendingPhoneNumber,this),this._setPhoneNumber=v(this._setPhoneNumber,this),this.getPhoneNumber=v(this.getPhoneNumber,this),this.getPendingEmailAddress=v(this.getPendingEmailAddress,this),this._setEmailAddress=v(this._setEmailAddress,this),this.getEmailAddress=v(this.getEmailAddress,this),this.isPseudoUser=v(this.isPseudoUser,this),this.setDisplayName=v(this.setDisplayName,this),this.getDisplayName=v(this.getDisplayName,this),this._setDisabled=v(this._setDisabled,this),this.disabled=v(this.disabled,this),this._setUsername=v(this._setUsername,this),this.getUsername=v(this.getUsername,this),this.getID=v(this.getID,this),this._setUUID=v(this._setUUID,this),this.getUUID=v(this.getUUID,this),this._customInfo={}}return t.prototype.getUUID=function(){return this._uuid},t.prototype._setUUID=function(t){this._uuid=t},t.prototype.getID=function(){return this._uuid},t.prototype.getUsername=function(){return this._username},t.prototype._setUsername=function(t){var e;if(e=l._trim(t),d.Kii.logger("Setting username: "+e),l._validateUsername(e))return this._username=e;throw new d.InvalidUsernameException},t.prototype.disabled=function(){return this._disabled},t.prototype._setDisabled=function(t){this._disabled=t},t.prototype.getDisplayName=function(){return this._displayName},t.prototype.setDisplayName=function(t){if(!l._validateDisplayName(t))throw new d.InvalidDisplayNameException;return this._displayName=t},t.prototype.isPseudoUser=function(){return null!=this._hasPassword?!this._hasPassword:!this._username&&!this._emailAddress&&!this._phoneNumber},t.prototype.getEmailAddress=function(){return this._emailAddress},t.prototype._setEmailAddress=function(t){var e;if(e=l._trim(t),d.Kii.logger("Setting email: "+e),l._validateEmail(e))return this._emailAddress=e;throw new d.InvalidEmailException},t.prototype.getPendingEmailAddress=function(){return this._emailAddressPending},t.prototype.getPhoneNumber=function(){return this._phoneNumber},t.prototype._setPhoneNumber=function(t){if(d.Kii.logger("Setting phone number: "+t),l._validatePhoneNumber(t))return this._phoneNumber=t;throw new d.InvalidPhoneNumberException},t.prototype.getPendingPhoneNumber=function(){return this._phoneNumberPending},t.prototype._setLocalPhone=function(t,e){if(d.Kii.logger("Setting local phone number: "+t+", country: "+e),!l._validateLocalPhone(t))throw new d.InvalidPhoneNumberException;if(!l._validateCountryCode(e))throw new d.InvalidCountryException;return this._phoneNumber=t,this._country=e},t.prototype._setPassword=function(t){if(l._validatePassword(t))return this._password=t;throw new d.InvalidPasswordException},t.prototype._clearPassword=function(){return this._password=null},t.prototype.getCountry=function(){return this._country},t.prototype.setCountry=function(t){if(l._validateCountryCode(t))return this._country=t;throw new d.InvalidCountryException},t.prototype.getLocale=function(){return this._locale},t.prototype.setLocale=function(t){return this._locale=t},t.prototype.getCreated=function(){return this._created},t.prototype._setCreated=function(t){this._created=t},t.prototype.getModified=function(){return this._modified},t.prototype._setModified=function(t){this._modified=t},t.prototype.getEmailVerified=function(){return this._emailVerified},t.prototype._setEmailVerified=function(t){this._emailVerified=t},t.prototype.getPhoneVerified=function(){return this._phoneVerified},t.prototype._setPhoneVerified=function(t){this._phoneVerified=t},t.prototype.getLinkedSocialAccounts=function(){return d.Kii.logger("third party accounts: "+this._thirdPartyAccounts),null!=this._thirdPartyAccounts?this._thirdPartyAccounts:this._thirdPartyAccounts={}},t.prototype.getAccessToken=function(){return d.Kii.logger("Getting access token: "+this._accessToken),this._accessToken},t.prototype._setAccessToken=function(t){return this._accessToken=t,d.Kii.logger("Setting access token: "+this._accessToken)},t.prototype._setExpiresAt=function(t){return this._expiresAt=t,d.Kii.logger("Setting expires at: "+this._expiresAt)},t.prototype.getAccessTokenObject=function(){var t;return t=null,null!=this._accessToken&&(t={access_token:this._accessToken,expires_at:this._expiresAt}),t},t.prototype.objectURI=function(){var t;return t=null,null!=this._uuid&&(t="kiicloud://users/"+this._uuid),t},t.prototype.set=function(t,e){return l._isNonEmptyString(t)&&0!==t.indexOf("_")?(d.Kii.logger(this),d.Kii.logger(this._customInfo),this._customInfo[t]=e):void d.Kii.logger("[WARN] Reserved key is used for custom field. key="+t)},t.prototype.get=function(t){return this._customInfo[t]},t.getCurrentUser=function(){return d.Kii.getCurrentUser()},t.userWithUsername=function(t,e){var n;return n=new d.KiiUser,n._setUsername(t),n._setPassword(e),n},t._userWithEmailAddress=function(t,e){var n;return n=new d.KiiUser,n._setEmailAddress(t),n._setPassword(e),n},t._userWithPhoneNumber=function(t,e){var n;return n=new d.KiiUser,n._setPhoneNumber(t),n._setPassword(e),n},t.userWithPhoneNumber=function(e,n){return t._userWithPhoneNumber(e,n)},t.userWithPhoneNumberAndUsername=function(t,e,n){var i;return i=new d.KiiUser,i._setPhoneNumber(t),i._setUsername(e),i._setPassword(n),i},t.userWithEmailAddress=function(e,n){return t._userWithEmailAddress(e,n)},t.userWithEmailAddressAndUsername=function(t,e,n){var i;return i=new d.KiiUser,i._setEmailAddress(t),i._setUsername(e),i._setPassword(n),i},t.userWithEmailAddressAndPhoneNumber=function(t,e,n){var i;return i=new d.KiiUser,i._setEmailAddress(t),i._setPhoneNumber(e),i._setPassword(n),i},t.userWithCredentials=function(t,e,n,i){var r;return r=new d.KiiUser,r._setEmailAddress(t),r._setPhoneNumber(e),r._setUsername(n),r._setPassword(i),r},t._validateURI=function(t){var e,n,i;return t=l._trim(t),n=/^kiicloud:\/\/users\/(.*$)/i,"string"===(typeof t).toLowerCase()&&(e=t.match(n),null!=e&&(i=e[1])),i},t.userWithID=function(t){var e;if(null==t||""===t)throw new d.InvalidArgumentException("userID should not null or empty");return e=new d.KiiUser,e._setUUID(t),e},t.userWithURI=function(t){var e,n;if(d.Kii.logger("About to extract from: "+t),n=d.KiiUser._validateURI(t),d.Kii.logger("Extracted uuid from uri: "+n),null==n)throw new d.InvalidURIException;return e=new d.KiiUser,e._setUUID(n),e},t.prototype.bucketWithName=function(t){var e;return e=new d.KiiBucket(t,this)},t.prototype.encryptedBucketWithName=function(t){var e;return e=new d.KiiEncryptedBucket(t,this)},t.prototype._authenticate=function(t){var e,n,i,r,o,a;return d.Kii.logger("Authenticating user:"),d.Kii.logger(this),d.Kii.logger("Email verified: "+this._emailVerified),d.Kii.logger("Phone verified: "+this._phoneVerified),null!=this._username?a=this._username:null!=this._emailAddress&&this._emailVerified===!0?a=this._emailAddress:null!=this._phoneNumber&&this._phoneVerified===!0?a=this._phoneNumber:null!=this._emailAddress?a=this._emailAddress:null!=this._phoneNumber&&(a=this._phoneNumber),i={username:a,password:this._password},r=new Date,n=r.getTime(),d.Kii.getAccessTokenExpiration()>0&&(i.expiresAt=l._safeCalculateExpiresAtAsNumber(d.Kii.getAccessTokenExpiration(),n)),o=this._getRequest({path:"/oauth2/token",withApp:!1}),o.setAnonymous(!0),o.setMethod("POST"),o.setData(i),e={success:function(e){return function(i){return e._setUUID(i.id),e._clearPassword(),e._setAccessToken(i.access_token),null!=i.expires_in&&(r=new Date,n=r.getTime(),e._expiresAt=l._safeCalculateExpiresAtAsDate(i.expires_in,n)),d.Kii.setCurrentUser(e),null!=t?t.success(d.Kii.getCurrentUser()):void 0}}(this),failure:function(e){return function(n){return e._clearPassword(),null!=t?t.failure(e,n):void 0}}(this)},o.execute(e,!1)},t.prototype._authenticateWithToken=function(t,e,n){var i,r;return d.Kii.logger("Authenticating user "+this),d.Kii.logger(e),r=this._getRequest({path:"/users/me",withApp:!0}),r.setAnonymous(!0),r.addHeader("Authorization","Bearer "+t),i={success:function(i){return function(r){return i._updateWithJSON(r),i._setAccessToken(t),i._setExpiresAt("undefined"==typeof n?new Date(l.MAX_DATE_IN_MILLIS):n),d.Kii.setCurrentUser(i),null!=e?e.success(d.Kii.getCurrentUser()):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},r.execute(i,!1)},t.authenticate=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=i&&i.success.apply(i,arguments),r(arguments[0])},failure:function(){var t;return null!=i&&i.failure.apply(i,arguments),t=l._Error(arguments[1]),t.target=arguments[0],o(t)}},t._authenticateUsingCallbacks(e,n,a)})},t._authenticateUsingCallbacks=function(t,e,n){var i,r;try{if(d.Kii.logger("UserIdentifier: "+t),!l._validatePassword(e))throw new d.InvalidPasswordException;if(l._validateEmail(t))r=d.KiiUser._userWithEmailAddress(t,e);else if(l._validatePhoneNumber(t))r=d.KiiUser._userWithPhoneNumber(t,e);else{if(!l._validateUsername(t))throw new d.InvalidUserIdentifierException;r=d.KiiUser.userWithUsername(t,e)}return r._authenticate(n)}catch(o){if(i=o,null!=r&&r._clearPassword(),null!=n)return n.failure(null,i.message)}},t.authenticateWithToken=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=n&&n.success.apply(n,arguments),r(arguments[0])},failure:function(){var t;return null!=n&&n.failure.apply(n,arguments),t=l._Error(arguments[1]),t.target=arguments[0],o(t)}},t._authenticateWithTokenUsingCallbacks(e,a,i)})},t._authenticateWithTokenUsingCallbacks=function(t,e,n){var i,r;return i=l._type(n),"undefined"!==i&&"date"!==i?e.failure(null,d.InvalidArgumentException("Specified expiresAt must be a Date")):(r=new d.KiiUser,r._authenticateWithToken(t,e,n))},t.prototype.register=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._registerUsingCallbacks(r)}}(this))},t.prototype._registerUsingCallbacks=function(t){var e,n,i,r,o,a;if(d.Kii.logger("Registering user "+this),e={password:this._password},null!=this._username&&(e.loginName=this._username),null!=this._displayName&&(e.displayName=this._displayName),null!=this._emailAddress&&(e.emailAddress=this._emailAddress),null!=this._phoneNumber&&(e.phoneNumber=this._phoneNumber),!this._validateLocalPhoneNumber(this._phoneNumber,this._country))return void t.failure(this,"needs to provide country for the local phone number");null!=this._country&&(e.country=this._country),null!=this._locale&&(e.locale=this._locale),d.Kii.logger("CINFO"),d.Kii.logger(JSON.stringify(this._customInfo)),a=this._customInfo;for(n in a)o=a[n],d.Kii.logger("Key/val: "+n+"/"+o),e[n]=o;return r=this._getRequest({path:"/users",withApp:!0}),r.setMethod("POST"),r.setData(e),r.setAnonymous(!0),r.setContentType("application/vnd.kii.RegistrationRequest+json"),i={success:function(e){return function(n){return d.Kii.logger("Succreg"),e._updateWithJSON(n),e._authenticate(t)}}(this),failure:function(e){return function(n){return d.Kii.logger("Failreg"),e._clearPassword(),null!=t?t.failure(e,n):void 0}}(this)},r.execute(i,!1)},t.registerAsPseudoUser=function(e,n){return new Promise(function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1]))}},t._registerAsPseudoUserUsingCallbacks(o,n)})},t._registerAsPseudoUserUsingCallbacks=function(t,e){var n,i,r,o,a;return r=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/users",o=h.createXHRWrapper("POST",r),a=o.xhr,a.setRequestHeader("x-kii-appid",d.Kii.getAppID()),a.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),a.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),a.setRequestHeader("Content-Type","application/vnd.kii.RegistrationAndAuthorizationRequest+json"),i={success:function(){var e,n,i,o;try{return a.status<300&&a.status>=200?(i=JSON.parse(a.responseText),e=i._accessToken,o=new d.KiiUser,o._updateWithJSON(i),o._setAccessToken(e),o._setExpiresAt(new Date(l.MAX_DATE_IN_MILLIS)),d.Kii.setCurrentUser(o),t.success(o)):(n=a.status+" : "+r,t.failure(null,n))}catch(s){return t.failure(null,"failed to parse response")}},failure:function(){var e,n;e="failed to register pseudo user. statusCode: "+a.status;try{if(n=JSON.parse(a.responseText),null!=n.errorCode&&(e+=" error code: "+n.errorCode),null!=n.message)return e+=" error message: "+n.message}catch(i){}finally{t.failure(null,e)}}},null==e&&(e={}),n=JSON.stringify(e),o.sendData(n,i)},t.prototype.putIdentity=function(t,e,n,i,r){return new Promise(function(o){return function(a,s){var u;return u={success:function(){return null!=n&&n.success.apply(n,arguments),a(arguments[0])},failure:function(){return null!=n&&n.failure.apply(n,arguments),s(l._Error(arguments[1],o))}},o._putIdentityUsingCallbacks(t,e,u,i,r)}}(this))},t.prototype._putIdentityUsingCallbacks=function(t,e,n,i,r){var o,a,s,u;if(d.Kii.logger("Put identity user: "+this._uuid+", data: "+JSON.stringify(t)),a={},!this.isPseudoUser())return void(null!=n&&n.failure(this,"This user has the identity already"));if(null==t)return void(null!=n&&n.failure(this,"identityData is null"));try{this._validateIdentityData(t)}catch(c){return s=c,void(null!=n&&n.failure(this,s))}return u=!1,null!=t.emailAddress&&(u=!0),null!=t.phoneNumber&&(u=!0),null!=t.username&&(u=!0),u?null==e?void(null!=n&&n.failure(this,"password is null")):l._validatePassword(e)?(o=null!=i?i.country:null,null==t.phoneNumber||this._validateLocalPhoneNumber(t.phoneNumber,o)?this.refresh({failure:function(t){return function(e,i){return d.Kii.logger("Failreg"),null!=n?n.failure(t,i):void 0}}(this),success:function(o){return function(s){var u,l,c,h,p,f,g,m,v,y;if(!s.isPseudoUser())return void(null!=n&&n.failure(s,"This user has the identity already"));if(a=o._clone(s._customInfo),null!=t.emailAddress&&(a.emailAddress=t.emailAddress),null!=t.phoneNumber&&(a.phoneNumber=t.phoneNumber),null!=t.username&&(a.loginName=t.username),a.password=e,null!=i)for(l in i)f=i[l],a[l]=f;if(null!=r)for(v=0,y=r.length;y>v;v++)c=r[v],delete a[c];return p=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+("/users/"+o._uuid),g=o._getXhrWrapper("POST",p),m=g.xhr,o._setAuthHeader(m),m.setRequestHeader("Content-Type","application/vnd.kii.UserUpdateRequest+json"),h={success:function(){var e,a;try{return a=JSON.parse(m.responseText),m.status<300&&m.status>=200?(s._setModified(a.modifiedAt),s._updateWithIdentityData(t),s._updateWithUserFields(i,r),o._hasPassword=!0,n.success(s)):(e=m.status+" : "+p,n.failure(o,e))}catch(u){return n.failure(o,"failed to parse response")}},failure:function(){var t,e;t="failed to put identity data. statusCode: "+m.status;try{if(e=JSON.parse(m.responseText),null!=e.errorCode&&(t+=" error code: "+e.errorCode),null!=e.message)return t+=" error message: "+e.message}catch(i){}finally{n.failure(o,t)}}},u=JSON.stringify(a),g.sendData(u,h)}}(this)}):void n.failure(this,"needs to provide country for the local phone number")):void(null!=n&&n.failure(this,"invalid password")):void(null!=n&&n.failure(this,"needs to provide at least one of login name, email address or phone number"))},t.prototype.update=function(t,e,n,i){return new Promise(function(r){return function(o,a){var s;return s={success:function(){return null!=e&&e.success.apply(e,arguments),o(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),a(l._Error(arguments[1],r))}},r._updateUsingCallbacks(t,s,n,i)}}(this))},t.prototype._updateUsingCallbacks=function(t,e,n,i){var r,o,a,s,u,l,c,h,p,f,g;if(d.Kii.logger("update user: "+this._uuid),o={},s=!1,l=!1,u=!1,null!=t){try{this._validateIdentityData(t)}catch(m){return a=m,void(null!=e&&e.failure(this,a))}null!=t.emailAddress&&(s=!0),null!=t.phoneNumber&&(s=!0),null!=t.username&&(s=!0)}if(null!=n)for(c in n){p=n[c],l=!0;break}if(null!=i)for(f=0,g=i.length;g>f;f++){h=i[f],u=!0;break}return s||l||u?(r=null!=n?n.country:null,null==t||null==t.phoneNumber||this._validateLocalPhoneNumber(t.phoneNumber,r)?this.refresh({failure:function(t){return function(n,i){return d.Kii.logger("Failreg"),null!=e?e.failure(t,i):void 0}}(this),success:function(r){return function(a){var u,l,f,g,m,v,y;if(a.isPseudoUser()&&s)return void(null!=e&&e.failure(a,"Pseudo user must use putIdentity()"));if(o=r._clone(a._customInfo),null!=t&&(null!=t.emailAddress&&(o.emailAddress=t.emailAddress),null!=t.phoneNumber&&(o.phoneNumber=t.phoneNumber),null!=t.username&&(o.loginName=t.username)),null!=n)for(c in n)p=n[c],o[c]=p;
if(null!=i)for(v=0,y=i.length;y>v;v++)h=i[v],delete o[h];return f=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+("/users/"+r._uuid),g=r._getXhrWrapper("POST",f,!1),m=g.xhr,r._setAuthHeader(m),m.setRequestHeader("Content-Type","application/vnd.kii.UserUpdateRequest+json"),l={success:function(){var s,u;try{return u=JSON.parse(m.responseText),m.status<300&&m.status>=200?(a._setModified(o.modifiedAt),a._updateWithIdentityData(t),a._updateWithUserFields(n,i),e.success(a)):(s=m.status+" : "+f,e.failure(r,s))}catch(l){return e.failure(r,"failed to parse response")}},failure:function(){var t,n;t="failed to update user. statusCode: "+m.status;try{if(n=JSON.parse(m.responseText),null!=n.errorCode&&(t+=" error code: "+n.errorCode),null!=n.message)return t+=" error message: "+n.message}catch(i){}finally{e.failure(r,t)}}},u=JSON.stringify(o),g.sendData(u,l)}}(this)}):void e.failure(this,"needs to provide country for the local phone number")):void e.failure(this,"all arguments are null or empty")},t.prototype.updatePassword=function(t,e,n){return new Promise(function(i){return function(r,o){var a;return a={success:function(){return null!=n&&n.success.apply(n,arguments),r(arguments[0])},failure:function(){return null!=n&&n.failure.apply(n,arguments),o(l._Error(arguments[1],i))}},i._updatePasswordUsingCallbacks(t,e,a)}}(this))},t.prototype._updatePasswordUsingCallbacks=function(t,e,n){var i,r,o,a;return d.Kii.logger("Updating password from "+t+" to "+e),l._validatePassword(e)?(i={oldPassword:t,newPassword:e},r="/users/"+this._uuid+"/password",o=this._getRequest({path:r,withApp:!0}),o.setMethod("PUT"),o.setData(i),o.setContentType("application/vnd.kii.ChangePasswordRequest+json"),a={success:function(t){return function(e,i){if(t._clearPassword,300>i&&i>=200){if(null!=n)return n.success(t)}else if(null!=n)return n.failure(t,"Unable to change password")}}(this),failure:function(t){return function(e){return t._clearPassword,null!=n?n.failure(t,e):void 0}}(this)},o.execute(a,!0)):null!=n?n.failure(this,(new d.InvalidPasswordException).message):void 0},t.resetPassword=function(e,n){return new Promise(function(i,r){var o;return o={success:function(){return null!=n&&n.success(),i()},failure:function(){return null!=n&&n.failure(arguments[0]),r(l._Error(arguments[0]))}},t._resetPasswordUsingCallbacks(e,o)})},t._resetPasswordUsingCallbacks=function(t,e){var n,i,r,o;if(d.Kii.logger("Resetting password with identifier: "+t),l._validateEmail(t))n="EMAIL";else if(null!=e)return void e.failure("Invalid user identifier. Must be a valid email address");return null!=n?(i="/users/"+n+":"+t+"/password/request-reset",r=new a(i,!0),r.setMethod("POST"),r.setAnonymous(!0),o={success:function(t,n){return 300>n&&n>=200&&null!=e?e.success():null!=e?e.failure("Unable to reset password"):void 0},failure:function(t){return null!=e?e.failure(t):void 0}},r.execute(o,!0)):void 0},t.resetPasswordWithNotificationMethod=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=i&&i.success(),r()},failure:function(){return null!=i&&i.failure(arguments[0]),o(l._Error(arguments[0]))}},t._resetPasswordWithNotificationMethodUsingCallbacks(e,n,a)})},t._resetPasswordWithNotificationMethodUsingCallbacks=function(t,e,n){var i,r,o,a,s,u;return"string"!=typeof t?void(null!=n&&n.failure("given userIdentifier is not string")):""===t?void(null!=n&&n.failure("given userIdentifier is empty")):"EMAIL"!==e&&"SMS"!==e&&"SMS_PIN"!==e?void(null!=n&&n.failure("notificationMethod should be 'EMAIL' or 'SMS' or 'SMS_PIN'")):(r=l._validateEmail(t)?"EMAIL:"+t:l._isGlobalPhoneNumber(t)?"PHONE:"+t:t,r=encodeURIComponent(r),i={notificationMethod:e},"SMS_PIN"===e&&(i.notificationMethod="SMS",i.smsResetMethod="PIN"),a=""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/users/"+r+"/password/request-reset",s=h.createXHRWrapper("POST",a),u=s.xhr,u.setRequestHeader("x-kii-appid",d.Kii.getAppID()),u.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),u.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),u.setRequestHeader("Content-Type","application/vnd.kii.ResetPasswordRequest+json"),o={success:function(){return null!=n?n.success():void 0},failure:function(){var t,e;t="failed to reset password. statusCode: "+u.status;try{if(e=JSON.parse(u.responseText),null!=e.errorCode&&(t+=" error code: "+e.errorCode),null!=e.message)return t+=" error message: "+e.message}catch(i){}finally{null!=n&&n.failure(t)}}},s.sendData(JSON.stringify(i),o))},t.completeResetPassword=function(e,n,i,r){return new Promise(function(o,a){var s;return s={success:function(){return null!=r&&r.success(),o()},failure:function(){return null!=r&&r.failure(arguments[0]),a(l._Error(arguments[0]))}},t._completeResetPasswordUsingCallbacks(e,n,i,s)})},t._completeResetPasswordUsingCallbacks=function(t,e,n,i){var r,o,a,s,u,c;return l._isNonEmptyString(t)?l._isNonEmptyString(e)?(o=l._validateEmail(t)?"EMAIL:"+t:l._isGlobalPhoneNumber(t)?"PHONE:"+t:t,o=encodeURIComponent(o),r={pinCode:e},l._isNonEmptyString(n)&&(r.newPassword=n),s=""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/users/"+o+"/password/complete-reset",u=h.createXHRWrapper("POST",s),c=u.xhr,c.setRequestHeader("x-kii-appid",d.Kii.getAppID()),c.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),c.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),c.setRequestHeader("Content-Type","application/vnd.kii.CompletePasswordResetRequest+json"),a={success:function(){return null!=i?i.success():void 0},failure:function(){var t,e;t="failed to reset password. statusCode: "+c.status;try{if(e=JSON.parse(c.responseText),null!=e.errorCode&&(t+=" error code: "+e.errorCode),null!=e.message)return t+=" error message: "+e.message}catch(n){}finally{null!=i&&i.failure(t)}}},u.sendData(JSON.stringify(r),a)):void(null!=i&&i.failure("given pinCode is null or empty")):void(null!=i&&i.failure("given userIdentifier is null or empty"))},t.prototype.verifyCredentials=function(t,e,n){return new Promise(function(i){return function(r,o){var a;return a={success:function(){return null!=n&&n.success.apply(n,arguments),r(arguments[0])},failure:function(){return null!=n&&n.failure.apply(n,arguments),o(l._Error(arguments[1],i))}},i._verifyCredentialsUsingCallbacks(t,e,a)}}(this))},t.prototype._verifyCredentialsUsingCallbacks=function(t,e,n){var i,r,o;return d.Kii.logger("Verifying "+t+" with code: "+e),i="/users/me/"+t+"/verify",r=this._getRequest({path:i,withApp:!0}),r.setMethod("POST"),r.setData({verificationCode:e}),r.setContentType("application/vnd.kii.AddressVerificationRequest+json"),o={success:function(e){return function(i,r){if(300>r&&r>=200){if("email-address"===t?e._setEmailVerified(!0):"phone-number"===t&&e._setPhoneVerified(!0),null!=n)return n.success(e)}else if(null!=n)return n.failure(e,"Unable to verify "+t)}}(this),failure:function(t){return function(e){return null!=n?n.failure(t,e):void 0}}(this)},r.execute(o,!0)},t.prototype.verifyPhoneNumber=function(t,e){return this.verifyCredentials("phone-number",t,e)},t.prototype.resendVerification=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._resendVerificationUsingCallbacks(t,o)}}(this))},t.prototype._resendVerificationUsingCallbacks=function(t,e){var n,i,r,o;return d.Kii.logger("Resending verification "+t),n=this.getID(),i="/users/"+n+"/"+t+"/resend-verification",r=this._getRequest({path:i,withApp:!0}),r.setMethod("POST"),o={success:function(n){return function(i,r){return 300>r&&r>=200&&null!=e?e.success(n):null!=e?e.failure(n,"Unable to resend "+t+" verification"):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},r.execute(o,!0)},t.prototype.resendEmailVerification=function(t){return this.resendVerification("email-address",t)},t.prototype.resendPhoneNumberVerification=function(t){return this.resendVerification("phone-number",t)},t.prototype.memberOfGroups=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._memberOfGroupsUsingCallbacks(r)}}(this))},t.prototype._memberOfGroupsUsingCallbacks=function(t){var e,n,i;return d.Kii.logger("Getting groups for member "+this._uuid),n="/groups/?is_member="+this._uuid,i=this._getRequest({path:n,withApp:!0}),i.setAccept("application/vnd.kii.GroupsRetrievalResponse+json"),e={success:function(e){return function(n,i){var r,o,a,s,u;if(300>i&&i>=200){for(o=[],u=n.groups,a=0,s=u.length;s>a;a++)r=u[a],o.push(e._groupWithJSON(r));if(null!=t)return t.success(e,o)}else if(null!=t)return t.failure(e,"Unable to retrieve groups")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(e,!1)},t.prototype.ownerOfGroups=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._ownerOfGroupsUsingCallbacks(r)}}(this))},t.prototype._ownerOfGroupsUsingCallbacks=function(t){var e,n,i;return d.Kii.logger("Getting groups owned by the user "+this._uuid),n="/groups/?owner="+this._uuid,i=this._getRequest({path:n,withApp:!0}),i.setAccept("application/vnd.kii.GroupsRetrievalResponse+json"),e={success:function(e){return function(n,i){var r,o,a,s,u;if(300>i&&i>=200){for(o=[],u=n.groups,a=0,s=u.length;s>a;a++)r=u[a],o.push(e._groupWithJSON(r));if(null!=t)return t.success(e,o)}else if(null!=t)return t.failure(e,"Unable to retrieve groups")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(e,!1)},t.prototype.changePhone=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._changePhoneUsingCallbacks(t,o)}}(this))},t.prototype._changePhoneUsingCallbacks=function(t,e){var n,i,r;return d.Kii.logger("Updating phone number to "+t),n="/users/"+this._uuid+"/phone-number",i=this._getRequest({path:n,withApp:!0}),i.setMethod("PUT"),i.setContentType("application/vnd.kii.PhoneNumberModificationRequest+json"),i.setData({phoneNumber:t}),r={success:function(t){return function(n,i){return 300>i&&i>=200&&null!=e?e.success(t):null!=e?e.failure(t,"Unable to update phone number"):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},i.execute(r,!0)},t.prototype.changeEmail=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._changeEmailUsingCallbacks(t,o)}}(this))},t.prototype._changeEmailUsingCallbacks=function(t,e){var n,i,r;return d.Kii.logger("Updating email address to: "+t),l._validateEmail(t)?(n="/users/"+this._uuid+"/email-address",i=this._getRequest({path:n,withApp:!0}),i.setMethod("PUT"),i.setContentType("application/vnd.kii.EmailAddressModificationRequest+json"),i.setData({emailAddress:t}),r={success:function(t){return function(n,i){return 300>i&&i>=200&&null!=e?e.success(t):null!=e?e.failure(t,"Unable to update email address"):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},i.execute(r,!0)):e.failure(this,"Invalid email address format")},t.prototype.save=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._saveUsingCallbacks(r)}}(this))},t.prototype._saveUsingCallbacks=function(t){var e,n,i,r;return d.Kii.logger("Saving user: "+this._uuid),n="/users/"+this._uuid,d.Kii.logger("CUSTOMINFO: "),d.Kii.logger(this._customInfo),i=this._getRequest({path:n,withApp:!0}),i.setMethod("POST"),i.setContentType("application/vnd.kii.UserUpdateRequest+json"),e=this._customInfo,null!=this._country&&(e.country=this._country),null!=this._locale&&(e.locale=this._locale),null!=this._displayName&&(e.displayName=this._displayName),i.setData(e),r={success:function(e){return function(n,i){if(300>i&&i>=200){if(e._setModified(n.modifiedAt),null!=t)return t.success(e)}else if(null!=t)return t.failure(e,"Unable to parse response")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(r,!1)},t.prototype.refresh=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._refreshUsingCallbacks(r)}}(this))},t.prototype._refreshUsingCallbacks=function(t){var e,n;return d.Kii.logger("Refreshing user: "+this._uuid),n=this._getRequest({path:"/users/"+this._uuid,withApp:!0}),e={success:function(e){return function(n,i){if(300>i&&i>=200){if(e._phoneNumberPending=null,e._emailAddressPending=null,e._updateWithJSON(n),null!=t)return t.success(e)}else if(null!=t)return t.failure(e,"Unable to parse response")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!1)},t.prototype["delete"]=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteUsingCallbacks(r)}}(this))},t.prototype._deleteUsingCallbacks=function(t){var e,n;return d.Kii.logger("Deleting user..."),n=this._getRequest({path:"/users/"+this._uuid,withApp:!0}),n.setMethod("DELETE"),e={success:function(e){return function(n,i){return 300>i&&i>=200&&null!=t?t.success(e):null!=t?t.failure(e,"Unable to parse response"):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!0)},t.logOut=function(){return d.Kii.logOut()},t.loggedIn=function(){return d.Kii.loggedIn()},t.prototype._updateWithIdentityData=function(t){return null!=t&&(null!=t.username&&(this._username=t.username),null!=t.emailAddress&&(this._emailAddress=t.emailAddress),null!=t.phoneNumber)?this._phoneNumber=t.phoneNumber:void 0},t.prototype._updateWithUserFields=function(t,e){var n,i,r,o,a,s;if(null!=t)for(n in t)r=t[n],"displayName"===n?this._displayName=r:"country"===n?this._country=r:"locale"===n?this._locale=r:""===n?(d.Kii.logger("Setting empty to custom info"),this._customInfo[n]=r):"_"!==n.substring(0,1)&&(d.Kii.logger("Setting to custom info"),this._customInfo[n]=r);if(null!=e){for(s=[],o=0,a=e.length;a>o;o++)i=e[o],s.push(delete this._customInfo[i]);return s}},t.prototype._validateIdentityData=function(t){if(null!=t){if(null!=t.emailAddress&&!l._validateEmail(t.emailAddress))throw"invalid email";if(null!=t.phoneNumber&&!l._validatePhoneNumber(t.phoneNumber))throw"invalid phone number";if(null!=t.username&&!l._validateUsername(t.username))throw"invalid username"}},t.prototype._validateLocalPhoneNumber=function(t,e){return null==t||l._isGlobalPhoneNumber(t)?!0:null!=e?l._validateCountryCode(e):!1},t.prototype._updateWithJSON=function(t){var e,n,i,r;d.Kii.logger("Updating with:"),d.Kii.logger(t),this._thirdPartyAccounts={},r=[];for(e in t)i=t[e],d.Kii.logger("key/val => "+e+"/"+i),d.Kii.logger("Substr "+e.substring(0,1)),"userID"===e||"id"===e?r.push(this._uuid=i):"created"===e||"createdAt"===e||"_created"===e?r.push(this._created=i):"modified"===e||"modifiedAt"===e||"_modified"===e?r.push(this._modified=i):"loginName"===e?r.push(this._username=i):"displayName"===e?r.push(this._displayName=i):"country"===e?(d.Kii.logger("Is setting country"),r.push(this._country=i)):"locale"===e?r.push(this._locale=i):"emailAddress"===e?r.push(this._emailAddress=i):"_emailAddressPending"===e?r.push(this._emailAddressPending=i):"phoneNumber"===e?r.push(this._phoneNumber=i):"_phoneNumberPending"===e?r.push(this._phoneNumberPending=i):"emailAddressVerified"===e?(d.Kii.logger("Email verified: "+i),r.push(this._emailVerified=i)):"phoneNumberVerified"===e?(d.Kii.logger("Phone verified: "+i),r.push(this._phoneVerified=i)):"_hasPassword"===e?(d.Kii.logger("_hasPassword: "+i),r.push(this._hasPassword=i)):"_thirdPartyAccounts"===e?(null!=i.hotmail&&(n=i.hotmail,n.type="live",i.live=n,delete i.hotmail),d.Kii.logger("_thirdPartyAccounts: "+i),r.push(this._thirdPartyAccounts=i)):"_disabled"===e?(d.Kii.logger("disabled: "+i),r.push(this._disabled=i)):""===e?(d.Kii.logger("Setting empty to custom info"),r.push(this._customInfo[e]=i)):e.substring(0,!0)?(d.Kii.logger("Setting to custom info"),r.push(this._customInfo[e]=i)):r.push(d.Kii.logger("Doing nothing"));return r},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.findUserByEmail=function(e,n){var i,r;return null==d.KiiUser.getCurrentUser()||null==d.KiiUser.getCurrentUser().getAccessToken()?(r=d.IllegalStateException("User is not logged in"),i=l._Error(r),null!=n&&"function"==typeof n.failure&&n.failure(r),Promise.reject(i)):t._findUserByEmail(e,n)},t._findUserByEmail=function(e,n,i){var r,o,a;return null==e||""===e?(o=d.InvalidArgumentException("email should not null or empty"),r=l._Error(o),null!=i?(null!=n&&"function"==typeof n.failure&&n.failure(i,o),r.target=i):null!=n&&"function"==typeof n.failure&&n.failure(o),Promise.reject(r)):(a=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+("/users/EMAIL:"+e),t._findUserRequestImpl(a,n,i))},t.findUserByPhone=function(e,n){var i,r;return null==d.KiiUser.getCurrentUser()||null==d.KiiUser.getCurrentUser().getAccessToken()?(r=d.IllegalStateException("User is not logged in"),i=l._Error(r),null!=n&&"function"==typeof n.failure&&n.failure(r),Promise.reject(i)):t._findUserByPhone(e,n)},t._findUserByPhone=function(e,n,i){var r,o,a;return null==e||""===e?(o=d.InvalidArgumentException("phone should not null or empty"),r=l._Error(o),null!=i?(null!=n&&"function"==typeof n.failure&&n.failure(i,o),r.target=i):null!=n&&"function"==typeof n.failure&&n.failure(o),Promise.reject(r)):(a=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+("/users/PHONE:"+e),t._findUserRequestImpl(a,n,i))},t.findUserByUsername=function(e,n){var i,r;return null==d.KiiUser.getCurrentUser()||null==d.KiiUser.getCurrentUser().getAccessToken()?(r=d.IllegalStateException("User is not logged in"),i=l._Error(r),null!=n&&"function"==typeof n.failure&&n.failure(r),Promise.reject(i)):t._findUserByUsername(e,n)},t._findUserByUsername=function(e,n,i){var r,o,a;return null==e||""===e?(o=d.InvalidArgumentException("username should not null or empty"),r=l._Error(o),null!=i?(null!=n&&"function"==typeof n.failure&&n.failure(i,o),r.target=i):null!=n&&"function"==typeof n.failure&&n.failure(o),Promise.reject(r)):(a=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+("/users/LOGIN_NAME:"+e),t._findUserRequestImpl(a,n,i))},t._findUserRequestImpl=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){var t;return null!=n&&null!=(t=n.success)&&t.apply(n,arguments),r(null!=i?arguments:arguments[0])},failure:function(){var t;return null!=n&&null!=(t=n.failure)&&t.apply(n,arguments),o(null!=i?l._Error(arguments[1],arguments[0]):l._Error(arguments[0]))}},t._findUserRequestImplUsingCallbacks(e,a,i)})},t._findUserRequestImplUsingCallbacks=function(t,e,n){var i,r,o;return r=h.createXHRWrapper("GET",t),o=r.xhr,o.setRequestHeader("x-kii-appid",d.Kii.getAppID()),o.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),o.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),null!=n?o.setRequestHeader("Authorization","Bearer "+n._getToken()):o.setRequestHeader("Authorization","Bearer "+d.KiiUser.getCurrentUser().getAccessToken()),i={success:function(){var t,i;if(null!=e)try{return t=JSON.parse(o.responseText),null!=n?(i=new d.KiiUserWithToken(n._getToken()),i._updateWithJSON(t),e.success(n,i)):(i=new d.KiiUser,i._updateWithJSON(t),e.success(i))}catch(r){return null!=n?e.failure(n,"Unable to parse response"):e.failure("Unable to parse response")}},failure:function(){var t,i;if(null!=e){t="Failed to find user. statusCode: "+o.status;try{if(i=JSON.parse(o.responseText),null!=i.errorCode&&(t+=" error code: "+i.errorCode),null!=i.message)return t+=" error message: "+i.message}finally{null!=n?e.failure(n,t):e.failure(t)}}}},r.send(i)},t.prototype._getXhrWrapper=function(t,e){var n,i;return n=h.createXHRWrapper(t,e),i=n.xhr,i.setRequestHeader("x-kii-appid",d.Kii.getAppID()),i.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),i.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),n},t.prototype._setAuthHeader=function(t){var e;return e=d.KiiUser.getCurrentUser(),null!=e?t.setRequestHeader("Authorization","Bearer "+e.getAccessToken()):void 0},t.prototype._groupWithJSON=function(t){return d.KiiGroup._groupWithJSON(t)},t.prototype.topicWithName=function(t){var e,n;if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");if(e=this.getID(),!e)throw"can not instantiate topic from instance which doesn't have ID";return n=this._getHttpURI(),new d.KiiTopic(n,t)},t.prototype.listTopics=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(arguments[0])}},n._listTopicsUsingCallbacks(o,e)}}(this))},t.prototype._listTopicsUsingCallbacks=function(t,e){var n,i,r;return i=""+this._getHttpURI()+"/topics","string"==typeof e&&""!==e&&(i=i+"?paginationKey="+encodeURIComponent(e)),r=h.createXHRWrapper("GET",i),r.setKiiHeaders(),this._setAuthToken(r),n={success:function(e){return function(){var n,i,o,a,s,u;for(n=JSON.parse(r.xhr.responseText),o=[],u=n.topics,a=0,s=u.length;s>a;a++)i=u[a],o.push(e.topicWithName(i.topicID));return null!=t?t.success(o,void 0===n.paginationKey?null:n.paginationKey):void 0}}(this),failure:function(e){return function(){var n,i;return i=r.getErrorString("list topics"),n=l._Error(i,e),null!=t?t.failure(n):void 0}}(this)},r.send(n)},t.prototype.pushSubscription=function(){return new d.KiiPushSubscription(this)},t.prototype.pushInstallation=function(){return new d.KiiPushInstallation(this)},t.prototype._getSubscriberPath=function(){return"users/"+this.getID()},t.prototype._clone=function(t){var e,n;if(null==t||"object"!=typeof t)return t;n=new t.constructor;for(e in t)n[e]=this._clone(t[e]);return n},t.prototype._getHttpURI=function(){return""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/users/"+this.getID()},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t}(),l=function(){function t(){}return t.MAX_DATE_IN_MILLIS=864e13,t.MIN_DATE_IN_MILLIS=-864e13,t._validateEmail=function(e){var n;return e=t._trim(e),n=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i,"string"!==(typeof e).toLowerCase()?(d.Kii.logger("Not string"),!1):e.match(n)?!0:!1},t._validatePhoneNumber=function(e){var n;return e=t._trim(e),n=/^[\\+]?[0-9]{10,}$/i,"string"!==(typeof e).toLowerCase()?(d.Kii.logger("Not string"),!1):e.match(n)?!0:!1},t._isGlobalPhoneNumber=function(e){var n;return e=t._trim(e),n=/^[\\+]{1}[0-9]{2}/,"string"!==(typeof e).toLowerCase()?(d.Kii.logger("Not string"),!1):e.match(n)?!0:!1},t._validateLocalPhone=function(e){var n;return e=t._trim(e),n=/^\d+$/,"string"!==(typeof e).toLowerCase()?(d.Kii.logger("Not string"),!1):e.match(n)?!0:(d.Kii.logger("Invalid format"),!1)},t._assertLocalPhoneIsValid=function(e){if(!t._validateLocalPhone(e))throw new d.InvalidLocalPhoneNumberException},t._validateCountryCode=function(e){var n;return e=t._trim(e),n=/^[a-z]{2}$/i,"string"!==(typeof e).toLowerCase()?(d.Kii.logger("Not string"),!1):e.match(n)?(d.Kii.logger("Is true"),!0):!1},t._assertCountryCodeIsValid=function(e){if(!t._validateCountryCode(e))throw new d.InvalidCountryException},t._validatePassword=function(t){var e;return d.Kii.logger("Validating password: "+t),e=/^[\x20-\x7E]{4,50}$/,"string"!==(typeof t).toLowerCase()?(d.Kii.logger("not string"),!1):t.match(e)?(d.Kii.logger("matched"),!0):(d.Kii.logger("other exception"),!1)},t._assertPasswordIsValid=function(e){if(!t._validatePassword(e))throw new d.InvalidPasswordException},t._validateUsername=function(t){var e;return e=/^[a-zA-Z0-9-_\\.]{3,64}$/i,"string"!==(typeof t).toLowerCase()?!1:t.match(e)?!0:!1},t._validateGroupID=function(t){var e;return e=/^[a-z0-9-_.]{1,30}$/,"string"!==(typeof t).toLowerCase()?!1:t.match(e)?!0:!1},t._validateDisplayName=function(e){var n;return"string"===t._type(e)&&1<=(n=e.length)&&50>=n},t._trim=function(t){var e;return e=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,(t||"").replace(e,"")},t._safeAddTicks=function(e,n){if(isNaN(parseInt(e,10))||isNaN(parseInt(n,10)))throw new d.InvalidArgumentException("Parameters should be a number");if(Math.abs(e+n)>t.MAX_DATE_IN_MILLIS)throw new d.ArithmeticException("Addition of "+e+" and "+n+" result in long overflow");return e+n},t._safeMultiplyTicks=function(e,n){if(isNaN(parseInt(e,10))||isNaN(parseInt(n,10)))throw new d.InvalidArgumentException("Parameters should be a number");if(Math.abs(e*n)>t.MAX_DATE_IN_MILLIS)throw new d.ArithmeticException("Multiplication of "+e+" and "+n+" result in long overflow");return e*n},t._safeCalculateExpiresAtAsNumber=function(e,n){var i,r,o;o=0;try{r=t._safeMultiplyTicks(e,1e3),o=t._safeAddTicks(n,r)}catch(a){if(i=a,!(i instanceof d.ArithmeticException))throw i;o=t.MAX_DATE_IN_MILLIS}return o},t._safeCalculateExpiresAtAsDate=function(e,n){var i,r,o;o=0;try{r=t._safeMultiplyTicks(e,1e3),o=t._safeAddTicks(n,r)}catch(a){if(i=a,!(i instanceof d.ArithmeticException))throw i;o=t.MAX_DATE_IN_MILLIS}return new Date(o)},t._isJSONType=function(t){var e;return e=/\+?json(;.*)?$/i,t.match(e)},t._type=function(t){var e;return void 0===t||null===t?String(t):(e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},e[Object.prototype.toString.call(t)])},t._disableCacheURL=function(t){return t+=-1!==t.indexOf("?")?"&disable_cache=":"?disable_cache=",t+=(new Date).getTime()},t._validateServerCodeEntryName=function(e){var n;return n=/^[a-zA-Z][_a-zA-Z0-9]*$/i,"string"===t._type(e)&&e.match(n)},t._validateServerCodeEntryArgument=function(e){return"null"===t._type(e)||"object"===t._type(e)&&Object.keys(e).length>0},t._validateServerCodeEnryVersion=function(e){return"string"===t._type(e)&&""!==e},t._isNonEmptyString=function(t){return"string"!=typeof t?!1:t.length>0},t._Error=function(t,e){var n;return n=Error(t),n.target=e,n},t}(),d.KiiSocialConnect=function(){function t(){}var e;return e=null,t.setupNetwork=function(){},t.logIn=function(n,i,r){return null==e&&(e=new m),new Promise(function(e,o){var a,s,u;u={success:function(){return null!=r&&r.success.apply(r,arguments),e(arguments)},failure:function(){var t;return null!=r&&r.failure.apply(r,arguments),t=l._Error(arguments[2]),t.network=n,o(t)}};try{return t._logInUsingCallbacks(n,i,u)}catch(c){return s=c,null!=r&&"function"==typeof r.failure&&r.failure(null,n,s),a=l._Error(s),a.network=n,o(a)}})},t._logInUsingCallbacks=function(t,n,i){var r;return r=!1,null!=e&&(d.Kii.logger("And manager: "),d.Kii.logger(e._getManager(t)),e._getManager(t)&&(e._getManager(t)._logIn(n,i),r=!0)),d.Kii.logger("Callbacks"),d.Kii.logger(i),r||null==i?void 0:i.failure(d.KiiUser.getCurrentUser(),t,"Unable to get network. Please ensure the network name is one of the supported KiiSocialNetworkName values")},t.linkCurrentUserWithNetwork=function(n,i,r){return null==e&&(e=new m),new Promise(function(e,o){var a,s,u,c;c={success:function(){return null!=r&&r.success.apply(r,arguments),e(arguments)},failure:function(){var t;return null!=r&&r.failure.apply(r,arguments),t=l._Error(arguments[2]),t.target=arguments[0],t.network=n,o(t)}};try{return t._linkCurrentUserWithNetworkUsingCallbacks(n,i,c)}catch(h){return u=h,a=d.KiiUser.getCurrentUser(),null!=r&&"function"==typeof r.failure&&r.failure(a,n,u),s=l._Error(u),s.target=a,s.network=n,o(s)}})},t._linkCurrentUserWithNetworkUsingCallbacks=function(t,n,i){var r;return d.Kii.logger("Trying with instance"),d.Kii.logger(e),r=!1,null!=e&&(d.Kii.logger("And manager: "),d.Kii.logger(e._getManager(t)),e._getManager(t)&&(e._getManager(t)._linkWithCurrentUser(n,i),r=!0)),d.Kii.logger("Callbacks"),d.Kii.logger(i),r||null==i?void 0:i.failure(d.KiiUser.getCurrentUser(),t,"Unable to get network. Please ensure the network name is one of the supported KiiSocialNetworkName values")},t.unLinkCurrentUserFromNetwork=function(n,i){return null==e&&(e=new m),new Promise(function(e,r){var o;return o={success:function(){return null!=i&&i.success.apply(i,arguments),e(arguments)},failure:function(){var t;return null!=i&&i.failure.apply(i,arguments),t=l._Error(arguments[2]),t.target=arguments[0],t.network=n,r(t)}},t._unLinkCurrentUserWithNetworkUsingCallbacks(n,o)})},t._unLinkCurrentUserWithNetworkUsingCallbacks=function(t,n){if(d.Kii.logger("Trying with instance"),d.Kii.logger(e),null!=e){if(d.Kii.logger("And manager: "),d.Kii.logger(e._getManager(t)),e._getManager(t))return e._getManager(t)._unlinkFromCurrentUser(n)}else if(null!=n)return n.failure(d.KiiUser.getCurrentUser(),t,"Unable to get network. Please ensure the network name is one of the supported KiiSocialNetworkName values")},t.getAccessTokenForNetwork=function(t){return null!=e?e._getManager(t)._getToken():void 0},t.getAccessTokenExpirationForNetwork=function(t){return null!=e?e._getManager(t)._getTokenExpiration():void 0},t.getAccessTokenObjectForNetwork=function(t){return null!=e?e._getManager(t)._getTokenObject():void 0},t.logOutAll=function(){var t,n,i,r,o;return null!=e&&(t=e._getManager(d.KiiSocialNetworkName.FACEBOOK),null!=t&&t._logOut(),o=e._getManager(d.KiiSocialNetworkName.TWITTER),null!=o&&o._logOut(),i=e._getManager(d.KiiSocialNetworkName.QQ),null!=i&&i._logOut(),n=e._getManager(d.KiiSocialNetworkName.GOOGLEPLUS),null!=n&&n._logOut(),r=e._getManager(d.KiiSocialNetworkName.RENREN),null!=r)?r._logOut():void 0},t}(),m=function(){function t(){this._getManager=v(this._getManager,this)}return t.prototype._getManager=function(t){return t===d.KiiSocialNetworkName.FACEBOOK?null!=this._facebookManager?this._facebookManager:this._facebookManager=new d.KiiSCNFacebook:t===d.KiiSocialNetworkName.TWITTER?null!=this._twitterManager?this._twitterManager:this._twitterManager=new d.KiiSCNTwitter:t===d.KiiSocialNetworkName.QQ?null!=this._qqManager?this._qqManager:this._qqManager=new d.KiiSCNQQ:t===d.KiiSocialNetworkName.GOOGLEPLUS?null!=this._googleManager?this._googleManager:this._googleManager=new d.KiiSCNGoogle:t===d.KiiSocialNetworkName.RENREN?null!=this._renrenManager?this._renrenManager:this._renrenManager=new d.KiiSCNRenRen:void 0},t}(),d.KiiSocialConnectNetwork=function(){function t(t){this._network=t,this._unlink=v(this._unlink,this),this._link=v(this._link,this),this._register=v(this._register,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._isAuthenticated=v(this._isAuthenticated,this),this._getTokenObject=v(this._getTokenObject,this),this._setTokenObject=v(this._setTokenObject,this),this._getTokenExpiration=v(this._getTokenExpiration,this),this._setTokenExpiration=v(this._setTokenExpiration,this),this._getToken=v(this._getToken,this),this._setToken=v(this._setToken,this),this._getNetwork=v(this._getNetwork,this),this._setNetwork=v(this._setNetwork,this),this._tokenExpiration=null,this._token=null
}return t.prototype._className="KiiSocialConnectNetwork",t.prototype._setNetwork=function(t){this._network=t},t.prototype._getNetwork=function(){return this._network},t.prototype._setToken=function(t){this._token=t},t.prototype._getToken=function(){return this._token},t.prototype._setTokenExpiration=function(t){this._tokenExpiration=t},t.prototype._getTokenExpiration=function(){return this._tokenExpiration},t.prototype._setTokenObject=function(t){this._tokenObject=t},t.prototype._getTokenObject=function(){return this._tokenObject},t.prototype._isAuthenticated=function(){return null!=this._tokenObject},t.prototype._logIn=function(){},t.prototype._logOut=function(){return this._token=null,this._tokenExpiration=null,this._tokenObject=null},t.prototype._linkWithCurrentUser=function(){},t.prototype._unlinkFromCurrentUser=function(){},t.prototype._createTokenObject=function(){},t.prototype._getAccessToken=function(){},t.prototype._register=function(t,e,n,i,r){var o,s,u,c,h;return d.Kii.getAccessTokenExpiration()>0&&(s=new Date,o=s.getTime(),n.expiresAt=l._safeCalculateExpiresAtAsNumber(d.Kii.getAccessTokenExpiration(),o)),c=new a("/integration/"+t,!0),c.setMethod("POST"),c.setData(n),c.setAnonymous(!0),c.setContentType(e),h=this._getAccessToken(i),u={success:function(t){return function(e){var n,a,u,c;return t._setToken(h),a=t._createTokenObject(i,e),t._setTokenObject(a),u=new d.KiiUser,u._updateWithJSON(e),u._setAccessToken(e.access_token),null!=e.expires_in&&(s=new Date,o=s.getTime(),c=l._safeCalculateExpiresAtAsDate(e.expires_in,o),u._setExpiresAt(c)),d.Kii.setCurrentUser(u),n={success:function(e){return null!=r?r.success(e,t._network):void 0},failure:function(e,n){return null!=r?r.failure(e,t._network,n):void 0}},u.refresh(n)}}(this),failure:function(t){return function(e){return null!=r?r.failure(null,t._network,e):void 0}}(this)},c.execute(u,!1)},t.prototype._link=function(t,e,n,i,r){var o,s,u;return s=new a("/users/me/"+t+"/link",!0),s.setMethod("POST"),s.setData(n),s.setContentType(e),u=this._getAccessToken(i),o={success:function(t){return function(e){var n,o;return t._setToken(u),o=t._createTokenObject(i,e),t._setTokenObject(o),n={success:function(e){return null!=r?r.success(e,t._network):void 0},failure:function(e,n){return null!=r?r.failure(e,t._network,n):void 0}},d.KiiUser.getCurrentUser().refresh(n)}}(this),failure:function(t){return function(e){return null!=r?r.failure(d.KiiUser.getCurrentUser(),t._network,e):void 0}}(this)},s.execute(o,!0)},t.prototype._unlink=function(t,e){var n,i;return n=new a("/users/me/"+t+"/unlink",!0),n.setMethod("POST"),i={success:function(t){return function(){return t._setToken(null),t._setTokenExpiration(null),t._setTokenObject(null),null!=e?e.success(d.KiiUser.getCurrentUser(),t._network):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(d.KiiUser.getCurrentUser(),t._network,n):void 0}}(this)},n.execute(i,!0)},t}(),d.KiiSCNFacebook=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,d.KiiSocialNetworkName.FACEBOOK)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={access_token:t.access_token},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.access_token},e.prototype._logIn=function(t,e){var n;if(d.Kii.logger("should auth fb"),d.Kii.logger("Checking options"),null==t||!t.access_token)throw d.InvalidArgumentException("options.access_token is required");return null!=d.KiiUser.getCurrentUser()&&d.KiiUser.logOut(),n={accessToken:t.access_token},this._register("facebook","application/vnd.kii.AuthTokenFacebookRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),d.Kii.logger("Log out fb")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null!=d.KiiUser.getCurrentUser()){if(null==t||!t.access_token)throw d.InvalidArgumentException("options.access_token is required");return n={accessToken:t.access_token},this._link("facebook","application/vnd.kii.LinkFacebookRequest+json",n,t,e)}return null!=e?e.failure(null,this._network,"A KiiUser must be logged in before linking to Facebook"):void 0},e.prototype._unlinkFromCurrentUser=function(t){return null!=d.KiiUser.getCurrentUser()?this._unlink("facebook",t):null!=t?t.failure("A KiiUser must be logged in before unlinking from Facebook"):void 0},e}(d.KiiSocialConnectNetwork),d.InvalidDisplayNameException=function(){return this.message="Unable to set displayName. Must be between 1-50 characters."},d.InvalidPasswordException=function(){return this.message="Unable to set password. Must be between 4-50 characters composed with ascii (exclude control character)"},d.InvalidUsernameException=function(){return this.message="Unable to set username. Must be between 3 and 64 characters, which can include alphanumeric characters as well as underscores '_' and periods '.'"},d.InvalidUserIdentifierException=function(){return this.message="User identifier should be one of user name, phone number or email"},d.InvalidEmailException=function(){return this.message="Unable to set email address. Must be a valid email"},d.InvalidPhoneNumberException=function(){return this.message="Unable to set phone number. Must begin with a '+' and be at least 10 digits"},d.InvalidLocalPhoneNumberException=function(){return this.message="Unable to set phone number. Must be a sequence of numbers"},d.InvalidCountryException=function(){return this.message="Unable to set country code. Must be 2 alphabetic characters. Ex: US, JP, CN"},d.InvalidURIException=function(){return this.message="Unable to set URI. Must be of the form kiicloud://some/path/to/object/or/entity"},d.InvalidACLAction=function(){return this.message="Unable to set ACL action. Must be one of the permitted values in KiiACLAction"},d.InvalidACLSubject=function(){return this.message="Unable to set ACL subject. Must be of type KiiUser or KiiGroup"},d.InvalidACLGrant=function(){return this.message="Unable to set ACL grant. Must be a boolean type"},d.InvalidLimitException=function(){return this.message="Unable to set query limit. Must be an integer > 0"},d.InvalidArgumentException=function(t){return this.message="InvalidArgument: "+t},d.IllegalStateException=function(t){return this.message="IllegalState: "+t},d.ArithmeticException=function(t){return this.message="ArithmeticException: "+t},d.UnsupportedOperationException=function(t){return this.message="UnsupportedOperationException: "+t},d.KiiAppAdminContext=function(){function t(t){this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this.loadThingWithThingID=v(this.loadThingWithThingID,this),this.loadThingWithVendorThingID=v(this.loadThingWithVendorThingID,this),this.registerOwnerWithVendorThingID=v(this.registerOwnerWithVendorThingID,this),this.registerOwnerWithThingID=v(this.registerOwnerWithThingID,this),this.thingWithID=v(this.thingWithID,this),this.registerThing=v(this.registerThing,this),this.registerGroupWithOwnerAndID=v(this.registerGroupWithOwnerAndID,this),this._getToken=v(this._getToken,this),this._getId=v(this._getId,this),this._objectWithURI=v(this._objectWithURI,this),this._token=t.token,this._id=t.id}return t.prototype.bucketWithName=function(t){var e;return e=new d.KiiBucketWithToken(t,null,this._token)},t.prototype.encryptedBucketWithName=function(t){var e;return e=new d.KiiEncryptedBucketWithToken(t,null,this._token)},t.prototype.groupWithName=function(t){var e;return e=d.KiiGroupWithToken._groupWithName(t,this._token)},t.prototype.userWithID=function(t){var e;return e=d.KiiUserWithToken._userWithID(t,this._token)},t.prototype.objectWithURI=function(t){var e;return e=this._objectWithURI(t)},t.prototype._userWithLoginName=function(t,e){var n,i,r;return r=new d.KiiUserWithToken(this._token),i=r._getRequest({path:"/users/LOGIN_NAME:"+t,withApp:!0}),i.setAdminToken(this._token),n={success:function(){return function(t,n){if(300>n&&n>=200){if(r._updateWithJSON(t),null!=e)return e.success(r)}else if(null!=e)return e.failure("Unable to parse response")}}(this),failure:function(){return function(t){return null!=e?e.failure(t):void 0}}(this)},i.execute(n,!1)},t.prototype._objectWithURI=function(t){var e,n,i,r,o,a,s,u,l;if(!t)throw new d.InvalidURIException;if(l=0===t.indexOf("kiicloud://"),a=t.substr("kiicloud://".length),o=a.split("/"),r=o.length,!(r>=4&&l))throw new d.InvalidURIException;if(n=4===r?1:3,i=o[n],u=null,"groups"===o[0]&&6===r)u=new d.KiiGroupWithToken._groupWithID(o[1],this._token);else if("users"===o[0]&&6===r)u=d.KiiUserWithToken._userWithID(o[1],this._token);else if("things"===o[0]&&6===r)u=d.KiiThingWithToken.thingWithID(o[1],this._token);else if(4!==r)throw new d.InvalidURIException;return e=new d.KiiBucketWithToken(i,u,this._token),s=e.createObject(),s._setUUID(o[r-1]),s},t.prototype._getId=function(){return this._id},t.prototype._getToken=function(){return this._token},t.prototype.groupWithID=function(t){var e;if(null==t||""===t)throw new d.InvalidArgumentException("groupID should not null or empty");return e=d.KiiGroupWithToken._groupWithID(t,this._token)},t.prototype.registerGroupWithOwnerAndID=function(t,e,n,i,r){return new Promise(function(o){return function(a,s){var u;return u={success:function(){return null!=r&&r.success.apply(r,arguments),a(arguments[0])},failure:function(){var t;return null!=r&&r.failure.apply(r,arguments),t=l._Error(arguments[1],arguments[0]),t.addMembersArray=arguments[2],t.removeMembersArray=arguments[3],s(t)}},d.KiiGroup._registerGroupWithIDUsingCallbacks(o._token,t,e,n,i,u)}}(this))},t.prototype.groupWithURI=function(t){var e,n,i;if(null==t)throw new d.InvalidURIException;if(0!==t.indexOf("kiicloud://"))throw new d.InvalidURIException;if(i=t.substr("kiicloud://".length),e=i.split("/"),2!==e.length||"groups"!==e[0])throw new d.InvalidURIException;return n=d.KiiGroupWithToken._groupWithID(e[1],this._token)},t.prototype.findUserByEmail=function(t,e){return d.KiiUser._findUserByEmail(t,e,this)},t.prototype.findUserByPhone=function(t,e){return d.KiiUser._findUserByPhone(t,e,this)},t.prototype.findUserByUsername=function(t,e){return d.KiiUser._findUserByUsername(t,e,this)},t.prototype.registerThing=function(t,e){return d.KiiThingWithToken.register(t,e,this._token)},t.prototype.thingWithID=function(t){return d.KiiThingWithToken.thingWithID(t,this._token)},t.prototype.registerOwnerWithThingID=function(t,e,n){return d.KiiThingWithToken.registerOwnerWithThingID(t,e,n,this._token)},t.prototype.registerOwnerWithVendorThingID=function(t,e,n){return d.KiiThingWithToken.registerOwnerWithVendorThingID(t,e,n,this._token)},t.prototype.thingWithID=function(t){return d.KiiThingWithToken.thingWithID(t,this._token)},t.prototype.loadThingWithVendorThingID=function(t,e){return d.KiiThingWithToken.loadWithVendorThingID(t,e,this._token)},t.prototype.loadThingWithThingID=function(t,e){return d.KiiThingWithToken.loadWithThingID(t,e,this._token)},t.prototype.topicWithName=function(t){if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");return new d.KiiTopicWithToken(""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID(),t,this._token)},t.prototype.listTopics=function(t,e){return d.Kii._listTopics(t,e,this)},t}(),d.KiiACLWithToken=function(t){function e(t,n){this._userWithID=v(this._userWithID,this),this._groupWithID=v(this._groupWithID,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this),this._setParent(t),this._authToken=n}return _(e,t),e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype._groupWithID=function(t){var e;return e=d.KiiGroupWithToken._groupWithID(t,this._authToken)},e.prototype._userWithID=function(t){var e;return e=d.KiiUserWithToken._userWithID(t,this._authToken)},e}(d.KiiACL),d.KiiGroupWithToken=function(t){function e(t){this.topicWithName=v(this.topicWithName,this),this._setAuthToken=v(this._setAuthToken,this),this._setOwnerFromContext=v(this._setOwnerFromContext,this),this._userWithID=v(this._userWithID,this),this.bucketWithName=v(this.bucketWithName,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this),this._authToken=t}return _(e,t),e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e._groupWithName=function(t,e){return d.KiiGroupWithToken._groupWithNameAndMembers(t,null,e)},e._groupWithNameAndMembers=function(t,e,n){var i;return i=new d.KiiGroupWithToken(n),i._setName(t),i._setAddMembers(e),i},e._groupWithID=function(t,e){var n;return n=new d.KiiGroupWithToken(e),n._setUUID(t),n},e.prototype.bucketWithName=function(t){var e;return e=new d.KiiBucketWithToken(t,this,this._authToken)},e.prototype.encryptedBucketWithName=function(t){var e;return e=new d.KiiEncryptedBucketWithToken(t,this,this._authToken)},e.prototype._userWithID=function(t){var e;return e=d.KiiUserWithToken._userWithID(t,this._authToken)},e.prototype._setOwnerFromContext=function(){},e._groupWithJSON=function(t,e){var n;return n=new d.KiiGroupWithToken(e),null!=t.groupID&&n._setUUID(t.groupID),null!=t.name&&n._setName(t.name),null!=t.owner&&n._setOwner(d.KiiUserWithToken._userWithID(t.owner,e)),n},e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e.prototype.topicWithName=function(t){var e,n;if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");if(e=this.getID(),!e)throw"can not instantiate topic from instance which doesn't have ID";return n=this._getHttpURI(),new d.KiiTopicWithToken(n,t,this._authToken)},e}(d.KiiGroup),d.KiiObjectWithToken=function(t){function e(t){this._userWithID=v(this._userWithID,this),this.objectACL=v(this.objectACL,this),this._getToken=v(this._getToken,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this),this._authToken=t}return _(e,t),e.prototype._getRequest=function(t){var n;return d.Kii.logger("admin req: "+this._authToken),n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype._getToken=function(){return this._authToken?this._authToken:null},e.objectWithBucket=function(t,e,n){var i;return d.Kii.logger("Creating object w type: "+e),i=new d.KiiObjectWithToken(n),i._setBucket(t),i._setObjectType(e),d.Kii.logger(i),i},e.objectWithID=function(t,e,n){var i;return d.Kii.logger("Creating object w id: "+e),i=new d.KiiObjectWithToken(n),i._setBucket(t),i._setUUID(e),d.Kii.logger(i),i},e.prototype.objectACL=function(){var t;return t=new d.KiiACLWithToken(this,this._authToken)},e.prototype._userWithID=function(t){var e;return e=d.KiiUserWithToken._userWithID(t,this._authToken)},e}(d.KiiObject),d.KiiUserWithToken=function(t){function e(t){this.pushInstallation=v(this.pushInstallation,this),this.topicWithName=v(this.topicWithName,this),this.pushSubscription=v(this.pushSubscription,this),this._groupWithJSON=v(this._groupWithJSON,this),this.bucketWithName=v(this.bucketWithName,this),this._setAuthHeader=v(this._setAuthHeader,this),this._setAuthToken=v(this._setAuthToken,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this),this._authToken=t}return _(e,t),e._userWithID=function(t,e){var n;return n=new d.KiiUserWithToken(e),n._setUUID(t),n},e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e.prototype._setAuthHeader=function(t){return t.setRequestHeader("Authorization","Bearer "+this._authToken)},e.prototype.bucketWithName=function(t){var e;return e=new d.KiiBucketWithToken(t,this,this._authToken)},e.prototype.encryptedBucketWithName=function(t){var e;return e=new d.KiiEncryptedBucketWithToken(t,this,this._authToken)},e.prototype._groupWithJSON=function(t){var e;return e=new d.KiiGroupWithToken._groupWithJSON(t,this._authToken)},e.prototype.pushSubscription=function(){return new d.KiiPushSubscriptionWithToken(this,this._authToken)},e.prototype.topicWithName=function(t){var e;if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");if(e=this.getID(),!e)throw"can not instantiate topic from instance which doesn't have ID";return new d.KiiTopicWithToken(this._getHttpURI(),t,this._authToken)},e.prototype.pushInstallation=function(){throw new d.UnsupportedOperationException("Push installation is not supported by admin context")},e}(d.KiiUser),d.KiiAnonymousUser=function(){function t(){this.getID=v(this.getID,this)}return t.prototype.getID=function(){return"ANONYMOUS_USER"},t}(),d.KiiAnyAuthenticatedUser=function(){function t(){this.getID=v(this.getID,this)}return t.prototype.getID=function(){return"ANY_AUTHENTICATED_USER"},t}(),d.KiiSDKClientInfo=function(){function t(){}return t.getSDKClientInfo=function(){return null==t._clientInfo&&(t._clientInfo="sn=jss;sv="+d.Kii.getSDKVersion()),t._clientInfo},t}(),d.KiiSCNTwitter=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,d.KiiSocialNetworkName.TWITTER)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={oauth_token:t.oauth_token,oauth_token_secret:t.oauth_token_secret},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.oauth_token},e.prototype._logIn=function(t,e){var n;if(d.Kii.logger("Checking options"),d.Kii.logger(t),null==t||!t.oauth_token&&!t.oauth_token_secret)throw d.InvalidArgumentException("Both options.oauth_token and options.oauth_token_secret are required");if(!t.oauth_token)throw d.InvalidArgumentException("options.oauth_token is required");if(!t.oauth_token_secret)throw d.InvalidArgumentException("options.oauth_token_secret is required");return null!=d.KiiUser.getCurrentUser()&&d.KiiUser.logOut(),n={accessToken:t.oauth_token,accessTokenSecret:t.oauth_token_secret},this._register("twitter","application/vnd.kii.AuthTokenTwitterRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),d.Kii.logger("Log out twitter")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null==d.KiiUser.getCurrentUser())return void e.failure(null,this._network,"No user logged in");if(null==t||!t.oauth_token&&!t.oauth_token_secret)throw d.InvalidArgumentException("Both options.oauth_token and options.oauth_token_secret are required");if(!t.oauth_token)throw d.InvalidArgumentException("options.oauth_token is required");if(!t.oauth_token_secret)throw d.InvalidArgumentException("options.oauth_token_secret is required");return n={accessToken:t.oauth_token,accessTokenSecret:t.oauth_token_secret},this._link("twitter","application/vnd.kii.LinkTwitterRequest+json",n,t,e)},e.prototype._unlinkFromCurrentUser=function(t){return null==d.KiiUser.getCurrentUser()?void t.failure(null,this._network,"No user logged in"):this._unlink("twitter",t)},e}(d.KiiSocialConnectNetwork),d.KiiGeoPoint=function(){function t(t,e){var n;if(this._latitude=t,this._longitude=e,this._toDict=v(this._toDict,this),this.getLongitude=v(this.getLongitude,this),this.getLatitude=v(this.getLatitude,this),n=function(t,e,n){return n>t&&e>n&&!isNaN(n)},!n(-90,90,this._latitude)||!n(-180,180,this._longitude))throw d.InvalidArgumentException("Specified latitide or longitude is invalid")}return t.prototype.getLatitude=function(){return this._latitude},t.prototype.getLongitude=function(){return this._longitude},t.geoPoint=function(t,e){return new d.KiiGeoPoint(t,e)},t.prototype._toDict=function(){var t;return t={_type:"point",lat:this._latitude,lon:this._longitude}},t}(),o=function(){function t(t,e,n){this.xhr=$.ajaxSettings.xhr(),e=l._disableCacheURL(e),this.xhr.open(t,e,!0),this.xhr.onreadystatechange=n.onComplete}return t}(),p=function(){function t(t,e,n){e=l._disableCacheURL(e),this.xhr=new XMLHttpRequest,"withCredentials"in this.xhr?(this.xhr.open(t,e,!0),this.xhr.onreadystatechange=n.onComplete):this.xhr=null}return t}(),u=function(){function t(t,e,n){this.xhr=Ti.Network.createHTTPClient(),e=l._disableCacheURL(e),this.xhr.open(t,e,!0),this.xhr.onload=n.onComplete,this.xhr.onerror=n.onError}return t}(),h=function(){function t(){}return t.createXHRWrapper=function(t,e){var n;return n=null,null===d.Kii._getHttpRequestType()?"undefined"!=typeof jQuery?(d.Kii.logger("Use jQuery"),n=new r(t,e)):"undefined"!=typeof XMLHttpRequest?(d.Kii.logger("Use XMLHttpRequest"),n=new c(t,e)):"undefined"!=typeof Titanium&&(d.Kii.logger("Use Titanium"),n=new s(t,e)):(d.Kii.logger("Use http request backdoor"),d.Kii._getHttpRequestType()===d._KiiHttpRequestType.jQuery?(d.Kii.logger("Use jQuery"),n=new r(t,e)):d.Kii._getHttpRequestType()===d._KiiHttpRequestType.XMLHttpRequest?(d.Kii.logger("Use XMLHttpRequest"),n=new c(t,e)):d.Kii._getHttpRequestType()===d._KiiHttpRequestType.Titanium&&(d.Kii.logger("Use Titanium"),n=new s(t,e))),n},t}(),c=function(){function t(t,e){this.setAuthToken=v(this.setAuthToken,this),this.setAdminOrUserToken=v(this.setAdminOrUserToken,this),this.setCurrentUserToken=v(this.setCurrentUserToken,this),this.setContentType=v(this.setContentType,this),this.setKiiHeaders=v(this.setKiiHeaders,this),this.getErrorCode=v(this.getErrorCode,this),this.getErrorString=v(this.getErrorString,this),this.sendData=v(this.sendData,this),this.send=v(this.send,this),this._setUpCallbacks=v(this._setUpCallbacks,this);var n,i,r;if(e=l._disableCacheURL(e),this.xhr=new XMLHttpRequest,this.method=t,"withCredentials"in this.xhr){if(this.xhr.open(t,e,!0),n=d.Kii.getAdditionalHeaders(),null!=n)for(i in n)r=n[i],this.xhr.setRequestHeader(i,r)}else this.xhr=null}return t.prototype.getAppID=function(){return d.Kii.getAppID()},t.prototype.getAppKey=function(){return d.Kii.getAppKey()},t.prototype.getLogger=function(){return d.Kii.logger()},t.prototype._setUpCallbacks=function(t){return t&&t.progress?"PUT"===this.method?this.xhr.upload.addEventListener("progress",t.progress,!1):this.xhr.addEventListener("progress",t.progress,!1):void 0},t.prototype.send=function(t){var e;return this._setUpCallbacks(t),e={onComplete:function(e){return function(){var n;if(4===e.xhr.readyState)if(200<=(n=e.xhr.status)&&400>n){if(e.getLogger("Completed Request["+e.xhr.status+"]"),null!=t)return t.success()}else if(e.getLogger("Error loading data..."),e.getLogger("callback : "+t),null!=t)return t.failure()}}(this)},this.xhr.onreadystatechange=e.onComplete,this.xhr.send()},t.prototype.sendData=function(t,e){var n;return this._setUpCallbacks(e),n={onComplete:function(t){return function(){var n;if(4===t.xhr.readyState)if(200<=(n=t.xhr.status)&&400>n){if(t.getLogger("Completed Request["+t.xhr.status+"]"),null!=e)return e.success()}else if(t.getLogger("Error loading data..."),null!=e)return e.failure()}}(this)},this.xhr.onreadystatechange=n.onComplete,this.xhr.send(t)},t.prototype.getErrorString=function(t){var e,n;e=""+t+" failed. statusCode: "+this.xhr.status;try{return n=JSON.parse(decodeURIComponent(this.xhr.responseText)),null!=n.errorCode&&(e+=" error code: "+n.errorCode),null!=n.message&&(e+=" message: "+n.message),e}catch(i){return e}},t.prototype.getErrorCode=function(){var t;try{return t=JSON.parse(decodeURIComponent(this.xhr.responseText)),t.errorCode}catch(e){return null}},t.prototype.setKiiHeaders=function(){return this.xhr.setRequestHeader("x-kii-appid",this.getAppID()),this.xhr.setRequestHeader("x-kii-appkey",this.getAppKey()),this.xhr.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo())},t.prototype.setContentType=function(t){return this.xhr.setRequestHeader("Content-Type",t)},t.prototype.setCurrentUserToken=function(){var t,e;return t=null!=(e=this.getCurrentUser())?e.getAccessToken():void 0,null!=t?(this.xhr.setRequestHeader("authorization","bearer "+t),!0):!1},t.prototype.setAdminOrUserToken=function(t){var e,n;return e=null!=t?t._getToken():null!=(n=this.getCurrentUser())?n.getAccessToken():void 0,null!=e?(this.xhr.setRequestHeader("authorization","bearer "+e),!0):!1},t.prototype.setAuthToken=function(t){return null!=t?this.xhr.setRequestHeader("authorization","bearer "+t):void 0},t.prototype.getCurrentUser=function(){return d.KiiUser.getCurrentUser()},t}(),s=function(t){function e(t,e){this.sendData=v(this.sendData,this),this.send=v(this.send,this);var n,i,r;if(e=l._disableCacheURL(e),this.xhr=Ti.Network.createHTTPClient(),this.method=t,this.xhr.open(t,e,!0),n=d.Kii.getAdditionalHeaders(),null!=n)for(i in n)r=n[i],this.xhr.setRequestHeader(i,r)}return _(e,t),e.prototype.send=function(t){var e;return this._setUpCallbacks(t),e={onComplete:function(e){return function(){var n;if(4===e.xhr.readyState)if(200<=(n=e.xhr.status)&&400>n){if(d.Kii.logger("Completed Request["+e.xhr.status+"]"),null!=t)return t.success()}else if(d.Kii.logger("Error loading data..."),d.Kii.logger("callback : "+t),null!=t)return t.failure()}}(this),onError:function(){return function(){return d.Kii.logger("Error loading data..."),d.Kii.logger("callback : "+t),null!=t?t.failure():void 0}}(this)},this.xhr.onload=e.onComplete,this.xhr.onerror=e.onError,this.xhr.send()},e.prototype.sendData=function(t,e){var n;return this._setUpCallbacks(e),n={onComplete:function(t){return function(){var n;if(4===t.xhr.readyState)if(200<=(n=t.xhr.status)&&400>n){if(d.Kii.logger("Completed Request["+t.xhr.status+"]"),null!=e)return e.success()}else if(d.Kii.logger("Error loading data..."),null!=e)return e.failure()}}(this),onError:function(){return function(){return d.Kii.logger("Error loading data..."),d.Kii.logger("callback : "+e),null!=e?e.failure():void 0}}(this)},this.xhr.onload=n.onComplete,this.xhr.onerror=n.onError,this.xhr.send(t)},e}(c),r=function(t){function e(t,e){var n,i,r;if(e=l._disableCacheURL(e),this.xhr=$.ajaxSettings.xhr(),this.xhr.open(t,e,!0),this.method=t,n=d.Kii.getAdditionalHeaders(),null!=n)for(i in n)r=n[i],this.xhr.setRequestHeader(i,r)}return _(e,t),e}(c),d.KiiSCNQQ=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,d.KiiSocialNetworkName.QQ)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={access_token:t.access_token,openID:t.openID},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.access_token},e.prototype._logIn=function(t,e){var n;if(d.Kii.logger("Checking options"),d.Kii.logger(t),null==t||!t.access_token&&!t.openID)throw d.InvalidArgumentException("Both options.access_token and options.openID are required");if(!t.access_token)throw d.InvalidArgumentException("options.access_token is required");if(!t.openID)throw d.InvalidArgumentException("options.openID is required");return null!=d.KiiUser.getCurrentUser()&&d.KiiUser.logOut(),n={accessToken:t.access_token,openID:t.openID},this._register("qq","application/vnd.kii.AuthTokenQQRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),d.Kii.logger("Log out qq")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null==d.KiiUser.getCurrentUser())return void e.failure(null,this._network,"No user logged in");if(null==t||!t.access_token&&!t.openID)throw d.InvalidArgumentException("Both options.access_token and options.openID are required");if(!t.access_token)throw d.InvalidArgumentException("options.access_token is required");if(!t.openID)throw d.InvalidArgumentException("options.openID is required");return n={accessToken:t.access_token,openID:t.openID},this._link("qq","application/vnd.kii.LinkQQRequest+json",n,t,e)},e.prototype._unlinkFromCurrentUser=function(t){return null==d.KiiUser.getCurrentUser()?void t.failure(null,this._network,"No user logged in"):this._unlink("qq",t)},e}(d.KiiSocialConnectNetwork),d.KiiServerCodeEntry=function(){function t(t,e){this.entryName=t,this.version=e}return t.prototype.execute=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){var t;return null!=e&&e.failure.apply(e,arguments),t=l._Error(arguments[3],n),t.argument=arguments[1],r(t)}},n._executeUsingCallbacks(t,o)}}(this))},t.prototype._executeUsingCallbacks=function(t,e){var n,i,r,o,a,s,u,c;return l._validateServerCodeEntryArgument(t)?(i=null!=t?t:{},a=null!=(c=this.version)?c:"current",n=JSON.stringify(i),o=d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+("/server-code/versions/"+a+"/"+this.entryName),s=h.createXHRWrapper("POST",o),u=s.xhr,u.setRequestHeader("x-kii-appid",d.Kii.getAppID()),u.setRequestHeader("x-kii-appkey",d.Kii.getAppKey()),u.setRequestHeader("x-kii-sdk",d.KiiSDKClientInfo.getSDKClientInfo()),u.setRequestHeader("Content-Type","application/json"),null!=d.KiiUser.getCurrentUser()&&u.setRequestHeader("Authorization","Bearer "+d.KiiUser.getCurrentUser().getAccessToken()),r={success:function(n){return function(){var i,r,o,a;a=u.getResponseHeader("x-step-count");try{if(o=JSON.parse(u.responseText),r=new d.KiiServerCodeExecResult(o,a),null!=e)return e.success(n,t,r)}catch(s){if(null!=e)return i="fail to parse response. statusCode: "+u.status+" executedSteps: "+a+" error code: failed_to_parse_response response: "+u.responseText,e.failure(n,t,null,i)}}}(this),failure:function(n){return function(){var i,r,o,a;a=u.getResponseHeader("x-step-count"),i={statusCode:u.status,executedSteps:a},r="fail to execute server code. statusCode: "+u.status+" executedSteps: "+a;try{if(o=JSON.parse(u.responseText),null!=o.errorCode&&(r+=" error code: "+o.errorCode),null!=o.message&&(r+=" message: "+o.message),null!=o.details&&null!=o.details.message)return r+=" detailMessage: "+o.details.message}catch(s){return r+=" error code: failed_to_parse_response message: "+u.responseText}finally{null!=e&&e.failure(n,t,null,r)}}}(this)},s.sendData(n,r)):e.failure(this,t,null,d.InvalidArgumentException("arugment is invalid"))},t.prototype.getEntryName=function(){return this.entryName},t}(),d.KiiServerCodeExecResult=function(){function t(t,e){this.returnObject=t,this.exeSteps=e}return t.prototype.getExecutedSteps=function(){return this.exeSteps},t.prototype.getReturnedValue=function(){return this.returnObject},t}(),d.KiiThing=function(){function t(t){this.fields=t,this._getSubscriberPath=v(this._getSubscriberPath,this),this._setAuthToken=v(this._setAuthToken,this),this._getHttpURI=v(this._getHttpURI,this),this.pushSubscription=v(this.pushSubscription,this),this._listTopicsUsingCallbacks=v(this._listTopicsUsingCallbacks,this),this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this.encryptedBucketWithName=v(this.encryptedBucketWithName,this),this.bucketWithName=v(this.bucketWithName,this),this._changeStatus=v(this._changeStatus,this),this.enable=v(this.enable,this),this.disable=v(this.disable,this),this.unregisterOwner=v(this.unregisterOwner,this),this._getOwnerURL=v(this._getOwnerURL,this),this.registerOwner=v(this.registerOwner,this),this.isOwner=v(this.isOwner,this),this.deleteThing=v(this.deleteThing,this),this.update=v(this.update,this),this._refresh=v(this._refresh,this),this.refresh=v(this.refresh,this),this.getOnlineStatusModifiedAt=v(this.getOnlineStatusModifiedAt,this),this.isOnline=v(this.isOnline,this),this.getDisabled=v(this.getDisabled,this),this.getCreated=v(this.getCreated,this),this.getAccessToken=v(this.getAccessToken,this),this.getVendorThingID=v(this.getVendorThingID,this),this.getThingID=v(this.getThingID,this),this._renewThingFields=v(this._renewThingFields,this),null!=this.fields&&this._renewThingFields(this.fields)
}return t.prototype._renewThingFields=function(t){return this._online=null,this._onlineStatusModifiedAt=null,this.fields=t,this._thingID=t._thingID,this._vendorThingID=t._vendorThingID,this._accessToken=t._accessToken,this._created=new Date(t._created),this._disabled=t._disabled,null!=t._online&&(this._online=t._online),null!=t._onlineStatusModifiedAt&&(this._onlineStatusModifiedAt=new Date(t._onlineStatusModifiedAt)),delete this.fields._thingID,delete this.fields._vendorThingID,delete this.fields._accessToken,delete this.fields._created,delete this.fields._disabled},t.prototype.getThingID=function(){return this._thingID},t.prototype.getVendorThingID=function(){return this._vendorThingID},t.prototype.getAccessToken=function(){return this._accessToken},t.prototype.getCreated=function(){return this._created},t.prototype.getDisabled=function(){return this._disabled},t.prototype.isOnline=function(){return this._online},t.prototype.getOnlineStatusModifiedAt=function(){return this._onlineStatusModifiedAt},t.register=function(t,e){return new Promise(function(n,i){var r,o;return o=h.createXHRWrapper("POST",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things"),o.setKiiHeaders(),o.setContentType("application/vnd.kii.ThingRegistrationAndAuthorizationRequest+json"),r={success:function(){var t,i;return t=JSON.parse(decodeURIComponent(o.xhr.responseText)),i=new d.KiiThing(t),null!=e&&e.success(i),n(i)},failure:function(){var t,n;return n=o.getErrorString("register thing"),t=l._Error(n),null!=e&&e.failure(t),i(t)}},o.sendData(JSON.stringify(t),r)})},t.prototype.refresh=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(i){return e._renewThingFields(i),null!=t&&t.success(e),n(e)},failure:function(n){var r;return r=l._Error(n,e),null!=t&&t.failure(r),i(r)}},e._refresh(r)}}(this))},t.prototype._refresh=function(t){var e,n,i;return e=null!=this._thingID?this._thingID:"VENDOR_THING_ID:"+this._vendorThingID,i=h.createXHRWrapper("GET",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things/"+e),i.setKiiHeaders(),this._setAuthToken(i),n={success:function(){return function(){var e;return e=JSON.parse(decodeURIComponent(i.xhr.responseText)),t.success(e)}}(this),failure:function(){return function(){var e;return e=i.getErrorString("refresh thing"),t.failure(e)}}(this)},i.send(n)},t.prototype.update=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(r){var o,a,s,u,c;c=e.fields;for(o in c)s=c[o],r[o]=s;return e.fields=r,u=h.createXHRWrapper("PATCH",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things/"+e._thingID),u.setKiiHeaders(),u.setContentType("application/vnd.kii.ThingUpdateRequest+json"),e._setAuthToken(u),a={success:function(){return null!=t&&t.success(e),n(e)},failure:function(){var n,r;return r=u.getErrorString("update thing"),n=l._Error(r,e),null!=t&&t.failure(n),i(n)}},u.sendData(JSON.stringify(e.fields),a),"function"==typeof e._testOnUpdateRequest?e._testOnUpdateRequest():void 0},failure:function(n){var r;return r=l._Error(n,e),null!=t&&t.failure(r),i(r)}},e._refresh(r)}}(this))},t.prototype.deleteThing=function(t){return new Promise(function(e){return function(n,i){var r,o;return o=h.createXHRWrapper("DELETE",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things/"+e._thingID),o.setKiiHeaders(),e._setAuthToken(o),r={success:function(){return null!=t&&t.success(e),n(e)},failure:function(){var n,r;return r=o.getErrorString("delete thing"),n=l._Error(r,e),null!=t&&t.failure(n),i(n)}},o.send(r)}}(this))},t.prototype.isOwner=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s,u,c;try{s=n._getOwnerURL(n._thingID,t)}catch(p){return a=p,o=l._Error(a,n),null!=e&&e.failure(o),void r(o)}return c=h.createXHRWrapper("HEAD",s),c.setKiiHeaders(),n._setAuthToken(c),u={success:function(){return null!=e&&e.success(n,t,!0),i([n,t,!0])},failure:function(){var a;return 404===c.xhr.status?(null!=e&&e.success(n,t,!1),void i([n,t,!1])):(a=c.getErrorString("register owner"),o=l._Error(a,n),null!=e&&e.failure(o),r(o))}},c.send(u)}}(this))},t.prototype.registerOwner=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s,u,c;try{s=n._getOwnerURL(n._thingID,t)}catch(p){return a=p,o=l._Error(a,n),null!=e&&e.failure(o),void r(o)}return c=h.createXHRWrapper("PUT",s),c.setKiiHeaders(),n._setAuthToken(c),u={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t;return t=c.getErrorString("register owner"),o=l._Error(t,n),null!=e&&e.failure(o),r(o)}},c.send(u)}}(this))},t.registerOwnerWithThingID=function(t,e,n){return d.KiiThing._registerOwnerWithIdentifier(t,e,n)},t.registerOwnerWithVendorThingID=function(t,e,n){return l._isNonEmptyString(t)?d.KiiThing._registerOwnerWithIdentifier("VENDOR_THING_ID:"+t,e,n):d.KiiThing._registerOwnerWithIdentifier(null,e,n)},t._registerOwnerWithIdentifier=function(t,e,n){return new Promise(function(i,r){var o,a,s,u,c;if(!l._isNonEmptyString(t))return o=l._Error("identifier is null or empty"),null!=n&&n.failure(o),void r(o);if(null==e)return o=l._Error("owner is null"),null!=n&&n.failure(o),void r(o);try{s=d.KiiThing.prototype._getOwnerURL(t,e)}catch(p){return a=p,o=l._Error(a),null!=n&&n.failure(o),void r(o)}return c=h.createXHRWrapper("PUT",s),c.setKiiHeaders(),d.KiiThing.prototype._setAuthToken(c),u={success:function(){return null!=n&&n.success(e),i([e])},failure:function(){var t;return t=c.getErrorString("register owner"),o=l._Error(t),null!=n&&n.failure(o),r(o)}},c.send(u)})},t.prototype._getOwnerURL=function(t,e){var n,i;if(e instanceof d.KiiUser)n=e.getID(),i="user";else{if(!(e instanceof d.KiiGroup))throw"owner should be instance of user or group";n=e.getID(),i="group"}if(null==n)throw"owner instance does not have id";return""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things/"+t+"/ownership/"+i+":"+n},t.prototype.unregisterOwner=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s,u,c;try{s=n._getOwnerURL(n._thingID,t)}catch(p){return a=p,o=l._Error(a,n),null!=e&&e.failure(o),void r(o)}return c=h.createXHRWrapper("DELETE",s),c.setKiiHeaders(),n._setAuthToken(c),u={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t;return t=c.getErrorString("unregister owner"),o=l._Error(t,n),null!=e&&e.failure(o),r(o)}},c.send(u)}}(this))},t.prototype.disable=function(t){return this._changeStatus(!0,t)},t.prototype.enable=function(t){return this._changeStatus(!1,t)},t.prototype._changeStatus=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return s=h.createXHRWrapper("PUT",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things/"+n._thingID+"/status"),s.setKiiHeaders(),n._setAuthToken(s),s.setContentType("application/vnd.kii.ThingStatusUpdateRequest+json"),a={success:function(){return n._disabled=t,null!=e&&e.success(n),i(n)},failure:function(){var i,o;return o=s.getErrorString("disable thing "+t),i=l._Error(o,n),null!=e&&e.failure(i),r(i)}},o={disabled:t},s.sendData(JSON.stringify(o),a)}}(this))},t.loadWithVendorThingID=function(t,e){var n;return n="VENDOR_THING_ID:"+t,d.KiiThing._load(n,e)},t.loadWithThingID=function(t,e){return d.KiiThing._load(t,e)},t._load=function(t,e){return new Promise(function(n,i){var r,o;return o=h.createXHRWrapper("GET",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things/"+t),o.setKiiHeaders(),d.KiiThing.prototype._setAuthToken(o),r={success:function(){var t,i;return t=JSON.parse(decodeURIComponent(o.xhr.responseText)),i=new d.KiiThing(t),null!=e&&e.success(i),n(i)},failure:function(){var t,n;return n=o.getErrorString("load thing"),t=l._Error(n),null!=e&&e.failure(t),i(t)}},o.send(r)})},t.prototype.bucketWithName=function(t){return new d.KiiBucket._bucketWithName(t,this)},t.prototype.encryptedBucketWithName=function(t){return new d.KiiEncryptedBucket(t,this)},t.prototype.topicWithName=function(t){if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");return new d.KiiTopic(this._getHttpURI(),t)},t.prototype.listTopics=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(arguments[0])}},n._listTopicsUsingCallbacks(o,e)}}(this))},t.prototype._listTopicsUsingCallbacks=function(t,e){var n,i,r;return i=""+this._getHttpURI()+"/topics","string"==typeof e&&""!==e&&(i=i+"?paginationKey="+encodeURIComponent(e)),r=h.createXHRWrapper("GET",i),r.setKiiHeaders(),this._setAuthToken(r),n={success:function(e){return function(){var n,i,o,a,s,u;for(n=JSON.parse(r.xhr.responseText),o=[],u=n.topics,a=0,s=u.length;s>a;a++)i=u[a],o.push(e.topicWithName(i.topicID));return null!=t?t.success(o,void 0===n.paginationKey?null:n.paginationKey):void 0}}(this),failure:function(e){return function(){var n,i;return i=r.getErrorString("list topics"),n=l._Error(i,e),null!=t?t.failure(n):void 0}}(this)},r.send(n)},t.prototype.pushSubscription=function(){return new d.KiiPushSubscription(this)},t.prototype._getHttpURI=function(){return""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things/"+this.getThingID()},t.thingWithID=function(t){var e;if(null==t||""===t)throw new d.InvalidArgumentException("thingID should not null or empty");return e=new d.KiiThing,e._thingID=t,e},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t.prototype._getSubscriberPath=function(){return"things/"+this.getThingID()},t}(),d.KiiTopic=function(){function t(t,e){this._getHttpUri=v(this._getHttpUri,this),this._setAuthToken=v(this._setAuthToken,this),this.acl=v(this.acl,this),this.deleteTopic=v(this.deleteTopic,this),this.sendMessage=v(this.sendMessage,this),this.save=v(this.save,this),this.exists=v(this.exists,this),this.getName=v(this.getName,this),this._uri=""+t+"/topics/"+e,this._name=e}return t.prototype.getName=function(){return this._name},t.prototype.exists=function(t){return new Promise(function(e){return function(n,i){var r,o;return o=h.createXHRWrapper("HEAD",e._uri),o.setKiiHeaders(),e._setAuthToken(o),r={success:function(){return null!=t&&t.success(!0),n(!0)},failure:function(){var r,a;return 404===o.xhr.status?(null!=t&&t.success(!1),void n(!1)):(a=o.getErrorString("check topic"),r=l._Error(a,e),null!=t&&t.failure(r),i(r))}},o.send(r)}}(this))},t.prototype.save=function(t){return new Promise(function(e){return function(n,i){var r,o;return o=h.createXHRWrapper("PUT",e._uri),o.setKiiHeaders(),e._setAuthToken(o),r={success:function(){return null!=t&&t.success(e),n(e)},failure:function(){var n,r;return r=o.getErrorString("save topic"),n=l._Error(r,e),null!=t&&t.failure(n),i(n)}},o.send(r)}}(this))},t.prototype.sendMessage=function(t,e){return new Promise(function(n){return function(i,r){var o,a;return a=h.createXHRWrapper("POST",""+n._uri+"/push/messages"),a.setKiiHeaders(),n._setAuthToken(a),a.setContentType("application/vnd.kii.SendPushMessageRequest+json"),o={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t,i;return i=a.getErrorString("send messages"),t=l._Error(i,n),null!=e&&e.failure(t),r(t)}},a.sendData(JSON.stringify(t),o)}}(this))},t.prototype.deleteTopic=function(t){return new Promise(function(e){return function(n,i){var r,o;return o=h.createXHRWrapper("DELETE",e._uri),o.setKiiHeaders(),e._setAuthToken(o),r={success:function(){return null!=t&&t.success(e),n(e)},failure:function(){var n,r;return r=o.getErrorString("delete topic"),n=l._Error(r,e),null!=t&&t.failure(n),i(n)}},o.send(r)}}(this))},t.prototype.acl=function(){return d.KiiACL.aclWithParent(this)},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t.prototype._getHttpUri=function(){return this._uri},t}(),d.KiiPushMessageBuilder=function(){function t(t){this.data=t,this.mqttData=v(this.mqttData,this),this.jpushData=v(this.jpushData,this),this.apnsCategory=v(this.apnsCategory,this),this.apnsContentAvailable=v(this.apnsContentAvailable,this),this.apnsBadge=v(this.apnsBadge,this),this.apnsSound=v(this.apnsSound,this),this.apnsAlert=v(this.apnsAlert,this),this.apnsData=v(this.apnsData,this),this.gcmRestrictedPackageName=v(this.gcmRestrictedPackageName,this),this.gcmTimeToLive=v(this.gcmTimeToLive,this),this.gcmDelayWhileIdle=v(this.gcmDelayWhileIdle,this),this.gcmCollapseKey=v(this.gcmCollapseKey,this),this.gcmData=v(this.gcmData,this),this.enableMqtt=v(this.enableMqtt,this),this.enableJpush=v(this.enableJpush,this),this.enableApns=v(this.enableApns,this),this.enableGcm=v(this.enableGcm,this),this.setSendToProduction=v(this.setSendToProduction,this),this.setSendToDevelopment=v(this.setSendToDevelopment,this),this.build=v(this.build,this),this.gcm={},this.apns={},this.jpush={},this.mqtt={},this.gcm.enabled=!0,this.apns.enabled=!0,this.jpush.enabled=!0,this.mqtt.enabled=!0}return t.prototype.build=function(){var t;return t={},t.data=this.data,t.gcm=this.gcm,t.apns=this.apns,t.jpush=this.jpush,t.mqtt=this.mqtt,null!=this.sendToDevelopment&&(t.sendToDevelopment=this.sendToDevelopment),null!=this.sendToProduction&&(t.sendToProduction=this.sendToProduction),t},t.prototype.setSendToDevelopment=function(t){return this.sendToDevelopment=t,this},t.prototype.setSendToProduction=function(t){return this.sendToProduction=t,this},t.prototype.enableGcm=function(t){return this.gcm.enabled=t,this},t.prototype.enableApns=function(t){return this.apns.enabled=t,this},t.prototype.enableJpush=function(t){return this.jpush.enabled=t,this},t.prototype.enableMqtt=function(t){return this.mqtt.enabled=t,this},t.prototype.gcmData=function(t){return this.gcm.data=t,this},t.prototype.gcmCollapseKey=function(t){return this.gcm.collapseKey=t,this},t.prototype.gcmDelayWhileIdle=function(t){return this.gcm.delayWhileIdle=t,this},t.prototype.gcmTimeToLive=function(t){return this.gcm.timeToLive=t,this},t.prototype.gcmRestrictedPackageName=function(t){return this.gcm.restrictedPackageName=t,this},t.prototype.apnsData=function(t){return this.apns.data=t,this},t.prototype.apnsAlert=function(t){return this.apns.alert=t,this},t.prototype.apnsSound=function(t){return this.apns.sound=t,this},t.prototype.apnsBadge=function(t){return this.apns.badge=t,this},t.prototype.apnsContentAvailable=function(t){return 0!==t&&(this.apns.contentAvailable=!0),this},t.prototype.apnsCategory=function(t){return this.apns.category=t,this},t.prototype.jpushData=function(t){return this.jpush.data=t,this},t.prototype.mqttData=function(t){return this.mqtt.data=t,this},t}(),d.KiiPushSubscription=function(){function t(t){this._subscriber=t,this._setAuthToken=v(this._setAuthToken,this),this._getRequestHTTPURI=v(this._getRequestHTTPURI,this),this._validateTarget=v(this._validateTarget,this),this.isSubscribed=v(this.isSubscribed,this),this.unsubscribe=v(this.unsubscribe,this),this.subscribe=v(this.subscribe,this)}return t.prototype.getSubscriber=function(){return this._subscriber},t.prototype.subscribe=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return n._validateTarget(t)?(o=n._getRequestHTTPURI(t),s=h.createXHRWrapper("PUT",o),s.setKiiHeaders(),n._setAuthToken(s),a={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t,i;return i=s.getErrorString("subscribe"),t=l._Error(i,n),null!=e&&e.failure(t),r(t)}},s.send(a)):(null!=e&&e.failure(d.InvalidArgumentException("target is invalid")),void r(l._Error(d.InvalidArgumentException("target is invalid"),n)))}}(this))},t.prototype.unsubscribe=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return n._validateTarget(t)?(o=n._getRequestHTTPURI(t),s=h.createXHRWrapper("DELETE",o),s.setKiiHeaders(),n._setAuthToken(s),a={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t,i;return i=s.getErrorString("unsubscribe"),t=l._Error(i,n),null!=e&&e.failure(t),r(t)}},s.send(a)):(null!=e&&e.failure(d.InvalidArgumentException("target is invalid")),void r(l._Error(d.InvalidArgumentException("target is invalid"),n)))}}(this))},t.prototype.isSubscribed=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return n._validateTarget(t)?(o=n._getRequestHTTPURI(t),s=h.createXHRWrapper("GET",o),s.setKiiHeaders(),n._setAuthToken(s),a={success:function(){return null!=e&&e.success(n,t,!0),i([n,t,!0])},failure:function(){var o,a,u;return u=s.getErrorCode(),"FILTER_NOT_FOUND"===u||"PUSH_SUBSCRIPTION_NOT_FOUND"===u?(null!=e&&e.success(n,t,!1),i([n,t,!1])):(a=s.getErrorString("Check is subscribed"),o=l._Error(a,n),null!=e&&e.failure(o),r(o))}},s.send(a)):(null!=e&&e.failure(d.InvalidArgumentException("target is invalid")),void r(l._Error(d.InvalidArgumentException("target is invalid"),n)))}}(this))},t.prototype._validateTarget=function(t){return null!=t&&(t instanceof d.KiiBucket||t instanceof d.KiiTopic)},t.prototype._getRequestHTTPURI=function(t){var e;return t instanceof d.KiiBucket?e=""+t._getHttpUri()+"/filters/all/push/subscriptions/"+this._subscriber._getSubscriberPath():t instanceof d.KiiTopic?e=""+t._getHttpUri()+"/push/subscriptions/"+this._subscriber._getSubscriberPath():void 0},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t}(),d.KiiThingWithToken=function(t){function e(t,n,i,r){this._adminToken=r,this.topicWithName=v(this.topicWithName,this),this.bucketWithName=v(this.bucketWithName,this),this.pushSubscription=v(this.pushSubscription,this),this._setAuthToken=v(this._setAuthToken,this),e.__super__.constructor.call(this,t),null!=n&&(this._thingID=n),null!=i&&(this._vendorThingID=i)}return _(e,t),e.register=function(t,e,n){return new Promise(function(i,r){var o,a;return a=h.createXHRWrapper("POST",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things"),a.setKiiHeaders(),a.setContentType("application/vnd.kii.ThingRegistrationAndAuthorizationRequest+json"),a.setAuthToken(n),o={success:function(){var t,r;return t=JSON.parse(decodeURIComponent(a.xhr.responseText)),r=new d.KiiThingWithToken(t,null,null,n),null!=e&&e.success(r),i(r)},failure:function(){var t,n;return n=a.getErrorString("register thing"),t=l._Error(n),null!=e&&e.failure(t),r(t)}},a.sendData(JSON.stringify(t),o)})},e.registerOwnerWithThingID=function(t,e,n,i){return d.KiiThingWithToken._registerOwnerWithIdentifier(t,e,n,i)},e.registerOwnerWithVendorThingID=function(t,e,n,i){return d.KiiThingWithToken._registerOwnerWithIdentifier("VENDOR_THING_ID:"+t,e,n,i)},e._registerOwnerWithIdentifier=function(t,e,n,i){return new Promise(function(r,o){var a,s,u,c;if(e instanceof d.KiiUser)a=e.getID(),u="user";else{if(!(e instanceof d.KiiGroup))throw"owner should be instance of user or group";a=e.getID(),u="group"}if(null==a)throw"owner instance does not have id";return c=h.createXHRWrapper("PUT",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/things/"+t+"/ownership/"+u+":"+a),c.setKiiHeaders(),c.setAuthToken(i),s={success:function(){return null!=n&&n.success(e),r([e])},failure:function(){var t,e;return e=c.getErrorString("register owner"),t=l._Error(e),null!=n&&n.failure(t),o(t)}},c.send(s)})},e.loadWithVendorThingID=function(t,e,n){var i;return i=new d.KiiThingWithToken(null,null,t,n),i.refresh(e)},e.loadWithThingID=function(t,e,n){var i;return i=new d.KiiThingWithToken(null,t,null,n),i.refresh(e)},e.prototype._setAuthToken=function(t){return t.setAuthToken(this._adminToken)},e.prototype.pushSubscription=function(){return new d.KiiPushSubscriptionWithToken(this,this._adminToken)},e.prototype.bucketWithName=function(t){return new d.KiiBucketWithToken(t,this,this._adminToken)},e.prototype.encryptedBucketWithName=function(t){return new d.KiiEncryptedBucketWithToken(t,this,this._adminToken)},e.prototype.topicWithName=function(t){if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");return new d.KiiTopicWithToken(this._getHttpURI(),t,this._adminToken)},e.thingWithID=function(t,e){var n;return n=new d.KiiThingWithToken(null,t,null,e)},e}(d.KiiThing),d.KiiTopicWithToken=function(t){function e(t,n,i){this._authToken=i,this.acl=v(this.acl,this),this._setAuthToken=v(this._setAuthToken,this),e.__super__.constructor.call(this,t,n)}return _(e,t),e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e.prototype.acl=function(){return new d.KiiACLWithToken(this,this._authToken)},e}(d.KiiTopic),d.KiiPushSubscriptionWithToken=function(t){function e(t,n){this._authToken=n,this._setAuthToken=v(this._setAuthToken,this),e.__super__.constructor.call(this,t)}return _(e,t),e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e}(d.KiiPushSubscription),d.KiiAnalyticsSite={US:"https://api.kii.com/api",JP:"https://api-jp.kii.com/api",CN:"https://api-cn2.kii.com/api",SG:"https://api-sg.kii.com/api",CN3:"https://api-cn3.kii.com/api"},d.KiiAnalytics=function(){function t(){}var e;return e=null,t.getBaseURL=function(){return e._baseURL},t.getAppID=function(){return e._appID},t.getAppKey=function(){return e._appKey},t.getAppKey=function(){return e._appKey},t.getDeviceId=function(){return e._deviceId},t.isLogging=function(){return e._logging},t.setLogging=function(t){return d.KiiAnalytics.logger("Setting logging: "+t),e._logging=t},t.initializeWithSite=function(t,e,n,i){return d.KiiAnalytics._initializeWithSite(t,e,n,i)},t.initialize=function(t,e,n){return d.KiiAnalytics._initializeWithSite(t,e,d.KiiAnalyticsSite.US,n)},t._initializeWithSite=function(t,n,i,r){return e=new g(t,n,i,r),(null!=r?r.length:void 0)>0&&e._deviceId!==r&&(e._deviceId=r),d.KiiAnalytics.logger("Initialized "+t+", "+n+", "+i)},t.error=function(t){return console.log("KiiAnalytics SDK Error => "+t)},t.logger=function(t){return e._logging?console.log("KiiAnalytics => "+t):void 0},t.trackEvent=function(t){return d.KiiAnalytics.trackEventWithExtras(t,null)},t.trackEventWithExtras=function(t,e){return d.KiiAnalytics.trackEventWithExtrasAndCallbacks(t,e,null)},t.trackEventWithExtrasAndCallbacks=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=i&&i.success(),r()},failure:function(){return null!=i&&i.failure.apply(i,arguments),o(l._Error(arguments[0]))}},t._trackEventWithExtrasAndCallbacks(e,n,a)})},t._trackEventWithExtrasAndCallbacks=function(n,r,o){var a,s,u,l,c,h,p,f,g,m,v;h=Math.round((new Date).getTime()),c="^[a-zA-Z][a-zA-Z0-9_]{0,63}$",d.KiiAnalytics.logger("deviceId = "+e._deviceId),p={_triggeredAt:h,_uploadedAt:h,_deviceID:e._deviceId,_type:n},s=function(t){return null!=t&&null!=t.match(c)},a=function(t){var e,n,i,r;for(i=0,r=t.length;r>i;i++){if(n=t[i],e=typeof n,"string"!==e&&"boolean"!==e&&"number"!==e)return!1;if("string"===e){if(n.length<=0)return!1}else if("number"===e&&(!isFinite(n)||isNaN(n)))return!1}return!0},u=function(t){var e;return e=typeof t,"string"===e?t.length>0:"number"===e?isFinite(t)&&!isNaN(t):"object"===e?t instanceof Array&&t.length>0&&a(t):"boolean"===e?!0:!1};for(l in r)m=r[l],s(l)&&u(m)?p[l]=m:d.KiiAnalytics.logger("ignoring invalid key/value pair, key:"+l+" value:"+m);return g=""+t.getBaseURL()+"/apps/"+t.getAppID()+"/event",v=i.createXHRWrapper("POST",g),v.setKiiHeaders(),v.setContentType("application/vnd.kii.Event+json"),f={success:function(){return null!=o?o.success():void 0},failure:function(){var t;return t=v.getErrorString("track event"),null!=o?o.failure(t,v.xhr.status):void 0}},v.sendData(JSON.stringify(p),f)},t.setBaseURL=function(t){return d.KiiAnalytics.logger("Setting base URL: "+t),e._baseURL=t},t.getSDKVersion=function(){return d.Kii.getSDKVersion()},t._setHttpRequestType=function(t){return d.KiiAnalytics.logger("Set http request as "+t),e._httpRequestType=t},t._getHttpRequestType=function(){return e._httpRequestType},t}(),g=function(){function t(e,n,i,r){null==i&&(i=d.KiiAnalyticsSite.US),r||(r=t.generateDeviceId()),this._appKey=n,this._appID=e,this._baseURL=i,this._deviceId=r}return t.prototype._httpRequestType=null,t.generateDeviceId=function(){var t;return t=function(t){var e;return e=(Math.random().toString(16)+"000000000").substr(2,8),t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e},t()+t(!0)+t(!0)+t()},t}(),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _(e,t),e.prototype.getAppID=function(){return d.KiiAnalytics.getAppID()},e.prototype.getAppKey=function(){return d.KiiAnalytics.getAppKey()},e.prototype.getLogger=function(){return d.KiiAnalytics.logger()},e.prototype.getCurrentUser=function(){return null},e}(c),t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _(e,t),e.prototype.getAppID=function(){return d.KiiAnalytics.getAppID()},e.prototype.getAppKey=function(){return d.KiiAnalytics.getAppKey()},e.prototype.getLogger=function(){return d.KiiAnalytics.logger()},e.prototype.getCurrentUser=function(){return null},e}(r),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _(e,t),e.prototype.getAppID=function(){return d.KiiAnalytics.getAppID()},e.prototype.getAppKey=function(){return d.KiiAnalytics.getAppKey()},e.prototype.getLogger=function(){return d.KiiAnalytics.logger()},e.prototype.getCurrentUser=function(){return null},e}(s),i=function(){function i(){}return i.createXHRWrapper=function(i,r){var o;return o=null,null===d.KiiAnalytics._getHttpRequestType()?"undefined"!=typeof jQuery?(d.KiiAnalytics.logger("Use jQuery"),o=new t(i,r)):"undefined"!=typeof XMLHttpRequest?(d.KiiAnalytics.logger("Use XMLHttpRequest"),o=new n(i,r)):"undefined"!=typeof Titanium&&(d.KiiAnalytics.logger("Use Titanium"),o=new e(i,r)):(d.KiiAnalytics.logger("Use http request backdoor"),d.KiiAnalytics._getHttpRequestType()===d._KiiHttpRequestType.jQuery?(d.KiiAnalytics.logger("Use jQuery"),o=new t(i,r)):d.KiiAnalytics._getHttpRequestType()===d._KiiHttpRequestType.XMLHttpRequest?(d.Kii.logger("Use XMLHttpRequest"),o=new n(i,r)):d.KiiAnalytics._getHttpRequestType()===d._KiiHttpRequestType.Titanium&&(d.Kii.logger("Use Titanium"),o=new e(i,r))),o},i}(),d.KiiSCNGoogle=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,d.KiiSocialNetworkName.GOOGLEPLUS)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={access_token:t.access_token},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.access_token},e.prototype._logIn=function(t,e){var n;if(d.Kii.logger("should auth google"),d.Kii.logger("Checking options"),null==t||!t.access_token)throw d.InvalidArgumentException("options.access_token is required");return null!=d.KiiUser.getCurrentUser()&&d.KiiUser.logOut(),n={accessToken:t.access_token},this._register("google","application/vnd.kii.AuthTokenGoogleRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),d.Kii.logger("Log out google")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null!=d.KiiUser.getCurrentUser()){if(null==t||!t.access_token)throw d.InvalidArgumentException("options.access_token is required");return n={accessToken:t.access_token},this._link("google","application/vnd.kii.LinkGoogleRequest+json",n,t,e)}return null!=e?e.failure(null,this._network,"A KiiUser must be logged in before linking to Google"):void 0},e.prototype._unlinkFromCurrentUser=function(t){return null!=d.KiiUser.getCurrentUser()?this._unlink("google",t):null!=t?t.failure("A KiiUser must be logged in before unlinking from Google"):void 0},e}(d.KiiSocialConnectNetwork),d.KiiSCNRenRen=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,d.KiiSocialNetworkName.RENREN)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={access_token:t.access_token},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.access_token},e.prototype._logIn=function(t,e){var n;if(d.Kii.logger("should auth renren"),d.Kii.logger("Checking options"),null==t||!t.access_token)throw d.InvalidArgumentException("options.access_token is required");return null!=d.KiiUser.getCurrentUser()&&d.KiiUser.logOut(),n={accessToken:t.access_token},this._register("renren","application/vnd.kii.AuthTokenRenRenRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),d.Kii.logger("Log out renren")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null!=d.KiiUser.getCurrentUser()){if(null==t||!t.access_token)throw d.InvalidArgumentException("options.access_token is required");return n={accessToken:t.access_token},this._link("renren","application/vnd.kii.LinkRenRenRequest+json",n,t,e)}return null!=e?e.failure(null,this._network,"A KiiUser must be logged in before linking to RenRen"):void 0},e.prototype._unlinkFromCurrentUser=function(t){return null!=d.KiiUser.getCurrentUser()?this._unlink("renren",t):null!=t?t.failure("A KiiUser must be logged in before unlinking from RenRen"):void 0},e}(d.KiiSocialConnectNetwork),d.KiiThingContext=function(){function t(t){this._objectWithURI=v(this._objectWithURI,this),this._getToken=v(this._getToken,this),this.pushInstallation=v(this.pushInstallation,this),this.getAuthenticatedThing=v(this.getAuthenticatedThing,this),this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this._token=t.token,this._thingId=t.thingId,null!=t.vendorThingID&&(this._vendorThingID=t.vendorThingID)}return t.prototype.bucketWithName=function(t){var e;return e=new d.KiiBucketWithToken(t,null,this._token)},t.prototype.encryptedBucketWithName=function(t){var e;return e=new d.KiiEncryptedBucketWithToken(t,null,this._token)},t.prototype.objectWithURI=function(t){var e;return e=this._objectWithURI(t)},t.prototype.topicWithName=function(t){if("string"!=typeof t||""===t)throw new d.InvalidArgumentException("topicName should not null or empty");return new d.KiiTopicWithToken(""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID(),t,this._token)},t.prototype.listTopics=function(t,e){return d.Kii._listTopics(t,e,this)},t.prototype.getAuthenticatedThing=function(){var t;return t=d.KiiThingWithToken.thingWithID(this._thingId,this._token),t._accessToken=this._token,t._vendorThingID=this._vendorThingID,t},t.prototype.pushInstallation=function(){return new d.KiiPushInstallationWithToken(this._token)},t.prototype._getToken=function(){return this._token},t.prototype._objectWithURI=function(t){var e,n,i,r,o,a,s,u,l;if(!t)throw new d.InvalidURIException;if(l=0===t.indexOf("kiicloud://"),a=t.substr("kiicloud://".length),o=a.split("/"),r=o.length,!(r>=4&&l))throw new d.InvalidURIException;if(n=4===r?1:3,i=o[n],u=null,"groups"===o[0]&&6===r)u=new d.KiiGroupWithToken._groupWithID(o[1],this._token);else if("users"===o[0]&&6===r)u=d.KiiUserWithToken._userWithID(o[1],this._token);else if("things"===o[0]&&6===r)u=d.KiiThingWithToken.thingWithID(o[1],this._token);else if(4!==r)throw new d.InvalidURIException;return e=new d.KiiBucketWithToken(i,u,this._token),s=e.createObject(),s._setUUID(o[r-1]),s},t}(),d.KiiUserBuilder=function(){function t(){this._password=null,this._username=null,this._emailAddress=null,this._phoneNumber=null,this._country=null
}return t.builderWithIdentifier=function(t,e){var n,i;if(null==t)throw new d.InvalidArgumentException("Identifier must not be null or undefined");if(!l._validatePassword(e))throw new d.InvalidPasswordException;if(n=new d.KiiUserBuilder,n._password=e,l._validatePhoneNumber(t))n._phoneNumber=t;else if(i=l._trim(t),l._validateEmail(i))n._emailAddress=i;else{if(!l._validateUsername(i))throw new d.InvalidArgumentException;n._username=i}return n},t.builderWithEmailAddress=function(t,e){var n;if(!l._validateEmail(t))throw new d.InvalidEmailException;if(!l._validatePassword(e))throw new d.InvalidPasswordException;return n=new d.KiiUserBuilder,n._emailAddress=l._trim(t),n._password=e,n},t.builderWithGlobalPhoneNumber=function(t,e){var n;if(!l._validatePhoneNumber(t))throw new d.InvalidPhoneNumberException;if(!l._isGlobalPhoneNumber(t))throw new d.InvalidPhoneNumberException;if(!l._validatePassword(e))throw new d.InvalidPasswordException;return n=new d.KiiUserBuilder,n._phoneNumber=t,n._password=e,n},t.builderWithLocalPhoneNumber=function(t,e,n){var i;if(!l._validateLocalPhone(t))throw new d.InvalidPhoneNumberException;if(!l._validateCountryCode(e))throw new d.InvalidCountryException;if(!l._validatePassword(n))throw new d.InvalidPasswordException;return i=new d.KiiUserBuilder,i._phoneNumber=t,i._country=e,i._password=n,i},t.builderWithUsername=function(t,e){var n,i;if(i=l._trim(t),!l._validateUsername(i))throw new d.InvalidUsernameException;if(!l._validatePassword(e))throw new d.InvalidPasswordException;return n=new d.KiiUserBuilder,n._username=i,n._password=e,n},t.prototype.setUsername=function(t){var e;if(null!=t){if(e=l._trim(t),!l._validateUsername(e))throw new d.InvalidUsernameException;this._username=e}return this},t.prototype.setEmailAddress=function(t){var e;if(null!=t){if(e=l._trim(t),!l._validateEmail(e))throw new d.InvalidEmailException;this._emailAddress=e}return this},t.prototype.setGlobalPhoneNumber=function(t){if(null!=t){if(!l._validatePhoneNumber(t))throw new d.InvalidPhoneNumberException;this._phoneNumber=t,this._country=null}return this},t.prototype.setLocalPhoneNumber=function(t,e){if(null!=t&&!l._validateLocalPhone(t))throw new d.InvalidPhoneNumberException;if(null!=e&&!l._validateCountryCode(e))throw new d.InvalidCountryException;return null!=t&&(this._phoneNumber=t),null!=e&&(this._country=e),this},t.prototype.build=function(){var t;return t=new d.KiiUser,null!=this._username&&t._setUsername(this._username),null!=this._emailAddress&&t._setEmailAddress(this._emailAddress),null!=this._country?t._setLocalPhone(this._phoneNumber,this._country):null!=this._phoneNumber&&t._setPhoneNumber(this._phoneNumber),t._setPassword(this._password),t},t}(),d.KiiPushInstallation=function(){function t(t){this._setAuthToken=v(this._setAuthToken,this),this.uninstallByInstallationID=v(this.uninstallByInstallationID,this),this.uninstall=v(this.uninstall,this),this._getMqttEndpoint=v(this._getMqttEndpoint,this),this.getMqttEndpoint=v(this.getMqttEndpoint,this),this._install=v(this._install,this),this.installMqtt=v(this.installMqtt,this),this.installGcm=v(this.installGcm,this),this._user=t}return t.prototype.installGcm=function(t,e,n){return l._isNonEmptyString(t)?this._install(t,"ANDROID",e,n):new Promise(function(t){return function(e,i){var r;return r=l._Error("installationRegistrationID must not be null or empty.",t),null!=n&&n.failure(r),i(r)}}(this))},t.prototype.installMqtt=function(t,e){return this._install(null,"MQTT",t,e)},t.prototype._install=function(t,e,n,i){return new Promise(function(r){return function(o,a){var s,u,c,p;return"boolean"!=typeof n&&(s=l._Error("type of development must be boolean.",r),null!=i&&i.failure(s),a(s)),p=h.createXHRWrapper("POST",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/installations"),p.setKiiHeaders(),r._setAuthToken(p),p.setContentType("application/vnd.kii.InstallationCreationRequest+json"),u={deviceType:e,development:n},null!=t&&(u.installationRegistrationID=t),c={success:function(){var t;return t=JSON.parse(decodeURIComponent(p.xhr.responseText)),null!=i&&i.success(t),o(t)},failure:function(){var t;return t=p.getErrorString("install push"),s=l._Error(t,r),null!=i&&i.failure(s),a(s)}},p.sendData(JSON.stringify(u),c)}}(this))},t.prototype.getMqttEndpoint=function(t,e){return new Promise(function(n){return function(i,r){var o,a;return l._isNonEmptyString(t)||(o=l._Error("installationID must not be null or empty.",n),null!=e&&e.failure(o),r(o)),a={success:function(t){return null!=e&&e.success(t),i(t)},failure:function(t){return null!=e&&e.failure(t),r(t)}},n._getMqttEndpoint(t,3,a)}}(this))},t.prototype._getMqttEndpoint=function(t,e,n){var i,r,o;return i=this,o=h.createXHRWrapper("GET",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/installations/"+t+"/mqtt-endpoint"),o.setKiiHeaders(),this._setAuthToken(o),r={success:function(){return function(){var t;return t=JSON.parse(decodeURIComponent(o.xhr.responseText)),n.success(t)}}(this),failure:function(){return function(){var r,a;return 503===o.xhr.status?(e--,0>=e?(a=o.getErrorString("get mqtt endpoint"),r=l._Error(a,i),n.failure(r)):setTimeout(function(){return i._getMqttEndpoint(t,e,n)},1e3)):(a=o.getErrorString("get mqtt endpoint"),r=l._Error(a,i),n.failure(r))}}(this)},o.send(r)},t.prototype.uninstall=function(t,e,n){return new Promise(function(i){return function(r,o){var a,s,u;return l._isNonEmptyString(t)||(a=l._Error("installationRegistrationID must not be null or empty.",i),null!=n&&n.failure(a),o(a)),d.KiiPushInstallation._validateDeviceType(e)||(a=l._Error("Unsupported deviceType "+e,i),null!=n&&n.failure(a),o(a)),u=h.createXHRWrapper("DELETE",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/installations/"+e+":"+t),u.setKiiHeaders(),i._setAuthToken(u),s={success:function(){return null!=n&&n.success(),r()},failure:function(){var t;return t=u.getErrorString("uninstall push"),a=l._Error(t,i),null!=n&&n.failure(a),o(a)}},u.send(s)}}(this))},t.prototype.uninstallByInstallationID=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return l._isNonEmptyString(t)||(o=l._Error("installationID must not be null or empty.",n),null!=e&&e.failure(o),r(o)),s=h.createXHRWrapper("DELETE",""+d.Kii.getBaseURL()+"/apps/"+d.Kii.getAppID()+"/installations/"+t),s.setKiiHeaders(),n._setAuthToken(s),a={success:function(){return null!=e&&e.success(),i()},failure:function(){var t;return t=s.getErrorString("uninstall push"),o=l._Error(t,n),null!=e&&e.failure(o),r(o)}},s.send(a)}}(this))},t._validateDeviceType=function(t){return"ANDROID"===t||"MQTT"===t},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t}(),d.KiiPushInstallationWithToken=function(t){function e(t){this._authToken=t,this._setAuthToken=v(this._setAuthToken,this)}return _(e,t),e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e}(d.KiiPushInstallation),d};!function(){var e="undefined"!=typeof module&&null!==module;e&&module.exports?module.exports={exportedClasses:["ForTest","Kii","KiiACL","KiiACLEntry","KiiACLWithToken","KiiAnalytics","KiiAnonymousUser","KiiAnyAuthenticatedUser","KiiAppAdminContext","KiiBucket","KiiBucketWithToken","KiiClause","KiiEncryptedBucket","KiiEncryptedBucketWithToken","KiiGeoPoint","KiiGroup","KiiGroupWithToken","KiiObject","KiiObjectWithToken","KiiPushInstallation","KiiPushInstallationWithToken","KiiPushSubscription","KiiPushSubscriptionWithToken","KiiQuery","KiiSCNFacebook","KiiSCNGoogle","KiiSCNQQ","KiiSCNRenRen","KiiSCNTwitter","KiiSDKClientInfo","KiiServerCodeEntry","KiiServerCodeExecResult","KiiSocialConnect","KiiSocialConnectNetwork","KiiThing","KiiThingContext","KiiThingWithToken","KiiTopic","KiiPushMessageBuilder","KiiTopicWithToken","KiiUser","KiiUserBuilder","KiiUserWithToken","KiiSocialNetworkName","KiiSite","_KiiHttpRequestType","KiiACLAction","KiiAnalyticsSite","InvalidDisplayNameException","InvalidPasswordException","InvalidUsernameException","InvalidUserIdentifierException","InvalidEmailException","InvalidPhoneNumberException","InvalidLocalPhoneNumberException","InvalidCountryException","InvalidURIException","InvalidACLAction","InvalidACLSubject","InvalidACLGrant","InvalidLimitException","InvalidArgumentException","IllegalStateException","ArithmeticException","UnsupportedOperationException"],create:function(){return t.call(this)}}:t()}()}(),/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.6 - 2016-03-16
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(t,e){var n=e.isDefined,i=e.isUndefined,r=e.isNumber,o=e.isObject,a=e.isArray,s=e.extend,u=e.toJson;e.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setStorageCookie=function(t,e){return this.cookie.expiry=t,this.cookie.path=e,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse",function(t,e,l,c){var h,p=this,d=p.prefix,f=p.cookie,g=p.notify,m=p.storageType;l?l[0]&&(l=l[0]):l=document,"."!==d.substr(-1)&&(d=d?d+".":"");var v=function(t){return d+t},y=function(){try{var n=m in e&&null!==e[m],i=v("__"+Math.round(1e7*Math.random()));return n&&(h=e[m],h.setItem(i,""),h.removeItem(i)),n}catch(r){return m="cookie",t.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),_=function(e,n){if(n=i(n)?null:u(n),!y||"cookie"===p.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),S(e,n);try{h&&h.setItem(v(e),n),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:p.storageType})}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),S(e,n)}return!0},b=function(e){if(!y||"cookie"===p.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),$(e);var n=h?h.getItem(v(e)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(i){return n}},x=function(){var e,n;for(e=0;e<arguments.length;e++)if(n=arguments[e],y&&"cookie"!==p.storageType)try{h.removeItem(v(n)),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:p.storageType})}catch(i){t.$broadcast("LocalStorageModule.notification.error",i.message),C(n)}else y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),C(n)},w=function(){if(!y)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var e=d.length,n=[];for(var i in h)if(i.substr(0,e)===d)try{n.push(i.substr(e))}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.Description),[]}return n},k=function(e){var n=d?new RegExp("^"+d):new RegExp,i=e?new RegExp(e):new RegExp;if(!y||"cookie"===p.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),A();var r=d.length;for(var o in h)if(n.test(o)&&i.test(o.substr(r)))try{x(o.substr(r))}catch(a){return t.$broadcast("LocalStorageModule.notification.error",a.message),A()}return!0},T=function(){try{return e.navigator.cookieEnabled||"cookie"in l&&(l.cookie.length>0||(l.cookie="test").indexOf.call(l.cookie,"test")>-1)}catch(n){return t.$broadcast("LocalStorageModule.notification.error",n.message),!1}}(),S=function(e,n,s){if(i(n))return!1;if((a(n)||o(n))&&(n=u(n)),!T)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",h=new Date,p="";if(null===n?(h.setTime(h.getTime()+-864e5),c="; expires="+h.toGMTString(),n=""):r(s)&&0!==s?(h.setTime(h.getTime()+24*s*60*60*1e3),c="; expires="+h.toGMTString()):0!==f.expiry&&(h.setTime(h.getTime()+24*f.expiry*60*60*1e3),c="; expires="+h.toGMTString()),e){var d="; path="+f.path;f.domain&&(p="; domain="+f.domain),l.cookie=v(e)+"="+encodeURIComponent(n)+c+d+p}}catch(g){return t.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},$=function(e){if(!T)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=l.cookie&&l.cookie.split(";")||[],i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(v(e)+"=")){var o=decodeURIComponent(r.substring(d.length+e.length+1,r.length));try{return JSON.parse(o)}catch(a){return o}}}return null},C=function(t){S(t,null)},A=function(){for(var t=null,e=d.length,n=l.cookie.split(";"),i=0;i<n.length;i++){for(t=n[i];" "===t.charAt(0);)t=t.substring(1,t.length);var r=t.substring(e,t.indexOf("="));C(r)}},M=function(){return m},I=function(t,e,i,r){r=r||e;var a=b(r);return null===a&&n(i)?a=i:o(a)&&o(i)&&(a=s(a,i)),c(e).assign(t,a),t.$watch(e,function(t){_(r,t)},o(t[e]))},D=function(){for(var t=0,n=e[m],i=0;i<n.length;i++)0===n.key(i).indexOf(d)&&t++;return t};return{isSupported:y,getStorageType:M,set:_,add:_,get:b,keys:w,remove:x,clearAll:k,bind:I,deriveKey:v,length:D,cookie:{isSupported:T,set:S,add:S,get:$,remove:C,clearAll:A}}}]})}(window,window.angular),/**
 * @license AngularJS v1.5.8
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t,e,n){if(!t)throw ge("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(Y(t)&&(t=t.join(" ")),Y(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function r(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var i="";return t=Y(t)?t:t&&te(t)&&t.length?t.split(/\s+/):[],G(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function s(t){if(t instanceof ne)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===R)return t;break;default:return ne(u(t))}return t.nodeType===R?ne(t):void 0}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==R)return n}}function l(t,e,n){G(e,function(e){t.addClass(e,n)})}function c(t,e,n){G(e,function(e){t.removeClass(e,n)})}function h(t){return function(e,n){n.addClass&&(l(t,e,n.addClass),n.addClass=null),n.removeClass&&(c(t,e,n.removeClass),n.removeClass=null)}}function p(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||ie;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=ie},t.$$prepared=!0}return t}function d(t,e){f(t,e),g(t,e)}function f(t,e){e.from&&(t.css(e.from),e.from=null)}function g(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=v(t.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=T(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var u=i.domOperation!==ie?i.domOperation:null;return q(i,r),u&&(i.domOperation=u),i.addClass=s.addClass?s.addClass:null,i.removeClass=s.removeClass?s.removeClass:null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function v(t,e,n){function i(t){te(t)&&(t=t.split(" "));var e={};return G(t,function(t){t.length&&(e[t]=!0)}),e}var r=1,o=-1,a={};t=i(t),e=i(e),G(e,function(t,e){a[e]=r}),n=i(n),G(n,function(t,e){a[e]=a[e]===r?null:o});var s={addClass:"",removeClass:""};return G(a,function(e,n){var i,a;e===r?(i="addClass",a=!t[n]||t[n+K]):e===o&&(i="removeClass",a=t[n]||t[n+U]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function y(t){return t instanceof ne?t[0]:t}function _(t,e,n){var i="";e&&(i=o(e,W,!0)),n.addClass&&(i=T(i,o(n.addClass,U))),n.removeClass&&(i=T(i,o(n.removeClass,K))),i.length&&(n.preparationClasses=i,t.addClass(i))}function b(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function x(t,e){var n=e?"-"+e+"s":"";return k(t,[de,n]),[de,n]}function w(t,e){var n=e?"paused":"",i=L+le;return k(t,[i,n]),[i,n]}function k(t,e){var n=e[0],i=e[1];t.style[n]=i}function T(t,e){return t?e?t+" "+e:t:e}function S(t){return[pe,t+"s"]}function $(t,e){var n=e?he:de;return[n,t+"s"]}function C(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return G(n,function(t,e){var n=r[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=A(n)),0===n&&(n=null),i[e]=n}}),i}function A(t){var e=0,n=t.split(/\s*,\s*/);return G(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function M(t){return 0===t||null!=t}function I(t,e){var n=O,i=t+"s";return e?n+=re:i+=" linear all",[n,i]}function D(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function E(t,e,n){G(n,function(n){t[n]=Z(t[n])?t[n]:e.style.getPropertyValue(n)})}var O,P,L,N,R=1,U="-add",K="-remove",W="ng-",V="-active",B="-prepare",j="ng-animate",H="$$ngAnimateChildren",z="";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(z="-webkit-",O="WebkitTransition",P="webkitTransitionEnd transitionend"):(O="transition",P="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(z="-webkit-",L="WebkitAnimation",N="webkitAnimationEnd animationend"):(L="animation",N="animationend");var F,q,G,Y,Z,X,J,Q,te,ee,ne,ie,re="Duration",oe="Property",ae="Delay",se="TimingFunction",ue="IterationCount",le="PlayState",ce=9999,he=L+ae,pe=L+re,de=O+ae,fe=O+re,ge=e.$$minErr("ng"),me=["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),o=0;o<e.length;o++)e[o]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],ve=["$interpolate",function(t){return{link:function(e,n,i){function r(t){t="on"===t||"true"===t,n.data(H,t)}var o=i.ngAnimateChildren;te(o)&&0===o.length?n.data(H,!0):(r(t(o)(e)),i.$observe("ngAnimateChildren",r))}}}],ye="$$animateCss",_e=1e3,be=3,xe=1.5,we={transitionDuration:fe,transitionDelay:de,transitionProperty:O+oe,animationDuration:pe,animationDelay:he,animationIterationCount:L+ue},ke={transitionDuration:fe,transitionDelay:de,animationDuration:pe,animationDelay:he},Te=["$animateProvider",function(){var t=D(),e=D();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(n,i,s,u,l,c,m,v){function _(t,e){var n="$$ngAnimateParentKey",i=t.parentNode,r=i[n]||(i[n]=++B);return r+"-"+t.getAttribute("class")+"-"+e}function b(e,i,r,o){var a=t.get(r);return a||(a=C(n,e,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(r,a),a}function T(r,a,s,u){var l;if(t.count(s)>0&&(l=e.get(s),!l)){var c=o(a,"-stagger");i.addClass(r,c),l=C(n,r,u),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),i.removeClass(r,c),e.put(s,l)}return l||{}}function A(n){j.push(n),m.waitUntilQuiet(function(){t.flush(),e.flush();for(var n=l(),i=0;i<j.length;i++)j[i](n);j.length=0})}function D(t,e,n){var i=b(t,e,n,we),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var R=h(i),B=0,j=[];return function(e,n){function l(){m()}function h(){m(!0)}function m(t){if(!(Z||J&&X)){Z=!0,X=!1,H.$$skipPreparationClasses||i.removeClass(e,we),i.removeClass(e,Se),w(q,!1),x(q,!1),G(le,function(t){q.style[t[0]]=""}),R(e,H),d(e,H),Object.keys(z).length&&G(z,function(t,e){t?q.style.setProperty(e,t):q.style.removeProperty(e)}),H.onDone&&H.onDone(),de&&de.length&&e.off(de.join(" "),B);var n=e.data(ye);n&&(u.cancel(n[0].timer),e.removeData(ye)),Q&&Q.complete(!t)}}function b(t){Ke.blockTransition&&x(q,t),Ke.blockKeyframeAnimation&&w(q,!!t)}function C(){return Q=new s({end:l,cancel:h}),A(ie),m(),{$$willAnimate:!1,start:function(){return Q},end:l}}function B(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(be));Math.max(n-ue,0)>=ne&&i>=re&&(J=!0,m())}function j(){function t(){if(!Z){if(b(!1),G(le,function(t){var e=t[0],n=t[1];q.style[e]=n}),R(e,H),i.addClass(e,Se),Ke.recalculateTimingStyles){if(Te=q.className+" "+we,Ae=_(q,Te),Re=D(q,Te,Ae),Ue=Re.maxDelay,ee=Math.max(Ue,0),re=Re.maxDuration,0===re)return void m();Ke.hasTransitions=Re.transitionDuration>0,Ke.hasAnimations=Re.animationDuration>0}if(Ke.applyAnimationDelay&&(Ue="boolean"!=typeof H.delay&&M(H.delay)?parseFloat(H.delay):Ue,ee=Math.max(Ue,0),Re.animationDelay=Ue,We=$(Ue,!0),le.push(We),q.style[We[0]]=We[1]),ne=ee*_e,ae=re*_e,H.easing){var t,r=H.easing;Ke.hasTransitions&&(t=O+se,le.push([t,r]),q.style[t]=r),Ke.hasAnimations&&(t=L+se,le.push([t,r]),q.style[t]=r)}Re.transitionDuration&&de.push(P),Re.animationDuration&&de.push(N),ue=Date.now();var o=ne+xe*ae,a=ue+o,s=e.data(ye)||[],l=!0;if(s.length){var c=s[0];l=a>c.expectedEndTime,l?u.cancel(c.timer):s.push(m)}if(l){var h=u(n,o,!1);s[0]={timer:h,expectedEndTime:a},s.push(m),e.data(ye,s)}de.length&&e.on(de.join(" "),B),H.to&&(H.cleanupStyles&&E(z,q,Object.keys(H.to)),g(e,H))}}function n(){var t=e.data(ye);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ye)}}if(!Z){if(!q.parentNode)return void m();var r=function(t){if(J)X&&t&&(X=!1,m());else if(X=!t,Re.animationDuration){var e=w(q,X);X?le.push(e):a(le,e)}},o=Le>0&&(Re.transitionDuration&&0===Me.transitionDuration||Re.animationDuration&&0===Me.animationDuration)&&Math.max(Me.animationDelay,Me.transitionDelay);o?u(t,Math.floor(o*Le*_e),!1):t(),te.resume=function(){r(!0)},te.pause=function(){r(!1)}}}var H=n||{};H.$$prepared||(H=p(F(H)));var z={},q=y(e);if(!q||!q.parentNode||!v.enabled())return C();var Z,X,J,Q,te,ee,ne,re,ae,ue,le=[],he=e.attr("class"),pe=r(H),de=[];if(0===H.duration||!c.animations&&!c.transitions)return C();var fe=H.event&&Y(H.event)?H.event.join(" "):H.event,ge=fe&&H.structural,me="",ve="";ge?me=o(fe,W,!0):fe&&(me=fe),H.addClass&&(ve+=o(H.addClass,U)),H.removeClass&&(ve.length&&(ve+=" "),ve+=o(H.removeClass,K)),H.applyClassesEarly&&ve.length&&R(e,H);var we=[me,ve].join(" ").trim(),Te=he+" "+we,Se=o(we,V),$e=pe.to&&Object.keys(pe.to).length>0,Ce=(H.keyframeStyle||"").length>0;if(!Ce&&!$e&&!we)return C();var Ae,Me;if(H.stagger>0){var Ie=parseFloat(H.stagger);Me={transitionDelay:Ie,animationDelay:Ie,transitionDuration:0,animationDuration:0}}else Ae=_(q,Te),Me=T(q,we,Ae,ke);H.$$skipPreparationClasses||i.addClass(e,we);var De;if(H.transitionStyle){var Ee=[O,H.transitionStyle];k(q,Ee),le.push(Ee)}if(H.duration>=0){De=q.style[O].length>0;var Oe=I(H.duration,De);k(q,Oe),le.push(Oe)}if(H.keyframeStyle){var Pe=[L,H.keyframeStyle];k(q,Pe),le.push(Pe)}var Le=Me?H.staggerIndex>=0?H.staggerIndex:t.count(Ae):0,Ne=0===Le;Ne&&!H.skipBlocking&&x(q,ce);var Re=D(q,Te,Ae),Ue=Re.maxDelay;ee=Math.max(Ue,0),re=Re.maxDuration;var Ke={};if(Ke.hasTransitions=Re.transitionDuration>0,Ke.hasAnimations=Re.animationDuration>0,Ke.hasTransitionAll=Ke.hasTransitions&&"all"==Re.transitionProperty,Ke.applyTransitionDuration=$e&&(Ke.hasTransitions&&!Ke.hasTransitionAll||Ke.hasAnimations&&!Ke.hasTransitions),Ke.applyAnimationDuration=H.duration&&Ke.hasAnimations,Ke.applyTransitionDelay=M(H.delay)&&(Ke.applyTransitionDuration||Ke.hasTransitions),Ke.applyAnimationDelay=M(H.delay)&&Ke.hasAnimations,Ke.recalculateTimingStyles=ve.length>0,(Ke.applyTransitionDuration||Ke.applyAnimationDuration)&&(re=H.duration?parseFloat(H.duration):re,Ke.applyTransitionDuration&&(Ke.hasTransitions=!0,Re.transitionDuration=re,De=q.style[O+oe].length>0,le.push(I(re,De))),Ke.applyAnimationDuration&&(Ke.hasAnimations=!0,Re.animationDuration=re,le.push(S(re)))),0===re&&!Ke.recalculateTimingStyles)return C();if(null!=H.delay){var We;"boolean"!=typeof H.delay&&(We=parseFloat(H.delay),ee=Math.max(We,0)),Ke.applyTransitionDelay&&le.push($(We)),Ke.applyAnimationDelay&&le.push($(We,!0))}return null==H.duration&&Re.transitionDuration>0&&(Ke.recalculateTimingStyles=Ke.recalculateTimingStyles||Ne),ne=ee*_e,ae=re*_e,H.skipBlocking||(Ke.blockTransition=Re.transitionDuration>0,Ke.blockKeyframeAnimation=Re.animationDuration>0&&Me.animationDelay>0&&0===Me.animationDuration),H.from&&(H.cleanupStyles&&E(z,q,Object.keys(H.from)),f(e,H)),Ke.blockTransition||Ke.blockKeyframeAnimation?b(re):H.skipBlocking||x(q,!1),{$$willAnimate:!0,end:l,start:function(){return Z?void 0:(te={end:l,cancel:h,resume:null,pause:null},Q=new s(te),A(j),Q)}}}}]}],Se=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,a,s,u,l,c,p){function d(t){return t.replace(/\bng-\S+\b/g,"")}function f(t,e){return te(t)&&(t=t.split(" ")),te(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function g(e,a,u){function l(t){var e={},n=y(t).getBoundingClientRect();return G(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=_.scrollTop;break;case"left":i+=_.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function c(){var e=t(m,{addClass:r,delay:!0,from:l(a)});return e.$$willAnimate?e:null}function h(t){return t.attr("class")||""}function p(){var e=d(h(u)),n=f(e,v),i=f(v,e),a=t(m,{to:l(u),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function g(){m.remove(),a.removeClass(n),u.removeClass(n)}var m=ne(y(a).cloneNode(!0)),v=d(h(m));a.addClass(n),u.addClass(n),m.addClass(i),x.append(m);var b,w=c();if(!w&&(b=p(),!b))return g();var k=w||b;return{start:function(){function t(){n&&n.end()}var e,n=k.start();return n.done(function(){return n=null,!b&&(b=p())?(n=b.start(),n.done(function(){n=null,g(),e.complete()}),n):(g(),void e.complete())}),e=new s({end:t,cancel:t})}}}function m(t,e,n,i){var r=v(t,ie),o=v(e,ie),a=[];return G(i,function(t){var e=t.out,i=t["in"],r=g(n,e,i);r&&a.push(r)}),r||o||0!==a.length?{start:function(){function t(){G(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),o&&e.push(o.start()),G(a,function(t){e.push(t.start())});var n=new s({end:t,cancel:t});return s.all(e,function(t){n.complete(t)}),n}}:void 0}function v(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=T(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!l.animations&&!l.transitions)return ie;{var _=p[0].body,b=y(u),x=ne(e(b)||_.contains(b)?b:_);h(c)}return function(t){return t.from&&t.to?m(t.from,t.to,t.classes,t.anchors):v(t)}}]}],$e=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=Y(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!r[a]&&(i.push(e.get(s)),r[a]=!0)}return i}var o=h(i);return function(t,e,i,a){function s(){a.domOperation(),o(t,a)}function u(){f=!0,s(),d(t,a)}function l(t,e,i,r,o){var a;switch(i){case"animate":a=[e,r.from,r.to,o];break;case"setClass":a=[e,v,y,o];break;case"addClass":a=[e,v,o];break;case"removeClass":a=[e,y,o];break;default:a=[e,o]}a.push(r);var s=t.apply(t,a);if(s)if(J(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(J(s))return s;return ie}function c(t,e,i,r,o){var a=[];return G(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,u=function(t){a||(a=!0,(o||ie)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,t,e,i,function(t){var e=t===!1;u(e)}),r})}),a}function h(t,e,i,r,o){var a=c(t,e,i,r,o);if(0===a.length){var s,u;"beforeSetClass"===o?(s=c(t,"removeClass",i,r,"beforeRemoveClass"),u=c(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(t,"removeClass",i,r,"removeClass"),u=c(t,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),u&&(a=a.concat(u))}if(0!==a.length)return function(t){var e=[];return a.length&&G(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){G(e,function(e){t?e.cancel():e.end()})}}}var f=!1;3===arguments.length&&Q(i)&&(a=i,i=null),a=p(a),i||(i=t.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var g,m,v=a.addClass,y=a.removeClass,_=r(i);if(_.length){var b,x;"leave"==e?(x="leave",b="afterLeave"):(x="before"+e.charAt(0).toUpperCase()+e.substr(1),b=e),"enter"!==e&&"move"!==e&&(g=h(t,e,a,_,x)),m=h(t,e,a,_,b)}if(g||m){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(u(),w=new n,w.complete(!0)),w},start:function(){function t(t){u(t),w.complete(t)}function e(e){f||((i||ie)(e),t(e))}if(w)return w;w=new n;var i,r=[];return g&&r.push(function(t){i=g(t)}),r.length?r.push(function(t){s(),t(!0)}):s(),m&&r.push(function(t){i=m(t)}),w.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(r,t),w}}}}}]}],Ce=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){G(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],Ae="data-ng-animate",Me="$ngAnimatePin",Ie=["$animateProvider",function(e){function i(t){if(!t)return null;var e=t.split(f),n=Object.create(null);return G(e,function(t){n[t]=!0}),n}function r(t,e){if(t&&e){var n=i(e);return t.split(f).some(function(t){return n[t]})}}function o(t,e,n,i){return g[t].some(function(t){return t(e,n,i)})}function a(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var l=1,c=2,f=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(t,e){return!e.structural&&a(e)}),g.skip.push(function(t,e){return!e.structural&&!a(e)}),g.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),g.skip.push(function(t,e,n){return n.structural&&n.state===c&&!e.structural}),g.cancel.push(function(t,e,n){return n.structural&&e.structural}),g.cancel.push(function(t,e,n){return n.state===c&&e.structural}),g.cancel.push(function(t,e,n){if(n.structural)return!1;var i=e.addClass,o=e.removeClass,a=n.addClass,s=n.removeClass;return ee(i)&&ee(o)||ee(a)&&ee(s)?!1:r(i,s)||r(o,a)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(i,r,f,g,v,x,w,k,T){function S(){var t=!1;return function(e){t?e():r.$$postDigest(function(){t=!0,e()})}}function $(t,e){return m(t,e,{})}function C(t,e,n){var i=y(e),r=y(t),o=[],a=V[n];return a&&G(a,function(t){J.call(t.node,i)?o.push(t.callback):"leave"===n&&J.call(t.node,r)&&o.push(t.callback)}),o}function A(t,e,n){var i=u(e);return t.filter(function(t){var e=t.node===i&&(!n||t.callback===n);return!e})}function M(t,e){"close"!==t||e[0].parentNode||ie.off(e)}function I(t,e,n){function u(e,n,r,o){A(function(){var e=C(v,t,n);e.length?i(function(){G(e,function(e){e(t,r,o)}),M(r,t)}):M(r,t)}),e.progress(n,r,o)}function h(e){b(t,k),z(t,k),d(t,k),k.domOperation(),T.complete(!e)}var f,v,k=F(n);t=s(t),t&&(f=y(t),v=t.parent()),k=p(k);var T=new w,A=S();if(Y(k.addClass)&&(k.addClass=k.addClass.join(" ")),k.addClass&&!te(k.addClass)&&(k.addClass=null),Y(k.removeClass)&&(k.removeClass=k.removeClass.join(" ")),k.removeClass&&!te(k.removeClass)&&(k.removeClass=null),k.from&&!Q(k.from)&&(k.from=null),k.to&&!Q(k.to)&&(k.to=null),!f)return h(),T;var I=[f.className,k.addClass,k.removeClass].join(" ");if(!j(I))return h(),T;var O=["enter","move","leave"].indexOf(e)>=0,R=g[0].hidden,W=!K||R||U.get(f),V=!W&&N.get(f)||{},B=!!V.state;if(W||B&&V.state==l||(W=!P(t,v,e)),W)return R&&u(T,e,"start"),h(),R&&u(T,e,"close"),T;O&&D(t);var H={structural:O,element:t,event:e,addClass:k.addClass,removeClass:k.removeClass,close:h,options:k,runner:T};if(B){var q=o("skip",t,H,V);if(q)return V.state===c?(h(),T):(m(t,V,H),V.runner);var Z=o("cancel",t,H,V);if(Z)if(V.state===c)V.runner.end();else{if(!V.structural)return m(t,V,H),V.runner;V.close()}else{var X=o("join",t,H,V);if(X){if(V.state!==c)return _(t,O?e:null,k),e=H.event=V.event,k=m(t,V,H),V.runner;$(t,H)}}}else $(t,H);var J=H.structural;if(J||(J="animate"===H.event&&Object.keys(H.options.to||{}).length>0||a(H)),!J)return h(),E(t),T;var ee=(V.counter||0)+1;return H.counter=ee,L(t,l,H),r.$$postDigest(function(){var n=N.get(f),i=!n;n=n||{};var r=t.parent()||[],o=r.length>0&&("animate"===n.event||n.structural||a(n));if(i||n.counter!==ee||!o)return i&&(z(t,k),d(t,k)),(i||O&&n.event!==e)&&(k.domOperation(),T.end()),void(o||E(t));e=!n.structural&&a(n,!0)?"setClass":n.event,L(t,c);var s=x(t,e,n.options);T.setHost(s),u(T,e,"start",{}),s.done(function(n){h(!n);var i=N.get(f);i&&i.counter===ee&&E(y(t)),u(T,e,"close",{})})}),T}function D(t){var e=y(t),n=e.querySelectorAll("["+Ae+"]");G(n,function(t){var e=parseInt(t.getAttribute(Ae)),n=N.get(t);if(n)switch(e){case c:n.runner.end();case l:N.remove(t)}})}function E(t){var e=y(t);e.removeAttribute(Ae),N.remove(e)}function O(t,e){return y(t)===y(e)}function P(t,e){var n,i=ne(g[0].body),r=O(t,i)||"HTML"===t[0].nodeName,o=O(t,f),a=!1,s=U.get(y(t)),u=ne.data(t[0],Me);for(u&&(e=u),e=y(e);e&&(o||(o=O(e,f)),e.nodeType===R);){var l=N.get(e)||{};if(!a){var c=U.get(e);if(c===!0&&s!==!1){s=!0;break}c===!1&&(s=!1),a=l.structural}if(ee(n)||n===!0){var h=ne.data(e,H);Z(h)&&(n=h)}if(a&&n===!1)break;if(r||(r=O(e,i)),r&&o)break;e=o||!(u=ne.data(e,Me))?e.parentNode:y(u)}var p=(!a||n)&&s!==!0;return p&&o&&r}function L(t,e,n){n=n||{},n.state=e;var i=y(t);i.setAttribute(Ae,e);var r=N.get(i),o=r?q(r,n):n;N.put(i,o)}var N=new v,U=new v,K=null,W=r.$watch(function(){return 0===k.totalPendingRequests},function(t){t&&(W(),r.$$postDigest(function(){r.$$postDigest(function(){null===K&&(K=!0)})}))}),V=Object.create(null),B=e.classNameFilter(),j=B?function(t){return B.test(t)}:function(){return!0},z=h(T),J=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},ie={on:function(t,e,n){var i=u(e);V[t]=V[t]||[],V[t].push({node:i,callback:n}),ne(e).on("$destroy",function(){var r=N.get(i);r||ie.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||te(arguments[0])){var i=V[t];i&&(V[t]=1===arguments.length?null:A(i,e,n))}else{e=arguments[0];for(var r in V)V[r]=A(V[r],e)}},pin:function(t,e){n(X(t),"element","not an element"),n(X(e),"parentElement","not an element"),t.data(Me,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,I(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!K;else{var i=X(t);if(i){var r=y(t);1===n?e=!U.get(r):U.put(r,!e)}else e=K=!!t}return e}};return ie}]}],De=["$animateProvider",function(){function t(t,e){t.data(a,e)}function e(t){t.removeData(a)}function n(t){return t.data(a)}var r="ng-animate-ref",o=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,s,u,l,c,f){function g(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,i=n.parentNode;o.put(n,t);for(var a;i;){if(a=o.get(i)){a.processed||(a=e(a));break}i=i.parentNode}return(a||r).children.push(t),t}function n(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,a=[];for(e=0;e<i.length;e++){var s=i[e];0>=r&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,i.push(t)}),r--}return a.length&&n.push(a),n}var i,r={children:[]},o=new c;for(i=0;i<t.length;i++){var a=t[i];o.put(a.domNode,t[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<t.length;i++)e(t[i]);return n(r)}var m=[],v=h(a);return function(c,h,_){function b(t){var e="["+r+"]",n=t.hasAttribute(r)?[t]:t.querySelectorAll(e),i=[];return G(n,function(t){var e=t.getAttribute(r);e&&e.length&&i.push(t)}),i}function x(t){var e=[],n={};G(t,function(t,i){var o=t.element,a=y(o),s=t.event,u=["enter","move"].indexOf(s)>=0,l=t.structural?b(a):[];if(l.length){var c=u?"to":"from";G(l,function(t){var e=t.getAttribute(r);n[e]=n[e]||{},n[e][c]={animationID:i,element:ne(t)}})}else e.push(t)});var i={},o={};return G(n,function(n){var r=n.from,a=n.to;if(!r||!a){var s=r?r.animationID:a.animationID,u=s.toString();return void(i[u]||(i[u]=!0,e.push(t[s])))}var l=t[r.animationID],c=t[a.animationID],h=r.animationID.toString();if(!o[h]){var p=o[h]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:w(l.classes,c.classes),from:l,to:c,anchors:[]};p.classes.length?e.push(p):(e.push(l),e.push(c))}o[h].anchors.push({out:r.element,"in":a.element})}),e}function w(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}function k(t){for(var e=o.length-1;e>=0;e--){var n=o[e],i=u.get(n),r=i(t);if(r)return r}}function T(){c.addClass(j),D&&a.addClass(c,D),E&&(a.removeClass(c,E),E=null)}function S(t,e){function i(t){var i=n(t);i&&i.setHost(e)}t.from&&t.to?(i(t.from.element),i(t.to.element)):i(t.element)}function $(){var t=n(c);!t||"leave"===h&&_.$$domOperationFired||t.end()}function C(t){c.off("$destroy",$),e(c),v(c,_),d(c,_),_.domOperation(),D&&a.removeClass(c,D),c.removeClass(j),M.complete(!t)}_=p(_);var A=["enter","move","leave"].indexOf(h)>=0,M=new l({end:function(){C()},cancel:function(){C(!0)}});if(!o.length)return C(),M;t(c,M);var I=i(c.attr("class"),i(_.addClass,_.removeClass)),D=_.tempClasses;D&&(I+=" "+D,_.tempClasses=null);var E;return A&&(E="ng-"+h+B,a.addClass(c,E)),m.push({element:c,classes:I,event:h,structural:A,options:_,beforeStart:T,close:C}),c.on("$destroy",$),m.length>1?M:(s.$$postDigest(function(){var t=[];G(m,function(e){n(e.element)?t.push(e):e.close()}),m.length=0;var e=x(t),i=[];G(e,function(t){i.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,i=t.close,r=t.anchors?t.from.element||t.to.element:t.element;if(n(r)){var o=k(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){i(!t)}),S(t,a)}else i()}})}),f(g(i))}),M)}}]}],Ee=["$animate","$rootScope",function(t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,o){var a,s;e.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&t.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}];e.module("ngAnimate",[],function(){ie=e.noop,F=e.copy,q=e.extend,ne=e.element,G=e.forEach,Y=e.isArray,te=e.isString,Q=e.isObject,ee=e.isUndefined,Z=e.isDefined,J=e.isFunction,X=e.isElement}).directive("ngAnimateSwap",Ee).directive("ngAnimateChildren",ve).factory("$$rAFScheduler",me).provider("$$animateQueue",Ie).provider("$$animation",De).provider("$animateCss",Te).provider("$$animateCssDriver",Se).provider("$$animateJs",$e).provider("$$animateJsDriver",Ce)}(window,window.angular),/**
 * @license AngularJS v1.5.8
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(){function n(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?u(r[n]):r[n]]=!0;return i}function i(e,n){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e),y.innerHTML=e;var i=5;do{if(0===i)throw p("uinput","Failed to sanitize html because the input is unstable");i--,t.document.documentMode&&m(y),e=y.innerHTML,y.innerHTML=e}while(e!==y.innerHTML);for(var r=y.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),d(r.attributes));break;case 3:n.chars(r.textContent)}var o;if(!(o=r.firstChild)&&(1==r.nodeType&&n.end(r.nodeName.toLowerCase()),o=r.nextSibling,!o))for(;null==o&&(r=r.parentNode,r!==y);)o=r.nextSibling,1==r.nodeType&&n.end(r.nodeName.toLowerCase());r=o}for(;r=y.firstChild;)y.removeChild(r)}function d(t){for(var e={},n=0,i=t.length;i>n;n++){var r=t[n];e[r.name]=r.value}return e}function f(t){return t.replace(/&/g,"&amp;").replace(_,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(b,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(t,e){var n=!1,i=r(t,t.push);return{start:function(t,r){t=u(t),!n&&A[t]&&(n=t),n||M[t]!==!0||(i("<"),i(t),a(r,function(n,r){var o=u(r),a="img"===t&&"src"===o||"background"===o;O[o]!==!0||I[o]===!0&&!e(n,a)||(i(" "),i(r),i('="'),i(f(n)),i('"'))}),i(">"))},end:function(t){t=u(t),n||M[t]!==!0||x[t]===!0||(i("</"),i(t),i(">")),t==n&&(n=!1)},chars:function(t){n||i(f(t))}}}function m(e){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;r>i;i++){var o=n[i],a=o.name.toLowerCase();("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0))&&(e.removeAttributeNode(o),i--,r--)}var s=e.firstChild;s&&m(s),s=e.nextSibling,s&&m(s)}var v=!1;this.$get=["$$sanitizeUri",function(t){return v&&o(M,C),function(e){var n=[];return c(e,h(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return s(t)?(v=t,this):v},r=e.bind,o=e.extend,a=e.forEach,s=e.isDefined,u=e.lowercase,l=e.noop,c=i,h=g;var y,_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~ |!])/g,x=n("area,br,col,hr,img,wbr"),w=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=n("rp,rt"),T=o({},k,w),S=o({},w,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),$=o({},k,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=n("script,style"),M=o({},x,S,$,T),I=n("background,cite,href,longdesc,src,xlink:href"),D=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),E=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),O=o({},I,E,D);!function(t){var e;if(!t.document||!t.document.implementation)throw p("noinert","Can't create an inert html document");e=t.document.implementation.createHTMLDocument("inert");var n=e.documentElement||e.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)y=i[0];else{var r=e.createElement("html");y=e.createElement("body"),r.appendChild(y),e.appendChild(r)}}(t)}function i(t){var e=[],n=h(e,l);return n.chars(t),e.join("")}var r,o,a,s,u,l,c,h,p=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",n),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=e.$$minErr("linky"),a=e.isDefined,s=e.isFunction,u=e.isObject,l=e.isString;return function(e,c,h){function p(t){t&&_.push(i(t))}function d(t,e){var n,i=v(t);_.push("<a ");for(n in i)_.push(n+'="'+i[n]+'" ');!a(c)||"target"in i||_.push('target="',c,'" '),_.push('href="',t.replace(/"/g,"&quot;"),'">'),p(e),_.push("</a>")}if(null==e||""===e)return e;if(!l(e))throw o("notstring","Expected string but received: {0}",e);for(var f,g,m,v=s(h)?h:u(h)?function(){return h}:function(){return{}},y=e,_=[];f=y.match(n);)g=f[0],f[2]||f[4]||(g=(f[3]?"http://":"mailto:")+g),m=f.index,p(y.substr(0,m)),d(g,f[0].replace(r,"")),y=y.substring(m+f[0].length);return p(y),t(_.join(""))}}])}(window,window.angular),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echarts=e():t.echarts=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1),n(99),n(133),n(138),n(147),n(151),n(161),n(182),n(194),n(215),n(219),n(223),n(238),n(244),n(251),n(257),n(261),n(269),n(112),n(273),n(279),n(283),n(294),n(224),n(297),n(303),n(315),n(316),n(330),n(345),n(351),n(354),n(357),n(366),n(379)},function(t,e,n){function i(t){return function(e,n,i){e=e&&e.toLowerCase(),D.prototype[t].call(this,e,n,i)}}function r(){D.call(this)}function o(t,e,n){function i(t,e){return t.prio-e.prio}n=n||{},"string"==typeof e&&(e=J[e]),this.id,this.group,this._dom=t,this._zr=A.init(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio}),this._theme=M.clone(e),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new b(this),this._coordSysMgr=new x,D.call(this),this._messageCenter=new r,this._initEvents(),this.resize=M.bind(this.resize,this),this._pendingActions=[],E(X,i),E(Y,i),this._zr.animation.on("frame",this._onframe,this)}function a(t,e){var n=this._model;n&&n.eachComponent({mainType:"series",query:e},function(i){var r=this._chartsMap[i.__viewId];r&&r.__alive&&r[t](i,n,this._api,e)},this)}function s(t,e,n){var i=this._api;O(this._componentsViews,function(r){var o=r.__model;r[t](o,e,i,n),m(o,r)},this),e.eachSeries(function(r){var o=this._chartsMap[r.__viewId];o[t](r,e,i,n),m(r,o),g(r,o)},this),f(this._zr,e)}function u(t,e){for(var n="component"===t,i=n?this._componentsViews:this._chartsViews,r=n?this._componentsMap:this._chartsMap,o=this._zr,a=0;a<i.length;a++)i[a].__alive=!1;e[n?"eachComponent":"eachSeries"](function(t,a){if(n){if("series"===t)return}else a=t;var s=a.id+"_"+a.type,u=r[s];if(!u){var l=k.parseClassType(a.type),c=n?S.getClass(l.main,l.sub):$.getClass(l.sub);if(!c)return;u=new c,u.init(e,this._api),r[s]=u,i.push(u),o.add(u.group)}a.__viewId=s,u.__alive=!0,u.__id=s,u.__model=a},this);for(var a=0;a<i.length;){var s=i[a];s.__alive?a++:(o.remove(s.group),s.dispose(e,this._api),i.splice(a,1),delete r[s.__id])}}function l(t,e){O(Y,function(n){n.func(t,e)})}function c(t){var e={};t.eachSeries(function(t){var n=t.get("stack"),i=t.getData();if(n&&"list"===i.type){var r=e[n];r&&(i.stackedOn=r),e[n]=i}})}function h(t,e){var n=this._api;O(X,function(i){i.isLayout&&i.func(t,n,e)})}function p(t,e){var n=this._api;t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()}),O(X,function(i){i.func(t,n,e)})}function d(t,e){var n=this._api;O(this._componentsViews,function(i){var r=i.__model;i.render(r,t,n,e),m(r,i)},this),O(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(i){var r=this._chartsMap[i.__viewId];r.__alive=!0,r.render(i,t,n,e),r.group.silent=!!i.get("silent"),m(i,r),g(i,r)},this),f(this._zr,t),O(this._chartsViews,function(e){e.__alive||e.remove(t,n)},this)}function f(t,e){var n=t.storage,i=0;n.traverse(function(t){t.isGroup||i++}),i>e.get("hoverLayerThreshold")&&!y.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function g(t,e){var n=0;e.group.traverse(function(t){"group"===t.type||t.ignore||n++});var i=+t.get("progressive"),r=n>t.get("progressiveThreshold")&&i&&!y.node;r&&e.group.traverse(function(t){t.isGroup||(t.progressive=r?Math.floor(n++/i):-1,r&&t.stopAnimation(!0))});var o=t.get("blendMode")||null;!y.canvasSupported&&o&&"source-over"!==o&&console.warn("Only canvas support blendMode"),e.group.traverse(function(t){t.isGroup||t.setStyle("blend",o)})}function m(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))})}function v(t){function e(t,e){for(var n=0;n<t.length;n++){var i=t[n];i[o]=e}}var n=0,i=1,r=2,o="__connectUpdateStatus";M.each(G,function(a,s){t._messageCenter.on(s,function(a){if(ee[t.group]&&t[o]!==n){var s=t.makeActionFromEvent(a),u=[];for(var l in te){var c=te[l];c!==t&&c.group===t.group&&u.push(c)}e(u,n),O(u,function(t){t[o]!==i&&t.dispatchAction(s)}),e(u,r)}})})}/*!
	 * ECharts, a javascript interactive chart library.
	 *
	 * Copyright (c) 2015, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
	 */
var y=n(2),_=n(3),b=n(25),x=n(26),w=n(27),k=n(19),T=n(28),S=n(29),$=n(42),C=n(43),A=n(81),M=n(4),I=n(39),D=n(33),E=n(85),O=M.each,P=1e3,L=5e3,N=1e3,R=2e3,U=3e3,K=4e3,W=5e3,V="__flag_in_main_process",B="_hasGradientOrPatternBg",j="_optionUpdated";r.prototype.on=i("on"),r.prototype.off=i("off"),r.prototype.one=i("one"),M.mixin(r,D);var H=o.prototype;H._onframe=function(){this[j]&&(this[V]=!0,z.prepareAndUpdate.call(this),this[V]=!1,this[j]=!1)},H.getDom=function(){return this._dom},H.getZr=function(){return this._zr},H.setOption=function(t,e,n){if(M.assert(!this[V],"`setOption` should not be called during main process."),this[V]=!0,!this._model||e){var i=new w(this._api),r=this._theme,o=this._model=new _(null,null,r,i);o.init(null,null,r,i)}this._model.setOption(t,Z),n?this[j]=!0:(z.prepareAndUpdate.call(this),this._zr.refreshImmediately(),this[j]=!1),this[V]=!1,this._flushPendingActions()},H.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},H.getModel=function(){return this._model},H.getOption=function(){return this._model&&this._model.getOption()},H.getWidth=function(){return this._zr.getWidth()},H.getHeight=function(){return this._zr.getHeight()},H.getRenderedCanvas=function(t){if(y.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,n=e.storage.getDisplayList();return M.each(n,function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},H.getDataURL=function(t){t=t||{};var e=t.excludeComponents,n=this._model,i=[],r=this;O(e,function(t){n.eachComponent({mainType:t},function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)})});var o=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return O(i,function(t){t.group.ignore=!1}),o},H.getConnectedDataURL=function(t){if(y.canvasSupported){var e=this.group,n=Math.min,i=Math.max,r=1/0;if(ee[e]){var o=r,a=r,s=-r,u=-r,l=[],c=t&&t.pixelRatio||1;for(var h in te){var p=te[h];if(p.group===e){var d=p.getRenderedCanvas(M.clone(t)),f=p.getDom().getBoundingClientRect();o=n(f.left,o),a=n(f.top,a),s=i(f.right,s),u=i(f.bottom,u),l.push({dom:d,left:f.left,top:f.top})}}o*=c,a*=c,s*=c,u*=c;var g=s-o,m=u-a,v=M.createCanvas();v.width=g,v.height=m;var _=A.init(v);return O(l,function(t){var e=new C.Image({style:{x:t.left*c-o,y:t.top*c-a,image:t.dom}});_.add(e)}),_.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}};var z={update:function(t){var e=this._model,n=this._api,i=this._coordSysMgr,r=this._zr;if(e){e.restoreData(),i.create(this._model,this._api),l.call(this,e,n),c.call(this,e),i.update(e,n),p.call(this,e,t),d.call(this,e,t);var o=e.get("backgroundColor")||"transparent",a=r.painter;if(a.isSingleCanvas&&a.isSingleCanvas())r.configLayer(0,{clearColor:o});else{if(!y.canvasSupported){var s=I.parse(o);o=I.stringify(s,"rgb"),0===s[3]&&(o="transparent")}o.colorStops||o.image?(r.configLayer(0,{clearColor:o}),this[B]=!0,this._dom.style.background="transparent"):(this[B]&&r.configLayer(0,{clearColor:null}),this[B]=!1,this._dom.style.background=o)}}},updateView:function(t){var e=this._model;e&&(e.eachSeries(function(t){t.getData().clearAllVisual()}),p.call(this,e,t),s.call(this,"updateView",e,t))},updateVisual:function(t){var e=this._model;e&&(e.eachSeries(function(t){t.getData().clearAllVisual()}),p.call(this,e,t),s.call(this,"updateVisual",e,t))},updateLayout:function(t){var e=this._model;e&&(h.call(this,e,t),s.call(this,"updateLayout",e,t))},highlight:function(t){a.call(this,"highlight",t)},downplay:function(t){a.call(this,"downplay",t)},prepareAndUpdate:function(t){var e=this._model;u.call(this,"component",e),u.call(this,"chart",e),z.update.call(this,t)}};H.resize=function(){M.assert(!this[V],"`resize` should not be called during main process."),this[V]=!0,this._zr.resize();var t=this._model&&this._model.resetOption("media");z[t?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize(),this[V]=!1,this._flushPendingActions()},H.showLoading=function(t,e){if(M.isObject(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),!Q[t])return void console.warn("Loading effects "+t+" not exists.");var n=Q[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)},H.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},H.makeActionFromEvent=function(t){var e=M.extend({},t);return e.type=G[t.type],e},H.dispatchAction=function(t,e){var n=q[t.type];if(n){var i=n.actionInfo,r=i.update||"update";if(this[V])return void this._pendingActions.push(t);this[V]=!0;var o=[t],a=!1;t.batch&&(a=!0,o=M.map(t.batch,function(e){return e=M.defaults(M.extend({},e),t),e.batch=null,e}));for(var s,u=[],l="highlight"===t.type||"downplay"===t.type,c=0;c<o.length;c++){var h=o[c];s=n.action(h,this._model),s=s||M.extend({},h),s.type=i.event||s.type,u.push(s),l&&z[r].call(this,h)}"none"===r||l||(this[j]?(z.prepareAndUpdate.call(this,t),this[j]=!1):z[r].call(this,t)),s=a?{type:i.event||t.type,batch:u}:u[0],this[V]=!1,!e&&this._messageCenter.trigger(s.type,s),this._flushPendingActions()}},H._flushPendingActions=function(){for(var t=this._pendingActions;t.length;){var e=t.shift();this.dispatchAction(e)}},H.on=i("on"),H.off=i("off"),H.one=i("one");var F=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout"];H._initEvents=function(){O(F,function(t){this._zr.on(t,function(e){var n=this.getModel(),i=e.target;if(i&&null!=i.dataIndex){var r=i.dataModel||n.getSeriesByIndex(i.seriesIndex),o=r&&r.getDataParams(i.dataIndex,i.dataType)||{};o.event=e,o.type=t,this.trigger(t,o)}else i&&i.eventData&&this.trigger(t,i.eventData)},this)},this),O(G,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},H.isDisposed=function(){return this._disposed},H.clear=function(){this.setOption({series:[]},!0)},H.dispose=function(){if(this._disposed)return void console.warn("Instance "+this.id+" has been disposed");this._disposed=!0;var t=this._api,e=this._model;O(this._componentsViews,function(n){n.dispose(e,t)}),O(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete te[this.id]},M.mixin(o,D);var q=[],G={},Y=[],Z=[],X=[],J={},Q={},te={},ee={},ne=new Date-0,ie=new Date-0,re="_echarts_instance_",oe={version:"3.2.3",dependencies:{zrender:"3.1.3"}};oe.init=function(t,e,n){if(A.version.replace(".","")-0<oe.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+A.version+" is too old for ECharts "+oe.version+". Current version need ZRender "+oe.dependencies.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.");!M.isDom(t)||"CANVAS"===t.nodeName.toUpperCase()||t.clientWidth&&t.clientHeight||console.warn("Can't get dom width or height");var i=new o(t,e,n);return i.id="ec_"+ne++,te[i.id]=i,t.setAttribute&&t.setAttribute(re,i.id),v(i),i},oe.connect=function(t){if(M.isArray(t)){var e=t;t=null,M.each(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+ie++,M.each(e,function(e){e.group=t})}return ee[t]=!0,t},oe.disConnect=function(t){ee[t]=!1},oe.dispose=function(t){M.isDom(t)?t=oe.getInstanceByDom(t):"string"==typeof t&&(t=te[t]),t instanceof o&&!t.isDisposed()&&t.dispose()},oe.getInstanceByDom=function(t){var e=t.getAttribute(re);return te[e]},oe.getInstanceById=function(t){return te[t]},oe.registerTheme=function(t,e){J[t]=e},oe.registerPreprocessor=function(t){Z.push(t)},oe.registerProcessor=function(t,e){if("function"==typeof t&&(e=t,t=P),isNaN(t))throw new Error("Unkown processor priority");Y.push({prio:t,func:e})},oe.registerAction=function(t,e,n){"function"==typeof e&&(n=e,e="");var i=M.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,q[i]||(q[i]={action:n,actionInfo:t}),G[e]=i},oe.registerCoordinateSystem=function(t,e){x.register(t,e)},oe.registerLayout=function(t,e){if("function"==typeof t&&(e=t,t=N),isNaN(t))throw new Error("Unkown layout priority");X.push({prio:t,func:e,isLayout:!0})},oe.registerVisual=function(t,e){if("function"==typeof t&&(e=t,t=U),isNaN(t))throw new Error("Unkown visual priority");X.push({prio:t,func:e})},oe.registerLoading=function(t,e){Q[t]=e};var ae=k.parseClassType;oe.extendComponentModel=function(t,e){var n=k;if(e){var i=ae(e);n=k.getClass(i.main,i.sub,!0)}return n.extend(t)},oe.extendComponentView=function(t,e){var n=S;if(e){var i=ae(e);n=S.getClass(i.main,i.sub,!0)}return n.extend(t)},oe.extendSeriesModel=function(t,e){var n=T;if(e){e="series."+e.replace("series.","");var i=ae(e);n=T.getClass(i.main,i.sub,!0)}return n.extend(t)},oe.extendChartView=function(t,e){var n=$;if(e){e.replace("series.","");var i=ae(e);n=$.getClass(i.main,!0)}return n.extend(t)},oe.setCanvasCreator=function(t){M.createCanvas=t},oe.registerVisual(R,n(93)),oe.registerPreprocessor(n(94)),oe.registerLoading("default",n(96)),oe.registerAction({type:"highlight",event:"highlight",update:"highlight"},M.noop),oe.registerAction({type:"downplay",event:"downplay",update:"downplay"},M.noop),oe.List=n(97),oe.Model=n(12),oe.graphic=n(43),oe.number=n(7),oe.format=n(6),oe.matrix=n(11),oe.vector=n(10),oe.color=n(39),oe.util={},O(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults"],function(t){oe.util[t]=M[t]}),oe.PRIORITY={PROCESSOR:{FILTER:P,STATISTIC:L},VISUAL:{LAYOUT:N,GLOBAL:R,CHART:U,COMPONENT:K,BRUSH:W}},t.exports=oe},function(t){// (c) 2010-2013 Thomas Fuchs
// Zepto.js may be freely distributed under the MIT license.
function e(t){var e={},n={},i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/);return i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),r&&(n.ie=!0,n.version=r[1]),o&&(n.edge=!0,n.version=o[1]),{browser:n,os:e,node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=10)}}var n={};n="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:e(navigator.userAgent),t.exports=n},function(t,e,n){function i(t,e){for(var n in e)b.hasClass(n)||("object"==typeof e[n]?t[n]=t[n]?h.merge(t[n],e[n],!1):h.clone(e[n]):null==t[n]&&(t[n]=e[n]))}function r(t){t=t,this.option={},this.option[w]=1,this._componentsMap={},this._seriesIndices=null,i(t,this._theme.option),h.merge(t,x,!1),this.mergeOption(t)}function o(t,e){h.isArray(e)||(e=e?[e]:[]);var n={};return f(e,function(e){n[e]=(t[e]||[]).slice()}),n}function a(t,e){var n={};f(e,function(t){var e=t.exist;e&&(n[e.id]=t)}),f(e,function(e){var i=e.option;if(h.assert(!i||null==i.id||!n[i.id]||n[i.id]===e,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&(n[i.id]=e),_(i)){var r=s(t,i,e.exist);e.keyInfo={mainType:t,subType:r}}}),f(e,function(t){var e=t.exist,i=t.option,r=t.keyInfo;if(_(i)){if(r.name=null!=i.name?i.name+"":e?e.name:"\x00-",e)r.id=e.id;else if(null!=i.id)r.id=i.id+"";else{var o=0;do r.id="\x00"+r.name+"\x00"+o++;while(n[r.id])}n[r.id]=t}})}function s(t,e,n){var i=e.type?e.type:n?n.subType:b.determineSubType(t,e);return i}function u(t){return m(t,function(t){return t.componentIndex})||[]}function l(t,e){return e.hasOwnProperty("subType")?g(t,function(t){return t.subType===e.subType}):t}function c(t){if(!t._seriesIndices)throw new Error("Series has not been initialized yet.")}var h=n(4),p=n(5),d=n(12),f=h.each,g=h.filter,m=h.map,v=h.isArray,y=h.indexOf,_=h.isObject,b=n(19),x=n(23),w="\x00_ec_inner",k=d.extend({constructor:k,init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new d(n),this._optionManager=i},setOption:function(t,e){h.assert(!(w in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption()},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var i=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):r.call(this,i),e=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var a=n.getMediaOption(this,this._api);a.length&&f(a,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){function e(e,r){var s=p.normalizeToArray(t[e]),l=p.mappingToExists(i[e],s);a(e,l);var c=o(i,r);n[e]=[],i[e]=[],f(l,function(t,r){var o=t.exist,a=t.option;if(h.assert(_(a)||o,"Empty component definition"),a){var s=b.getClass(e,t.keyInfo.subType,!0);if(o&&o instanceof s)o.mergeOption(a,this),o.optionUpdated(a,!1);else{var u=h.extend({dependentModels:c,componentIndex:r},t.keyInfo);o=new s(a,this,this,u),o.init(a,this,this,u),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);i[e][r]=o,n[e][r]=o.option},this),"series"===e&&(this._seriesIndices=u(i.series))}var n=this.option,i=this._componentsMap,r=[];f(t,function(t,e){null!=t&&(b.hasClass(e)?r.push(e):n[e]=null==n[e]?h.clone(t):h.merge(n[e],t,!0))}),b.topologicalTravel(r,b.getAllClassMainTypes(),e,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var t=h.clone(this.option);return f(t,function(e,n){if(b.hasClass(n)){for(var e=p.normalizeToArray(e),i=e.length-1;i>=0;i--)p.isIdInner(e[i])&&e.splice(i,1);t[n]=e}}),delete t[w],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap[t];return n?n[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n=t.index,i=t.id,r=t.name,o=this._componentsMap[e];if(!o||!o.length)return[];var a;if(null!=n)v(n)||(n=[n]),a=g(m(n,function(t){return o[t]}),function(t){return!!t});else if(null!=i){var s=v(i);a=g(o,function(t){return s&&y(i,t.id)>=0||!s&&t.id===i})}else if(null!=r){var u=v(r);a=g(o,function(t){return u&&y(r,t.name)>=0||!u&&t.name===r})}else a=o;return l(a,t)},findComponents:function(t){function e(t){var e=r+"Index",n=r+"Id",i=r+"Name";return t&&(t.hasOwnProperty(e)||t.hasOwnProperty(n)||t.hasOwnProperty(i))?{mainType:r,index:t[e],id:t[n],name:t[i]}:null}function n(e){return t.filter?g(e,t.filter):e}var i=t.query,r=t.mainType,o=e(i),a=o?this.queryComponents(o):this._componentsMap[r];return n(l(a,t))},eachComponent:function(t,e,n){var i=this._componentsMap;if("function"==typeof t)n=e,e=t,f(i,function(t,i){f(t,function(t,r){e.call(n,i,t,r)})});else if(h.isString(t))f(i[t],e,n);else if(_(t)){var r=this.findComponents(t);f(r,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.series;return g(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.series[t]},getSeriesByType:function(t){var e=this._componentsMap.series;return g(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(t,e){c(this),f(this._seriesIndices,function(n){var i=this._componentsMap.series[n];t.call(e,i,n)},this)},eachRawSeries:function(t,e){f(this._componentsMap.series,t,e)},eachSeriesByType:function(t,e,n){c(this),f(this._seriesIndices,function(i){var r=this._componentsMap.series[i];r.subType===t&&e.call(n,r,i)},this)},eachRawSeriesByType:function(t,e,n){return f(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return c(this),h.indexOf(this._seriesIndices,t.componentIndex)<0},filterSeries:function(t,e){c(this);var n=g(this._componentsMap.series,t,e);this._seriesIndices=u(n)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=u(t.series);var e=[];f(t,function(t,n){e.push(n)}),b.topologicalTravel(e,b.getAllClassMainTypes(),function(e){f(t[e],function(t){t.restoreData()})})}});h.mixin(k,n(24)),t.exports=k},function(t){function e(t){if("object"==typeof t&&null!==t){var n=t;if(t instanceof Array){n=[];for(var i=0,r=t.length;r>i;i++)n[i]=e(t[i])}else if(!k(t)&&!T(t)){n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o]))}return n}return t}function n(t,i,r){if(!w(i)||!w(t))return r?e(i):t;for(var o in i)if(i.hasOwnProperty(o)){var a=t[o],s=i[o];!w(s)||!w(a)||_(s)||_(a)||T(s)||T(a)||k(s)||k(a)?!r&&o in t||(t[o]=e(i[o],!0)):n(a,s,r)}return t}function i(t,e){for(var i=t[0],r=1,o=t.length;o>r;r++)i=n(i,t[r],e);return i}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function a(){return document.createElement("canvas")}function s(){return A||(A=R.createCanvas().getContext("2d")),A}function u(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1}function l(t,e){function n(){}var i=t.prototype;n.prototype=e.prototype,t.prototype=new n;for(var r in i)t.prototype[r]=i[r];t.prototype.constructor=t,t.superClass=e}function c(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,o(t,e,n)}function h(t){return t?"string"==typeof t?!1:"number"==typeof t.length:void 0}function p(t,e,n){if(t&&e)if(t.forEach&&t.forEach===E)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;r>i;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function d(t,e,n){if(t&&e){if(t.map&&t.map===L)return t.map(e,n);for(var i=[],r=0,o=t.length;o>r;r++)i.push(e.call(n,t[r],r,t));return i}}function f(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===N)return t.reduce(e,n,i);for(var r=0,o=t.length;o>r;r++)n=e.call(i,n,t[r],r,t);return n}}function g(t,e,n){if(t&&e){if(t.filter&&t.filter===O)return t.filter(e,n);for(var i=[],r=0,o=t.length;o>r;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}}function m(t,e,n){if(t&&e)for(var i=0,r=t.length;r>i;i++)if(e.call(n,t[i],i,t))return t[i]}function v(t,e){var n=P.call(arguments,2);return function(){return t.apply(e,n.concat(P.call(arguments)))}}function y(t){var e=P.call(arguments,1);return function(){return t.apply(this,e.concat(P.call(arguments)))}}function _(t){return"[object Array]"===I.call(t)}function b(t){return"function"==typeof t}function x(t){return"[object String]"===I.call(t)}function w(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function k(t){return!!M[I.call(t)]}function T(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}function S(){for(var t=0,e=arguments.length;e>t;t++)if(null!=arguments[t])return arguments[t]}function $(){return Function.call.apply(P,arguments)}function C(t,e){if(!t)throw new Error(e)}var A,M={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1},I=Object.prototype.toString,D=Array.prototype,E=D.forEach,O=D.filter,P=D.slice,L=D.map,N=D.reduce,R={inherits:l,mixin:c,clone:e,merge:n,mergeAll:i,extend:r,defaults:o,getContext:s,createCanvas:a,indexOf:u,slice:$,find:m,isArrayLike:h,each:p,map:d,reduce:f,filter:g,bind:v,curry:y,isArray:_,isString:x,isObject:w,isFunction:b,isBuildInObject:k,isDom:T,retrieve:S,assert:C,noop:function(){}};t.exports=R},function(t,e,n){var i=n(6),r=n(7),o=n(12),a=n(4),s={};s.normalizeToArray=function(t){return t instanceof Array?t:null==t?[]:[t]},s.defaultEmphasis=function(t,e){if(t){var n=t.emphasis=t.emphasis||{},i=t.normal=t.normal||{};a.each(e,function(t){var e=a.retrieve(n[t],i[t]);null!=e&&(n[t]=e)})}},s.LABEL_OPTIONS=["position","show","textStyle","distance","formatter"],s.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},s.isDataItemOption=function(t){return a.isObject(t)&&!(t instanceof Array)},s.converDataValue=function(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"!==n||isFinite(t)||null==t||"-"===t||(t=+r.parseDate(t)),null==t||""===t?0/0:+t)},s.createDataFormatModel=function(t,e){var n=new o;return a.mixin(n,s.dataFormatMixin),n.seriesIndex=e.seriesIndex,n.name=e.name||"",n.mainType=e.mainType,n.subType=e.subType,n.getData=function(){return t},n},s.dataFormatMixin={getDataParams:function(t,e){var n=this.getData(e),i=this.seriesIndex,r=this.name,o=this.getRawValue(t,e),a=n.getRawIndex(t),s=n.getName(t,!0),u=n.getRawDataItem(t);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:i,seriesName:r,name:s,dataIndex:a,data:u,dataType:e,value:o,color:n.getItemVisual(t,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,r){e=e||"normal";var o=this.getData(n),a=o.getItemModel(t),s=this.getDataParams(t,n);null!=r&&s.value instanceof Array&&(s.value=s.value[r]);var u=a.get(["label",e,"formatter"]);return"function"==typeof u?(s.status=e,u(s)):"string"==typeof u?i.formatTpl(u,s):void 0},getRawValue:function(t,e){var n=this.getData(e),i=n.getRawDataItem(t);return null!=i?!a.isObject(i)||i instanceof Array?i:i.value:void 0},formatTooltip:a.noop},s.mappingToExists=function(t,e){e=(e||[]).slice();var n=a.map(t||[],function(t){return{exist:t}});return a.each(e,function(t,i){if(a.isObject(t)){for(var r=0;r<n.length;r++)if(!n[r].option&&null!=t.id&&n[r].exist.id===t.id+"")return n[r].option=t,void(e[i]=null);for(var r=0;r<n.length;r++){var o=n[r].exist;if(!(n[r].option||null!=o.id&&null!=t.id||null==t.name||s.isIdInner(t)||s.isIdInner(o)||o.name!==t.name+""))return n[r].option=t,void(e[i]=null)}}}),a.each(e,function(t){if(a.isObject(t)){for(var e=0;e<n.length;e++){var i=n[e].exist;if(!n[e].option&&!s.isIdInner(i)&&null==t.id){n[e].option=t;break}}e>=n.length&&n.push({option:t})}}),n},s.isIdInner=function(t){return a.isObject(t)&&t.id&&0===(t.id+"").indexOf("\x00_ec_\x00")},s.compressBatches=function(t,e){function n(t,e,n){for(var i=0,r=t.length;r>i;i++)for(var o=t[i].seriesId,a=s.normalizeToArray(t[i].dataIndex),u=n&&n[o],l=0,c=a.length;c>l;l++){var h=a[l];u&&u[h]?u[h]=null:(e[o]||(e[o]={}))[h]=1}}function i(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var o=i(t[r],!0);o.length&&n.push({seriesId:r,dataIndex:o})}return n}var r={},o={};return n(t||[],r),n(e||[],o,r),[i(r),i(o)]},t.exports=s},function(t,e,n){var i=n(4),r=n(7),o=n(8),a={};a.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))},a.toCamelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},a.normalizeCssArray=function(t){var e=t.length;return"number"==typeof t?[t,t,t,t]:2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},a.encodeHTML=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};var s=["a","b","c","d","e","f","g"],u=function(t,e){return"{"+t+(null==e?"":e)+"}"};a.formatTpl=function(t,e){i.isArray(e)||(e=[e]);var n=e.length;if(!n)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=s[o];t=t.replace(u(a),u(a,0))}for(var l=0;n>l;l++)for(var c=0;c<r.length;c++)t=t.replace(u(s[c],l),e[l][r[c]]);return t};var l=function(t){return 10>t?"0"+t:t};a.formatTime=function(t,e){("week"===t||"month"===t||"quarter"===t||"half-year"===t||"year"===t)&&(t="MM-dd\nyyyy");var n=r.parseDate(e),i=n.getFullYear(),o=n.getMonth()+1,a=n.getDate(),s=n.getHours(),u=n.getMinutes(),c=n.getSeconds();return t=t.replace("MM",l(o)).toLowerCase().replace("yyyy",i).replace("yy",i%100).replace("dd",l(a)).replace("d",a).replace("hh",l(s)).replace("h",s).replace("mm",l(u)).replace("m",u).replace("ss",l(c)).replace("s",c)},a.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},a.truncateText=o.truncateText,t.exports=a},function(t){function e(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}var n={},i=1e-4;n.linearMap=function(t,e,n,i){var r=e[1]-e[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*o+n[0]},n.parsePercent=function(t,n){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?e(t).match(/%$/)?parseFloat(t)/100*n:parseFloat(t):null==t?0/0:+t},n.round=function(t,e){return null==e&&(e=10),+(+t).toFixed(e)},n.asc=function(t){return t.sort(function(t,e){return t-e}),t},n.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},n.getPrecisionSafe=function(t){var e=t.toString(),n=e.indexOf(".");return 0>n?0:e.length-1-n},n.getPixelPrecision=function(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i);return Math.max(-r+o,0)},n.MAX_SAFE_INTEGER=9007199254740991,n.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},n.isRadianAroundZero=function(t){return t>-i&&i>t},n.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=new Date(t);return isNaN(+e)&&(e=new Date(new Date(t.replace(/-/g,"/"))-new Date("1970/01/01"))),e}return new Date(Math.round(t))},n.quantity=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},n.nice=function(t,e){var i,r=n.quantity(t),o=t/r;return i=e?1.5>o?1:2.5>o?2:4>o?3:7>o?5:10:1>o?1:2>o?2:3>o?3:5>o?5:10,i*r},t.exports=n},function(t,e,n){function i(t,e){var n=t+":"+e;if(u[n])return u[n];for(var i=(t+"").split("\n"),r=0,o=0,a=i.length;a>o;o++)r=Math.max(f.measureText(i[o],e).width,r);return l>c&&(l=0,u={}),l++,u[n]=r,r}function r(t,e,n,r){var o=((t||"")+"").split("\n").length,a=i(t,e),s=i("",e),u=o*s,l=new p(0,0,a,u);switch(l.lineHeight=s,r){case"bottom":case"alphabetic":l.y-=s;break;case"middle":l.y-=s/2}switch(n){case"end":case"right":l.x-=l.width;break;case"center":l.x-=l.width/2}return l}function o(t,e,n,i){var r=e.x,o=e.y,a=e.height,s=e.width,u=n.height,l=a/2-u/2,c="left";switch(t){case"left":r-=i,o+=l,c="right";break;case"right":r+=i+s,o+=l,c="left";break;case"top":r+=s/2,o-=i+u,c="center";break;case"bottom":r+=s/2,o+=a+i,c="center";break;case"inside":r+=s/2,o+=l,c="center";break;case"insideLeft":r+=i,o+=l,c="left";break;case"insideRight":r+=s-i,o+=l,c="right";break;case"insideTop":r+=s/2,o+=i,c="center";break;case"insideBottom":r+=s/2,o+=a-u-i,c="center";break;case"insideTopLeft":r+=i,o+=i,c="left";break;case"insideTopRight":r+=s-i,o+=i,c="right";break;case"insideBottomLeft":r+=i,o+=a-u-i;break;case"insideBottomRight":r+=s-i,o+=a-u-i,c="right"}return{x:r,y:o,textAlign:c,textBaseline:"top"}}function a(t,e,n,r,o){if(!e)return"";o=o||{},r=d(r,"...");for(var a=d(o.maxIterations,2),u=d(o.minChar,0),l=i("",n),c=i("a",n),h=d(o.placeholder,""),p=e=Math.max(0,e-1),f=0;u>f&&p>=c;f++)p-=c;var g=i(r);g>p&&(r="",g=0),p=e-g;for(var m=(t+"").split("\n"),f=0,v=m.length;v>f;f++){var y=m[f],_=i(y,n);if(!(e>=_)){for(var b=0;;b++){if(p>=_||b>=a){y+=r;break}var x=0===b?s(y,p,c,l):_>0?Math.floor(y.length*p/_):0;y=y.substr(0,x),_=i(y,n)}""===y&&(y=h),m[f]=y}}return m.join("\n")}function s(t,e,n,i){for(var r=0,o=0,a=t.length;a>o&&e>r;o++){var s=t.charCodeAt(o);r+=s>=0&&127>=s?n:i}return o}var u={},l=0,c=5e3,h=n(4),p=n(9),d=h.retrieve,f={getWidth:i,getBoundingRect:r,adjustTextPositionOnRect:o,truncateText:a,measureText:function(t,e){var n=h.getContext();return n.font=e||"12px sans-serif",n.measureText(t)}};t.exports=f},function(t,e,n){"use strict";function i(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}var r=n(10),o=n(11),a=r.applyTransform,s=Math.min,u=Math.abs,l=Math.max;i.prototype={constructor:i,union:function(t){var e=s(t.x,this.x),n=s(t.y,this.y);this.width=l(t.x+t.width,this.x+this.width)-e,this.height=l(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[];return function(n){n&&(t[0]=this.x,t[1]=this.y,e[0]=this.x+this.width,e[1]=this.y+this.height,a(t,t,n),a(e,e,n),this.x=s(t[0],e[0]),this.y=s(t[1],e[1]),this.width=u(e[0]-t[0]),this.height=u(e[1]-t[1]))}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,i=t.height/e.height,r=o.create();return o.translate(r,r,[-e.x,-e.y]),o.scale(r,r,[n,i]),o.translate(r,r,[t.x,t.y]),r},intersect:function(t){var e=this,n=e.x,i=e.x+e.width,r=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,u=t.y,l=t.y+t.height;return!(a>i||n>s||u>o||r>l)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new i(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},t.exports=i},function(t){var e="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(t,n){var i=new e(2);return null==t&&(t=0),null==n&&(n=0),i[0]=t,i[1]=n,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var n=new e(2);return n[0]=t[0],n[1]=t[1],n},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},scaleAndAdd:function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},normalize:function(t,e){var i=n.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t},applyTransform:function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,t.exports=n},function(t){var e="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(){var t=new e(6);return n.identity(t),t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t},translate:function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},rotate:function(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=i*c+a*l,t[1]=-i*l+a*c,t[2]=r*c+s*l,t[3]=-r*l+c*s,t[4]=c*o+l*u,t[5]=c*u-l*o,t},scale:function(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t},invert:function(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],u=n*a-o*i;return u?(u=1/u,t[0]=a*u,t[1]=-o*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-a*r)*u,t[5]=(o*r-n*s)*u,t):null}};t.exports=n},function(t,e,n){function i(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}var r=n(4),o=n(13);i.prototype={constructor:i,init:null,mergeOption:function(t){r.merge(this.option,t,!0)},get:function(t,e){if(!t)return this.option;"string"==typeof t&&(t=t.split("."));for(var n=this.option,i=this.parentModel,r=0;r<t.length&&(!t[r]||(n=n&&"object"==typeof n?n[t[r]]:null,null!=n));r++);return null==n&&i&&!e&&(n=i.get(t)),n},getShallow:function(t,e){var n=this.option,i=null==n?n:n[t],r=this.parentModel;return null==i&&r&&!e&&(i=r.getShallow(t)),i},getModel:function(t,e){var n=this.get(t,!0),r=this.parentModel,o=new i(n,e||r&&r.getModel(t),this.ecModel);return o},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(r.clone(this.option))},setReadOnly:function(t){o.setReadOnly(this,t)}},o.enableClassExtend(i);var a=r.mixin;a(i,n(14)),a(i,n(16)),a(i,n(17)),a(i,n(18)),t.exports=i},function(t,e,n){function i(t,e){var n=o.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function r(t,e,n){return this.superClass.prototype[e].apply(t,n)}var o=n(4),a={},s=".",u="___EC__COMPONENT__CONTAINER___",l=a.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split(s),e.main=t[0]||"",e.sub=t[1]||""),e};a.enableClassExtend=function(t){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return o.extend(n.prototype,t),n.extend=this.extend,n.superCall=i,n.superApply=r,o.inherits(n,this),n.superClass=e,n}},a.enableClassManagement=function(t,e){function n(t){var e=i[t.main];return e&&e[u]||(e=i[t.main]={},e[u]=!0),e}e=e||{};var i={};if(t.registerClass=function(t,e){if(e)if(e=l(e),e.sub){if(e.sub!==u){var r=n(e);r[e.sub]=t}}else i[e.main]&&console.warn(e.main+" exists."),i[e.main]=t;return t},t.getClass=function(t,e,n){var r=i[t];if(r&&r[u]&&(r=e?r[e]:null),n&&!r)throw new Error("Component "+t+"."+(e||"")+" not exists. Load it first.");return r},t.getClassesByMainType=function(t){t=l(t);var e=[],n=i[t.main];return n&&n[u]?o.each(n,function(t,n){n!==u&&e.push(t)}):e.push(n),e},t.hasClass=function(t){return t=l(t),!!i[t.main]},t.getAllClassMainTypes=function(){var t=[];return o.each(i,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=l(t);var e=i[t.main];return e&&e[u]},t.parseClassType=l,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var n=r.call(this,e);return t.registerClass(n,e.type)})}return t},a.setReadOnly=function(){},t.exports=a},function(t,e,n){var i=n(15)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getLineStyle:function(t){var e=i.call(this,t),n=this.getLineDash();return n&&(e.lineDash=n),e},getLineDash:function(){var t=this.get("type");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[2,2]}}},function(t,e,n){var i=n(4);t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e){for(var n={},r=0;r<t.length;r++){var o=t[r][1];if(!(e&&i.indexOf(e,o)>=0)){var a=this.getShallow(o);null!=a&&(n[t[r][0]]=a)}}return n}}},function(t,e,n){t.exports={getAreaStyle:n(15)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(t,e,n){function i(t,e){return t&&t.getShallow(e)}var r=n(8);t.exports={getTextColor:function(){var t=this.ecModel;return this.getShallow("color")||t&&t.get("textStyle.color")},getFont:function(){var t=this.ecModel,e=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||i(e,"fontStyle"),this.getShallow("fontWeight")||i(e,"fontWeight"),(this.getShallow("fontSize")||i(e,"fontSize")||12)+"px",this.getShallow("fontFamily")||i(e,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(t){var e=this.get("textStyle")||{};return r.getBoundingRect(t,this.getFont(),e.align,e.baseline)},truncateText:function(t,e,n,i){return r.truncateText(t,e,this.getFont(),n,i)}}},function(t,e,n){var i=n(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getItemStyle:function(t){var e=i.call(this,t),n=this.getBorderLineDash();return n&&(e.lineDash=n),e},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}}},function(t,e,n){function i(t){var e=[];return o.each(c.getClassesByMainType(t),function(t){a.apply(e,t.prototype.dependencies||[])}),o.map(e,function(t){return u.parseClassType(t).main})}var r=n(12),o=n(4),a=Array.prototype.push,s=n(20),u=n(13),l=n(21),c=r.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){r.call(this,t,e,n,i),o.extend(this,i),this.uid=s.getUID("componentModel")},init:function(t,e,n){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?l.getLayoutParams(t):{},r=e.getTheme();o.merge(t,r.get(this.mainType)),o.merge(t,this.getDefaultOption()),n&&l.mergeLayoutParam(t,i,n)},mergeOption:function(t){o.merge(this.option,t,!0);var e=this.layoutMode;e&&l.mergeLayoutParam(this.option,t,e)},optionUpdated:function(){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var n=e.prototype.defaultOption;n&&t.push(n),e=e.superClass}for(var i={},r=t.length-1;r>=0;r--)i=o.merge(i,t[r],!0);this.__defaultOption=i}return this.__defaultOption}});u.enableClassManagement(c,{registerWhenExtend:!0}),s.enableSubTypeDefaulter(c),s.enableTopologicalTravel(c,i),o.mixin(c,n(22)),t.exports=c},function(t,e,n){var i=n(4),r=n(13),o=r.parseClassType,a=0,s={},u="_";s.getUID=function(t){return[t||"",a++,Math.random()].join(u)},s.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=o(t),e[t.main]=n},t.determineSubType=function(n,i){var r=i.type;if(!r){var a=o(n).main;t.hasSubTypes(n)&&e[a]&&(r=e[a](i))}return r},t},s.enableTopologicalTravel=function(t,e){function n(t){var n={},a=[];return i.each(t,function(s){var u=r(n,s),l=u.originalDeps=e(s),c=o(l,t);u.entryCount=c.length,0===u.entryCount&&a.push(s),i.each(c,function(t){i.indexOf(u.predecessor,t)<0&&u.predecessor.push(t);var e=r(n,t);i.indexOf(e.successor,t)<0&&e.successor.push(s)})}),{graph:n,noEntryList:a}}function r(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var n=[];return i.each(t,function(t){i.indexOf(e,t)>=0&&n.push(t)}),n}t.topologicalTravel=function(t,e,r,o){function a(t){l[t].entryCount--,0===l[t].entryCount&&c.push(t)}function s(t){h[t]=!0,a(t)}if(t.length){var u=n(e),l=u.graph,c=u.noEntryList,h={};for(i.each(t,function(t){h[t]=!0});c.length;){var p=c.pop(),d=l[p],f=!!h[p];f&&(r.call(o,p,d.originalDeps.slice()),delete h[p]),i.each(d.successor,f?s:a)}i.each(h,function(){throw new Error("Circle dependency may exists")})}}},t.exports=s},function(t,e,n){"use strict";function i(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild(function(u,l){var c,h,p=u.position,d=u.getBoundingRect(),f=e.childAt(l+1),g=f&&f.getBoundingRect();if("horizontal"===t){var m=d.width+(g?-g.x+d.x:0);c=o+m,c>i||u.newline?(o=0,c=m,a+=s+n,s=d.height):s=Math.max(s,d.height)}else{var v=d.height+(g?-g.y+d.y:0);h=a+v,h>r||u.newline?(o+=s+n,a=0,h=v,s=d.width):s=Math.max(s,d.width)}u.newline||(p[0]=o,p[1]=a,"horizontal"===t?o=c+n:a=h+n)})}var r=n(4),o=n(9),a=n(7),s=n(6),u=a.parsePercent,l=r.each,c={},h=["left","right","top","bottom","width","height"];c.box=i,c.vbox=r.curry(i,"vertical"),c.hbox=r.curry(i,"horizontal"),c.getAvailableSize=function(t,e,n){var i=e.width,r=e.height,o=u(t.x,i),a=u(t.y,r),l=u(t.x2,i),c=u(t.y2,r);return(isNaN(o)||isNaN(parseFloat(t.x)))&&(o=0),(isNaN(l)||isNaN(parseFloat(t.x2)))&&(l=i),(isNaN(a)||isNaN(parseFloat(t.y)))&&(a=0),(isNaN(c)||isNaN(parseFloat(t.y2)))&&(c=r),n=s.normalizeCssArray(n||0),{width:Math.max(l-o-n[1]-n[3],0),height:Math.max(c-a-n[0]-n[2],0)}},c.getLayoutRect=function(t,e,n){n=s.normalizeCssArray(n||0);var i=e.width,r=e.height,a=u(t.left,i),l=u(t.top,r),c=u(t.right,i),h=u(t.bottom,r),p=u(t.width,i),d=u(t.height,r),f=n[2]+n[0],g=n[1]+n[3],m=t.aspect;switch(isNaN(p)&&(p=i-c-g-a),isNaN(d)&&(d=r-h-f-l),isNaN(p)&&isNaN(d)&&(m>i/r?p=.8*i:d=.8*r),null!=m&&(isNaN(p)&&(p=m*d),isNaN(d)&&(d=p/m)),isNaN(a)&&(a=i-c-p-g),isNaN(l)&&(l=r-h-d-f),t.left||t.right){case"center":a=i/2-p/2-n[3];break;case"right":a=i-p-g}switch(t.top||t.bottom){case"middle":case"center":l=r/2-d/2-n[0];break;case"bottom":l=r-d-f}a=a||0,l=l||0,isNaN(p)&&(p=i-a-(c||0)),isNaN(d)&&(d=r-l-(h||0));var v=new o(a+n[3],l+n[0],p,d);return v.margin=n,v},c.positionGroup=function(t,e,n,i){var o=t.getBoundingRect();e=r.extend(r.clone(e),{width:o.width,height:o.height}),e=c.getLayoutRect(e,n,i),t.attr("position",[e.x-o.x,e.y-o.y])},c.mergeLayoutParam=function(t,e,n){function i(i){var r={},s=0,u={},c=0,h=n.ignoreSize?1:2;if(l(i,function(e){u[e]=t[e]}),l(i,function(t){o(e,t)&&(r[t]=u[t]=e[t]),a(r,t)&&s++,a(u,t)&&c++}),c!==h&&s){if(s>=h)return r;for(var p=0;p<i.length;p++){var d=i[p];if(!o(r,d)&&o(t,d)){r[d]=t[d];break}}return r}return u}function o(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]&&"auto"!==t[e]}function s(t,e,n){l(t,function(t){e[t]=n[t]})}!r.isObject(n)&&(n={});var u=["width","left","right"],c=["height","top","bottom"],h=i(u),p=i(c);s(u,t,h),s(c,t,p)},c.getLayoutParams=function(t){return c.copyLayoutParams({},t)},c.copyLayoutParams=function(t,e){return e&&t&&l(h,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t},t.exports=c},function(t){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t){var e="";"undefined"!=typeof navigator&&(e=navigator.platform||""),t.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}},function(t){t.exports={clearColorPalette:function(){this._colorIdx=0,this._colorNameMap={}
},getColorFromPalette:function(t,e){e=e||this;var n=e._colorIdx||0,i=e._colorNameMap||(e._colorNameMap={});if(i[t])return i[t];var r=this.get("color",!0)||[];if(r.length){var o=r[n];return t&&(i[t]=o),e._colorIdx=(n+1)%r.length,o}}}},function(t,e,n){"use strict";function i(t){r.each(o,function(e){this[e]=r.bind(t[e],t)},this)}var r=n(4),o=["getDom","getZr","getWidth","getHeight","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];t.exports=i},function(t){"use strict";function e(){this._coordinateSystems=[]}var n={};e.prototype={constructor:e,create:function(t,e){var i=[];for(var r in n){var o=n[r].create(t,e);o&&(i=i.concat(o))}this._coordinateSystems=i},update:function(t,e){for(var n=this._coordinateSystems,i=0;i<n.length;i++)n[i].update&&n[i].update(t,e)}},e.register=function(t,e){n[t]=e},e.get=function(t){return n[t]},t.exports=e},function(t,e,n){function i(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function r(t,e,n){var i,r,o=[],a=[],s=t.timeline;if(t.baseOption&&(r=t.baseOption),(s||t.options)&&(r=r||{},o=(t.options||[]).slice()),t.media){r=r||{};var u=t.media;p(u,function(t){t&&t.option&&(t.query?a.push(t):i||(i=t))})}return r||(r=t),r.timeline||(r.timeline=s),p([r].concat(o).concat(l.map(a,function(t){return t.option})),function(t){p(e,function(e){e(t,n)})}),{baseOption:r,timelineOptions:o,mediaDefault:i,mediaList:a}}function o(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return l.each(t,function(t,e){var n=e.match(m);if(n&&n[1]&&n[2]){var o=n[1],s=n[2].toLowerCase();a(i[s],t,o)||(r=!1)}}),r}function a(t,e,n){return"min"===n?t>=e:"max"===n?e>=t:t===e}function s(t,e){return t.join(",")===e.join(",")}function u(t,e){e=e||{},p(e,function(e,n){if(null!=e){var i=t[n];if(h.hasClass(n)){e=c.normalizeToArray(e),i=c.normalizeToArray(i);var r=c.mappingToExists(i,e);t[n]=f(r,function(t){return t.option&&t.exist?g(t.exist,t.option,!0):t.exist||t.option})}else t[n]=g(i,e,!0)}})}var l=n(4),c=n(5),h=n(19),p=l.each,d=l.clone,f=l.map,g=l.merge,m=/^(min|max)?(.+)$/;i.prototype={constructor:i,setOption:function(t,e){t=d(t,!0);var n=this._optionBackup,i=r.call(this,t,e,!n);this._newBaseOption=i.baseOption,n?(u(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=f(e.timelineOptions,d),this._mediaList=f(e.mediaList,d),this._mediaDefault=d(e.mediaDefault),this._currentMediaIndices=[],d(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=d(n[i.getCurrentIndex()],!0))}return e},getMediaOption:function(){var t=this._api.getWidth(),e=this._api.getHeight(),n=this._mediaList,i=this._mediaDefault,r=[],a=[];if(!n.length&&!i)return a;for(var u=0,l=n.length;l>u;u++)o(n[u].query,t,e)&&r.push(u);return!r.length&&i&&(r=[-1]),r.length&&!s(r,this._currentMediaIndices)&&(a=f(r,function(t){return d(-1===t?i.option:n[t].option)})),this._currentMediaIndices=r,a}},t.exports=i},function(t,e,n){"use strict";var i=n(4),r=n(6),o=n(5),a=n(19),s=n(24),u=n(2),l=r.encodeHTML,c=r.addCommas,h=a.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",init:function(t,e,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,n),this._dataBeforeProcessed=this.getInitialData(t,n),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(t,e){i.merge(t,e.getTheme().get(this.subType)),i.merge(t,this.getDefaultOption()),o.defaultEmphasis(t.label,o.LABEL_OPTIONS),this.fillDataTextStyle(t.data)},mergeOption:function(t,e){t=i.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.getInitialData(t,e);n&&(this._data=n,this._dataBeforeProcessed=n.cloneShallow())},fillDataTextStyle:function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&t[e].label&&o.defaultEmphasis(t[e].label,o.LABEL_OPTIONS)},getInitialData:function(){},getData:function(t){return null==t?this._data:this._data.getLinkedData(t)},setData:function(t){this._data=t},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(t){return[t]},dataDimToCoordDim:function(t){return t},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e){function n(t){return i.map(t,function(t,n){var i=o.getDimensionInfo(n),a=i&&i.type;return"ordinal"===a?t:"time"===a?e?"":r.formatTime("yyyy/mm/dd hh:mm:ss",t):c(t)}).filter(function(t){return!!t}).join(", ")}var o=this._data,a=this.getRawValue(t),s=i.isArray(a)?n(a):c(a),u=o.getName(t),h=o.getItemVisual(t,"color"),p='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+h+'"></span>',d=this.name;return"\x00-"===d&&(d=""),e?p+l(this.name)+" : "+s:(d&&l(d)+"<br />")+p+(u?l(u)+" : "+s:s)},ifEnableAnimation:function(){if(u.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getColorFromPalette:function(t,e){var n=this.ecModel,i=s.getColorFromPalette.call(this,t,e);return i||(i=n.getColorFromPalette(t,e)),i},getAxisTooltipDataIndex:null});i.mixin(h,o.dataFormatMixin),i.mixin(h,s),t.exports=h},function(t,e,n){var i=n(30),r=n(20),o=n(13),a=function(){this.group=new i,this.uid=r.getUID("viewComponent")};a.prototype={constructor:a,init:function(){},render:function(){},dispose:function(){}};var s=a.prototype;s.updateView=s.updateLayout=s.updateVisual=function(){},o.enableClassExtend(a),o.enableClassManagement(a,{registerWhenExtend:!0}),t.exports=a},function(t,e,n){var i=n(4),r=n(31),o=n(9),a=function(t){t=t||{},r.call(this,t);for(var e in t)this[e]=t[e];this._children=[],this.__storage=null,this.__dirty=!0};a.prototype={constructor:a,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToMap(t),t instanceof a&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,o=i.indexOf(r,t);return 0>o?this:(r.splice(o,1),t.parent=null,n&&(n.delFromMap(t.id),t instanceof a&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,i=this.__storage;for(e=0;e<n.length;e++)t=n[e],i&&(i.delFromMap(t.id),t instanceof a&&t.delChildrenFromStorage(i)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToMap(n),n instanceof a&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromMap(n.id),n instanceof a&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new o(0,0,0,0),i=t||this._children,r=[],a=0;a<i.length;a++){var s=i[a];if(!s.ignore&&!s.invisible){var u=s.getBoundingRect(),l=s.getLocalTransform(r);l?(n.copy(u),n.applyTransform(l),e=e||n.clone(),e.union(n)):(e=e||u.clone(),e.union(u))}}return e||n}},i.inherits(a,r),t.exports=a},function(t,e,n){"use strict";var i=n(32),r=n(33),o=n(34),a=n(35),s=n(4),u=function(t){o.call(this,t),r.call(this,t),a.call(this,t),this.id=t.id||i()};u.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(u,a),s.mixin(u,o),s.mixin(u,r),t.exports=u},function(t){var e=2311;t.exports=function(){return e++}},function(t){var e=Array.prototype.slice,n=function(){this._$handlers={}};n.prototype={constructor:n,one:function(t,e,n){var i=this._$handlers;if(!e||!t)return this;i[t]||(i[t]=[]);for(var r=0;r<i[t].length;r++)if(i[t][r].h===e)return this;return i[t].push({h:e,one:!0,ctx:n||this}),this},on:function(t,e,n){var i=this._$handlers;if(!e||!t)return this;i[t]||(i[t]=[]);for(var r=0;r<i[t].length;r++)if(i[t][r].h===e)return this;return i[t].push({h:e,one:!1,ctx:n||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;o>r;r++)n[t][r].h!=e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){if(this._$handlers[t]){var n=arguments,i=n.length;i>3&&(n=e.call(n,1));for(var r=this._$handlers[t],o=r.length,a=0;o>a;){switch(i){case 1:r[a].h.call(r[a].ctx);break;case 2:r[a].h.call(r[a].ctx,n[1]);break;case 3:r[a].h.call(r[a].ctx,n[1],n[2]);break;default:r[a].h.apply(r[a].ctx,n)}r[a].one?(r.splice(a,1),o--):a++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var n=arguments,i=n.length;i>4&&(n=e.call(n,1,n.length-1));for(var r=n[n.length-1],o=this._$handlers[t],a=o.length,s=0;a>s;){switch(i){case 1:o[s].h.call(r);break;case 2:o[s].h.call(r,n[1]);break;case 3:o[s].h.call(r,n[1],n[2]);break;default:o[s].h.apply(r,n)}o[s].one?(o.splice(s,1),a--):s++}}return this}},t.exports=n},function(t,e,n){"use strict";function i(t){return t>s||-s>t}var r=n(11),o=n(10),a=r.identity,s=5e-5,u=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=u.prototype;l.transform=null,l.needLocalTransform=function(){return i(this.rotation)||i(this.position[0])||i(this.position[1])||i(this.scale[0]-1)||i(this.scale[1]-1)},l.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;return n||e?(i=i||r.create(),n?this.getLocalTransform(i):a(i),e&&(n?r.mul(i,t.transform,i):r.copy(i,t.transform)),this.transform=i,this.invTransform=this.invTransform||r.create(),void r.invert(this.invTransform,i)):void(i&&a(i))},l.getLocalTransform=function(t){t=t||[],a(t);var e=this.origin,n=this.scale,i=this.rotation,o=this.position;return e&&(t[4]-=e[0],t[5]-=e[1]),r.scale(t,t,n),i&&r.rotate(t,t,i),e&&(t[4]+=e[0],t[5]+=e[1]),t[4]+=o[0],t[5]+=o[1],t},l.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},l.restoreTransform=function(t){var e=(this.transform,t.dpr||1);t.setTransform(e,0,0,e,0,0)};var c=[];l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r.mul(c,t.invTransform,e),e=c);var n=e[0]*e[0]+e[1]*e[1],o=e[2]*e[2]+e[3]*e[3],a=this.position,s=this.scale;i(n-1)&&(n=Math.sqrt(n)),i(o-1)&&(o=Math.sqrt(o)),e[0]<0&&(n=-n),e[3]<0&&(o=-o),a[0]=e[4],a[1]=e[5],s[0]=n,s[1]=o,this.rotation=Math.atan2(-e[1]/o,e[0]/n)}},l.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(n=-n),[e,n]},l.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&o.applyTransform(n,n,i),n},l.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&o.applyTransform(n,n,i),n},t.exports=u},function(t,e,n){"use strict";var i=n(36),r=n(4),o=r.isString,a=r.isFunction,s=r.isObject,u=n(40),l=function(){this.animators=[]};l.prototype={constructor:l,animate:function(t,e){var n,o=!1,a=this,s=this.__zr;if(t){var l=t.split("."),c=a;o="shape"===l[0];for(var h=0,p=l.length;p>h;h++)c&&(c=c[l[h]]);c&&(n=c)}else n=a;if(!n)return void u('Property "'+t+'" is not existed in element '+a.id);var d=a.animators,f=new i(n,e);return f.during(function(){a.dirty(o)}).done(function(){d.splice(r.indexOf(d,f),1)}),d.push(f),s&&s.animation.addAnimator(f),f},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;n>i;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,n,i,r){function s(){l--,l||r&&r()}o(n)?(r=i,i=n,n=0):a(i)?(r=i,i="linear",n=0):a(n)?(r=n,n=0):a(e)?(r=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,n,i,r);var u=this.animators.slice(),l=u.length;l||r&&r();for(var c=0;c<u.length;c++)u[c].done(s).start(i)},_animateToShallow:function(t,e,n,i,o){var a={},u=0;for(var l in n)if(null!=e[l])s(n[l])&&!r.isArrayLike(n[l])?this._animateToShallow(t?t+"."+l:l,e[l],n[l],i,o):(a[l]=n[l],u++);else if(null!=n[l])if(t){var c={};c[t]={},c[t][l]=n[l],this.attr(c)}else this.attr(l,n[l]);return u>0&&this.animate(t,!1).when(null==i?500:i,a).delay(o||0),this}},t.exports=l},function(t,e,n){function i(t,e){return t[e]}function r(t,e,n){t[e]=n}function o(t,e,n){return(e-t)*n+t}function a(t,e,n){return n>.5?e:t}function s(t,e,n,i,r){var a=t.length;if(1==r)for(var s=0;a>s;s++)i[s]=o(t[s],e[s],n);else for(var u=t[0].length,s=0;a>s;s++)for(var l=0;u>l;l++)i[s][l]=o(t[s][l],e[s][l],n)}function u(t,e,n){var i=t.length,r=e.length;if(i!==r){var o=i>r;if(o)t.length=r;else for(var a=i;r>a;a++)t.push(1===n?e[a]:_.call(e[a]))}for(var s=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var u=0;s>u;u++)isNaN(t[a][u])&&(t[a][u]=e[a][u])}function l(t,e,n){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===n){for(var r=0;i>r;r++)if(t[r]!==e[r])return!1}else for(var o=t[0].length,r=0;i>r;r++)for(var a=0;o>a;a++)if(t[r][a]!==e[r][a])return!1;return!0}function c(t,e,n,i,r,o,a,s,u){var l=t.length;if(1==u)for(var c=0;l>c;c++)s[c]=h(t[c],e[c],n[c],i[c],r,o,a);else for(var p=t[0].length,c=0;l>c;c++)for(var d=0;p>d;d++)s[c][d]=h(t[c][d],e[c][d],n[c][d],i[c][d],r,o,a)}function h(t,e,n,i,r,o,a){var s=.5*(n-t),u=.5*(i-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*r+e}function p(t){if(y(t)){var e=t.length;if(y(t[0])){for(var n=[],i=0;e>i;i++)n.push(_.call(t[i]));return n}return _.call(t)}return t}function d(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function f(t,e,n,i,r){var p=t._getter,f=t._setter,v="spline"===e,_=i.length;if(_){var b,x=i[0].value,w=y(x),k=!1,T=!1,S=w&&y(x[0])?2:1;i.sort(function(t,e){return t.time-e.time}),b=i[_-1].time;for(var $=[],C=[],A=i[0].value,M=!0,I=0;_>I;I++){$.push(i[I].time/b);var D=i[I].value;if(w&&l(D,A,S)||!w&&D===A||(M=!1),A=D,"string"==typeof D){var E=m.parse(D);E?(D=E,k=!0):T=!0}C.push(D)}if(!M){for(var O=C[_-1],I=0;_-1>I;I++)w?u(C[I],O,S):!isNaN(C[I])||isNaN(O)||T||k||(C[I]=O);w&&u(p(t._target,r),O,S);var P,L,N,R,U,K,W=0,V=0;if(k)var B=[0,0,0,0];var j=function(t,e){var n;if(0>e)n=0;else if(V>e){for(P=Math.min(W+1,_-1),n=P;n>=0&&!($[n]<=e);n--);n=Math.min(n,_-2)}else{for(n=W;_>n&&!($[n]>e);n++);n=Math.min(n-1,_-2)}W=n,V=e;var i=$[n+1]-$[n];if(0!==i)if(L=(e-$[n])/i,v)if(R=C[n],N=C[0===n?n:n-1],U=C[n>_-2?_-1:n+1],K=C[n>_-3?_-1:n+2],w)c(N,R,U,K,L,L*L,L*L*L,p(t,r),S);else{var u;if(k)u=c(N,R,U,K,L,L*L,L*L*L,B,1),u=d(B);else{if(T)return a(R,U,L);u=h(N,R,U,K,L,L*L,L*L*L)}f(t,r,u)}else if(w)s(C[n],C[n+1],L,p(t,r),S);else{var u;if(k)s(C[n],C[n+1],L,B,1),u=d(B);else{if(T)return a(C[n],C[n+1],L);u=o(C[n],C[n+1],L)}f(t,r,u)}},H=new g({target:t._target,life:b,loop:t._loop,delay:t._delay,onframe:j,ondestroy:n});return e&&"spline"!==e&&(H.easing=e),H}}}var g=n(37),m=n(39),v=n(4),y=v.isArrayLike,_=Array.prototype.slice,b=function(t,e,n,o){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||i,this._setter=o||r,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};b.prototype={when:function(t,e){var n=this._tracks;for(var i in e){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==t&&n[i].push({time:0,value:p(r)})}n[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;e>n;n++)t[n].call(this)},start:function(t){var e,n=this,i=0,r=function(){i--,i||n._doneCallback()};for(var o in this._tracks){var a=f(this,t,r,this._tracks[o],o);a&&(this._clipList.push(a),i++,this.animation&&this.animation.addClip(a),e=a)}if(e){var s=e.onframe;e.onframe=function(t,e){s(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=b},function(t,e,n){function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null==t.loop?!1:t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var r=n(38);i.prototype={constructor:i,step:function(t){this._initialized||(this._startTime=t+this._delay,this._initialized=!0);var e=(t-this._startTime)/this._life;if(!(0>e)){e=Math.min(e,1);var n=this.easing,i="string"==typeof n?r[n]:n,o="function"==typeof i?i(e):e;return this.fire("frame",o),1==e?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(t){var e=(t-this._startTime)%this._life;this._startTime=t-e+this.gap,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)}},t.exports=i},function(t){var e={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)))},elasticOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/i)+1)},elasticInOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i):n*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-e.bounceOut(1-t)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5}};t.exports=e},function(t){function e(t){return t=Math.round(t),0>t?0:t>255?255:t}function n(t){return t=Math.round(t),0>t?0:t>360?360:t}function i(t){return 0>t?0:t>1?1:t}function r(t){return e(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function o(t){return i(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function a(t,e,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}function s(t,e,n){return t+(e-t)*n}function u(t){if(t){t+="";var e=t.replace(/ /g,"").toLowerCase();if(e in y)return y[e].slice();if("#"!==e.charAt(0)){var n=e.indexOf("("),i=e.indexOf(")");if(-1!==n&&i+1===e.length){var a=e.substr(0,n),s=e.substr(n+1,i-(n+1)).split(","),u=1;switch(a){case"rgba":if(4!==s.length)return;u=o(s.pop());case"rgb":if(3!==s.length)return;return[r(s[0]),r(s[1]),r(s[2]),u];case"hsla":if(4!==s.length)return;return s[3]=o(s[3]),l(s);case"hsl":if(3!==s.length)return;return l(s);default:return}}}else{if(4===e.length){var c=parseInt(e.substr(1),16);if(!(c>=0&&4095>=c))return;return[(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1]}if(7===e.length){var c=parseInt(e.substr(1),16);if(!(c>=0&&16777215>=c))return;return[(16711680&c)>>16,(65280&c)>>8,255&c,1]}}}}function l(t){var n=(parseFloat(t[0])%360+360)%360/360,i=o(t[1]),r=o(t[2]),s=.5>=r?r*(i+1):r+i-r*i,u=2*r-s,l=[e(255*a(u,s,n+1/3)),e(255*a(u,s,n)),e(255*a(u,s,n-1/3))];return 4===t.length&&(l[3]=t[3]),l}function c(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),u=s-a,l=(s+a)/2;if(0===u)e=0,n=0;else{n=.5>l?u/(s+a):u/(2-s-a);var c=((s-i)/6+u/2)/u,h=((s-r)/6+u/2)/u,p=((s-o)/6+u/2)/u;i===s?e=p-h:r===s?e=1/3+c-p:o===s&&(e=2/3+h-c),0>e&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,l];return null!=t[3]&&d.push(t[3]),d}}function h(t,e){var n=u(t);if(n){for(var i=0;3>i;i++)n[i]=0>e?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0;return v(n,4===n.length?"rgba":"rgb")}}function p(t){var e=u(t);return e?((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1):void 0}function d(t,n,i){if(n&&n.length&&t>=0&&1>=t){i=i||[0,0,0,0];var r=t*(n.length-1),o=Math.floor(r),a=Math.ceil(r),u=n[o],l=n[a],c=r-o;return i[0]=e(s(u[0],l[0],c)),i[1]=e(s(u[1],l[1],c)),i[2]=e(s(u[2],l[2],c)),i[3]=e(s(u[3],l[3],c)),i}}function f(t,n,r){if(n&&n.length&&t>=0&&1>=t){var o=t*(n.length-1),a=Math.floor(o),l=Math.ceil(o),c=u(n[a]),h=u(n[l]),p=o-a,d=v([e(s(c[0],h[0],p)),e(s(c[1],h[1],p)),e(s(c[2],h[2],p)),i(s(c[3],h[3],p))],"rgba");return r?{color:d,leftIndex:a,rightIndex:l,value:o}:d}}function g(t,e,i,r){return t=u(t),t?(t=c(t),null!=e&&(t[0]=n(e)),null!=i&&(t[1]=o(i)),null!=r&&(t[2]=o(r)),v(l(t),"rgba")):void 0}function m(t,e){return t=u(t),t&&null!=e?(t[3]=i(e),v(t,"rgba")):void 0}function v(t,e){var n=t[0]+","+t[1]+","+t[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(n+=","+t[3]),e+"("+n+")"}var y={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};t.exports={parse:u,lift:h,toHex:p,fastMapToColor:d,mapToColor:f,modifyHSL:g,modifyAlpha:m,stringify:v}},function(t,e,n){var i=n(41);t.exports=function(){if(0!==i.debugMode)if(1==i.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(i.debugMode>1)for(var t in arguments)console.log(arguments[t])}},function(t){var e=1;"undefined"!=typeof window&&(e=Math.max(window.devicePixelRatio||1,1));var n={debugMode:0,devicePixelRatio:e};t.exports=n},function(t,e,n){function i(){this.group=new a,this.uid=s.getUID("viewChart")}function r(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)r(t.childAt(n),e)}function o(t,e,n){var i=e&&e.dataIndex,o=e&&e.name;if(null!=i)for(var a=i instanceof Array?i:[i],s=0,u=a.length;u>s;s++)r(t.getItemGraphicEl(a[s]),n);else if(o)for(var l=o instanceof Array?o:[o],s=0,u=l.length;u>s;s++){var i=t.indexOfName(l[s]);r(t.getItemGraphicEl(i),n)}else t.eachItemGraphicEl(function(t){r(t,n)})}var a=n(30),s=n(20),u=n(13);i.prototype={type:"chart",init:function(){},render:function(){},highlight:function(t,e,n,i){o(t.getData(),i,"emphasis")},downplay:function(t,e,n,i){o(t.getData(),i,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}};var l=i.prototype;l.updateView=l.updateLayout=l.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},u.enableClassExtend(i),u.enableClassManagement(i,{registerWhenExtend:!0}),t.exports=i},function(t,e,n){"use strict";function i(t){return null!=t&&"none"!=t}function r(t){return"string"==typeof t?b.lift(t,-.1):t}function o(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,o=t.__hoverStl;o.fill=o.fill||(i(n)?r(n):null),o.stroke=o.stroke||(i(e)?r(e):null);var a={};for(var s in o)o.hasOwnProperty(s)&&(a[s]=t.style[s]);t.__normalStl=a,t.__hoverStlDirty=!1}}function a(t){t.__isHover||(o(t),t.useHoverLayer?t.__zr&&t.__zr.addHover(t,t.__hoverStl):(t.setStyle(t.__hoverStl),t.z2+=1),t.__isHover=!0)}function s(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function u(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&a(t)}):a(t)}function l(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&s(t)}):s(t)}function c(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&o(t)}function h(){!this.__isEmphasis&&u(this)}function p(){!this.__isEmphasis&&l(this)}function d(){this.__isEmphasis=!0,u(this)}function f(){this.__isEmphasis=!1,l(this)}function g(t,e,n,i,r,o){"function"==typeof r&&(o=r,r=null);var a=i&&(i.ifEnableAnimation?i.ifEnableAnimation():i.getShallow("animation"));if(a){var s=t?"Update":"",u=i&&i.getShallow("animationDuration"+s),l=i&&i.getShallow("animationEasing"+s),c=i&&i.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(r)),u>0?e.animateTo(n,u,c||0,l,o):(e.attr(n),o&&o())}else e.attr(n),o&&o()}var m=n(4),v=n(44),y=Math.round,_=n(45),b=n(39),x=n(11),w=n(10),k=(n(61),{});k.Group=n(30),k.Image=n(62),k.Text=n(64),k.Circle=n(65),k.Sector=n(66),k.Ring=n(67),k.Polygon=n(68),k.Polyline=n(72),k.Rect=n(73),k.Line=n(75),k.BezierCurve=n(76),k.Arc=n(77),k.CompoundPath=n(78),k.LinearGradient=n(79),k.RadialGradient=n(80),k.BoundingRect=n(9),k.extendShape=function(t){return _.extend(t)},k.extendPath=function(t,e){return v.extendFromString(t,e)},k.makePath=function(t,e,n,i){var r=v.createFromString(t,e),o=r.getBoundingRect();
if(n){var a=o.width/o.height;if("center"===i){var s,u=n.height*a;u<=n.width?s=n.height:(u=n.width,s=u/a);var l=n.x+n.width/2,c=n.y+n.height/2;n.x=l-u/2,n.y=c-s/2,n.width=u,n.height=s}this.resizePath(r,n)}return r},k.mergePath=v.mergePath,k.resizePath=function(t,e){if(t.applyTransform){var n=t.getBoundingRect(),i=n.calculateTransform(e);t.applyTransform(i)}},k.subPixelOptimizeLine=function(t){var e=k.subPixelOptimize,n=t.shape,i=t.style.lineWidth;return y(2*n.x1)===y(2*n.x2)&&(n.x1=n.x2=e(n.x1,i,!0)),y(2*n.y1)===y(2*n.y2)&&(n.y1=n.y2=e(n.y1,i,!0)),t},k.subPixelOptimizeRect=function(t){var e=k.subPixelOptimize,n=t.shape,i=t.style.lineWidth,r=n.x,o=n.y,a=n.width,s=n.height;return n.x=e(n.x,i,!0),n.y=e(n.y,i,!0),n.width=Math.max(e(r+a,i,!1)-n.x,0===a?0:1),n.height=Math.max(e(o+s,i,!1)-n.y,0===s?0:1),t},k.subPixelOptimize=function(t,e,n){var i=y(2*t);return(i+y(e))%2===0?i/2:(i+(n?1:-1))/2},k.setHoverStyle=function(t,e){"group"===t.type?t.traverse(function(t){"group"!==t.type&&c(t,e)}):c(t,e),t.on("mouseover",h).on("mouseout",p),t.on("emphasis",d).on("normal",f)},k.setText=function(t,e,n){var i=e.getShallow("position")||"inside",r=i.indexOf("inside")>=0?"white":n,o=e.getModel("textStyle");m.extend(t,{textDistance:e.getShallow("distance")||5,textFont:o.getFont(),textPosition:i,textFill:o.getTextColor()||r})},k.updateProps=function(t,e,n,i,r){g(!0,t,e,n,i,r)},k.initProps=function(t,e,n,i,r){g(!1,t,e,n,i,r)},k.getTransform=function(t,e){for(var n=x.identity([]);t&&t!==e;)x.mul(n,t.getLocalTransform(),n),t=t.parent;return n},k.applyTransform=function(t,e,n){return n&&(e=x.invert([],e)),w.applyTransform([],t,e)},k.transformDirection=function(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return o=k.applyTransform(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},k.groupTransition=function(t,e,n){function i(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}function r(t){var e={position:w.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=m.extend({},t.shape)),e}if(t&&e){var o=i(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var i=r(t);t.attr(r(e)),k.updateProps(t,i,n,t.dataIndex)}}})}},t.exports=k},function(t,e,n){function i(t,e,n,i,r,o,a,s,u,l,c){var g=u*(f/180),y=d(g)*(t-n)/2+p(g)*(e-i)/2,_=-1*p(g)*(t-n)/2+d(g)*(e-i)/2,b=y*y/(a*a)+_*_/(s*s);b>1&&(a*=h(b),s*=h(b));var x=(r===o?-1:1)*h((a*a*s*s-a*a*_*_-s*s*y*y)/(a*a*_*_+s*s*y*y))||0,w=x*a*_/s,k=x*-s*y/a,T=(t+n)/2+d(g)*w-p(g)*k,S=(e+i)/2+p(g)*w+d(g)*k,$=v([1,0],[(y-w)/a,(_-k)/s]),C=[(y-w)/a,(_-k)/s],A=[(-1*y-w)/a,(-1*_-k)/s],M=v(C,A);m(C,A)<=-1&&(M=f),m(C,A)>=1&&(M=0),0===o&&M>0&&(M-=2*f),1===o&&0>M&&(M+=2*f),c.addData(l,T,S,a,s,$,M,g,o)}function r(t){if(!t)return[];var e,n=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<c.length;e++)n=n.replace(new RegExp(c[e],"g"),"|"+c[e]);var r,o=n.split("|"),a=0,u=0,l=new s,h=s.CMD;for(e=1;e<o.length;e++){var p,d=o[e],f=d.charAt(0),g=0,m=d.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var v=0;v<m.length;v++)m[v]=parseFloat(m[v]);for(;g<m.length&&!isNaN(m[g])&&!isNaN(m[0]);){var y,_,b,x,w,k,T,S=a,$=u;switch(f){case"l":a+=m[g++],u+=m[g++],p=h.L,l.addData(p,a,u);break;case"L":a=m[g++],u=m[g++],p=h.L,l.addData(p,a,u);break;case"m":a+=m[g++],u+=m[g++],p=h.M,l.addData(p,a,u),f="l";break;case"M":a=m[g++],u=m[g++],p=h.M,l.addData(p,a,u),f="L";break;case"h":a+=m[g++],p=h.L,l.addData(p,a,u);break;case"H":a=m[g++],p=h.L,l.addData(p,a,u);break;case"v":u+=m[g++],p=h.L,l.addData(p,a,u);break;case"V":u=m[g++],p=h.L,l.addData(p,a,u);break;case"C":p=h.C,l.addData(p,m[g++],m[g++],m[g++],m[g++],m[g++],m[g++]),a=m[g-2],u=m[g-1];break;case"c":p=h.C,l.addData(p,m[g++]+a,m[g++]+u,m[g++]+a,m[g++]+u,m[g++]+a,m[g++]+u),a+=m[g-2],u+=m[g-1];break;case"S":y=a,_=u;var C=l.len(),A=l.data;r===h.C&&(y+=a-A[C-4],_+=u-A[C-3]),p=h.C,S=m[g++],$=m[g++],a=m[g++],u=m[g++],l.addData(p,y,_,S,$,a,u);break;case"s":y=a,_=u;var C=l.len(),A=l.data;r===h.C&&(y+=a-A[C-4],_+=u-A[C-3]),p=h.C,S=a+m[g++],$=u+m[g++],a+=m[g++],u+=m[g++],l.addData(p,y,_,S,$,a,u);break;case"Q":S=m[g++],$=m[g++],a=m[g++],u=m[g++],p=h.Q,l.addData(p,S,$,a,u);break;case"q":S=m[g++]+a,$=m[g++]+u,a+=m[g++],u+=m[g++],p=h.Q,l.addData(p,S,$,a,u);break;case"T":y=a,_=u;var C=l.len(),A=l.data;r===h.Q&&(y+=a-A[C-4],_+=u-A[C-3]),a=m[g++],u=m[g++],p=h.Q,l.addData(p,y,_,a,u);break;case"t":y=a,_=u;var C=l.len(),A=l.data;r===h.Q&&(y+=a-A[C-4],_+=u-A[C-3]),a+=m[g++],u+=m[g++],p=h.Q,l.addData(p,y,_,a,u);break;case"A":b=m[g++],x=m[g++],w=m[g++],k=m[g++],T=m[g++],S=a,$=u,a=m[g++],u=m[g++],p=h.A,i(S,$,a,u,k,T,b,x,w,p,l);break;case"a":b=m[g++],x=m[g++],w=m[g++],k=m[g++],T=m[g++],S=a,$=u,a+=m[g++],u+=m[g++],p=h.A,i(S,$,a,u,k,T,b,x,w,p,l)}}("z"===f||"Z"===f)&&(p=h.Z,l.addData(p)),r=p}return l.toStatic(),l}function o(t,e){var n,i=r(t);return e=e||{},e.buildPath=function(t){t.setData(i.data),n&&u(t,n);var e=t.getContext();e&&t.rebuildPath(e)},e.applyTransform=function(t){n||(n=l.create()),l.mul(n,t,n),this.dirty(!0)},e}var a=n(45),s=n(49),u=n(60),l=n(11),c=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],h=Math.sqrt,p=Math.sin,d=Math.cos,f=Math.PI,g=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},m=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e))},v=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e))};t.exports={createFromString:function(t,e){return new a(o(t,e))},extendFromString:function(t,e){return a.extend(o(t,e))},mergePath:function(t,e){for(var n=[],i=t.length,r=0;i>r;r++){var o=t[r];o.__dirty&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var s=new a(e);return s.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},s}}},function(t,e,n){function i(t){r.call(this,t),this.path=new a}var r=n(46),o=n(4),a=n(49),s=n(52),u=n(59),l=u.prototype.getCanvasPattern,c=Math.abs;i.prototype={constructor:i,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var n=this.style,i=this.path,r=n.hasStroke(),o=n.hasFill(),a=n.fill,s=n.stroke,u=o&&!!a.colorStops,c=r&&!!s.colorStops,h=o&&!!a.image,p=r&&!!s.image;if(n.bind(t,this,e),this.setTransform(t),this.__dirty){var d=this.getBoundingRect();u&&(this._fillGradient=n.getGradient(t,a,d)),c&&(this._strokeGradient=n.getGradient(t,s,d))}u?t.fillStyle=this._fillGradient:h&&(t.fillStyle=l.call(a,t)),c?t.strokeStyle=this._strokeGradient:p&&(t.strokeStyle=l.call(s,t));var f=n.lineDash,g=n.lineDashOffset,m=!!t.setLineDash,v=this.getGlobalScale();i.setScale(v[0],v[1]),this.__dirtyPath||f&&!m&&r?(i=this.path.beginPath(t),f&&!m&&(i.setLineDash(f),i.setLineDashOffset(g)),this.buildPath(i,this.shape,!1),this.__dirtyPath=!1):(t.beginPath(),this.path.rebuildPath(t)),o&&i.fill(t),f&&m&&(t.setLineDash(f),t.lineDashOffset=g),r&&i.stroke(t),f&&m&&t.setLineDash([]),this.restoreTransform(t),(n.text||0===n.text)&&this.drawRectText(t,this.getBoundingRect())},buildPath:function(){},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var i=this.path;this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){r.copy(t);var o=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(r.width+=o/a,r.height+=o/a,r.x-=o/a/2,r.y-=o/a/2)}return r}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path.data;if(r.hasStroke()){var a=r.lineWidth,u=r.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(r.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),s.containStroke(o,a/u,t,e)))return!0}if(r.hasFill())return s.contain(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):r.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(o.isObject(t))for(var i in t)n[i]=t[i];else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&c(t[0]-1)>1e-10&&c(t[3]-1)>1e-10?Math.sqrt(c(t[0]*t[3]-t[2]*t[1])):1}},i.extend=function(t){var e=function(e){i.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var o in n)!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(r[o]=n[o])}t.init&&t.init.call(this,e)};o.inherits(e,i);for(var n in t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},o.inherits(i,r),t.exports=i},function(t,e,n){function i(t){t=t||{},a.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new o(t.style),this._rect=null,this.__clipPaths=[]}var r=n(4),o=n(47),a=n(31),s=n(48);i.prototype={constructor:i,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return i.contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?a.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new o(t),this.dirty(!1),this}},r.inherits(i,a),r.mixin(i,s),t.exports=i},function(t){function e(t,e,n){var i=e.x,r=e.x2,o=e.y,a=e.y2;e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y);var s=t.createLinearGradient(i,o,r,a);return s}function n(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=e.x,s=e.y,u=e.r;e.global||(a=a*i+n.x,s=s*r+n.y,u*=o);var l=t.createRadialGradient(a,s,0,a,s,u);return l}var i=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],r=function(t){this.extendFrom(t)};r.prototype={constructor:r,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(t,e,n){for(var r=this,o=n&&n.style,a=!o,s=0;s<i.length;s++){var u=i[s],l=u[0];(a||r[l]!==o[l])&&(t[l]=r[l]||u[1])}if((a||r.fill!==o.fill)&&(t.fillStyle=r.fill),(a||r.stroke!==o.stroke)&&(t.strokeStyle=r.stroke),(a||r.opacity!==o.opacity)&&(t.globalAlpha=null==r.opacity?1:r.opacity),(a||r.blend!==o.blend)&&(t.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var c=r.lineWidth;t.lineWidth=c/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t){var n=this;for(var i in t)!t.hasOwnProperty(i)||!e&&n.hasOwnProperty(i)||(n[i]=t[i])}},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,i,r){for(var o="radial"===i.type?n:e,a=o(t,i,r),s=i.colorStops,u=0;u<s.length;u++)a.addColorStop(s[u].offset,s[u].color);return a}};for(var o=r.prototype,a=0;a<i.length;a++){var s=i[a];s[0]in o||(o[s[0]]=s[1])}r.getGradient=o.getGradient,t.exports=r},function(t,e,n){function i(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}var r=n(8),o=n(9),a=new o,s=function(){};s.prototype={constructor:s,drawRectText:function(t,e,n){var o=this.style,s=o.text;if(null!=s&&(s+=""),s){t.save();var u,l,c=o.textPosition,h=o.textDistance,p=o.textAlign,d=o.textFont||o.font,f=o.textBaseline,g=o.textVerticalAlign;n=n||r.getBoundingRect(s,d,p,f);var m=this.transform;if(o.textTransform?this.setTransform(t):m&&(a.copy(e),a.applyTransform(m),e=a),c instanceof Array){if(u=e.x+i(c[0],e.width),l=e.y+i(c[1],e.height),p=p||"left",f=f||"top",g){switch(g){case"middle":l-=n.height/2-n.lineHeight/2;break;case"bottom":l-=n.height-n.lineHeight/2;break;default:l+=n.lineHeight/2}f="middle"}}else{var v=r.adjustTextPositionOnRect(c,e,n,h);u=v.x,l=v.y,p=p||v.textAlign,f=f||v.textBaseline}t.textAlign=p||"left",t.textBaseline=f||"alphabetic";var y=o.textFill,_=o.textStroke;y&&(t.fillStyle=y),_&&(t.strokeStyle=_),t.font=d||"12px sans-serif",t.shadowBlur=o.textShadowBlur,t.shadowColor=o.textShadowColor||"transparent",t.shadowOffsetX=o.textShadowOffsetX,t.shadowOffsetY=o.textShadowOffsetY;var b=s.split("\n");o.textRotation&&(m&&t.translate(m[4],m[5]),t.rotate(o.textRotation),m&&t.translate(-m[4],-m[5]));for(var x=0;x<b.length;x++)y&&t.fillText(b[x],u,l),_&&t.strokeText(b[x],u,l),l+=n.lineHeight;t.restore()}}},t.exports=s},function(t,e,n){"use strict";var i=n(50),r=n(10),o=n(51),a=n(9),s=n(41).devicePixelRatio,u={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},l=[],c=[],h=[],p=[],d=Math.min,f=Math.max,g=Math.cos,m=Math.sin,v=Math.sqrt,y=Math.abs,_="undefined"!=typeof Float32Array,b=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};b.prototype={constructor:b,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=y(1/s/t)||0,this._uy=y(1/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(u.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||this._len<5;return this.addData(u.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,i,r,o){return this.addData(u.C,t,e,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,r,o):this._ctx.bezierCurveTo(t,e,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,n,i){return this.addData(u.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},arc:function(t,e,n,i,r,o){return this.addData(u.A,t,e,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=g(r)*n+t,this._xi=m(r)*n+t,this},arcTo:function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},rect:function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(u.R,t,e,n,i),this},closePath:function(){this.addData(u.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!_||(this.data=new Float32Array(e));for(var n=0;e>n;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;e>r;r++)n+=t[r].len();_&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var r=0;e>r;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(t){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,u=this._xi,l=this._yi,c=t-u,h=e-l,p=v(c*c+h*h),g=u,m=l,y=a.length;for(c/=p,h/=p,0>o&&(o=r+o),o%=r,g-=o*c,m-=o*h;c>0&&t>=g||0>c&&g>=t||0==c&&(h>0&&e>=m||0>h&&m>=e);)i=this._dashIdx,n=a[i],g+=c*n,m+=h*n,this._dashIdx=(i+1)%y,c>0&&u>g||0>c&&g>u||h>0&&l>m||0>h&&m>l||s[i%2?"moveTo":"lineTo"](c>=0?d(g,t):f(g,t),h>=0?d(m,e):f(m,e));c=g-t,h=m-e,this._dashOffset=-v(c*c+h*h)},_dashedBezierTo:function(t,e,n,r,o,a){var s,u,l,c,h,p=this._dashSum,d=this._dashOffset,f=this._lineDash,g=this._ctx,m=this._xi,y=this._yi,_=i.cubicAt,b=0,x=this._dashIdx,w=f.length,k=0;for(0>d&&(d=p+d),d%=p,s=0;1>s;s+=.1)u=_(m,t,n,o,s+.1)-_(m,t,n,o,s),l=_(y,e,r,a,s+.1)-_(y,e,r,a,s),b+=v(u*u+l*l);for(;w>x&&(k+=f[x],!(k>d));x++);for(s=(k-d)/b;1>=s;)c=_(m,t,n,o,s),h=_(y,e,r,a,s),x%2?g.moveTo(c,h):g.lineTo(c,h),s+=f[x]/b,x=(x+1)%w;x%2!==0&&g.lineTo(o,a),u=o-c,l=a-h,this._dashOffset=-v(u*u+l*l)},_dashedQuadraticTo:function(t,e,n,i){var r=n,o=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,_&&(this.data=new Float32Array(t)))},getBoundingRect:function(){l[0]=l[1]=h[0]=h[1]=Number.MAX_VALUE,c[0]=c[1]=p[0]=p[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,i=0,s=0,d=0;d<t.length;){var f=t[d++];switch(1==d&&(e=t[d],n=t[d+1],i=e,s=n),f){case u.M:i=t[d++],s=t[d++],e=i,n=s,h[0]=i,h[1]=s,p[0]=i,p[1]=s;break;case u.L:o.fromLine(e,n,t[d],t[d+1],h,p),e=t[d++],n=t[d++];break;case u.C:o.fromCubic(e,n,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],h,p),e=t[d++],n=t[d++];break;case u.Q:o.fromQuadratic(e,n,t[d++],t[d++],t[d],t[d+1],h,p),e=t[d++],n=t[d++];break;case u.A:var v=t[d++],y=t[d++],_=t[d++],b=t[d++],x=t[d++],w=t[d++]+x,k=(t[d++],1-t[d++]);1==d&&(i=g(x)*_+v,s=m(x)*b+y),o.fromArc(v,y,_,b,x,w,k,h,p),e=g(w)*_+v,n=m(w)*b+y;break;case u.R:i=e=t[d++],s=n=t[d++];var T=t[d++],S=t[d++];o.fromLine(i,s,i+T,s+S,h,p);break;case u.Z:e=i,n=s}r.min(l,l,h),r.max(c,c,p)}return 0===d&&(l[0]=l[1]=c[0]=c[1]=0),new a(l[0],l[1],c[0]-l[0],c[1]-l[1])},rebuildPath:function(t){for(var e,n,i,r,o,a,s=this.data,l=this._ux,c=this._uy,h=this._len,p=0;h>p;){var d=s[p++];switch(1==p&&(i=s[p],r=s[p+1],e=i,n=r),d){case u.M:e=i=s[p++],n=r=s[p++],t.moveTo(i,r);break;case u.L:o=s[p++],a=s[p++],(y(o-i)>l||y(a-r)>c||p===h-1)&&(t.lineTo(o,a),i=o,r=a);break;case u.C:t.bezierCurveTo(s[p++],s[p++],s[p++],s[p++],s[p++],s[p++]),i=s[p-2],r=s[p-1];break;case u.Q:t.quadraticCurveTo(s[p++],s[p++],s[p++],s[p++]),i=s[p-2],r=s[p-1];break;case u.A:var f=s[p++],v=s[p++],_=s[p++],b=s[p++],x=s[p++],w=s[p++],k=s[p++],T=s[p++],S=_>b?_:b,$=_>b?1:_/b,C=_>b?b/_:1,A=Math.abs(_-b)>.001,M=x+w;A?(t.translate(f,v),t.rotate(k),t.scale($,C),t.arc(0,0,S,x,M,1-T),t.scale(1/$,1/C),t.rotate(-k),t.translate(-f,-v)):t.arc(f,v,S,x,M,1-T),1==p&&(e=g(x)*_+f,n=m(x)*b+v),i=g(M)*_+f,r=m(M)*b+v;break;case u.R:e=i=s[p],n=r=s[p+1],t.rect(s[p++],s[p++],s[p++],s[p++]);break;case u.Z:t.closePath(),i=e,r=n}}}},b.CMD=u,t.exports=b},function(t,e,n){"use strict";function i(t){return t>-w&&w>t}function r(t){return t>w||-w>t}function o(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function a(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function s(t,e,n,r,o,a){var s=r+3*(e-n)-t,u=3*(n-2*e+t),l=3*(e-t),c=t-o,h=u*u-3*s*l,p=u*l-9*s*c,d=l*l-3*u*c,f=0;if(i(h)&&i(p))if(i(u))a[0]=0;else{var g=-l/u;g>=0&&1>=g&&(a[f++]=g)}else{var m=p*p-4*h*d;if(i(m)){var v=p/h,g=-u/s+v,y=-v/2;g>=0&&1>=g&&(a[f++]=g),y>=0&&1>=y&&(a[f++]=y)}else if(m>0){var _=x(m),w=h*u+1.5*s*(-p+_),k=h*u+1.5*s*(-p-_);w=0>w?-b(-w,S):b(w,S),k=0>k?-b(-k,S):b(k,S);var g=(-u-(w+k))/(3*s);g>=0&&1>=g&&(a[f++]=g)}else{var $=(2*h*u-3*s*p)/(2*x(h*h*h)),C=Math.acos($)/3,A=x(h),M=Math.cos(C),g=(-u-2*A*M)/(3*s),y=(-u+A*(M+T*Math.sin(C)))/(3*s),I=(-u+A*(M-T*Math.sin(C)))/(3*s);g>=0&&1>=g&&(a[f++]=g),y>=0&&1>=y&&(a[f++]=y),I>=0&&1>=I&&(a[f++]=I)}}return f}function u(t,e,n,o,a){var s=6*n-12*e+6*t,u=9*e+3*o-3*t-9*n,l=3*e-3*t,c=0;if(i(u)){if(r(s)){var h=-l/s;h>=0&&1>=h&&(a[c++]=h)}}else{var p=s*s-4*u*l;if(i(p))a[0]=-s/(2*u);else if(p>0){var d=x(p),h=(-s+d)/(2*u),f=(-s-d)/(2*u);h>=0&&1>=h&&(a[c++]=h),f>=0&&1>=f&&(a[c++]=f)}}return c}function l(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,u=(i-n)*r+n,l=(s-a)*r+a,c=(u-s)*r+s,h=(c-l)*r+l;o[0]=t,o[1]=a,o[2]=l,o[3]=h,o[4]=h,o[5]=c,o[6]=u,o[7]=i}function c(t,e,n,i,r,a,s,u,l,c,h){var p,d,f,g,m,v=.005,y=1/0;$[0]=l,$[1]=c;for(var b=0;1>b;b+=.05)C[0]=o(t,n,r,s,b),C[1]=o(e,i,a,u,b),g=_($,C),y>g&&(p=b,y=g);y=1/0;for(var w=0;32>w&&!(k>v);w++)d=p-v,f=p+v,C[0]=o(t,n,r,s,d),C[1]=o(e,i,a,u,d),g=_(C,$),d>=0&&y>g?(p=d,y=g):(A[0]=o(t,n,r,s,f),A[1]=o(e,i,a,u,f),m=_(A,$),1>=f&&y>m?(p=f,y=m):v*=.5);return h&&(h[0]=o(t,n,r,s,p),h[1]=o(e,i,a,u,p)),x(y)}function h(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function p(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function d(t,e,n,o,a){var s=t-2*e+n,u=2*(e-t),l=t-o,c=0;if(i(s)){if(r(u)){var h=-l/u;h>=0&&1>=h&&(a[c++]=h)}}else{var p=u*u-4*s*l;if(i(p)){var h=-u/(2*s);h>=0&&1>=h&&(a[c++]=h)}else if(p>0){var d=x(p),h=(-u+d)/(2*s),f=(-u-d)/(2*s);h>=0&&1>=h&&(a[c++]=h),f>=0&&1>=f&&(a[c++]=f)}}return c}function f(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function g(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function m(t,e,n,i,r,o,a,s,u){var l,c=.005,p=1/0;$[0]=a,$[1]=s;for(var d=0;1>d;d+=.05){C[0]=h(t,n,r,d),C[1]=h(e,i,o,d);var f=_($,C);p>f&&(l=d,p=f)}p=1/0;for(var g=0;32>g&&!(k>c);g++){var m=l-c,v=l+c;C[0]=h(t,n,r,m),C[1]=h(e,i,o,m);var f=_(C,$);if(m>=0&&p>f)l=m,p=f;else{A[0]=h(t,n,r,v),A[1]=h(e,i,o,v);var y=_(A,$);1>=v&&p>y?(l=v,p=y):c*=.5}}return u&&(u[0]=h(t,n,r,l),u[1]=h(e,i,o,l)),x(p)}var v=n(10),y=v.create,_=v.distSquare,b=Math.pow,x=Math.sqrt,w=1e-8,k=1e-4,T=x(3),S=1/3,$=y(),C=y(),A=y();t.exports={cubicAt:o,cubicDerivativeAt:a,cubicRootAt:s,cubicExtrema:u,cubicSubdivide:l,cubicProjectPoint:c,quadraticAt:h,quadraticDerivativeAt:p,quadraticRootAt:d,quadraticExtremum:f,quadraticSubdivide:g,quadraticProjectPoint:m}},function(t,e,n){var i=n(10),r=n(50),o={},a=Math.min,s=Math.max,u=Math.sin,l=Math.cos,c=i.create(),h=i.create(),p=i.create(),d=2*Math.PI;o.fromPoints=function(t,e,n){if(0!==t.length){var i,r=t[0],o=r[0],u=r[0],l=r[1],c=r[1];for(i=1;i<t.length;i++)r=t[i],o=a(o,r[0]),u=s(u,r[0]),l=a(l,r[1]),c=s(c,r[1]);e[0]=o,e[1]=l,n[0]=u,n[1]=c}},o.fromLine=function(t,e,n,i,r,o){r[0]=a(t,n),r[1]=a(e,i),o[0]=s(t,n),o[1]=s(e,i)};var f=[],g=[];o.fromCubic=function(t,e,n,i,o,u,l,c,h,p){var d,m=r.cubicExtrema,v=r.cubicAt,y=m(t,n,o,l,f);for(h[0]=1/0,h[1]=1/0,p[0]=-1/0,p[1]=-1/0,d=0;y>d;d++){var _=v(t,n,o,l,f[d]);h[0]=a(_,h[0]),p[0]=s(_,p[0])}for(y=m(e,i,u,c,g),d=0;y>d;d++){var b=v(e,i,u,c,g[d]);h[1]=a(b,h[1]),p[1]=s(b,p[1])}h[0]=a(t,h[0]),p[0]=s(t,p[0]),h[0]=a(l,h[0]),p[0]=s(l,p[0]),h[1]=a(e,h[1]),p[1]=s(e,p[1]),h[1]=a(c,h[1]),p[1]=s(c,p[1])},o.fromQuadratic=function(t,e,n,i,o,u,l,c){var h=r.quadraticExtremum,p=r.quadraticAt,d=s(a(h(t,n,o),1),0),f=s(a(h(e,i,u),1),0),g=p(t,n,o,d),m=p(e,i,u,f);l[0]=a(t,o,g),l[1]=a(e,u,m),c[0]=s(t,o,g),c[1]=s(e,u,m)},o.fromArc=function(t,e,n,r,o,a,s,f,g){var m=i.min,v=i.max,y=Math.abs(o-a);if(1e-4>y%d&&y>1e-4)return f[0]=t-n,f[1]=e-r,g[0]=t+n,void(g[1]=e+r);if(c[0]=l(o)*n+t,c[1]=u(o)*r+e,h[0]=l(a)*n+t,h[1]=u(a)*r+e,m(f,c,h),v(g,c,h),o%=d,0>o&&(o+=d),a%=d,0>a&&(a+=d),o>a&&!s?a+=d:a>o&&s&&(o+=d),s){var _=a;a=o,o=_}for(var b=0;a>b;b+=Math.PI/2)b>o&&(p[0]=l(b)*n+t,p[1]=u(b)*r+e,m(f,p,f),v(g,p,g))},t.exports=o},function(t,e,n){"use strict";function i(t,e){return Math.abs(t-e)<_}function r(){var t=x[0];x[0]=x[1],x[1]=t}function o(t,e,n,i,o,a,s,u,l,c){if(c>e&&c>i&&c>a&&c>u||e>c&&i>c&&a>c&&u>c)return 0;var h=g.cubicRootAt(e,i,a,u,c,b);if(0===h)return 0;for(var p,d,f=0,m=-1,v=0;h>v;v++){var y=b[v],_=0===y||1===y?.5:1,w=g.cubicAt(t,n,o,s,y);l>w||(0>m&&(m=g.cubicExtrema(e,i,a,u,x),x[1]<x[0]&&m>1&&r(),p=g.cubicAt(e,i,a,u,x[0]),m>1&&(d=g.cubicAt(e,i,a,u,x[1]))),f+=2==m?y<x[0]?e>p?_:-_:y<x[1]?p>d?_:-_:d>u?_:-_:y<x[0]?e>p?_:-_:p>u?_:-_)}return f}function a(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||e>s&&i>s&&o>s)return 0;var u=g.quadraticRootAt(e,i,o,s,b);if(0===u)return 0;var l=g.quadraticExtremum(e,i,o);if(l>=0&&1>=l){for(var c=0,h=g.quadraticAt(e,i,o,l),p=0;u>p;p++){var d=0===b[p]||1===b[p]?.5:1,f=g.quadraticAt(t,n,r,b[p]);a>f||(c+=b[p]<l?e>h?d:-d:h>o?d:-d)}return c}var d=0===b[0]||1===b[0]?.5:1,f=g.quadraticAt(t,n,r,b[0]);return a>f?0:e>o?d:-d}function s(t,e,n,i,r,o,a,s){if(s-=e,s>n||-n>s)return 0;var u=Math.sqrt(n*n-s*s);b[0]=-u,b[1]=u;var l=Math.abs(i-r);if(1e-4>l)return 0;if(1e-4>l%y){i=0,r=y;var c=o?1:-1;return a>=b[0]+t&&a<=b[1]+t?c:0}if(o){var u=i;i=f(r),r=f(u)}else i=f(i),r=f(r);i>r&&(r+=y);for(var h=0,p=0;2>p;p++){var d=b[p];if(d+t>a){var g=Math.atan2(s,d),c=o?1:-1;0>g&&(g=y+g),(g>=i&&r>=g||g+y>=i&&r>=g+y)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),h+=c)}}return h}function u(t,e,n,r,u){for(var c=0,f=0,g=0,y=0,_=0,b=0;b<t.length;){var x=t[b++];switch(x===l.M&&b>1&&(n||(c+=m(f,g,y,_,r,u))),1==b&&(f=t[b],g=t[b+1],y=f,_=g),x){case l.M:y=t[b++],_=t[b++],f=y,g=_;break;case l.L:if(n){if(v(f,g,t[b],t[b+1],e,r,u))return!0}else c+=m(f,g,t[b],t[b+1],r,u)||0;f=t[b++],g=t[b++];break;case l.C:if(n){if(h.containStroke(f,g,t[b++],t[b++],t[b++],t[b++],t[b],t[b+1],e,r,u))return!0}else c+=o(f,g,t[b++],t[b++],t[b++],t[b++],t[b],t[b+1],r,u)||0;f=t[b++],g=t[b++];break;case l.Q:if(n){if(p.containStroke(f,g,t[b++],t[b++],t[b],t[b+1],e,r,u))return!0}else c+=a(f,g,t[b++],t[b++],t[b],t[b+1],r,u)||0;f=t[b++],g=t[b++];break;case l.A:var w=t[b++],k=t[b++],T=t[b++],S=t[b++],$=t[b++],C=t[b++],A=(t[b++],1-t[b++]),M=Math.cos($)*T+w,I=Math.sin($)*S+k;b>1?c+=m(f,g,M,I,r,u):(y=M,_=I);var D=(r-w)*S/T+w;if(n){if(d.containStroke(w,k,S,$,$+C,A,e,D,u))return!0}else c+=s(w,k,S,$,$+C,A,D,u);f=Math.cos($+C)*T+w,g=Math.sin($+C)*S+k;break;case l.R:y=f=t[b++],_=g=t[b++];var E=t[b++],O=t[b++],M=y+E,I=_+O;if(n){if(v(y,_,M,_,e,r,u)||v(M,_,M,I,e,r,u)||v(M,I,y,I,e,r,u)||v(y,I,y,_,e,r,u))return!0}else c+=m(M,_,M,I,r,u),c+=m(y,I,y,_,r,u);break;case l.Z:if(n){if(v(f,g,y,_,e,r,u))return!0}else c+=m(f,g,y,_,r,u);f=y,g=_}}return n||i(g,_)||(c+=m(f,g,y,_,r,u)||0),0!==c}var l=n(49).CMD,c=n(53),h=n(54),p=n(55),d=n(56),f=n(57).normalizeRadian,g=n(50),m=n(58),v=c.containStroke,y=2*Math.PI,_=1e-4,b=[-1,-1,-1],x=[-1,-1];t.exports={contain:function(t,e,n){return u(t,0,!1,e,n)},containStroke:function(t,e,n,i){return u(t,e,!0,n,i)}}},function(t){t.exports={containStroke:function(t,e,n,i,r,o,a){if(0===r)return!1;var s=r,u=0,l=t;if(a>e+s&&a>i+s||e-s>a&&i-s>a||o>t+s&&o>n+s||t-s>o&&n-s>o)return!1;if(t===n)return Math.abs(o-t)<=s/2;u=(e-i)/(t-n),l=(t*i-n*e)/(t-n);var c=u*o-a+l,h=c*c/(u*u+1);return s/2*s/2>=h}}},function(t,e,n){var i=n(50);t.exports={containStroke:function(t,e,n,r,o,a,s,u,l,c,h){if(0===l)return!1;var p=l;if(h>e+p&&h>r+p&&h>a+p&&h>u+p||e-p>h&&r-p>h&&a-p>h&&u-p>h||c>t+p&&c>n+p&&c>o+p&&c>s+p||t-p>c&&n-p>c&&o-p>c&&s-p>c)return!1;var d=i.cubicProjectPoint(t,e,n,r,o,a,s,u,c,h,null);return p/2>=d}}},function(t,e,n){var i=n(50);t.exports={containStroke:function(t,e,n,r,o,a,s,u,l){if(0===s)return!1;var c=s;if(l>e+c&&l>r+c&&l>a+c||e-c>l&&r-c>l&&a-c>l||u>t+c&&u>n+c&&u>o+c||t-c>u&&n-c>u&&o-c>u)return!1;var h=i.quadraticProjectPoint(t,e,n,r,o,a,u,l,null);return c/2>=h}}},function(t,e,n){var i=n(57).normalizeRadian,r=2*Math.PI;t.exports={containStroke:function(t,e,n,o,a,s,u,l,c){if(0===u)return!1;var h=u;l-=t,c-=e;var p=Math.sqrt(l*l+c*c);if(p-h>n||n>p+h)return!1;if(Math.abs(o-a)%r<1e-4)return!0;if(s){var d=o;o=i(a),a=i(d)}else o=i(o),a=i(a);o>a&&(a+=r);var f=Math.atan2(c,l);return 0>f&&(f+=r),f>=o&&a>=f||f+r>=o&&a>=f+r}}},function(t){var e=2*Math.PI;t.exports={normalizeRadian:function(t){return t%=e,0>t&&(t+=e),t}}},function(t){t.exports=function(t,e,n,i,r,o){if(o>e&&o>i||e>o&&i>o)return 0;if(i===e)return 0;var a=e>i?1:-1,s=(o-e)/(i-e);(1===s||0===s)&&(a=e>i?.5:-.5);var u=s*(n-t)+t;return u>r?a:0}},function(t){var e=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};e.prototype.getCanvasPattern=function(t){return this._canvasPattern||(this._canvasPattern=t.createPattern(this.image,this.repeat))},t.exports=e},function(t,e,n){function i(t,e){var n,i,o,c,h,p,d=t.data,f=r.M,g=r.C,m=r.L,v=r.R,y=r.A,_=r.Q;for(o=0,c=0;o<d.length;){switch(n=d[o++],c=o,i=0,n){case f:i=1;break;case m:i=1;break;case g:i=3;break;case _:i=2;break;case y:var b=e[4],x=e[5],w=u(e[0]*e[0]+e[1]*e[1]),k=u(e[2]*e[2]+e[3]*e[3]),T=l(-e[1]/k,e[0]/w);d[o++]+=b,d[o++]+=x,d[o++]*=w,d[o++]*=k,d[o++]+=T,d[o++]+=T,o+=2,c=o;break;case v:p[0]=d[o++],p[1]=d[o++],a(p,p,e),d[c++]=p[0],d[c++]=p[1],p[0]+=d[o++],p[1]+=d[o++],a(p,p,e),d[c++]=p[0],d[c++]=p[1]}for(h=0;i>h;h++){var p=s[h];p[0]=d[o++],p[1]=d[o++],a(p,p,e),d[c++]=p[0],d[c++]=p[1]}}}var r=n(49).CMD,o=n(10),a=o.applyTransform,s=[[],[],[]],u=Math.sqrt,l=Math.atan2;t.exports=i},function(t){var e=function(t){this.colorStops=t||[]};e.prototype={constructor:e,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}},t.exports=e},function(t,e,n){function i(t){r.call(this,t)}var r=n(46),o=n(9),a=n(4),s=n(63),u=new s(50);i.prototype={constructor:i,type:"image",brush:function(t,e){var n,i=this.style,r=i.image;if(i.bind(t,this,e),n="string"==typeof r?this._image:r,!n&&r){var o=u.get(r);if(!o)return n=new Image,n.onload=function(){n.onload=null;for(var t=0;t<o.pending.length;t++)o.pending[t].dirty()},o={image:n,pending:[this]},n.src=r,u.put(r,o),void(this._image=n);if(n=o.image,this._image=n,!n.width||!n.height)return void o.pending.push(this)}if(n){var a=i.width||n.width,s=i.height||n.height,l=i.x||0,c=i.y||0;if(!n.width||!n.height)return;if(this.setTransform(t),i.sWidth&&i.sHeight){var h=i.sx||0,p=i.sy||0;t.drawImage(n,h,p,i.sWidth,i.sHeight,l,c,a,s)}else if(i.sx&&i.sy){var h=i.sx,p=i.sy,d=a-h,f=s-p;t.drawImage(n,h,p,d,f,l,c,a,s)}else t.drawImage(n,l,c,a,s);null==i.width&&(i.width=a),null==i.height&&(i.height=s),this.restoreTransform(t),null!=i.text&&this.drawRectText(t,this.getBoundingRect())}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new o(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},a.inherits(i,r),t.exports=i},function(t){var e=function(){this.head=null,this.tail=null,this._len=0},n=e.prototype;n.insert=function(t){var e=new i(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len};var i=function(t){this.value=t,this.next,this.prev},r=function(t){this._list=new e,this._map={},this._maxSize=t||10},o=r.prototype;o.put=function(t,e){var n=this._list,i=this._map;if(null==i[t]){var r=n.len();if(r>=this._maxSize&&r>0){var o=n.head;n.remove(o),delete i[o.key]}var a=n.insert(e);a.key=t,i[t]=a}},o.get=function(t){var e=this._map[t],n=this._list;return null!=e?(e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value):void 0},o.clear=function(){this._list.clear(),this._map={}},t.exports=r},function(t,e,n){var i=n(46),r=n(4),o=n(8),a=function(t){i.call(this,t)};a.prototype={constructor:a,type:"text",brush:function(t,e){var n=this.style,i=n.x||0,r=n.y||0,a=n.text;if(null!=a&&(a+=""),n.bind(t,this,e),a){this.setTransform(t);var s,u=n.textAlign,l=n.textFont||n.font;if(n.textVerticalAlign){var c=o.getBoundingRect(a,l,n.textAlign,"top");
switch(s="middle",n.textVerticalAlign){case"middle":r-=c.height/2-c.lineHeight/2;break;case"bottom":r-=c.height-c.lineHeight/2;break;default:r+=c.lineHeight/2}}else s=n.textBaseline;t.font=l||"12px sans-serif",t.textAlign=u||"left",t.textAlign!==u&&(t.textAlign="left"),t.textBaseline=s||"alphabetic",t.textBaseline!==s&&(t.textBaseline="alphabetic");for(var h=o.measureText("",t.font).width,p=a.split("\n"),d=0;d<p.length;d++)n.hasFill()&&t.fillText(p[d],i,r),n.hasStroke()&&t.strokeText(p[d],i,r),r+=h;this.restoreTransform(t)}},getBoundingRect:function(){if(!this._rect){var t=this.style,e=t.textVerticalAlign,n=o.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,e?"top":t.textBaseline);switch(e){case"middle":n.y-=n.height/2;break;case"bottom":n.y-=n.height}n.x+=t.x||0,n.y+=t.y||0,this._rect=n}return this._rect}},r.inherits(a,i),t.exports=a},function(t,e,n){"use strict";t.exports=n(45).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}})},function(t,e,n){t.exports=n(45).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,u=e.clockwise,l=Math.cos(a),c=Math.sin(a);t.moveTo(l*r+n,c*r+i),t.lineTo(l*o+n,c*o+i),t.arc(n,i,o,a,s,!u),t.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&t.arc(n,i,r,s,a,u),t.closePath()}})},function(t,e,n){t.exports=n(45).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)}})},function(t,e,n){var i=n(69);t.exports=n(45).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){i.buildPath(t,e,!0)}})},function(t,e,n){var i=n(70),r=n(71);t.exports={buildPath:function(t,e,n){var o=e.points,a=e.smooth;if(o&&o.length>=2){if(a&&"spline"!==a){var s=r(o,a,n,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var u=o.length,l=0;(n?u:u-1)>l;l++){var c=s[2*l],h=s[2*l+1],p=o[(l+1)%u];t.bezierCurveTo(c[0],c[1],h[0],h[1],p[0],p[1])}}else{"spline"===a&&(o=i(o,n)),t.moveTo(o[0][0],o[0][1]);for(var l=1,d=o.length;d>l;l++)t.lineTo(o[l][0],o[l][1])}n&&t.closePath()}}}},function(t,e,n){function i(t,e,n,i,r,o,a){var s=.5*(n-t),u=.5*(i-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*r+e}var r=n(10);t.exports=function(t,e){for(var n=t.length,o=[],a=0,s=1;n>s;s++)a+=r.distance(t[s-1],t[s]);var u=a/2;u=n>u?n:u;for(var s=0;u>s;s++){var l,c,h,p=s/(u-1)*(e?n:n-1),d=Math.floor(p),f=p-d,g=t[d%n];e?(l=t[(d-1+n)%n],c=t[(d+1)%n],h=t[(d+2)%n]):(l=t[0===d?d:d-1],c=t[d>n-2?n-1:d+1],h=t[d>n-3?n-1:d+2]);var m=f*f,v=f*m;o.push([i(l[0],g[0],c[0],h[0],f,m,v),i(l[1],g[1],c[1],h[1],f,m,v)])}return o}},function(t,e,n){var i=n(10),r=i.min,o=i.max,a=i.scale,s=i.distance,u=i.add;t.exports=function(t,e,n,l){var c,h,p,d,f=[],g=[],m=[],v=[];if(l){p=[1/0,1/0],d=[-1/0,-1/0];for(var y=0,_=t.length;_>y;y++)r(p,p,t[y]),o(d,d,t[y]);r(p,p,l[0]),o(d,d,l[1])}for(var y=0,_=t.length;_>y;y++){var b=t[y];if(n)c=t[y?y-1:_-1],h=t[(y+1)%_];else{if(0===y||y===_-1){f.push(i.clone(t[y]));continue}c=t[y-1],h=t[y+1]}i.sub(g,h,c),a(g,g,e);var x=s(b,c),w=s(b,h),k=x+w;0!==k&&(x/=k,w/=k),a(m,g,-x),a(v,g,w);var T=u([],b,m),S=u([],b,v);l&&(o(T,T,p),r(T,T,d),o(S,S,p),r(S,S,d)),f.push(T),f.push(S)}return n&&f.push(f.shift()),f}},function(t,e,n){var i=n(69);t.exports=n(45).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){i.buildPath(t,e,!1)}})},function(t,e,n){var i=n(74);t.exports=n(45).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,o=e.width,a=e.height;e.r?i.buildPath(t,e):t.rect(n,r,o,a),t.closePath()}})},function(t){t.exports={buildPath:function(t,e){var n,i,r,o,a=e.x,s=e.y,u=e.width,l=e.height,c=e.r;0>u&&(a+=u,u=-u),0>l&&(s+=l,l=-l),"number"==typeof c?n=i=r=o=c:c instanceof Array?1===c.length?n=i=r=o=c[0]:2===c.length?(n=r=c[0],i=o=c[1]):3===c.length?(n=c[0],i=o=c[1],r=c[2]):(n=c[0],i=c[1],r=c[2],o=c[3]):n=i=r=o=0;var h;n+i>u&&(h=n+i,n*=u/h,i*=u/h),r+o>u&&(h=r+o,r*=u/h,o*=u/h),i+r>l&&(h=i+r,i*=l/h,r*=l/h),n+o>l&&(h=n+o,n*=l/h,o*=l/h),t.moveTo(a+n,s),t.lineTo(a+u-i,s),0!==i&&t.quadraticCurveTo(a+u,s,a+u,s+i),t.lineTo(a+u,s+l-r),0!==r&&t.quadraticCurveTo(a+u,s+l,a+u-r,s+l),t.lineTo(a+o,s+l),0!==o&&t.quadraticCurveTo(a,s+l,a,s+l-o),t.lineTo(a,s+n),0!==n&&t.quadraticCurveTo(a,s,a+n,s)}}},function(t,e,n){t.exports=n(45).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.percent;0!==a&&(t.moveTo(n,i),1>a&&(r=n*(1-a)+r*a,o=i*(1-a)+o*a),t.lineTo(r,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}})},function(t,e,n){"use strict";function i(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?h:l)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?h:l)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?c:u)(t.x1,t.cpx1,t.x2,e),(n?c:u)(t.y1,t.cpy1,t.y2,e)]}var r=n(50),o=n(10),a=r.quadraticSubdivide,s=r.cubicSubdivide,u=r.quadraticAt,l=r.cubicAt,c=r.quadraticDerivativeAt,h=r.cubicDerivativeAt,p=[];t.exports=n(45).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,u=e.cpx1,l=e.cpy1,c=e.cpx2,h=e.cpy2,d=e.percent;0!==d&&(t.moveTo(n,i),null==c||null==h?(1>d&&(a(n,u,r,d,p),u=p[1],r=p[2],a(i,l,o,d,p),l=p[1],o=p[2]),t.quadraticCurveTo(u,l,r,o)):(1>d&&(s(n,u,c,r,d,p),u=p[1],c=p[2],r=p[3],s(i,l,h,o,d,p),l=p[1],h=p[2],o=p[3]),t.bezierCurveTo(u,l,c,h,r,o)))},pointAt:function(t){return i(this.shape,t,!1)},tangentAt:function(t){var e=i(this.shape,t,!0);return o.normalize(e,e)}})},function(t,e,n){t.exports=n(45).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,u=Math.cos(o),l=Math.sin(o);t.moveTo(u*r+n,l*r+i),t.arc(n,i,r,o,a,!s)}})},function(t,e,n){var i=n(45);t.exports=i.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths,e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),i.prototype.getBoundingRect.call(this)}})},function(t,e,n){"use strict";var i=n(4),r=n(61),o=function(t,e,n,i,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=a||!1,r.call(this,o)};o.prototype={constructor:o},i.inherits(o,r),t.exports=o},function(t,e,n){"use strict";var i=n(4),r=n(61),o=function(t,e,n,i,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=o||!1,r.call(this,i)};o.prototype={constructor:o},i.inherits(o,r),t.exports=o},function(t,e,n){function i(t){delete p[t]}/*!
	 * ZRender, a high performance 2d drawing library.
	 *
	 * Copyright (c) 2013, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
	 */
var r=n(32),o=n(2),a=n(82),s=n(84),u=n(86),l=n(89),c=!o.canvasSupported,h={canvas:n(91)},p={},d={};d.version="3.1.3",d.init=function(t,e){var n=new f(r(),t,e);return p[n.id]=n,n},d.dispose=function(t){if(t)t.dispose();else{for(var e in p)p[e].dispose();p={}}return d},d.getInstance=function(t){return p[t]},d.registerPainter=function(t,e){h[t]=e};var f=function(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,r=new s,p=n.renderer;if(c){if(!h.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");p="vml"}else p&&h[p]||(p="canvas");var d=new h[p](e,r,n);this.storage=r,this.painter=d;var f=o.node?null:new l(d.getViewportRoot());this.handler=new a(r,d,f),this.animation=new u({stage:{update:function(){i._needsRefresh&&i.refreshImmediately(),i._needsRefreshHover&&i.refreshHoverImmediately()}}}),this.animation.start(),this._needsRefresh;var g=r.delFromMap,m=r.addToMap;r.delFromMap=function(t){var e=r.get(t);g.call(r,t),e&&e.removeSelfFromZr(i)},r.addToMap=function(t){m.call(r,t),t.addSelfToZr(i)}};f.prototype={constructor:f,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(){this.painter.resize(),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e,n){var i=r();return this.painter.pathToImage(i,t,e,n)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,i(this.id)}},t.exports=d},function(t,e,n){"use strict";function i(t,e,n){return{type:t,event:n,target:e,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta}}function r(){}function o(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i=t;i;){if(i.silent||i.clipPath&&!i.clipPath.contain(e,n))return!1;i=i.parent}return!0}return!1}var a=n(4),s=n(83),u=n(33);r.prototype.dispose=function(){};var l=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove"],c=function(t,e,n){u.call(this),this.storage=t,this.painter=e,n=n||new r,this.proxy=n,n.handler=this,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,s.call(this),a.each(l,function(t){n.on&&n.on(t,this[t],this)},this)};c.prototype={constructor:c,mousemove:function(t){var e=t.zrX,n=t.zrY,i=this.findHover(e,n,null),r=this._hovered,o=this.proxy;this._hovered=i,o.setCursor&&o.setCursor(i?i.cursor:"default"),r&&i!==r&&r.__zr&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(i,"mousemove",t),i&&i!==r&&this.dispatchToElement(i,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t),this.trigger("globalout",{event:t})},resize:function(){this._hovered=null},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){for(var r="on"+e,o=i(e,t,n),a=t;a&&(a[r]&&(o.cancelBubble=a[r].call(a,o)),a.trigger(e,o),a=a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)}))},findHover:function(t,e,n){for(var i=this.storage.getDisplayList(),r=i.length-1;r>=0;r--)if(!i[r].silent&&i[r]!==n&&!i[r].ignore&&o(i[r],t,e))return i[r]}},a.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(t){c.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY,null);if("mousedown"===t)this._downel=n,this._upel=n;else if("mosueup"===t)this._upel=n;else if("click"===t&&this._downel!==this._upel)return;this.dispatchToElement(n,t,e)}}),a.mixin(c,u),a.mixin(c,s),t.exports=c},function(t){function e(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}e.prototype={constructor:e,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(e,"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(r,o,t),this.dispatchToElement(e,"drag",t.event);var a=this.findHover(n,i,e),s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.dispatchToElement(s,"dragleave",t.event),a&&a!==s&&this.dispatchToElement(a,"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(e,"dragend",t.event),this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",t.event),this._draggingTarget=null,this._dropTarget=null}},t.exports=e},function(t,e,n){"use strict";function i(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var r=n(4),o=n(2),a=n(30),s=n(85),u=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};u.prototype={constructor:u,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,a=e.length;a>r;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,o.canvasSupported&&s(n,i)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i&&(i.parent=t,i.updateTransform(),e?(e=e.slice(),e.push(i)):e=[i]),t.isGroup){for(var r=t._children,o=0;o<r.length;o++){var a=r[o];t.__dirty&&(a.__dirty=!0),this._updateAndAddDisplayable(a,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){this._elements[t.id]||(t instanceof a&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof a&&n.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,i=t.length;i>e;e++)this.delRoot(t[e]);else{var o;o="string"==typeof t?this._elements[t]:t;var s=r.indexOf(this._roots,o);s>=0&&(this.delFromMap(o.id),this._roots.splice(s,1),o instanceof a&&o.delChildrenFromStorage(this))}},addToMap:function(t){return t instanceof a&&(t.__storage=this),t.dirty(!1),this._elements[t.id]=t,this},get:function(t){return this._elements[t]},delFromMap:function(t){var e=this._elements,n=e[t];return n&&(delete e[t],n instanceof a&&(n.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:i},t.exports=u},function(t){function e(t){for(var e=0;t>=l;)e|=1&t,t>>=1;return t+e}function n(t,e,n,r){var o=e+1;if(o===n)return 1;if(r(t[o++],t[e])<0){for(;n>o&&r(t[o],t[o-1])<0;)o++;i(t,e,o)}else for(;n>o&&r(t[o],t[o-1])>=0;)o++;return o-e}function i(t,e,n){for(n--;n>e;){var i=t[e];t[e++]=t[n],t[n--]=i}}function r(t,e,n,i,r){for(i===e&&i++;n>i;i++){for(var o,a=t[i],s=e,u=i;u>s;)o=s+u>>>1,r(a,t[o])<0?u=o:s=o+1;var l=i-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function o(t,e,n,i,r,o){var a=0,s=0,u=1;if(o(t,e[n+r])>0){for(s=i-r;s>u&&o(t,e[n+r+u])>0;)a=u,u=(u<<1)+1,0>=u&&(u=s);u>s&&(u=s),a+=r,u+=r}else{for(s=r+1;s>u&&o(t,e[n+r-u])<=0;)a=u,u=(u<<1)+1,0>=u&&(u=s);u>s&&(u=s);var l=a;a=r-u,u=r-l}for(a++;u>a;){var c=a+(u-a>>>1);o(t,e[n+c])>0?a=c+1:u=c}return u}function a(t,e,n,i,r,o){var a=0,s=0,u=1;if(o(t,e[n+r])<0){for(s=r+1;s>u&&o(t,e[n+r-u])<0;)a=u,u=(u<<1)+1,0>=u&&(u=s);u>s&&(u=s);var l=a;a=r-u,u=r-l}else{for(s=i-r;s>u&&o(t,e[n+r+u])>=0;)a=u,u=(u<<1)+1,0>=u&&(u=s);u>s&&(u=s),a+=r,u+=r}for(a++;u>a;){var c=a+(u-a>>>1);o(t,e[n+c])<0?u=c:a=c+1}return u}function s(t,e){function n(t,e){p[y]=t,d[y]=e,y+=1}function i(){for(;y>1;){var t=y-2;if(t>=1&&d[t-1]<=d[t]+d[t+1]||t>=2&&d[t-2]<=d[t]+d[t-1])d[t-1]<d[t+1]&&t--;else if(d[t]>d[t+1])break;s(t)}}function r(){for(;y>1;){var t=y-2;t>0&&d[t-1]<d[t+1]&&t--,s(t)}}function s(n){var i=p[n],r=d[n],s=p[n+1],c=d[n+1];d[n]=r+c,n===y-3&&(p[n+1]=p[n+2],d[n+1]=d[n+2]),y--;var h=a(t[s],t,i,r,0,e);i+=h,r-=h,0!==r&&(c=o(t[i+r-1],t,s,c,c-1,e),0!==c&&(c>=r?u(i,r,s,c):l(i,r,s,c)))}function u(n,i,r,s){var u=0;for(u=0;i>u;u++)_[u]=t[n+u];var l=0,h=r,p=n;if(t[p++]=t[h++],0!==--s){if(1===i){for(u=0;s>u;u++)t[p+u]=t[h+u];return void(t[p+s]=_[l])}for(var d,g,m,v=f;;){d=0,g=0,m=!1;do if(e(t[h],_[l])<0){if(t[p++]=t[h++],g++,d=0,0===--s){m=!0;break}}else if(t[p++]=_[l++],d++,g=0,1===--i){m=!0;break}while(v>(d|g));if(m)break;do{if(d=a(t[h],_,l,i,0,e),0!==d){for(u=0;d>u;u++)t[p+u]=_[l+u];if(p+=d,l+=d,i-=d,1>=i){m=!0;break}}if(t[p++]=t[h++],0===--s){m=!0;break}if(g=o(_[l],t,h,s,0,e),0!==g){for(u=0;g>u;u++)t[p+u]=t[h+u];if(p+=g,h+=g,s-=g,0===s){m=!0;break}}if(t[p++]=_[l++],1===--i){m=!0;break}v--}while(d>=c||g>=c);if(m)break;0>v&&(v=0),v+=2}if(f=v,1>f&&(f=1),1===i){for(u=0;s>u;u++)t[p+u]=t[h+u];t[p+s]=_[l]}else{if(0===i)throw new Error;for(u=0;i>u;u++)t[p+u]=_[l+u]}}else for(u=0;i>u;u++)t[p+u]=_[l+u]}function l(n,i,r,s){var u=0;for(u=0;s>u;u++)_[u]=t[r+u];var l=n+i-1,h=s-1,p=r+s-1,d=0,g=0;if(t[p--]=t[l--],0!==--i){if(1===s){for(p-=i,l-=i,g=p+1,d=l+1,u=i-1;u>=0;u--)t[g+u]=t[d+u];return void(t[p]=_[h])}for(var m=f;;){var v=0,y=0,b=!1;do if(e(_[h],t[l])<0){if(t[p--]=t[l--],v++,y=0,0===--i){b=!0;break}}else if(t[p--]=_[h--],y++,v=0,1===--s){b=!0;break}while(m>(v|y));if(b)break;do{if(v=i-a(_[h],t,n,i,i-1,e),0!==v){for(p-=v,l-=v,i-=v,g=p+1,d=l+1,u=v-1;u>=0;u--)t[g+u]=t[d+u];if(0===i){b=!0;break}}if(t[p--]=_[h--],1===--s){b=!0;break}if(y=s-o(t[l],_,0,s,s-1,e),0!==y){for(p-=y,h-=y,s-=y,g=p+1,d=h+1,u=0;y>u;u++)t[g+u]=_[d+u];if(1>=s){b=!0;break}}if(t[p--]=t[l--],0===--i){b=!0;break}m--}while(v>=c||y>=c);if(b)break;0>m&&(m=0),m+=2}if(f=m,1>f&&(f=1),1===s){for(p-=i,l-=i,g=p+1,d=l+1,u=i-1;u>=0;u--)t[g+u]=t[d+u];t[p]=_[h]}else{if(0===s)throw new Error;for(d=p-(s-1),u=0;s>u;u++)t[d+u]=_[u]}}else for(d=p-(s-1),u=0;s>u;u++)t[d+u]=_[u]}var p,d,f=c,g=0,m=h,v=0,y=0;g=t.length,2*h>g&&(m=g>>>1);var _=[];v=120>g?5:1542>g?10:119151>g?19:40,p=[],d=[],this.mergeRuns=i,this.forceMergeRuns=r,this.pushRun=n}function u(t,i,o,a){o||(o=0),a||(a=t.length);var u=a-o;if(!(2>u)){var c=0;if(l>u)return c=n(t,o,a,i),void r(t,o,a,o+c,i);var h=new s(t,i),p=e(u);do{if(c=n(t,o,a,i),p>c){var d=u;d>p&&(d=p),r(t,o,o+d,o+c,i),c=d}h.pushRun(o,c),h.mergeRuns(),u-=c,o+=c}while(0!==u);h.forceMergeRuns()}}var l=32,c=7,h=256;t.exports=u},function(t,e,n){"use strict";var i=n(4),r=n(87).Dispatcher,o=n(88),a=n(36),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,r.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=i.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,r=[],o=[],a=0;i>a;a++){var s=n[a],u=s.step(t);u&&(r.push(u),o.push(s))}for(var a=0;i>a;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;i=r.length;for(var a=0;i>a;a++)o[a].fire(r[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(o(t),!e._paused&&e._update())}var e=this;this._running=!0,o(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var n=new a(t,e.loop,e.getter,e.setter);return n}},i.mixin(s,r),t.exports=s},function(t,e,n){"use strict";function i(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function r(t,e,n){var r=i(t);return n=n||{},n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top,n}function o(t,e){if(e=e||window.event,null!=e.zrX)return e;var n=e.type,i=n&&n.indexOf("touch")>=0;if(i){var o="touchend"!=n?e.targetTouches[0]:e.changedTouches[0];o&&r(t,o,e)}else r(t,e,e),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;return e}function a(t,e,n){l?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function s(t,e,n){l?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}var u=n(33),l="undefined"!=typeof window&&!!window.addEventListener,c=l?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};t.exports={clientToLocal:r,normalizeEvent:o,addEventListener:a,removeEventListener:s,stop:c,Dispatcher:u}},function(t){t.exports="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)}},function(t,e,n){function i(t){return"mousewheel"===t&&p.browser.firefox?"DOMMouseScroll":t}function r(t,e,n){var i=t._gestureMgr;"start"===n&&i.clear();var r=i.recognize(e,t.handler.findHover(e.zrX,e.zrY,null),t.dom);if("end"===n&&i.clear(),r){var o=r.type;e.gestureEvent=o,t.handler.dispatchToElement(r.target,o,r.event)}}function o(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function a(){return p.touchEventsSupported}function s(t){function e(t,e){return function(){return e._touching?void 0:t.apply(e,arguments)}}for(var n=0;n<_.length;n++){var i=_[n];t._handlers[i]=c.bind(b[i],t)}for(var n=0;n<y.length;n++){var i=y[n];t._handlers[i]=e(b[i],t)}}function u(t){function e(e,n){c.each(e,function(e){f(t,i(e),n._handlers[e])},n)}h.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new d,this._handlers={},s(this),a()&&e(_,this),e(y,this)}var l=n(87),c=n(4),h=n(33),p=n(2),d=n(90),f=l.addEventListener,g=l.removeEventListener,m=l.normalizeEvent,v=300,y=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove"],_=["touchstart","touchend","touchmove"],b={mousemove:function(t){t=m(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){t=m(this.dom,t);var e=t.toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){t=m(this.dom,t),this._lastTouchMoment=new Date,r(this,t,"start"),b.mousemove.call(this,t),b.mousedown.call(this,t),o(this)},touchmove:function(t){t=m(this.dom,t),r(this,t,"change"),b.mousemove.call(this,t),o(this)},touchend:function(t){t=m(this.dom,t),r(this,t,"end"),b.mouseup.call(this,t),+new Date-this._lastTouchMoment<v&&b.click.call(this,t),o(this)}};c.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(t){b[t]=function(e){e=m(this.dom,e),this.trigger(t,e)}});var x=u.prototype;x.dispose=function(){for(var t=y.concat(_),e=0;e<t.length;e++){var n=t[e];g(this.dom,i(n),this._handlers[n])}},x.setCursor=function(t){this.dom.style.cursor=t||"default"},c.mixin(u,h),t.exports=u},function(t,e,n){"use strict";function i(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function r(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var o=n(87),a=function(){this._track=[]};a.prototype={constructor:a,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},a=0,s=i.length;s>a;a++){var u=i[a],l=o.clientToLocal(n,u);r.points.push([l.zrX,l.zrY]),r.touches.push(u)}this._track.push(r)}},_recognize:function(t){for(var e in s)if(s.hasOwnProperty(e)){var n=s[e](this._track,t);if(n)return n}}};var s={pinch:function(t,e){var n=t.length;if(n){var o=(t[n-1]||{}).points,a=(t[n-2]||{}).points||o;if(a&&a.length>1&&o&&o.length>1){var s=i(o)/i(a);!isFinite(s)&&(s=1),e.pinchScale=s;var u=r(o);return e.pinchX=u[0],e.pinchY=u[1],{type:"pinch",target:t[0].target,event:e}}}}};t.exports=a},function(t,e,n){"use strict";function i(t){return parseInt(t,10)}function r(t){return t?t.isBuildin?!0:"function"!=typeof t.resize||"function"!=typeof t.refresh?!1:!0:!1}function o(t){t.__unusedCount++}function a(t){1==t.__unusedCount&&t.clear()}function s(t,e,n){return _.copy(t.getBoundingRect()),t.transform&&_.applyTransform(t.transform),b.width=e,b.height=n,!_.intersect(b)}function u(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}function l(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i.path;i.setTransform(e),r.beginPath(e),i.buildPath(r,i.shape),e.clip(),i.restoreTransform(e)}}function c(t,e){var n=document.createElement("div"),i=n.style;return i.position="relative",i.overflow="hidden",i.width=t+"px",i.height=e+"px",n}var h=n(41),p=n(4),d=n(40),f=n(9),g=n(85),m=n(92),v=n(88),y=5,_=new f(0,0,0,0),b=new f(0,0,0,0),x=function(t,e,n){var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();n=n||{},this.dpr=n.devicePixelRatio||h.devicePixelRatio,this._singleCanvas=i,this.root=t;var r=t.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},i){var s=t.width,u=t.height;this._width=s,this._height=u;var l=new m(t,this,1);l.initContext(),a[0]=l,o.push(0)}else{this._width=this._getWidth(),this._height=this._getHeight();var p=this._domRoot=c(this._width,this._height);t.appendChild(p)}this.pathToImage=this._createPathToImage(),this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};x.prototype={constructor:x,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(e,t);for(var i=0;i<n.length;i++){var r=n[i],o=this._layers[r];!o.isBuildin&&o.refresh&&o.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape});n.__from=t,t.__hoverMir=n,n.setStyle(e),this._hoverElements.push(n)}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,i=p.indexOf(n,e);i>=0&&n.splice(i,1),t.__hoverMir=null},clearHover:function(){for(var t=this._hoverElements,e=0;e<t.length;e++){var n=t[e].__from;n&&(n.__hoverMir=null)}t.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){g(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var r=0;e>r;){var o=t[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,i))):(t.splice(r,1),a.__hoverMir=null,e--)}n.ctx.restore()}},_startProgessive:function(){function t(){n===e._progressiveToken&&e.storage&&(e._doPaintList(e.storage.getDisplayList()),e._furtherProgressive?(e._progress++,v(t)):e._progressiveToken=-1)}var e=this;if(e._furtherProgressive){var n=e._progressiveToken=+new Date;e._progress++,v(t)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,p.each(this._progressiveLayers,function(t){t.__dirty&&t.clear()})},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t),this._clearProgressive(),this.eachBuildinLayer(o),this._doPaintList(t,e),this.eachBuildinLayer(a)},_doPaintList:function(t,e){function n(t){var e=o.dpr||1;o.save(),o.globalAlpha=1,o.shadowBlur=0,i.__dirty=!0,o.setTransform(1,0,0,1,0,0),o.drawImage(t.dom,0,0,c*e,h*e),o.restore()}for(var i,r,o,a,s,u,l=0,c=this._width,h=this._height,f=this._progress,g=0,m=t.length;m>g;g++){var v=t[g],_=this._singleCanvas?0:v.zlevel,b=v.__frame;if(0>b&&s&&(n(s),s=null),r!==_&&(o&&o.restore(),a={},r=_,i=this.getLayer(r),i.isBuildin||d("ZLevel "+r+" has been used by unkown layer "+i.id),o=i.ctx,o.save(),i.__unusedCount=0,(i.__dirty||e)&&i.clear()),i.__dirty||e){if(b>=0){if(!s){if(s=this._progressiveLayers[Math.min(l++,y-1)],s.ctx.save(),s.renderScope={},s&&s.__progress>s.__maxProgress){g=s.__nextIdxNotProg-1;continue}u=s.__progress,s.__dirty||(f=u),s.__progress=f+1}b===f&&this._doPaintEl(v,s,!0,s.renderScope)}else this._doPaintEl(v,i,e,a);v.__dirty=!1}}s&&n(s),o&&o.restore(),this._furtherProgressive=!1,p.each(this._progressiveLayers,function(t){t.__maxProgress>=t.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(t,e,n,i){var r=e.ctx,o=t.transform;if(!(!e.__dirty&&!n||t.invisible||0===t.style.opacity||o&&!o[0]&&!o[3]||t.culling&&s(t,this._width,this._height))){var a=t.__clipPaths;(i.prevClipLayer!==e||u(a,i.prevElClipPaths))&&(i.prevElClipPaths&&(i.prevClipLayer.ctx.restore(),i.prevClipLayer=i.prevElClipPaths=null,i.prevEl=null),a&&(r.save(),l(a,r),i.prevClipLayer=e,i.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(r),t.brush(r,i.prevEl||null),i.prevEl=t,t.afterBrush&&t.afterBrush(r)}},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||(e=new m("zr_"+t,this,this.dpr),e.isBuildin=!0,this._layerConfig[t]&&p.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var n=this._layers,i=this._zlevelList,o=i.length,a=null,s=-1,u=this._domRoot;if(n[t])return void d("ZLevel "+t+" has been used already");if(!r(e))return void d("Layer of zlevel "+t+" is not valid");if(o>0&&t>i[0]){for(s=0;o-1>s&&!(i[s]<t&&i[s+1]>t);s++);a=n[i[s]]}if(i.splice(s+1,0,t),a){var l=a.dom;l.nextSibling?u.insertBefore(e.dom,l.nextSibling):u.appendChild(e.dom)}else u.firstChild?u.insertBefore(e.dom,u.firstChild):u.appendChild(e.dom);n[t]=e},eachLayer:function(t,e){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],t.call(e,this._layers[n],n)},eachBuildinLayer:function(t,e){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],n=this._layers[i],n.isBuildin&&t.call(e,n,i)},eachOtherLayer:function(t,e){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],n=this._layers[i],n.isBuildin||t.call(e,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,n=this._progressiveLayers,i={},r={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0,t.__dirty=!1}),p.each(n,function(t,e){r[e]=t.elCount,t.elCount=0,t.__dirty=!1});for(var o,a,s=0,u=0,l=0,c=t.length;c>l;l++){var h=t[l],d=this._singleCanvas?0:h.zlevel,f=e[d],g=h.progressive;if(f&&(f.elCount++,f.__dirty=f.__dirty||h.__dirty),g>=0){a!==g&&(a=g,u++);var v=h.__frame=u-1;if(!o){var _=Math.min(s,y-1);o=n[_],o||(o=n[_]=new m("progressive",this,this.dpr),o.initContext()),o.__maxProgress=0}o.__dirty=o.__dirty||h.__dirty,o.elCount++,o.__maxProgress=Math.max(o.__maxProgress,v),o.__maxProgress>=o.__progress&&(f.__dirty=!0)}else h.__frame=-1,o&&(o.__nextIdxNotProg=l,s++,o=null)}o&&(s++,o.__nextIdxNotProg=l),this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.__dirty=!0)}),n.length=Math.min(s,y),p.each(n,function(t,e){r[e]!==t.elCount&&(h.__dirty=!0),t.__dirty&&(t.__progress=0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?p.merge(n[t],e,!0):n[t]=e;var i=this._layers[t];i&&p.merge(i,n[t],!0)}},delLayer:function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(p.indexOf(n,t),1))},resize:function(t,e){var n=this._domRoot;if(n.style.display="none",t=t||this._getWidth(),e=e||this._getHeight(),n.style.display="",this._width!=t||e!=this._height){n.style.width=t+"px",n.style.height=e+"px";for(var i in this._layers)this._layers[i].resize(t,e);this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new m("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clearColor=t.backgroundColor,e.clear();for(var n=this.storage.getDisplayList(!0),i={},r=0;r<n.length;r++){var o=n[r];this._doPaintEl(o,e,!0,i)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientWidth||i(e.width)||i(t.style.width))-(i(e.paddingLeft)||0)-(i(e.paddingRight)||0)|0},_getHeight:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientHeight||i(e.height)||i(t.style.height))-(i(e.paddingTop)||0)-(i(e.paddingBottom)||0)|0},_pathToImage:function(t,e,i,r,o){var a=document.createElement("canvas"),s=a.getContext("2d");a.width=i*o,a.height=r*o,s.clearRect(0,0,i*o,r*o);var u={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(s);var l=n(62),c=new l({id:t,style:{x:0,y:0,image:a}});return null!=u.position&&(c.position=e.position=u.position),null!=u.rotation&&(c.rotation=e.rotation=u.rotation),null!=u.scale&&(c.scale=e.scale=u.scale),c},_createPathToImage:function(){var t=this;return function(e,n,i,r){return t._pathToImage(e,n,i,r,t.dpr)}}},t.exports=x},function(t,e,n){function i(){return!1}function r(t,e,n,i){var r=document.createElement(e),o=n.getWidth(),a=n.getHeight(),s=r.style;return s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",r.width=o*i,r.height=a*i,r.setAttribute("data-zr-dom-id",t),r}var o=n(4),a=n(41),s=n(47),u=n(59),l=function(t,e,n){var s;n=n||a.devicePixelRatio,"string"==typeof t?s=r(t,"canvas",e,n):o.isObject(t)&&(s=t,t=s.id),this.id=t,this.dom=s;var u=s.style;u&&(s.onselectstart=i,u["-webkit-user-select"]="none",u["user-select"]="none",u["-webkit-touch-callout"]="none",u["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};l.prototype={constructor:l,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=r("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r.width=t+"px",r.height=e+"px",i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(t){var e=this.dom,n=this.ctx,i=e.width,r=e.height,o=this.clearColor,a=this.motionBlur&&!t,l=this.lastFrameAlpha,c=this.dpr;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,i/c,r/c)),n.clearRect(0,0,i,r),o){var h;o.colorStops?(h=o.__canvasGradient||s.getGradient(n,o,{x:0,y:0,width:i,height:r}),o.__canvasGradient=h):o.image&&(h=u.prototype.getCanvasPattern.call(o,n)),n.save(),n.fillStyle=h||o,n.fillRect(0,0,i,r),n.restore()}if(a){var p=this.domBack;n.save(),n.globalAlpha=l,n.drawImage(p,0,0,i,r),n.restore()}}},t.exports=l},function(t,e,n){var i=n(61);t.exports=function(t){function e(e){var n=(e.visualColorAccessPath||"itemStyle.normal.color").split("."),r=e.getData(),o=e.get(n)||e.getColorFromPalette(e.get("name"));r.setVisual("color",o),t.isSeriesFiltered(e)||("function"!=typeof o||o instanceof i||r.each(function(t){r.setItemVisual(t,"color",o(e.getDataParams(t)))}),r.each(function(t){var e=r.getItemModel(t),i=e.get(n,!0);null!=i&&r.setItemVisual(t,"color",i)}))}t.eachRawSeries(e)}},function(t,e,n){function i(t,e){e=e.split(",");for(var n=t,i=0;i<e.length&&(n=n&&n[e[i]],null!=n);i++);return n}function r(t,e,n,i){e=e.split(",");for(var r,o=t,a=0;a<e.length-1;a++)r=e[a],null==o[r]&&(o[r]={}),o=o[r];(i||null==o[e[a]])&&(o[e[a]]=n)}function o(t){h(u,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var a=n(4),s=n(95),u=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],l=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],c=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],h=a.each;t.exports=function(t){h(t.series,function(t){if(a.isObject(t)){var e=t.type;if(s(t),("pie"===e||"gauge"===e)&&null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var n=i(t,"pointer.color");null!=n&&r(t,"itemStyle.normal.color",n)}for(var u=0;u<c.length;u++)if(c[u]===t.type){o(t);break}}}),t.dataRange&&(t.visualMap=t.dataRange),h(l,function(e){var n=t[e];n&&(a.isArray(n)||(n=[n]),h(n,function(t){o(t)}))})}},function(t,e,n){function i(t){var e=t&&t.itemStyle;e&&r.each(o,function(n){var i=e.normal,o=e.emphasis;i&&i[n]&&(t[n]=t[n]||{},t[n].normal?r.merge(t[n].normal,i[n]):t[n].normal=i[n],i[n]=null),o&&o[n]&&(t[n]=t[n]||{},t[n].emphasis?r.merge(t[n].emphasis,o[n]):t[n].emphasis=o[n],o[n]=null)})}var r=n(4),o=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];t.exports=function(t){if(t){i(t),i(t.markPoint),i(t.markLine);var e=t.data;if(e){for(var n=0;n<e.length;n++)i(e[n]);var o=t.markPoint;if(o&&o.data)for(var a=o.data,n=0;n<a.length;n++)i(a[n]);var s=t.markLine;if(s&&s.data)for(var u=s.data,n=0;n<u.length;n++)r.isArray(u[n])?(i(u[n][0]),i(u[n][1])):i(u[n])}}}},function(t,e,n){var i=n(43),r=n(4),o=Math.PI;t.exports=function(t,e){e=e||{},r.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new i.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),a=new i.Arc({shape:{startAngle:-o/2,endAngle:-o/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new i.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});a.animateShape(!0).when(1e3,{endAngle:3*o/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*o/2}).delay(300).start("circularInOut");var u=new i.Group;return u.add(a),u.add(s),u.add(n),u.resize=function(){var e=t.getWidth()/2,i=t.getHeight()/2;a.setShape({cx:e,cy:i});var r=a.shape.r;s.setShape({x:e-r,y:i-r,width:2*r,height:2*r}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})
},u.resize(),u}},function(t,e,n){(function(e){function i(t){return p.isArray(t)||(t=[t]),t}function r(t,e){var n=t.dimensions,i=new v(p.map(n,t.getDimensionInfo,t),t.hostModel);m(i,t);for(var r=i._storage={},o=t._storage,a=0;a<n.length;a++){var s=n[a],u=o[s];r[s]=p.indexOf(e,s)>=0?new u.constructor(o[s].length):o[s]}return i}var o="undefined",a="undefined"==typeof window?e:window,s=typeof a.Float64Array===o?Array:a.Float64Array,u=typeof a.Int32Array===o?Array:a.Int32Array,l={"float":s,"int":u,ordinal:Array,number:Array,time:Array},c=n(12),h=n(98),p=n(4),d=n(5),f=p.isObject,g=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],m=function(t,e){p.each(g.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods},v=function(t,e){t=t||["x","y"];for(var n={},i=[],r=0;r<t.length;r++){var o,a={};"string"==typeof t[r]?(o=t[r],a={name:o,stackable:!1,type:"number"}):(a=t[r],o=a.name,a.type=a.type||"number"),i.push(o),n[o]=a}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},y=v.prototype;y.type="list",y.hasItemOption=!0,y.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},y.getDimensionInfo=function(t){return p.clone(this._dimensionInfos[this.getDimension(t)])},y.initData=function(t,e,n){if(t=t||[],!p.isArray(t))throw new Error("Invalid data.");this._rawData=t;var i=this._storage={},r=this.indices=[],o=this.dimensions,a=t.length,s=this._dimensionInfos,u=[],c={};e=e||[];for(var h=0;h<o.length;h++){var f=s[o[h]],g=l[f.type];i[o[h]]=new g(a)}var m=this;n||(m.hasItemOption=!1),n=n||function(t,e,n,i){var r=d.getDataItemValue(t);return d.isDataItemOption(t)&&(m.hasItemOption=!0),d.converDataValue(r instanceof Array?r[i]:r,s[e])};for(var v=0;v<t.length;v++){for(var y=t[v],_=0;_<o.length;_++){var b=o[_],x=i[b];x[v]=n(y,b,v,_)}r.push(v)}for(var h=0;h<t.length;h++){e[h]||t[h]&&null!=t[h].name&&(e[h]=t[h].name);var w=e[h]||"",k=t[h]&&t[h].id;!k&&w&&(c[w]=c[w]||0,k=w,c[w]>0&&(k+="__ec__"+c[w]),c[w]++),k&&(u[h]=k)}this._nameList=e,this._idList=u},y.count=function(){return this.indices.length},y.get=function(t,e,n){var i=this._storage,r=this.indices[e];if(null==r)return 0/0;var o=i[t]&&i[t][r];if(n){var a=this._dimensionInfos[t];if(a&&a.stackable)for(var s=this.stackedOn;s;){var u=s.get(t,e);(o>=0&&u>0||0>=o&&0>u)&&(o+=u),s=s.stackedOn}}return o},y.getValues=function(t,e,n){var i=[];p.isArray(t)||(n=e,e=t,t=this.dimensions);for(var r=0,o=t.length;o>r;r++)i.push(this.get(t[r],e,n));return i},y.hasValue=function(t){for(var e=this.dimensions,n=this._dimensionInfos,i=0,r=e.length;r>i;i++)if("ordinal"!==n[e[i]].type&&isNaN(this.get(e[i],t)))return!1;return!0},y.getDataExtent=function(t,e){t=this.getDimension(t);var n=this._storage[t],i=this.getDimensionInfo(t);e=i&&i.stackable&&e;var r,o=(this._extent||(this._extent={}))[t+!!e];if(o)return o;if(n){for(var a=1/0,s=-1/0,u=0,l=this.count();l>u;u++)r=this.get(t,u,e),a>r&&(a=r),r>s&&(s=r);return this._extent[t+!!e]=[a,s]}return[1/0,-1/0]},y.getSum=function(t,e){var n=this._storage[t],i=0;if(n)for(var r=0,o=this.count();o>r;r++){var a=this.get(t,r,e);isNaN(a)||(i+=a)}return i},y.indexOf=function(t,e){var n=this._storage,i=n[t],r=this.indices;if(i)for(var o=0,a=r.length;a>o;o++){var s=r[o];if(i[s]===e)return o}return-1},y.indexOfName=function(t){for(var e=this.indices,n=this._nameList,i=0,r=e.length;r>i;i++){var o=e[i];if(n[o]===t)return i}return-1},y.indexOfRawIndex=function(t){for(var e=this.indices,n=0,i=e.length-1;i>=n;){var r=(n+i)/2|0;if(e[r]<t)n=r+1;else{if(!(e[r]>t))return r;i=r-1}}return-1},y.indexOfNearest=function(t,e,n,i){var r=this._storage,o=r[t];null==i&&(i=1/0);var a=-1;if(o)for(var s=Number.MAX_VALUE,u=0,l=this.count();l>u;u++){var c=e-this.get(t,u,n),h=Math.abs(c);i>=c&&(s>h||h===s&&c>0)&&(s=h,a=u)}return a},y.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},y.getRawDataItem=function(t){return this._rawData[this.getRawIndex(t)]},y.getName=function(t){return this._nameList[this.indices[t]]||""},y.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},y.each=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]),t=p.map(i(t),this.getDimension,this);var o=[],a=t.length,s=this.indices;r=r||this;for(var u=0;u<s.length;u++)switch(a){case 0:e.call(r,u);break;case 1:e.call(r,this.get(t[0],u,n),u);break;case 2:e.call(r,this.get(t[0],u,n),this.get(t[1],u,n),u);break;default:for(var l=0;a>l;l++)o[l]=this.get(t[l],u,n);o[l]=u,e.apply(r,o)}},y.filterSelf=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]),t=p.map(i(t),this.getDimension,this);var o=[],a=[],s=t.length,u=this.indices;r=r||this;for(var l=0;l<u.length;l++){var c;if(1===s)c=e.call(r,this.get(t[0],l,n),l);else{for(var h=0;s>h;h++)a[h]=this.get(t[h],l,n);a[h]=l,c=e.apply(r,a)}c&&o.push(u[l])}return this.indices=o,this._extent={},this},y.mapArray=function(t,e,n,i){"function"==typeof t&&(i=n,n=e,e=t,t=[]);var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n,i),r},y.map=function(t,e,n,o){t=p.map(i(t),this.getDimension,this);var a=r(this,t),s=a.indices=this.indices,u=a._storage,l=[];return this.each(t,function(){var n=arguments[arguments.length-1],i=e&&e.apply(this,arguments);if(null!=i){"number"==typeof i&&(l[0]=i,i=l);for(var r=0;r<i.length;r++){var o=t[r],a=u[o],c=s[n];a&&(a[c]=i[r])}}},n,o),a},y.downSample=function(t,e,n,i){for(var o=r(this,[t]),a=this._storage,s=o._storage,u=this.indices,l=o.indices=[],c=[],h=[],p=Math.floor(1/e),d=s[t],f=this.count(),g=0;g<a[t].length;g++)s[t][g]=a[t][g];for(var g=0;f>g;g+=p){p>f-g&&(p=f-g,c.length=p);for(var m=0;p>m;m++){var v=u[g+m];c[m]=d[v],h[m]=v}var y=n(c),v=h[i(c,y)||0];d[v]=y,l.push(v)}return o},y.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new c(this._rawData[t],e,e&&e.ecModel)},y.diff=function(t){var e=this._idList,n=t&&t._idList;return new h(t?t.indices:[],this.indices,function(t){return n[t]||t+""},function(t){return e[t]||t+""})},y.getVisual=function(t){var e=this._visual;return e&&e[t]},y.setVisual=function(t,e){if(f(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},y.setLayout=function(t,e){if(f(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},y.getLayout=function(t){return this._layout[t]},y.getItemLayout=function(t){return this._itemLayouts[t]},y.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?p.extend(this._itemLayouts[t]||{},e):e},y.clearItemLayouts=function(){this._itemLayouts.length=0},y.getItemVisual=function(t,e,n){var i=this._itemVisuals[t],r=i&&i[e];return null!=r||n?r:this.getVisual(e)},y.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};if(this._itemVisuals[t]=i,f(e))for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);else i[e]=n},y.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var _=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};y.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(_,e)),this._graphicEls[t]=e},y.getItemGraphicEl=function(t){return this._graphicEls[t]},y.eachItemGraphicEl=function(t,e){p.each(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},y.cloneShallow=function(){var t=p.map(this.dimensions,this.getDimensionInfo,this),e=new v(t,this.hostModel);return e._storage=this._storage,m(e,this),e.indices=this.indices.slice(),this._extent&&(e._extent=p.extend({},this._extent)),e},y.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(p.slice(arguments)))})},y.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],y.CHANGABLE_METHODS=["filterSelf"],t.exports=v}).call(e,function(){return this}())},function(t){"use strict";function e(t){return t}function n(t,n,i,r){this._old=t,this._new=n,this._oldKeyGetter=i||e,this._newKeyGetter=r||e}function i(t,e,n,i){for(var r=0;r<t.length;r++){var o=i(t[r],r),a=e[o];null==a?(n.push(o),e[o]=r):(a.length||(e[o]=a=[a]),a.push(r))}}n.prototype={constructor:n,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t,e=this._old,n=this._new,r=this._oldKeyGetter,o=this._newKeyGetter,a={},s={},u=[],l=[];for(i(e,a,u,r),i(n,s,l,o),t=0;t<e.length;t++){var c=u[t],h=s[c];if(null!=h){var p=h.length;p?(1===p&&(s[c]=null),h=h.unshift()):s[c]=null,this._update&&this._update(h,t)}else this._remove&&this._remove(t)}for(var t=0;t<l.length;t++){var c=l[t];if(s.hasOwnProperty(c)){var h=s[c];if(null==h)continue;if(h.length)for(var d=0,p=h.length;p>d;d++)this._add&&this._add(h[d]);else this._add&&this._add(h)}}}},t.exports=n},function(t,e,n){var i=n(4),r=n(1),o=r.PRIORITY;n(100),n(103),r.registerVisual(i.curry(n(109),"line","circle","line")),r.registerLayout(i.curry(n(110),"line")),r.registerProcessor(o.PROCESSOR.STATISTIC,i.curry(n(111),"line")),n(112)},function(t,e,n){"use strict";var i=n(101),r=n(28);t.exports=r.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){var n=t.coordinateSystem;if("polar"!==n&&"cartesian2d"!==n)throw new Error("Line not support coordinateSystem besides cartesian and polar");return i(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},function(t,e,n){"use strict";function i(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function r(t){var e=i(t);return null!=e&&!h.isArray(f(e))}function o(t,e,n){if(t=t||[],!h.isArray(t))throw new Error("Invalid data.");var i=e.get("coordinateSystem"),o=m[i],a=d.get(i),s=o&&o(t,e,n),v=s&&s.dimensions;v||(v=a&&a.dimensions||["x","y"],v=c(v,t,v.concat(["value"])));var y=s?s.categoryIndex:-1,_=new l(v,e),b=u(s,t),x={},w=y>=0&&r(t)?function(t,e,n,i){return p.isDataItemOption(t)&&(_.hasItemOption=!0),i===y?n:g(f(t),v[i])}:function(t,e,n,i){var r=f(t),o=g(r&&r[i],v[i]);p.isDataItemOption(t)&&(_.hasItemOption=!0);var a=s&&s.categoryAxesModels;return a&&a[e]&&"string"==typeof o&&(x[e]=x[e]||a[e].getCategories(),o=h.indexOf(x[e],o),0>o&&!isNaN(o)&&(o=+o)),o};return _.hasItemOption=!1,_.initData(t,b,w),_}function a(t){return"category"!==t&&"time"!==t}function s(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function u(t,e){var n,i=[],r=t&&t.dimensions[t.categoryIndex];if(r&&(n=t.categoryAxesModels[r.name]),n){var o=n.getCategories();if(o){var a=e.length;if(h.isArray(e[0])&&e[0].length>1){i=[];for(var s=0;a>s;s++)i[s]=o[e[s][t.categoryIndex||0]]}else i=o.slice(0)}}return i}var l=n(97),c=n(102),h=n(4),p=n(5),d=n(26),f=p.getDataItemValue,g=p.converDataValue,m={cartesian2d:function(t,e,n){var i=h.map(["xAxis","yAxis"],function(t){return n.queryComponents({mainType:t,index:e.get(t+"Index"),id:e.get(t+"Id")})[0]}),r=i[0],o=i[1];if(!r)throw new Error('xAxis "'+h.retrieve(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found');if(!o)throw new Error('yAxis "'+h.retrieve(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found');var u=r.get("type"),l=o.get("type"),p=[{name:"x",type:s(u),stackable:a(u)},{name:"y",type:s(l),stackable:a(l)}],d="category"===u,f="category"===l;c(p,t,["x","y","z"]);var g={};return d&&(g.x=r),f&&(g.y=o),{dimensions:p,categoryIndex:d?0:f?1:-1,categoryAxesModels:g}},polar:function(t,e,n){var i=n.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0],r=i.findAxisModel("angleAxis"),o=i.findAxisModel("radiusAxis");if(!r)throw new Error("angleAxis option not found");if(!o)throw new Error("radiusAxis option not found");var u=o.get("type"),l=r.get("type"),h=[{name:"radius",type:s(u),stackable:a(u)},{name:"angle",type:s(l),stackable:a(l)}],p="category"===l,d="category"===u;c(h,t,["radius","angle","value"]);var f={};return d&&(f.radius=o),p&&(f.angle=r),{dimensions:h,categoryIndex:p?1:d?0:-1,categoryAxesModels:f}},geo:function(t){return{dimensions:c([{name:"lng"},{name:"lat"}],t,["lng","lat","value"])}}};t.exports=o},function(t,e,n){function i(t,e,n,i){if(!e)return t;var s=r(e[0]),u=o.isArray(s)&&s.length||1;n=n||[],i=i||"extra";for(var l=0;u>l;l++)if(!t[l]){var c=n[l]||i+(l-n.length);t[l]=a(e,l)?{type:"ordinal",name:c}:c}return t}function r(t){return o.isArray(t)?t:o.isObject(t)?t.value:t}var o=n(4),a=i.guessOrdinal=function(t,e){for(var n=0,i=t.length;i>n;n++){var a=r(t[n]);if(!o.isArray(a))return!1;var a=a[e];if(null!=a&&isFinite(a))return!1;if(o.isString(a)&&"-"!==a)return!0}return!1};t.exports=i},function(t,e,n){"use strict";function i(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function r(t){return"number"==typeof t?t:t?.3:0}function o(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,i=e[1]>e[0]?1:-1;e[0]+=i*n,e[1]-=i*n}return e}function a(t){return t>=0?1:-1}function s(t,e){var n=t.getBaseAxis(),i=t.getOtherAxis(n),r=n.onZero?0:i.scale.getExtent()[0],o=i.dim,s="x"===o||"radius"===o?1:0;return e.mapArray([o],function(i,u){for(var l,c=e.stackedOn;c&&a(c.get(o,u))===a(i);){l=c;break}var h=[];return h[s]=e.get(n.dim,u),h[1-s]=l?l.get(o,u,!0):r,t.dataToPoint(h)},!0)}function u(t,e){return null!=e.dataIndex?e.dataIndex:null!=e.name?t.indexOfName(e.name):void 0}function l(t,e,n){var i=o(t.getAxis("x")),r=o(t.getAxis("y")),a=t.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),u=Math.min(r[0],r[1]),l=Math.max(i[0],i[1])-s,c=Math.max(r[0],r[1])-u,h=n.get("lineStyle.normal.width")||2,p=n.get("clipOverflow")?h/2:Math.max(l,c);a?(u-=p,c+=2*p):(s-=p,l+=2*p);var d=new _.Rect({shape:{x:s,y:u,width:l,height:c}});return e&&(d.shape[a?"width":"height"]=0,_.initProps(d,{shape:{width:l,height:c}},n)),d}function c(t,e,n){var i=t.getAngleAxis(),r=t.getRadiusAxis(),o=r.getExtent(),a=i.getExtent(),s=Math.PI/180,u=new _.Sector({shape:{cx:t.cx,cy:t.cy,r0:o[0],r:o[1],startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:i.inverse}});return e&&(u.shape.endAngle=-a[0]*s,_.initProps(u,{shape:{endAngle:-a[1]*s}},n)),u}function h(t,e,n){return"polar"===t.type?c(t,e,n):l(t,e,n)}function p(t,e,n){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0;a<t.length-1;a++){var s=t[a+1],u=t[a];o.push(u);var l=[];switch(n){case"end":l[r]=s[r],l[1-r]=u[1-r],o.push(l);break;case"middle":var c=(u[r]+s[r])/2,h=[];l[r]=h[r]=c,l[1-r]=u[1-r],h[1-r]=s[1-r],o.push(l),o.push(h);break;default:l[r]=u[r],l[1-r]=s[1-r],o.push(l)}}return t[a]&&o.push(t[a]),o}function d(t,e){return Math.max(Math.min(t,e[1]),e[0])}function f(t,e){var n=t.getVisual("visualMeta");if(n&&n.length){for(var i,r=n.length-1;r>=0;r--)if(n[r].dimension<2){i=n[r];break}if(!i||"cartesian2d"!==e.type)return void console.warn("Visual map on line style only support x or y dimension.");var o=i.dimension,a=t.dimensions[o],s=t.getDataExtent(a),u=i.stops,l=[];u[0].interval&&u.sort(function(t,e){return t.interval[0]-e.interval[0]});var c=u[0],h=u[u.length-1],p=c.interval?d(c.interval[0],s):c.value,f=h.interval?d(h.interval[1],s):h.value,g=f-p;if(0===g)return t.getItemVisual(0,"color");for(var r=0;r<u.length;r++)if(u[r].interval){if(u[r].interval[1]===u[r].interval[0])continue;l.push({offset:(d(u[r].interval[0],s)-p)/g,color:u[r].color},{offset:(d(u[r].interval[1],s)-p)/g,color:u[r].color})}else l.push({offset:(u[r].value-p)/g,color:u[r].color});var m=new _.LinearGradient(0,0,0,0,l,!0),v=e.getAxis(a),y=Math.round(v.toGlobalCoord(v.dataToCoord(p))),b=Math.round(v.toGlobalCoord(v.dataToCoord(f)));return m[a]=y,m[a+"2"]=b,m}}var g=n(4),m=n(104),v=n(105),y=n(107),_=n(43),b=n(108),x=n(42);t.exports=x.extend({type:"line",init:function(){var t=new _.Group,e=new m;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var o=t.coordinateSystem,a=this.group,u=t.getData(),l=t.getModel("lineStyle.normal"),c=t.getModel("areaStyle.normal"),d=u.mapArray(u.getItemLayout,!0),m="polar"===o.type,v=this._coordSys,y=this._symbolDraw,_=this._polyline,b=this._polygon,x=this._lineGroup,w=t.get("animation"),k=!c.isEmpty(),T=s(o,u),S=t.get("showSymbol"),$=S&&!m&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(u,o),C=this._data;C&&C.eachItemGraphicEl(function(t,e){t.__temp&&(a.remove(t),C.setItemGraphicEl(e,null))}),S||y.remove(),a.add(x);var A=!m&&t.get("step");_&&v.type===o.type&&A===this._step?(k&&!b?b=this._newPolygon(d,T,o,w):b&&!k&&(x.remove(b),b=this._polygon=null),x.setClipPath(h(o,!1,t)),S&&y.updateData(u,$),u.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),i(this._stackedOnPoints,T)&&i(this._points,d)||(w?this._updateAnimation(u,T,o,n,A):(A&&(d=p(d,o,A),T=p(T,o,A)),_.setShape({points:d}),b&&b.setShape({points:d,stackedOnPoints:T})))):(S&&y.updateData(u,$),A&&(d=p(d,o,A),T=p(T,o,A)),_=this._newPolyline(d,o,w),k&&(b=this._newPolygon(d,T,o,w)),x.setClipPath(h(o,!0,t)));var M=f(u,o)||u.getVisual("color");_.useStyle(g.defaults(l.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var I=t.get("smooth");if(I=r(t.get("smooth")),_.setShape({smooth:I,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),b){var D=u.stackedOn,E=0;if(b.useStyle(g.defaults(c.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),D){var O=D.hostModel;E=r(O.get("smooth"))}b.setShape({smooth:I,stackedOnSmooth:E,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=u,this._coordSys=o,this._stackedOnPoints=T,this._points=d,this._step=A},highlight:function(t,e,n,i){var r=t.getData(),o=u(r,i);if(!(o instanceof Array)&&null!=o&&o>=0){var a=r.getItemGraphicEl(o);if(!a){var s=r.getItemLayout(o);a=new v(r,o),a.position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else x.prototype.highlight.call(this,t,e,n,i)},downplay:function(t,e,n,i){var r=t.getData(),o=u(r,i);if(null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else x.prototype.downplay.call(this,t,e,n,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new b.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new b.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(t,e){var n=e.getAxesByScale("ordinal")[0];return n&&n.isLabelIgnored?g.bind(n.isLabelIgnored,n):void 0},_updateAnimation:function(t,e,n,i,r){var o=this._polyline,a=this._polygon,s=t.hostModel,u=y(this._data,t,this._stackedOnPoints,e,this._coordSys,n),l=u.current,c=u.stackedOnCurrent,h=u.next,d=u.stackedOnNext;r&&(l=p(u.current,n,r),c=p(u.stackedOnCurrent,n,r),h=p(u.next,n,r),d=p(u.stackedOnNext,n,r)),o.shape.__points=u.current,o.shape.points=l,_.updateProps(o,{shape:{points:h}},s),a&&(a.setShape({points:l,stackedOnPoints:c}),_.updateProps(a,{shape:{points:h,stackedOnPoints:d,__points:u.next}},s));for(var f=[],g=u.status,m=0;m<g.length;m++){var v=g[m].cmd;if("="===v){var b=t.getItemGraphicEl(g[m].idx1);b&&f.push({el:b,ptIdx:m})}}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var t=0;t<f.length;t++){var e=f[t].el;e.attr("position",o.shape.__points[f[t].ptIdx])}})},remove:function(){var t=this.group,e=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),e&&e.eachItemGraphicEl(function(n,i){n.__temp&&(t.remove(n),e.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(t,e,n){function i(t){this.group=new o.Group,this._symbolCtor=t||a}function r(t,e,n){var i=t.getItemLayout(e);return!(!i||isNaN(i[0])||isNaN(i[1])||n&&n(e)||"none"===t.getItemVisual(e,"symbol"))}var o=n(43),a=n(105),s=i.prototype;s.updateData=function(t,e){var n=this.group,i=t.hostModel,a=this._data,s=this._symbolCtor,u={itemStyle:i.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:i.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis")};t.diff(a).add(function(i){var o=t.getItemLayout(i);if(r(t,i,e)){var a=new s(t,i,u);a.attr("position",o),t.setItemGraphicEl(i,a),n.add(a)}}).update(function(l,c){var h=a.getItemGraphicEl(c),p=t.getItemLayout(l);return r(t,l,e)?(h?(h.updateData(t,l,u),o.updateProps(h,{position:p},i)):(h=new s(t,l),h.attr("position",p)),n.add(h),void t.setItemGraphicEl(l,h)):void n.remove(h)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._data=t},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,n){var i=t.getItemLayout(n);e.attr("position",i)})},s.remove=function(t){var e=this.group,n=this._data;n&&(t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())},t.exports=i},function(t,e,n){function i(t){return t instanceof Array||(t=[+t,+t]),t}function r(t,e,n){u.Group.call(this),this.updateData(t,e,n)}function o(t,e){this.parent.drift(t,e)}var a=n(4),s=n(106),u=n(43),l=n(7),c=r.prototype;c._createSymbol=function(t,e,n){this.removeAll();var r=e.hostModel,a=e.getItemVisual(n,"color"),l=s.createSymbol(t,-.5,-.5,1,1,a);l.attr({z2:100,culling:!0,scale:[0,0]}),l.drift=o;var c=i(e.getItemVisual(n,"symbolSize"));u.initProps(l,{scale:c},r,n),this._symbolType=t,this.add(l)},c.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},c.getSymbolPath=function(){return this.childAt(0)},c.getScale=function(){return this.childAt(0).scale},c.highlight=function(){this.childAt(0).trigger("emphasis")},c.downplay=function(){this.childAt(0).trigger("normal")},c.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},c.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},c.updateData=function(t,e,n){this.silent=!1;var r=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,a=i(t.getItemVisual(e,"symbolSize"));if(r!==this._symbolType)this._createSymbol(r,t,e);else{var s=this.childAt(0);u.updateProps(s,{scale:a},o,e)}this._updateCommon(t,e,a,n),this._seriesModel=o};var h=["itemStyle","normal"],p=["itemStyle","emphasis"],d=["label","normal"],f=["label","emphasis"];c._updateCommon=function(t,e,n,r){var o=this.childAt(0),s=t.hostModel,c=t.getItemVisual(e,"color");"image"!==o.type&&o.useStyle({strokeNoScale:!0}),r=r||null;var g=r&&r.itemStyle,m=r&&r.hoverItemStyle,v=r&&r.symbolRotate,y=r&&r.symbolOffset,_=r&&r.labelModel,b=r&&r.hoverLabelModel,x=r&&r.hoverAnimation;if(!r||t.hasItemOption){var w=t.getItemModel(e);g=w.getModel(h).getItemStyle(["color"]),m=w.getModel(p).getItemStyle(),v=w.getShallow("symbolRotate"),y=w.getShallow("symbolOffset"),_=w.getModel(d),b=w.getModel(f),x=w.getShallow("hoverAnimation")}else m=a.extend({},m);var k=o.style;o.rotation=(v||0)*Math.PI/180||0,y&&o.attr("position",[l.parsePercent(y[0],n[0]),l.parsePercent(y[1],n[1])]),o.setColor(c),o.setStyle(g);var T=t.getItemVisual(e,"opacity");null!=T&&(k.opacity=T);for(var S,$,C=t.dimensions.slice();C.length&&(S=C.pop(),$=t.getDimensionInfo(S).type,"ordinal"===$||"time"===$););null!=S&&_.getShallow("show")?(u.setText(k,_,c),k.text=a.retrieve(s.getFormattedLabel(e,"normal"),t.get(S,e))):k.text="",null!=S&&b.getShallow("show")?(u.setText(m,b,c),m.text=a.retrieve(s.getFormattedLabel(e,"emphasis"),t.get(S,e))):m.text="";var A=i(t.getItemVisual(e,"symbolSize"));if(o.off("mouseover").off("mouseout").off("emphasis").off("normal"),o.hoverStyle=m,u.setHoverStyle(o),x&&s.ifEnableAnimation()){var M=function(){var t=A[1]/A[0];this.animateTo({scale:[Math.max(1.1*A[0],A[0]+3),Math.max(1.1*A[1],A[1]+3*t)]},400,"elasticOut")},I=function(){this.animateTo({scale:A},400,"elasticOut")};o.on("mouseover",M).on("mouseout",I).on("emphasis",M).on("normal",I)}},c.fadeOut=function(t){var e=this.childAt(0);this.silent=!0,e.style.text="",u.updateProps(e,{scale:[0,0]},this._seriesModel,this.dataIndex,t)},a.inherits(r,u.Group),t.exports=r},function(t,e,n){"use strict";var i=n(43),r=n(9),o=i.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),a=i.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),s=i.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),u=i-o+a+s,l=Math.asin(s/a),c=Math.cos(l)*a,h=Math.sin(l),p=Math.cos(l);t.arc(n,u,a,Math.PI-l,2*Math.PI+l);var d=.6*a,f=.7*a;t.bezierCurveTo(n+c-h*d,u+s+p*d,n,i-f,n,i),t.bezierCurveTo(n,i-f,n-c+h*d,u+s+p*d,n-c,u+s),t.closePath()}}),u=i.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),l={line:i.Line,rect:i.Rect,roundRect:i.Rect,square:i.Rect,circle:i.Circle,diamond:a,pin:s,arrow:u,triangle:o},c={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},h={};for(var p in l)h[p]=new l[p];var d=i.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var i=e.symbolType,r=h[i];"none"!==e.symbolType&&(r||(i="rect",r=h[i]),c[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n))}}),f=function(t){if("image"!==this.type){var e=this.style,n=this.shape;n&&"line"===n.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty(!1)}},g={createSymbol:function(t,e,n,o,a,s){var u=0===t.indexOf("empty");u&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return l=0===t.indexOf("image://")?new i.Image({style:{image:t.slice(8),x:e,y:n,width:o,height:a}}):0===t.indexOf("path://")?i.makePath(t.slice(7),{},new r(e,n,o,a)):new d({shape:{symbolType:t,x:e,y:n,width:o,height:a}}),l.__isEmptyBrush=u,l.setColor=f,l.setColor(s),l}};t.exports=g},function(t){function e(t){return t>=0?1:-1}function n(t,n,i){for(var r,o=t.getBaseAxis(),a=t.getOtherAxis(o),s=o.onZero?0:a.scale.getExtent()[0],u=a.dim,l="x"===u||"radius"===u?1:0,c=n.stackedOn,h=n.get(u,i);c&&e(c.get(u,i))===e(h);){r=c;break}var p=[];return p[l]=n.get(o.dim,i),p[1-l]=r?r.get(u,i,!0):s,t.dataToPoint(p)}function i(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}t.exports=function(t,e,r,o,a,s){for(var u=i(t,e),l=[],c=[],h=[],p=[],d=[],f=[],g=[],m=s.dimensions,v=0;v<u.length;v++){var y=u[v],_=!0;switch(y.cmd){case"=":var b=t.getItemLayout(y.idx),x=e.getItemLayout(y.idx1);(isNaN(b[0])||isNaN(b[1]))&&(b=x.slice()),l.push(b),c.push(x),h.push(r[y.idx]),p.push(o[y.idx1]),g.push(e.getRawIndex(y.idx1));break;case"+":var w=y.idx;l.push(a.dataToPoint([e.get(m[0],w,!0),e.get(m[1],w,!0)])),c.push(e.getItemLayout(w).slice()),h.push(n(a,e,w)),p.push(o[w]),g.push(e.getRawIndex(w));break;case"-":var w=y.idx,k=t.getRawIndex(w);k!==w?(l.push(t.getItemLayout(w)),c.push(s.dataToPoint([t.get(m[0],w,!0),t.get(m[1],w,!0)])),h.push(r[w]),p.push(n(s,t,w)),g.push(k)):_=!1}_&&(d.push(y),f.push(f.length))}f.sort(function(t,e){return g[t]-g[e]});for(var T=[],S=[],$=[],C=[],A=[],v=0;v<f.length;v++){var w=f[v];T[v]=l[w],S[v]=c[w],$[v]=h[w],C[v]=p[w],A[v]=d[w]}return{current:T,next:S,stackedOnCurrent:$,stackedOnNext:C,status:A}}},function(t,e,n){function i(t){return isNaN(t[0])||isNaN(t[1])}function r(t,e,n,r,o,a,g,m,v,y,_){for(var b=0,x=n,w=0;r>w;w++){var k=e[x];if(x>=o||0>x)break;if(i(k)){if(_){x+=a;continue}break}if(x===n)t[a>0?"moveTo":"lineTo"](k[0],k[1]),h(d,k);else if(v>0){var T=x+a,S=e[T];if(_)for(;S&&i(e[T]);)T+=a,S=e[T];var $=.5,C=e[b],S=e[T];if(!S||i(S))h(f,k);else{i(S)&&!_&&(S=k),s.sub(p,S,C);var A,M;if("x"===y||"y"===y){var I="x"===y?0:1;A=Math.abs(k[I]-C[I]),M=Math.abs(k[I]-S[I])}else A=s.dist(k,C),M=s.dist(k,S);$=M/(M+A),c(f,k,p,-v*(1-$))}u(d,d,m),l(d,d,g),u(f,f,m),l(f,f,g),t.bezierCurveTo(d[0],d[1],f[0],f[1],k[0],k[1]),c(d,k,p,v*$)}else t.lineTo(k[0],k[1]);b=x,x+=a}return w}function o(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var o=t[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:e?n:i,max:e?i:n}}var a=n(45),s=n(10),u=s.min,l=s.max,c=s.scaleAndAdd,h=s.copy,p=[],d=[],f=[];t.exports={Polyline:a.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(t,e){var n=e.points,a=0,s=n.length,u=o(n,e.smoothConstraint);if(e.connectNulls){for(;s>0&&i(n[s-1]);s--);for(;s>a&&i(n[a]);a++);}for(;s>a;)a+=r(t,n,a,s,s,1,u.min,u.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Polygon:a.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(t,e){var n=e.points,a=e.stackedOnPoints,s=0,u=n.length,l=e.smoothMonotone,c=o(n,e.smoothConstraint),h=o(a,e.smoothConstraint);if(e.connectNulls){for(;u>0&&i(n[u-1]);u--);for(;u>s&&i(n[s]);s++);}for(;u>s;){var p=r(t,n,s,u,u,1,c.min,c.max,e.smooth,l,e.connectNulls);r(t,a,s+p-1,p,u,-1,h.min,h.max,e.stackedOnSmooth,l,e.connectNulls),s+=p+1,t.closePath()}}})}},function(t){t.exports=function(t,e,n,i){i.eachRawSeriesByType(t,function(t){var r=t.getData(),o=t.get("symbol")||e,a=t.get("symbolSize");r.setVisual({legendSymbol:n||o,symbol:o,symbolSize:a}),i.isSeriesFiltered(t)||("function"==typeof a&&r.each(function(e){var n=t.getRawValue(e),i=t.getDataParams(e);r.setItemVisual(e,"symbolSize",a(n,i))}),r.each(function(t){var e=r.getItemModel(t),n=e.getShallow("symbol",!0),i=e.getShallow("symbolSize",!0);null!=n&&r.setItemVisual(t,"symbol",n),null!=i&&r.setItemVisual(t,"symbolSize",i)}))})}},function(t){t.exports=function(t,e){e.eachSeriesByType(t,function(t){var e=t.getData(),n=t.coordinateSystem;if(n){var i=n.dimensions;"singleAxis"===n.type?e.each(i[0],function(t,i){e.setItemLayout(i,isNaN(t)?[0/0,0/0]:n.dataToPoint(t))}):e.each(i,function(t,i,r){e.setItemLayout(r,isNaN(t)||isNaN(i)?[0/0,0/0]:n.dataToPoint([t,i]))},!0)}})}},function(t){var e={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);
return 0===n?0/0:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return e},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return e},nearest:function(t){return t[0]}},n=function(t){return Math.round(t.length/2)};t.exports=function(t,i){i.eachSeriesByType(t,function(t){var i=t.getData(),r=t.get("sampling"),o=t.coordinateSystem;if("cartesian2d"===o.type&&r){var a=o.getBaseAxis(),s=o.getOtherAxis(a),u=a.getExtent(),l=u[1]-u[0],c=Math.round(i.count()/l);if(c>1){var h;"string"==typeof r?h=e[r]:"function"==typeof r&&(h=r),h&&(i=i.downSample(s.dim,1/c,h,n),t.setData(i))}}},this)}},function(t,e,n){"use strict";var i=n(43),r=n(4),o=n(1);n(113),n(130),o.extendComponentView({type:"grid",render:function(t){this.group.removeAll(),t.get("show")&&this.group.add(new i.Rect({shape:t.coordinateSystem.getRect(),style:r.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0}))}}),o.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})},function(t,e,n){function i(t,e){return t.findGridModel()===e}function r(t){var e,n=t.model,i=n.getFormattedLabels(),r=1,o=i.length;o>40&&(r=Math.ceil(o/40));for(var a=0;o>a;a+=r)if(!t.isLabelIgnored(a)){var s=n.getTextRect(i[a]);e?e.union(s):e=s}return e}function o(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this._model=t}function a(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}function s(t,e){return h.map(y,function(n){var i=e.queryComponents({mainType:n,index:t.get(n+"Index"),id:t.get(n+"Id")})[0];if(!i)throw new Error(n+' "'+h.retrieve(t.get(n+"Index"),t.get(n+"Id"),0)+'" not found');return i})}function u(t){return"cartesian2d"===t.get("coordinateSystem")}var l=n(21),c=n(114),h=n(4),p=n(120),d=n(122),f=h.each,g=c.ifAxisCrossZero,m=c.niceScaleExtent;n(125);var v=o.prototype;v.type="grid",v.getRect=function(){return this._rect},v.update=function(t,e){function n(t){var e=i[t];for(var n in e){var r=e[n];if(r&&("category"===r.type||!g(r)))return!0}return!1}var i=this._axesMap;this._updateScale(t,this._model),f(i.x,function(t){m(t,t.model)}),f(i.y,function(t){m(t,t.model)}),f(i.x,function(t){n("y")&&(t.onZero=!1)}),f(i.y,function(t){n("x")&&(t.onZero=!1)}),this.resize(this._model,e)},v.resize=function(t,e){function n(){f(o,function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),a(t,e?i.x:i.y)})}var i=l.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var o=this._axesList;n(),t.get("containLabel")&&(f(o,function(t){if(!t.model.get("axisLabel.inside")){var e=r(t);if(e){var n=t.isHorizontal()?"height":"width",o=t.model.get("axisLabel.margin");i[n]-=e[n]+o,"top"===t.position?i.y+=e.height+o:"left"===t.position&&(i.x+=e.width+o)}}}),n())},v.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)return n[i];return n[e]}},v.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},v._initCartesian=function(t,e){function n(n){return function(s,u){if(i(s,t,e)){var l=s.get("position");"x"===n?"top"!==l&&"bottom"!==l&&(l="bottom",r[l]&&(l="top"===l?"bottom":"top")):"left"!==l&&"right"!==l&&(l="left",r[l]&&(l="left"===l?"right":"left")),r[l]=!0;var h=new d(n,c.createScaleByModel(s),[0,0],s.get("type"),l),p="category"===h.type;h.onBand=p&&s.get("boundaryGap"),h.inverse=s.get("inverse"),h.onZero=s.get("axisLine.onZero"),s.axis=h,h.model=s,h.grid=this,h.index=u,this._axesList.push(h),o[n][u]=h,a[n]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};return e.eachComponent("xAxis",n("x"),this),e.eachComponent("yAxis",n("y"),this),a.x&&a.y?(this._axesMap=o,void f(o.x,function(t,e){f(o.y,function(n,i){var r="x"+e+"y"+i,o=new p(r);o.grid=this,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(n)},this)},this)):(this._axesMap={},void(this._axesList=[]))},v._updateScale=function(t,e){function n(t,e,n){f(n.coordDimToDataDim(e.dim),function(n){e.scale.unionExtent(t.getDataExtent(n,"ordinal"!==e.scale.type))})}h.each(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(r){if(u(r)){var o=s(r,t),a=o[0],l=o[1];if(!i(a,e,t)||!i(l,e,t))return;var c=this.getCartesian(a.componentIndex,l.componentIndex),h=r.getData(),p=c.getAxis("x"),d=c.getAxis("y");"list"===h.type&&(n(h,p,r),n(h,d,r))}},this)};var y=["xAxis","yAxis"];o.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,r){var a=new o(i,t,e);a.name="grid_"+r,a.resize(i,e),i.coordinateSystem=a,n.push(a)}),t.eachSeries(function(e){if(u(e)){var n=s(e,t),i=n[0],r=n[1],o=i.findGridModel();if(!o)throw new Error('Grid "'+h.retrieve(i.get("gridIndex"),i.get("gridId"),0)+'" not found');if(i.findGridModel()!==r.findGridModel())throw new Error("xAxis and yAxis must use the same grid");var a=o.coordinateSystem;e.coordinateSystem=a.getCartesian(i.componentIndex,r.componentIndex)}}),n},o.dimensions=p.prototype.dimensions,n(26).register("cartesian2d",o),t.exports=o},function(t,e,n){var i=n(115),r=n(117);n(118),n(119);var o=n(116),a=n(7),s=n(4),u=n(8),l={};l.getScaleExtent=function(t,e){var n=t.scale,i=n.getExtent(),r=i[1]-i[0];if("ordinal"===n.type)return isFinite(r)?i:[0,0];var o=e.getMin?e.getMin():e.get("min"),u=e.getMax?e.getMax():e.get("max"),l=e.getNeedCrossZero?e.getNeedCrossZero():!e.get("scale"),c=e.get("boundaryGap");s.isArray(c)||(c=[c||0,c||0]),c[0]=a.parsePercent(c[0],1),c[1]=a.parsePercent(c[1],1);var h=!0,p=!0;return null==o&&(o=i[0]-c[0]*r,h=!1),null==u&&(u=i[1]+c[1]*r,p=!1),"dataMin"===o&&(o=i[0]),"dataMax"===u&&(u=i[1]),l&&(o>0&&u>0&&!h&&(o=0),0>o&&0>u&&!p&&(u=0)),[o,u]},l.niceScaleExtent=function(t,e){var n=t.scale,i=l.getScaleExtent(t,e),r=null!=(e.getMin?e.getMin():e.get("min")),o=null!=(e.getMax?e.getMax():e.get("max")),a=e.get("splitNumber");"log"===n.type&&(n.base=e.get("logBase")),n.setExtent(i[0],i[1]),n.niceExtent(a,r,o);var s=e.get("minInterval");if(isFinite(s)&&!r&&!o&&"interval"===n.type){var u=n.getInterval(),c=Math.max(Math.abs(u),s)/u;i=n.getExtent(),n.setExtent(c*i[0],i[1]*c),n.niceExtent(a)}var u=e.get("interval");null!=u&&n.setInterval&&n.setInterval(u)},l.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new i(t.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(o.getClass(e)||r).create(t)}},l.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||0>n&&0>i)},l.getAxisLabelInterval=function(t,e,n,i){var r,o=0,a=0,s=1;e.length>40&&(s=Math.floor(e.length/40));for(var l=0;l<t.length;l+=s){var c=t[l],h=u.getBoundingRect(e[l],n,"center","top");h[i?"x":"y"]+=c,h[i?"width":"height"]*=1.3,r?r.intersect(h)?(a++,o=Math.max(o,a)):(r.union(h),a=0):r=h.clone()}return 0===o&&s>1?s:(o+1)*s-1},l.getFormattedLabels=function(t,e){var n=t.scale,i=n.getTicksLabels(),r=n.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",e)}}(e),s.map(i,e)):"function"==typeof e?s.map(r,function(i,r){return e("category"===t.type?n.getLabel(i):i,r)},this):i},t.exports=l},function(t,e,n){var i=n(4),r=n(116),o=r.prototype,a=r.extend({type:"ordinal",init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return"string"==typeof t?i.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),o.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return o.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(o.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:i.noop,niceExtent:i.noop});a.create=function(){return new a},t.exports=a},function(t,e,n){function i(){this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var r=n(13),o=i.prototype;o.parse=function(t){return t},o.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},o.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},o.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},o.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},o.getExtent=function(){return this._extent.slice()},o.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},o.getTicksLabels=function(){for(var t=[],e=this.getTicks(),n=0;n<e.length;n++)t.push(this.getLabel(e[n]));return t},r.enableClassExtend(i),r.enableClassManagement(i,{registerWhenExtend:!0}),t.exports=i},function(t,e,n){var i=n(7),r=n(6),o=n(116),a=Math.floor,s=Math.ceil,u=i.getPrecisionSafe,l=i.round,c=o.extend({type:"interval",_interval:0,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),c.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var t=this._interval,e=this._extent,n=[],i=1e4;if(t){var r=this._niceExtent,o=u(t)+2;e[0]<r[0]&&n.push(e[0]);for(var a=r[0];a<=r[1];)if(n.push(a),a=l(a+t,o),n.length>i)return[];e[1]>r[1]&&n.push(e[1])}return n},getTicksLabels:function(){for(var t=[],e=this.getTicks(),n=0;n<e.length;n++)t.push(this.getLabel(e[n]));return t},getLabel:function(t){return r.addCommas(t)},niceTicks:function(t){t=t||5;var e=this._extent,n=e[1]-e[0];if(isFinite(n)){0>n&&(n=-n,e.reverse());var r=l(i.nice(n/t,!0),Math.max(u(e[0]),u(e[1]))+2),o=u(r)+2,c=[l(s(e[0]/r)*r,o),l(a(e[1]/r)*r,o)];this._interval=r,this._niceExtent=c}},niceExtent:function(t,e,n){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=i[0];n?i[0]-=r/2:(i[1]+=r/2,i[0]-=r/2)}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.niceTicks(t);var u=this._interval;e||(i[0]=l(a(i[0]/u)*u)),n||(i[1]=l(s(i[1]/u)*u))}});c.create=function(){return new c},t.exports=c},function(t,e,n){var i=n(4),r=n(7),o=n(6),a=n(117),s=a.prototype,u=Math.ceil,l=Math.floor,c=1e3,h=60*c,p=60*h,d=24*p,f=function(t,e,n,i){for(;i>n;){var r=n+i>>>1;t[r][2]<e?n=r+1:i=r}return n},g=a.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return o.formatTime(e[0],n)},niceExtent:function(t,e,n){var i=this._extent;if(i[0]===i[1]&&(i[0]-=d,i[1]+=d),i[1]===-1/0&&1/0===i[0]){var o=new Date;i[1]=new Date(o.getFullYear(),o.getMonth(),o.getDate()),i[0]=i[1]-d}this.niceTicks(t);var a=this._interval;e||(i[0]=r.round(l(i[0]/a)*a)),n||(i[1]=r.round(u(i[1]/a)*a))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0],i=n/t,o=m.length,a=f(m,i,0,o),s=m[Math.min(a,o-1)],c=s[2];if("year"===s[0]){var h=n/c,p=r.nice(h/t,!0);c*=p}var d=[u(e[0]/c)*c,l(e[1]/c)*c];this._stepLvl=s,this._interval=c,this._niceExtent=d},parse:function(t){return+r.parseDate(t)}});i.each(["contain","normalize"],function(t){g.prototype[t]=function(e){return s[t].call(this,this.parse(e))}});var m=[["hh:mm:ss",1,c],["hh:mm:ss",5,5*c],["hh:mm:ss",10,10*c],["hh:mm:ss",15,15*c],["hh:mm:ss",30,30*c],["hh:mm\nMM-dd",1,h],["hh:mm\nMM-dd",5,5*h],["hh:mm\nMM-dd",10,10*h],["hh:mm\nMM-dd",15,15*h],["hh:mm\nMM-dd",30,30*h],["hh:mm\nMM-dd",1,p],["hh:mm\nMM-dd",2,2*p],["hh:mm\nMM-dd",6,6*p],["hh:mm\nMM-dd",12,12*p],["MM-dd\nyyyy",1,d],["week",7,7*d],["month",1,31*d],["quarter",3,380*d/4],["half-year",6,380*d/2],["year",1,380*d]];g.create=function(){return new g},t.exports=g},function(t,e,n){var i=n(4),r=n(116),o=n(7),a=n(117),s=r.prototype,u=a.prototype,l=Math.floor,c=Math.ceil,h=Math.pow,p=Math.log,d=r.extend({type:"log",base:10,getTicks:function(){return i.map(u.getTicks.call(this),function(t){return o.round(h(this.base,t))},this)},getLabel:u.getLabel,scale:function(t){return t=s.scale.call(this,t),h(this.base,t)},setExtent:function(t,e){var n=this.base;t=p(t)/p(n),e=p(e)/p(n),u.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=s.getExtent.call(this);return e[0]=h(t,e[0]),e[1]=h(t,e[1]),e},unionExtent:function(t){var e=this.base;t[0]=p(t[0])/p(e),t[1]=p(t[1])/p(e),s.unionExtent.call(this,t)},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(1/0===n||0>=n)){var i=o.quantity(n),r=t/n*i;for(.5>=r&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var a=[o.round(c(e[0]/i)*i),o.round(l(e[1]/i)*i)];this._interval=i,this._niceExtent=a}},niceExtent:u.niceExtent});i.each(["contain","normalize"],function(t){d.prototype[t]=function(e){return e=p(e)/p(this.base),s[t].call(this,e)}}),d.create=function(){return new d},t.exports=d},function(t,e,n){"use strict";function i(t){o.call(this,t)}var r=n(4),o=n(121);i.prototype={constructor:i,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoints:function(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e])},e,this)},dataToPoint:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(t[0],e)),i.toGlobalCoord(i.dataToCoord(t[1],e))]},pointToData:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return[n.coordToData(n.toLocalCoord(t[0]),e),i.coordToData(i.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},r.inherits(i,o),t.exports=i},function(t,e,n){"use strict";function i(t){return this._axes[t]}var r=n(4),o=function(t){this._axes={},this._dimList=[],this.name=t||""};o.prototype={constructor:o,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return r.map(this._dimList,i,this)},getAxesByScale:function(t){return t=t.toLowerCase(),r.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r],a=this._axes[o];i[o]=a[e](t[o])}return i}},t.exports=o},function(t,e,n){var i=n(4),r=n(123),o=n(124),a=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom"};a.prototype={constructor:a,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),t},getLabelInterval:function(){var t=this._labelInterval;return t||(t=this._labelInterval=o(this)),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},toLocalCoord:null,toGlobalCoord:null},i.inherits(a,r),t.exports=a},function(t,e,n){function i(t,e){var n=t[1]-t[0],i=e,r=n/i/2;t[0]+=r,t[1]-=r}var r=n(7),o=r.linearMap,a=n(4),s=[0,1],u=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};u.prototype={constructor:u,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&i>=t},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){var t=this._extent.slice();return t},getPixelPrecision:function(t){return r.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&(n=n.slice(),i(n,r.count())),o(t,s,n,e)},coordToData:function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),i(n,r.count()));var a=o(t,n,s,e);return this.scale.scale(a)},getTicksCoords:function(t){if(this.onBand&&!t){for(var e=this.getBands(),n=[],i=0;i<e.length;i++)n.push(e[i][0]);return e[i-1]&&n.push(e[i-1][1]),n}return a.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return a.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],n=this.scale.count(),i=t[0],r=t[1],o=r-i,a=0;n>a;a++)e.push([o*a/n+i,o*(a+1)/n+i]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n}},t.exports=u},function(t,e,n){"use strict";var i=n(4),r=n(114);t.exports=function(t){var e=t.model,n=e.getModel("axisLabel"),o=n.get("interval");return"category"!==t.type||"auto"!==o?"auto"===o?0:o:r.getAxisLabelInterval(i.map(t.scale.getTicks(),t.dataToCoord,t),e.getFormattedLabels(),n.getModel("textStyle").getFont(),t.isHorizontal())}},function(t,e,n){"use strict";n(126);var i=n(19);t.exports=i.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(t,e,n){"use strict";function i(t,e){return e.type||(e.data?"category":"value")}var r=n(19),o=n(4),a=n(127),s=r.extend({type:"cartesian2dAxis",axis:null,init:function(){s.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},getMin:function(){var t=this.option;return null!=t.rangeStart?t.rangeStart:t.min},getMax:function(){var t=this.option;return null!=t.rangeEnd?t.rangeEnd:t.max},getNeedCrossZero:function(){var t=this.option;return null!=t.rangeStart||null!=t.rangeEnd?!1:!t.scale},findGridModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.get("gridIndex"),id:this.get("gridId")})[0]},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});o.merge(s.prototype,n(129));var u={offset:0};a("x",s,i,u),a("y",s,i,u),t.exports=s},function(t,e,n){var i=n(128),r=n(4),o=n(19),a=n(21),s=["value","category","time","log"];t.exports=function(t,e,n,u){r.each(s,function(o){e.extend({type:t+"Axis."+o,mergeDefaultAndTheme:function(e,i){var s=this.layoutMode,u=s?a.getLayoutParams(e):{},l=i.getTheme();r.merge(e,l.get(o+"Axis")),r.merge(e,this.getDefaultOption()),e.type=n(t,e),s&&a.mergeLayoutParam(e,u,s)},defaultOption:r.mergeAll([{},i[o+"Axis"],u],!0)})}),o.registerSubTypeDefaulter(t+"Axis",r.curry(n,t))}},function(t,e,n){var i=n(4),r={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o=i.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},r),a=i.merge({boundaryGap:[0,0],splitNumber:5},r),s=i.defaults({scale:!0,min:"dataMin",max:"dataMax"},a),u=i.defaults({logBase:10},a);u.scale=!0,t.exports={categoryAxis:o,valueAxis:a,timeAxis:s,logAxis:u}},function(t,e,n){function i(t){return a.isObject(t)&&null!=t.value?t.value:t}function r(){return"category"===this.get("type")&&a.map(this.get("data"),i)}function o(){return s.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var a=n(4),s=n(114);t.exports={getFormattedLabels:o,getCategories:r}},function(t,e,n){"use strict";n(126),n(131)},function(t,e,n){function i(t,e){function n(t){var e=i.getAxis(t);return e.toGlobalCoord(e.dataToCoord(0))}var i=t.coordinateSystem,r=e.axis,o={},a=r.position,s=r.onZero?"onZero":a,u=r.dim,l=i.getRect(),c=[l.x,l.x+l.width,l.y,l.y+l.height],h=e.get("offset")||0,p={x:{top:c[2]-h,bottom:c[3]+h},y:{left:c[0]-h,right:c[1]+h}};p.x.onZero=Math.max(Math.min(n("y"),p.x.bottom),p.x.top),p.y.onZero=Math.max(Math.min(n("x"),p.y.right),p.y.left),o.position=["y"===u?p.y[s]:c[0],"x"===u?p.x[s]:c[3]],o.rotation=Math.PI/2*("x"===u?0:1);var d={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=d[a],r.onZero&&(o.labelOffset=p[u][a]-p[u].onZero),e.getModel("axisTick").get("inside")&&(o.tickDirection=-o.tickDirection),e.getModel("axisLabel").get("inside")&&(o.labelDirection=-o.labelDirection);var f=e.getModel("axisLabel").get("rotate");return o.labelRotation="top"===s?-f:f,o.labelInterval=r.getLabelInterval(),o.z2=1,o}var r=n(4),o=n(43),a=n(132),s=a.ifIgnoreOnTick,u=a.getInterval,l=["axisLine","axisLabel","axisTick","axisName"],c=["splitArea","splitLine"],h=n(1).extendComponentView({type:"axis",render:function(t){this.group.removeAll();var e=this._axisGroup;if(this._axisGroup=new o.Group,this.group.add(this._axisGroup),t.get("show")){var n=t.findGridModel(),s=i(n,t),u=new a(t,s);r.each(l,u.add,u),this._axisGroup.add(u.getGroup()),r.each(c,function(e){t.get(e+".show")&&this["_"+e](t,n,s.labelInterval)},this),o.groupTransition(e,this._axisGroup,t)}},_splitLine:function(t,e,n){var i=t.axis,a=t.getModel("splitLine"),l=a.getModel("lineStyle"),c=l.get("color"),h=u(a,n);c=r.isArray(c)?c:[c];for(var p=e.coordinateSystem.getRect(),d=i.isHorizontal(),f=0,g=i.getTicksCoords(),m=i.scale.getTicks(),v=[],y=[],_=l.getLineStyle(),b=0;b<g.length;b++)if(!s(i,b,h)){var x=i.toGlobalCoord(g[b]);d?(v[0]=x,v[1]=p.y,y[0]=x,y[1]=p.y+p.height):(v[0]=p.x,v[1]=x,y[0]=p.x+p.width,y[1]=x);var w=f++%c.length;this._axisGroup.add(new o.Line(o.subPixelOptimizeLine({anid:"line_"+m[b],shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:r.defaults({stroke:c[w]},_),silent:!0})))}},_splitArea:function(t,e,n){var i=t.axis,a=t.getModel("splitArea"),l=a.getModel("areaStyle"),c=l.get("color"),h=e.coordinateSystem.getRect(),p=i.getTicksCoords(),d=i.scale.getTicks(),f=i.toGlobalCoord(p[0]),g=i.toGlobalCoord(p[0]),m=0,v=u(a,n),y=l.getAreaStyle();c=r.isArray(c)?c:[c];for(var _=1;_<p.length;_++)if(!s(i,_,v)){var b,x,w,k,T=i.toGlobalCoord(p[_]);i.isHorizontal()?(b=f,x=h.y,w=T-b,k=h.height):(b=h.x,x=g,w=h.width,k=T-x);var S=m++%c.length;this._axisGroup.add(new o.Rect({anid:"area_"+d[_],shape:{x:b,y:x,width:w,height:k},style:r.defaults({fill:c[S]},y),silent:!0})),f=b+w,g=x+k}}});h.extend({type:"xAxis"}),h.extend({type:"yAxis"})},function(t,e,n){function i(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function r(t,e,n){var i,r,o=p(e-t.rotation);return d(o)?(r=n>0?"top":"bottom",i="center"):d(o-v)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&v>o?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,verticalAlign:r}}function o(t,e,n,i){var r,o,a=p(n-t.rotation),s=i[0]>i[1],u="start"===e&&!s||"start"!==e&&s;return d(a-v/2)?(o=u?"bottom":"top",r="center"):d(a-1.5*v)?(o=u?"top":"bottom",r="center"):(o="middle",r=1.5*v>a&&a>v/2?u?"left":"right":u?"right":"left"),{rotation:a,textAlign:r,verticalAlign:o}}function a(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}var s=n(4),u=n(6),l=n(43),c=n(12),h=n(7),p=h.remRadian,d=h.isRadianAroundZero,f=n(10),g=f.applyTransform,m=s.retrieve,v=Math.PI,y=function(t,e){this.opt=e,this.axisModel=t,s.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new l.Group;var n=new l.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};y.prototype={constructor:y,hasBuilder:function(t){return!!_[t]},add:function(t){_[t].call(this)},getGroup:function(){return this.group}};var _={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],o=[n[1],0];i&&(g(r,r,i),g(o,o,i)),this.group.add(new l.Line(l.subPixelOptimizeLine({anid:"line",shape:{x1:r[0],y1:r[1],x2:o[0],y2:o[1]},style:s.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var t=this.axisModel;if(t.get("axisTick.show"))for(var e=t.axis,n=t.getModel("axisTick"),i=this.opt,r=n.getModel("lineStyle"),o=n.get("length"),a=x(n,i.labelInterval),u=e.getTicksCoords(n.get("alignWithLabel")),c=e.scale.getTicks(),h=[],p=[],d=this._transform,f=0;f<u.length;f++)if(!b(e,f,a)){var m=u[f];h[0]=m,h[1]=0,p[0]=m,p[1]=i.tickDirection*o,d&&(g(h,h,d),g(p,p,d)),this.group.add(new l.Line(l.subPixelOptimizeLine({anid:"tick_"+c[f],shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:s.defaults(r.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function t(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();return n&&i?(n.applyTransform(t.getLocalTransform()),i.applyTransform(e.getLocalTransform()),n.intersect(i)):void 0}var e=this.opt,n=this.axisModel,o=m(e.axisLabelShow,n.get("axisLabel.show"));if(o){var s=n.axis,u=n.getModel("axisLabel"),h=u.getModel("textStyle"),p=u.get("margin"),d=s.scale.getTicks(),f=n.getFormattedLabels(),g=m(e.labelRotation,u.get("rotate"))||0;g=g*v/180;for(var y=r(e,g,e.labelDirection),_=n.get("data"),x=[],w=a(n),k=n.get("triggerEvent"),T=0;T<d.length;T++)if(!b(s,T,e.labelInterval)){var S=h;_&&_[T]&&_[T].textStyle&&(S=new c(_[T].textStyle,h,n.ecModel));var $=S.getTextColor()||n.get("axisLine.lineStyle.color"),C=s.dataToCoord(d[T]),A=[C,e.labelOffset+e.labelDirection*p],M=s.scale.getLabel(d[T]),I=new l.Text({anid:"label_"+d[T],style:{text:f[T],textAlign:S.get("align",!0)||y.textAlign,textVerticalAlign:S.get("baseline",!0)||y.verticalAlign,textFont:S.getFont(),fill:"function"==typeof $?$(M):$},position:A,rotation:y.rotation,silent:w,z2:10});k&&(I.eventData=i(n),I.eventData.targetType="axisLabel",I.eventData.value=M),this._dumbGroup.add(I),I.updateTransform(),x.push(I),this.group.add(I),I.decomposeTransform()}if("category"!==s.type){if(n.getMin?n.getMin():n.get("min")){var D=x[0],E=x[1];t(D,E)&&(D.ignore=!0)}if(n.getMax?n.getMax():n.get("max")){var O=x[x.length-1],P=x[x.length-2];t(P,O)&&(O.ignore=!0)}}}},axisName:function(){var t=this.opt,e=this.axisModel,n=m(t.axisName,e.get("name"));if(n){var c,h=e.get("nameLocation"),p=t.nameDirection,d=e.getModel("nameTextStyle"),f=e.get("nameGap")||0,g=this.axisModel.axis.getExtent(),y=g[0]>g[1]?-1:1,_=["start"===h?g[0]-y*f:"end"===h?g[1]+y*f:(g[0]+g[1])/2,"middle"===h?t.labelOffset+p*f:0],b=e.get("nameRotate");null!=b&&(b=b*v/180);var x;"middle"===h?c=r(t,null!=b?b:t.rotation,p):(c=o(t,h,b||0,g),x=t.axisNameAvailableWidth,null!=x&&(x=Math.abs(x/Math.sin(c.rotation)),!isFinite(x)&&(x=null)));var w=d.getFont(),k=e.get("nameTruncate",!0)||{},T=k.ellipsis,S=m(k.maxWidth,x),$=null!=T&&null!=S?u.truncateText(n,S,w,T,{minChar:2,placeholder:k.placeholder}):n,C=e.get("tooltip",!0),A=e.mainType,M={componentType:A,name:n,$vars:["name"]};M[A+"Index"]=e.componentIndex;var I=new l.Text({anid:"name",__fullText:n,__truncatedText:$,style:{text:$,textFont:w,fill:d.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:c.textAlign,textVerticalAlign:c.verticalAlign},position:_,rotation:c.rotation,silent:a(e),z2:1,tooltip:C&&C.show?s.extend({content:n,formatter:function(){return n},formatterParams:M},C):null});e.get("triggerEvent")&&(I.eventData=i(e),I.eventData.targetType="axisName",I.eventData.name=n),this._dumbGroup.add(I),I.updateTransform(),this.group.add(I),I.decomposeTransform()}}},b=y.ifIgnoreOnTick=function(t,e,n){var i,r=t.scale;return"ordinal"===r.type&&("function"==typeof n?(i=r.getTicks()[e],!n(i,r.getLabel(i))):e%(n+1))},x=y.getInterval=function(t,e){var n=t.get("interval");return(null==n||"auto"==n)&&(n=e),n};t.exports=y},function(t,e,n){var i=n(4);n(113),n(134),n(135);var r=n(137),o=n(1);o.registerLayout(i.curry(r,"bar")),o.registerVisual(function(t){t.eachSeriesByType("bar",function(t){var e=t.getData();e.setVisual("legendSymbol","roundRect")})}),n(112)},function(t,e,n){"use strict";var i=n(28),r=n(101);t.exports=i.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(t,e){var n=t.coordinateSystem;if("cartesian2d"!==n)throw new Error("Bar only support cartesian2d coordinateSystem");return r(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(t,!0),i=this.getData(),r=i.getLayout("offset"),o=i.getLayout("size"),a=e.getBaseAxis().isHorizontal()?0:1;return n[a]+=r+o/2,n}return[0/0,0/0]},brushSelector:"rect",defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(t,e,n){"use strict";function i(t,e){var n=t.width>0?1:-1,i=t.height>0?1:-1;e=Math.min(e,Math.abs(t.width),Math.abs(t.height)),t.x+=n*e/2,t.y+=i*e/2,t.width-=n*e,t.height-=i*e}var r=n(4),o=n(43);r.extend(n(12).prototype,n(136)),t.exports=n(1).extendChartView({type:"bar",render:function(t,e,n){var i=t.get("coordinateSystem");return"cartesian2d"===i&&this._renderOnCartesian(t,e,n),this.group},_renderOnCartesian:function(t){function e(e,n){var s=a.getItemLayout(e),u=a.getItemModel(e).get(p)||0;i(s,u);var l=new o.Rect({shape:r.extend({},s)});if(h){var d=l.shape,f=c?"height":"width",g={};d[f]=0,g[f]=s[f],o[n?"updateProps":"initProps"](l,{shape:g},t,e)}return l}var n=this.group,a=t.getData(),s=this._data,u=t.coordinateSystem,l=u.getBaseAxis(),c=l.isHorizontal(),h=t.get("animation"),p=["itemStyle","normal","barBorderWidth"];a.diff(s).add(function(t){if(a.hasValue(t)){var i=e(t);a.setItemGraphicEl(t,i),n.add(i)}}).update(function(r,u){var l=s.getItemGraphicEl(u);if(!a.hasValue(r))return void n.remove(l);l||(l=e(r,!0));var c=a.getItemLayout(r),h=a.getItemModel(r).get(p)||0;i(c,h),o.updateProps(l,{shape:c},t,r),a.setItemGraphicEl(r,l),n.add(l)}).remove(function(e){var i=s.getItemGraphicEl(e);i&&(i.style.text="",o.updateProps(i,{shape:{width:0}},t,e,function(){n.remove(i)}))}).execute(),this._updateStyle(t,a,c),this._data=a},_updateStyle:function(t,e,n){function i(t,e,n,i,r){o.setText(t,e,n),t.text=i,"outside"===t.textPosition&&(t.textPosition=r)}e.eachItemGraphicEl(function(a,s){var u=e.getItemModel(s),l=e.getItemVisual(s,"color"),c=e.getItemVisual(s,"opacity"),h=e.getItemLayout(s),p=u.getModel("itemStyle.normal"),d=u.getModel("itemStyle.emphasis").getBarItemStyle();a.setShape("r",p.get("barBorderRadius")||0),a.useStyle(r.defaults({fill:l,opacity:c},p.getBarItemStyle()));var f=n?h.height>0?"bottom":"top":h.width>0?"left":"right",g=u.getModel("label.normal"),m=u.getModel("label.emphasis"),v=a.style;g.get("show")?i(v,g,l,r.retrieve(t.getFormattedLabel(s,"normal"),t.getRawValue(s)),f):v.text="",m.get("show")?i(d,m,l,r.retrieve(t.getFormattedLabel(s,"emphasis"),t.getRawValue(s)),f):d.text="",o.setHoverStyle(a,d)})},remove:function(t){var e=this.group;t.get("animation")?this._data&&this._data.eachItemGraphicEl(function(n){n.style.text="",o.updateProps(n,{shape:{width:0}},t,n.dataIndex,function(){e.remove(n)})}):e.removeAll()}})},function(t,e,n){var i=n(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);
t.exports={getBarItemStyle:function(t){var e=i.call(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}}},function(t,e,n){"use strict";function i(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function r(t){return t.dim+t.index}function o(t){var e={};s.each(t,function(t){var n=t.getData(),o=t.coordinateSystem,a=o.getBaseAxis(),s=a.getExtent(),u="category"===a.type?a.getBandWidth():Math.abs(s[1]-s[0])/n.count(),c=e[r(a)]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=c.stacks;e[r(a)]=c;var p=i(t);h[p]||c.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var d=l(t.get("barWidth"),u),f=l(t.get("barMaxWidth"),u),g=t.get("barGap"),m=t.get("barCategoryGap");d&&!h[p].width&&(d=Math.min(c.remainedWidth,d),h[p].width=d,c.remainedWidth-=d),f&&(h[p].maxWidth=f),null!=g&&(c.gap=g),null!=m&&(c.categoryGap=m)});var n={};return s.each(e,function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=l(t.categoryGap,r),a=l(t.gap,1),u=t.remainedWidth,c=t.autoWidthCount,h=(u-o)/(c+(c-1)*a);h=Math.max(h,0),s.each(i,function(t){var e=t.maxWidth;!t.width&&e&&h>e&&(e=Math.min(e,u),u-=e,t.width=e,c--)}),h=(u-o)/(c+(c-1)*a),h=Math.max(h,0);var p,d=0;s.each(i,function(t){t.width||(t.width=h),p=t,d+=t.width*(1+a)}),p&&(d-=p.width*a);var f=-d/2;s.each(i,function(t,i){n[e][i]=n[e][i]||{offset:f,width:t.width},f+=t.width*(1+a)})}),n}function a(t,e){var n=o(s.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),a={};e.eachSeriesByType(t,function(t){var e=t.getData(),o=t.coordinateSystem,s=o.getBaseAxis(),u=i(t),l=n[r(s)][u],c=l.offset,h=l.width,p=o.getOtherAxis(s),d=t.get("barMinHeight")||0,f=s.onZero?p.toGlobalCoord(p.dataToCoord(0)):p.getGlobalExtent()[0],g=o.dataToPoints(e,!0);a[u]=a[u]||[],e.setLayout({offset:c,size:h}),e.each(p.dim,function(t,n){if(!isNaN(t)){a[u][n]||(a[u][n]={p:f,n:f});var i,r,o,s,l=t>=0?"p":"n",m=g[n],v=a[u][n][l];p.isHorizontal()?(i=v,r=m[1]+c,o=m[0]-v,s=h,Math.abs(o)<d&&(o=(0>o?-1:1)*d),a[u][n][l]+=o):(i=m[0]+c,r=v,o=h,s=m[1]-v,Math.abs(s)<d&&(s=(0>=s?-1:1)*d),a[u][n][l]+=s),e.setItemLayout(n,{x:i,y:r,width:o,height:s})}},!0)},this)}var s=n(4),u=n(7),l=u.parsePercent;t.exports=a},function(t,e,n){var i=n(4),r=n(1);n(139),n(141),n(142)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),r.registerVisual(i.curry(n(143),"pie")),r.registerLayout(i.curry(n(144),"pie")),r.registerProcessor(i.curry(n(146),"pie"))},function(t,e,n){"use strict";var i=n(97),r=n(4),o=n(5),a=n(102),s=n(140),u=n(1).extendSeriesModel({type:"series.pie",init:function(t){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(t.data),this._defaultLabelLine(t)},mergeOption:function(t){u.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},getInitialData:function(t){var e=a(["value"],t.data),n=new i(e,this);return n.initData(t.data),n},getDataParams:function(t){var e=this._data,n=u.superCall(this,"getDataParams",t),i=e.getSum("value");return n.percent=i?+(e.get("value",t)/i*100).toFixed(2):0,n.$vars.push("percent"),n},_defaultLabelLine:function(t){o.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,n=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,n.show=n.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});r.mixin(u,s),t.exports=u},function(t,e,n){var i=n(4);t.exports={updateSelectedMap:function(t){this._selectTargetMap=i.reduce(t||[],function(t,e){return t[e.name]=e,t},{})},select:function(t){var e=this._selectTargetMap,n=e[t],r=this.get("selectedMode");"single"===r&&i.each(e,function(t){t.selected=!1}),n&&(n.selected=!0)},unSelect:function(t){var e=this._selectTargetMap[t];e&&(e.selected=!1)},toggleSelected:function(t){var e=this._selectTargetMap[t];return null!=e?(this[e.selected?"unSelect":"select"](t),e.selected):void 0},isSelected:function(t){var e=this._selectTargetMap[t];return e&&e.selected}}},function(t,e,n){function i(t,e,n,i){var o=e.getData(),a=this.dataIndex,s=o.getName(a),u=e.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),o.each(function(t){r(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),u,n)})}function r(t,e,n,i,r){var o=(e.startAngle+e.endAngle)/2,a=Math.cos(o),s=Math.sin(o),u=n?i:0,l=[a*u,s*u];r?t.animate().when(200,{position:l}).start("bounceOut"):t.attr("position",l)}function o(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}s.Group.call(this);var r=new s.Sector({z2:2}),o=new s.Polyline,a=new s.Text;this.add(r),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function a(t,e,n,i,r){var o=i.getModel("textStyle"),a="inside"===r||"inner"===r;return{fill:o.getTextColor()||(a?"#fff":t.getItemVisual(e,"color")),opacity:t.getItemVisual(e,"opacity"),textFont:o.getFont(),text:u.retrieve(t.hostModel.getFormattedLabel(e,n),t.getName(e))}}var s=n(43),u=n(4),l=o.prototype;l.updateData=function(t,e,n){function i(){a.stopAnimation(!0),a.animateTo({shape:{r:h.r+10}},300,"elasticOut")}function o(){a.stopAnimation(!0),a.animateTo({shape:{r:h.r}},300,"elasticOut")}var a=this.childAt(0),l=t.hostModel,c=t.getItemModel(e),h=t.getItemLayout(e),p=u.extend({},h);p.label=null,n?(a.setShape(p),a.shape.endAngle=h.startAngle,s.updateProps(a,{shape:{endAngle:h.endAngle}},l,e)):s.updateProps(a,{shape:p},l,e);var d=c.getModel("itemStyle"),f=t.getItemVisual(e,"color");a.useStyle(u.defaults({lineJoin:"bevel",fill:f},d.getModel("normal").getItemStyle())),a.hoverStyle=d.getModel("emphasis").getItemStyle(),r(this,t.getItemLayout(e),c.get("selected"),l.get("selectedOffset"),l.get("animation")),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),c.get("hoverAnimation")&&l.ifEnableAnimation()&&a.on("mouseover",i).on("mouseout",o).on("emphasis",i).on("normal",o),this._updateLabel(t,e),s.setHoverStyle(this)},l._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),u=t.getItemLayout(e),l=u.label,c=t.getItemVisual(e,"color");s.updateProps(n,{shape:{points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]}},r,e),s.updateProps(i,{style:{x:l.x,y:l.y}},r,e),i.attr({style:{textVerticalAlign:l.verticalAlign,textAlign:l.textAlign,textFont:l.font},rotation:l.rotation,origin:[l.x,l.y],z2:10});var h=o.getModel("label.normal"),p=o.getModel("label.emphasis"),d=o.getModel("labelLine.normal"),f=o.getModel("labelLine.emphasis"),g=h.get("position")||p.get("position");i.setStyle(a(t,e,"normal",h,g)),i.ignore=i.normalIgnore=!h.get("show"),i.hoverIgnore=!p.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!f.get("show"),n.setStyle({stroke:c,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(d.getModel("lineStyle").getLineStyle()),i.hoverStyle=a(t,e,"emphasis",p,g),n.hoverStyle=f.getModel("lineStyle").getLineStyle();var m=d.get("smooth");m&&m===!0&&(m=.4),n.setShape({smooth:m})},u.inherits(o,s.Group);var c=n(42).extend({type:"pie",init:function(){var t=new s.Group;this._sectorGroup=t},render:function(t,e,n,r){if(!r||r.from!==this.uid){var a=t.getData(),s=this._data,l=this.group,c=e.get("animation"),h=!s,p=u.curry(i,this.uid,t,c,n),d=t.get("selectedMode");if(a.diff(s).add(function(t){var e=new o(a,t);h&&e.eachChild(function(t){t.stopAnimation(!0)}),d&&e.on("click",p),a.setItemGraphicEl(t,e),l.add(e)}).update(function(t,e){var n=s.getItemGraphicEl(e);n.updateData(a,t),n.off("click"),d&&n.on("click",p),l.add(n),a.setItemGraphicEl(t,n)}).remove(function(t){var e=s.getItemGraphicEl(t);l.remove(e)}).execute(),c&&h&&a.count()>0){var f=a.getItemLayout(0),g=Math.max(n.getWidth(),n.getHeight())/2,m=u.bind(l.removeClipPath,l);l.setClipPath(this._createClipPath(f.cx,f.cy,g,f.startAngle,f.clockwise,m,t))}this._data=a}},_createClipPath:function(t,e,n,i,r,o,a){var u=new s.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return s.initProps(u,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},a,o),u}});t.exports=c},function(t,e,n){var i=n(1),r=n(4);t.exports=function(t,e){r.each(e,function(e){e.update="updateView",i.registerAction(e,function(n,i){var r={};return i.eachComponent({mainType:"series",subType:t,query:n},function(t){t[e.method]&&t[e.method](n.name);var i=t.getData();i.each(function(e){var n=i.getName(e);r[n]=t.isSelected(n)||!1})}),{name:n.name,selected:r}})})}},function(t){t.exports=function(t,e){var n={};e.eachRawSeriesByType(t,function(t){var i=t.getRawData(),r={};if(!e.isSeriesFiltered(t)){var o=t.getData();o.each(function(t){var e=o.getRawIndex(t);r[e]=t}),i.each(function(e){var a=i.getItemModel(e),s=r[e],u=null!=s&&o.getItemVisual(s,"color",!0);if(u)i.setItemVisual(e,"color",u);else{var l=a.get("itemStyle.normal.color")||t.getColorFromPalette(i.getName(e),n);i.setItemVisual(e,"color",l),null!=s&&o.setItemVisual(s,"color",l)}})}})}},function(t,e,n){var i=n(7),r=i.parsePercent,o=n(145),a=n(4),s=2*Math.PI,u=Math.PI/180;t.exports=function(t,e,n){e.eachSeriesByType(t,function(t){var e=t.get("center"),l=t.get("radius");a.isArray(l)||(l=[0,l]),a.isArray(e)||(e=[e,e]);var c=n.getWidth(),h=n.getHeight(),p=Math.min(c,h),d=r(e[0],c),f=r(e[1],h),g=r(l[0],p/2),m=r(l[1],p/2),v=t.getData(),y=-t.get("startAngle")*u,_=t.get("minAngle")*u,b=v.getSum("value"),x=Math.PI/(b||v.count())*2,w=t.get("clockwise"),k=t.get("roseType"),T=v.getDataExtent("value");T[0]=0;var S=s,$=0,C=y,A=w?1:-1;if(v.each("value",function(t,e){var n;n="area"!==k?0===b?x:t*x:s/(v.count()||1),_>n?(n=_,S-=_):$+=t;var r=C+A*n;v.setItemLayout(e,{angle:n,startAngle:C,endAngle:r,clockwise:w,cx:d,cy:f,r0:g,r:k?i.linearMap(t,T,[g,m]):m}),C=r},!0),s>S)if(.001>=S){var M=s/v.count();v.each(function(t){var e=v.getItemLayout(t);e.startAngle=y+A*t*M,e.endAngle=y+A*(t+1)*M})}else x=S/$,C=y,v.each("value",function(t,e){var n=v.getItemLayout(e),i=n.angle===_?_:t*x;n.startAngle=C,n.endAngle=C+A*i,C+=i});o(t,m,c,h)})}},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){function s(e,n,i){for(var r=e;n>r;r++)if(t[r].y+=i,r>e&&n>r+1&&t[r+1].y>t[r].y+t[r].height)return void u(r,i/2);u(n-1,i/2)}function u(e,n){for(var i=e;i>=0&&(t[i].y-=n,!(i>0&&t[i].y>t[i-1].y+t[i-1].height));i--);}function l(t,e,n,i,r,o){for(var a=o>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,s=0,u=t.length;u>s;s++)if("center"!==t[s].position){var l=Math.abs(t[s].y-i),c=t[s].len,h=t[s].len2,p=r+c>l?Math.sqrt((r+c+h)*(r+c+h)-l*l):Math.abs(t[s].x-n);e&&p>=a&&(p=a-10),!e&&a>=p&&(p=a+10),t[s].x=n+p*o,a=p}}t.sort(function(t,e){return t.y-e.y});for(var c,h=0,p=t.length,d=[],f=[],g=0;p>g;g++)c=t[g].y-h,0>c&&s(g,p,-c,r),h=t[g].y+t[g].height;0>a-h&&u(p-1,h-a);for(var g=0;p>g;g++)t[g].y>=n?f.push(t[g]):d.push(t[g]);l(d,!1,e,n,i,r),l(f,!0,e,n,i,r)}function r(t,e,n,r,o,a){for(var s=[],u=[],l=0;l<t.length;l++)t[l].x<e?s.push(t[l]):u.push(t[l]);i(u,e,n,r,1,o,a),i(s,e,n,r,-1,o,a);for(var l=0;l<t.length;l++){var c=t[l].linePoints;if(c){var h=c[1][0]-c[2][0];c[2][0]=t[l].x<e?t[l].x+3:t[l].x-3,c[1][1]=c[2][1]=t[l].y,c[1][0]=c[2][0]+h}}}var o=n(8);t.exports=function(t,e,n,i){var a,s,u=t.getData(),l=[],c=!1;u.each(function(n){var i,r,h,p,d=u.getItemLayout(n),f=u.getItemModel(n),g=f.getModel("label.normal"),m=g.get("position")||f.get("label.emphasis.position"),v=f.getModel("labelLine.normal"),y=v.get("length"),_=v.get("length2"),b=(d.startAngle+d.endAngle)/2,x=Math.cos(b),w=Math.sin(b);a=d.cx,s=d.cy;var k="inside"===m||"inner"===m;if("center"===m)i=d.cx,r=d.cy,p="center";else{var T=(k?(d.r+d.r0)/2*x:d.r*x)+a,S=(k?(d.r+d.r0)/2*w:d.r*w)+s;if(i=T+3*x,r=S+3*w,!k){var $=T+x*(y+e-d.r),C=S+w*(y+e-d.r),A=$+(0>x?-1:1)*_,M=C;i=A+(0>x?-5:5),r=M,h=[[T,S],[$,C],[A,M]]}p=k?"center":x>0?"left":"right"}var I=g.getModel("textStyle").getFont(),D=g.get("rotate")?0>x?-b+Math.PI:-b:0,E=t.getFormattedLabel(n,"normal")||u.getName(n),O=o.getBoundingRect(E,I,p,"top");c=!!D,d.label={x:i,y:r,position:m,height:O.height,len:y,len2:_,linePoints:h,textAlign:p,verticalAlign:"middle",font:I,rotation:D},k||l.push(d.label)}),!c&&t.get("avoidLabelOverlap")&&r(l,a,s,e,n,i)}},function(t){t.exports=function(t,e){var n=e.findComponents({mainType:"legend"});n&&n.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var i=e.getName(t),r=0;r<n.length;r++)if(!n[r].isSelected(i))return!1;return!0},this)},this)}},function(t,e,n){var i=n(4),r=n(1);n(148),n(149),r.registerVisual(i.curry(n(109),"scatter","circle",null)),r.registerLayout(i.curry(n(110),"scatter")),n(112)},function(t,e,n){"use strict";var i=n(101),r=n(28);t.exports=r.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(t,e){var n=i(t.data,this,e);return n},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(t,e,n){var i=n(104),r=n(150);n(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new i,this._largeSymbolDraw=new r},render:function(t){var e=t.getData(),n=this._largeSymbolDraw,i=this._normalSymbolDraw,r=this.group,o=t.get("large")&&e.count()>t.get("largeThreshold")?n:i;this._symbolDraw=o,o.updateData(e),r.add(o.group),r.remove(o===n?i.group:n.group)},updateLayout:function(t){this._symbolDraw.updateLayout(t)},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e,!0)}})},function(t,e,n){function i(){this.group=new r.Group,this._symbolEl=new a({})}var r=n(43),o=n(106),a=r.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(t,e){for(var n=e.points,i=e.sizes,r=this.symbolProxy,o=r.shape,a=0;a<n.length;a++){var s=n[a],u=i[a];u[0]<4?t.rect(s[0]-u[0]/2,s[1]-u[1]/2,u[0],u[1]):(o.x=s[0]-u[0]/2,o.y=s[1]-u[1]/2,o.width=u[0],o.height=u[1],r.buildPath(t,o,!0))}},findDataIndex:function(t,e){for(var n=this.shape,i=n.points,r=n.sizes,o=i.length-1;o>=0;o--){var a=i[o],s=r[o],u=a[0]-s[0]/2,l=a[1]-s[1]/2;if(t>=u&&e>=l&&t<=u+s[0]&&e<=l+s[1])return o}return-1}}),s=i.prototype;s.updateData=function(t){this.group.removeAll();var e=this._symbolEl,n=t.hostModel;e.setShape({points:t.mapArray(t.getItemLayout),sizes:t.mapArray(function(e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array||(n=[n,n]),n})}),e.symbolProxy=o.createSymbol(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.useStyle(n.getModel("itemStyle.normal").getItemStyle(["color"]));var i=t.getVisual("color");i&&e.setColor(i),e.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(e.dataIndex=n)}),this.group.add(e)},s.updateLayout=function(t){var e=t.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)})},s.remove=function(){this.group.removeAll()},t.exports=i},function(t,e,n){var i=n(4),r=n(1);n(152),n(157),n(158),r.registerVisual(i.curry(n(143),"radar")),r.registerVisual(i.curry(n(109),"radar","circle",null)),r.registerLayout(n(159)),r.registerProcessor(i.curry(n(146),"radar")),r.registerPreprocessor(n(160))},function(t,e,n){n(153),n(155),n(156)},function(t,e,n){function i(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=r.map(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,i=new o(n,new a);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i},this),this.resize(t,n),this.cx,this.cy,this.r,this.startAngle}var r=n(4),o=n(154),a=n(117),s=n(7),u=n(114);i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},i.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle,r=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[r,o]},i.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,o=Math.atan2(-n,e),a=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var l=this._indicatorAxes[u],c=Math.abs(o-l.angle);a>c&&(r=l,s=u,a=c)}return[s,+(r&&r.coodToData(i))]},i.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),o=e.getHeight(),a=Math.min(i,o)/2;this.cx=s.parsePercent(n[0],i),this.cy=s.parsePercent(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=s.parsePercent(t.get("radius"),a),r.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},i.prototype.update=function(t){function e(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}var n=this._indicatorAxes,i=this._model;r.each(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var o=e.getData();r.each(n,function(t){t.scale.unionExtent(o.getDataExtent(t.dim))})}},this);var o=i.get("splitNumber");r.each(n,function(t){var n=u.getScaleExtent(t,t.model);u.niceScaleExtent(t,t.model);var i=t.model,r=t.scale,a=i.get("min"),l=i.get("max"),c=r.getInterval();if(null!=a&&null!=l)r.setInterval((l-a)/o);else if(null!=a){var h;do h=a+c*o,r.setExtent(+a,h),r.setInterval(c),c=e(c);while(h<n[1]&&isFinite(h)&&isFinite(n[1]))}else if(null!=l){var p;do p=l-c*o,r.setExtent(p,+l),r.setInterval(c),c=e(c);while(p>n[0]&&isFinite(p)&&isFinite(n[0]))}else{var d=r.getTicks().length-1;d>o&&(c=e(c));var f=Math.round((n[0]+n[1])/2/c)*c,g=Math.round(o/2);r.setExtent(s.round(f-g*c),s.round(f+(o-g)*c)),r.setInterval(c)}})},i.dimensions=[],i.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var o=new i(r,t,e);n.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])}),n},n(26).register("radar",i),t.exports=i},function(t,e,n){function i(t,e,n){o.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}var r=n(4),o=n(123);r.inherits(i,o),t.exports=i},function(t,e,n){function i(t,e){return s.defaults({show:e},t)}var r=n(128),o=r.valueAxis,a=n(12),s=n(4),u=n(129),l=n(1).extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("name.textStyle"),c=this.get("name.show"),h=this.get("name.formatter"),p=this.get("nameGap"),d=s.map(this.get("indicator")||[],function(d){return null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0),d=s.merge(s.clone(d),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:d.text,nameLocation:"end",nameGap:p,nameTextStyle:l},!1),c||(d.name=""),"string"==typeof h?d.name=h.replace("{value}",d.name):"function"==typeof h&&(d.name=h(d.name,d)),s.extend(new a(d,null,this.ecModel),u)},this);this.getIndicatorModels=function(){return d}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:s.merge({lineStyle:{color:"#bbb"}},o.axisLine),axisLabel:i(o.axisLabel,!1),axisTick:i(o.axisTick,!1),splitLine:i(o.splitLine,!0),splitArea:i(o.splitArea,!0),indicator:[]}});t.exports=l},function(t,e,n){var i=n(132),r=n(4),o=n(43),a=["axisLine","axisLabel","axisTick","axisName"];t.exports=n(1).extendComponentView({type:"radar",render:function(t){var e=this.group;e.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),o=r.map(n,function(t){var n=new i(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n});r.each(o,function(t){r.each(a,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}var n=t.coordinateSystem,i=t.get("splitNumber"),a=n.getIndicatorAxes();if(a.length){var s=t.get("shape"),u=t.getModel("splitLine"),l=t.getModel("splitArea"),c=u.getModel("lineStyle"),h=l.getModel("areaStyle"),p=u.get("show"),d=l.get("show"),f=c.get("color"),g=h.get("color");f=r.isArray(f)?f:[f],g=r.isArray(g)?g:[g];var m=[],v=[];if("circle"===s)for(var y=a[0].getTicksCoords(),_=n.cx,b=n.cy,x=0;x<y.length;x++){if(p){var w=e(m,f,x);m[w].push(new o.Circle({shape:{cx:_,cy:b,r:y[x]}}))}if(d&&x<y.length-1){var w=e(v,g,x);v[w].push(new o.Ring({shape:{cx:_,cy:b,r0:y[x],r:y[x+1]}}))}}else for(var k=r.map(a,function(t,e){var i=t.getTicksCoords();return r.map(i,function(t){return n.coordToPoint(t,e)})}),T=[],x=0;i>=x;x++){for(var S=[],$=0;$<a.length;$++)S.push(k[$][x]);if(S[0]){if(S.push(S[0].slice()),p){var w=e(m,f,x);m[w].push(new o.Polyline({shape:{points:S}}))}if(d&&T){var w=e(v,g,x-1);v[w].push(new o.Polygon({shape:{points:S.concat(T)}}))}T=S.slice().reverse()}else console.error("Can't draw value axis "+x)}var C=c.getLineStyle(),A=h.getAreaStyle();r.each(v,function(t,e){this.group.add(o.mergePath(t,{style:r.defaults({stroke:"none",fill:g[e%g.length]},A),silent:!0}))},this),r.each(m,function(t,e){this.group.add(o.mergePath(t,{style:r.defaults({fill:"none",stroke:f[e%f.length]},C),silent:!0}))},this)}}})},function(t,e,n){"use strict";var i=n(28),r=n(97),o=n(102),a=n(4),s=i.extend({type:"series.radar",dependencies:["radar"],init:function(){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(t){var e=t.data||[],n=o([],e,[],"indicator_"),i=new r(n,this);return i.initData(e),i},formatTooltip:function(t){var e=this.getRawValue(t),n=this.coordinateSystem,i=n.getIndicatorAxes();return(""==this._data.getName(t)?this.name:this._data.getName(t))+"<br/>"+a.map(i,function(t,n){return t.name+" : "+e[n]}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});t.exports=s},function(t,e,n){function i(t){return o.isArray(t)||(t=[+t,+t]),t}var r=n(43),o=n(4),a=n(106);t.exports=n(1).extendChartView({type:"radar",render:function(t){function e(t,e){var n=t.getItemVisual(e,"symbol")||"circle",r=t.getItemVisual(e,"color");if("none"!==n){var o=a.createSymbol(n,-.5,-.5,1,1,r);return o.attr({style:{strokeNoScale:!0},z2:100,scale:i(t.getItemVisual(e,"symbolSize"))}),o}}function n(n,i,o,a,s,u){o.removeAll();for(var l=0;l<i.length-1;l++){var c=e(a,s);c&&(c.__dimIdx=l,n[l]?(c.attr("position",n[l]),r[u?"initProps":"updateProps"](c,{position:i[l]},t,s)):c.attr("position",i[l]),o.add(c))}}function s(t){return o.map(t,function(){return[u.cx,u.cy]})}var u=t.coordinateSystem,l=this.group,c=t.getData(),h=this._data;c.diff(h).add(function(e){var i=c.getItemLayout(e);if(i){var o=new r.Polygon,a=new r.Polyline,u={shape:{points:i}};o.shape.points=s(i),a.shape.points=s(i),r.initProps(o,u,t,e),r.initProps(a,u,t,e);var l=new r.Group,h=new r.Group;l.add(a),l.add(o),l.add(h),n(a.shape.points,i,h,c,e,!0),c.setItemGraphicEl(e,l)}}).update(function(e,i){var o=h.getItemGraphicEl(i),a=o.childAt(0),s=o.childAt(1),u=o.childAt(2),l={shape:{points:c.getItemLayout(e)}};l.shape.points&&(n(a.shape.points,l.shape.points,u,c,e,!1),r.updateProps(a,l,t),r.updateProps(s,l,t),c.setItemGraphicEl(e,o))}).remove(function(t){l.remove(h.getItemGraphicEl(t))}).execute(),c.eachItemGraphicEl(function(e,n){function i(){h.attr("ignore",v)}function a(){h.attr("ignore",m)}var s=c.getItemModel(n),u=e.childAt(0),h=e.childAt(1),p=e.childAt(2),d=c.getItemVisual(n,"color");l.add(e),u.useStyle(o.defaults(s.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:d})),u.hoverStyle=s.getModel("lineStyle.emphasis").getLineStyle();var f=s.getModel("areaStyle.normal"),g=s.getModel("areaStyle.emphasis"),m=f.isEmpty()&&f.parentModel.isEmpty(),v=g.isEmpty()&&g.parentModel.isEmpty();v=v&&m,h.ignore=m,h.useStyle(o.defaults(f.getAreaStyle(),{fill:d,opacity:.7})),h.hoverStyle=g.getAreaStyle();var y=s.getModel("itemStyle.normal").getItemStyle(["color"]),_=s.getModel("itemStyle.emphasis").getItemStyle(),b=s.getModel("label.normal"),x=s.getModel("label.emphasis");p.eachChild(function(e){e.setStyle(y),e.hoverStyle=o.clone(_);var i=c.get(c.dimensions[e.__dimIdx],n);r.setText(e.style,b,d),e.setStyle({text:b.get("show")?o.retrieve(t.getFormattedLabel(n,"normal",null,e.__dimIdx),i):""}),r.setText(e.hoverStyle,x,d),e.hoverStyle.text=x.get("show")?o.retrieve(t.getFormattedLabel(n,"emphasis",null,e.__dimIdx),i):""}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",i).on("mouseover",i).on("normal",a).on("mouseout",a),r.setHoverStyle(e)}),this._data=c},remove:function(){this.group.removeAll(),this._data=null}})},function(t){t.exports=function(t){t.eachSeriesByType("radar",function(t){function e(t,e){i[e]=i[e]||[],i[e][o]=r.dataToPoint(t,o)}var n=t.getData(),i=[],r=t.coordinateSystem;if(r){for(var o=0;o<r.getIndicatorAxes().length;o++){var a=n.dimensions[o];n.each(a,e)}n.each(function(t){i[t][0]&&i[t].push(i[t][0].slice()),n.setItemLayout(t,i[t])})}})}},function(t,e,n){var i=n(4);t.exports=function(t){var e=t.polar;if(e){i.isArray(e)||(e=[e]);var n=[];i.each(e,function(e){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],i.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}i.each(t.series,function(t){"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}},function(t,e,n){var i=n(1),r=i.PRIORITY;n(162),n(172),n(176),n(163),i.registerLayout(n(178)),i.registerVisual(n(179)),i.registerProcessor(r.PROCESSOR.STATISTIC,n(180)),i.registerPreprocessor(n(181)),n(142)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,n){var i=n(97),r=n(28),o=n(4),a=n(102),s=n(6),u=s.encodeHTML,l=s.addCommas,c=n(140),h=n(163),p=r.extend({type:"series.map",layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(t){t=this._fillOption(t,t.map),this.option=t,p.superApply(this,"init",arguments),this.updateSelectedMap(t.data)},getInitialData:function(t){var e=a(["value"],t.data||[]),n=new i(e,this);return n.initData(t.data),n},mergeOption:function(t){t.data&&(t=this._fillOption(t,this.option.map)),p.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},_fillOption:function(t,e){return t=o.extend({},t),t.data=h.getFilledRegions(t.data,e),t},getRawValue:function(t){return this._data.get("value",t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),n=l(this.getRawValue(t)),i=e.getName(t),r=this.seriesGroup,o=[],a=0;a<r.length;a++){var s=r[a].originalData.indexOfName(i);isNaN(r[a].originalData.get("value",s))||o.push(u(r[a].name))}return o.join(", ")+"<br />"+i+" : "+n},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});o.mixin(p,c),t.exports=p},function(t,e,n){function i(t,e){var n,i=this.getBoundingRect(),r=t.get("layoutCenter"),o=t.get("layoutSize"),s=e.getWidth(),l=e.getHeight(),c=t.get("aspectScale")||.75,h=i.width/i.height*c,p=!1;r&&o&&(r=[u.parsePercent(r[0],s),u.parsePercent(r[1],l)],o=u.parsePercent(o,Math.min(s,l)),isNaN(r[0])||isNaN(r[1])||isNaN(o)?console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):p=!0);var d;if(p){var d={};h>1?(d.width=o,d.height=o/h):(d.height=o,d.width=o*h),d.y=r[1]-d.height/2,d.x=r[0]-d.width/2}else n=t.getBoxLayoutParams(),n.aspect=h,d=a.getLayoutRect(n,{width:s,height:l});this.setViewRect(d.x,d.y,d.width,d.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function r(t,e){s.each(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}var o=n(164),a=n(21),s=n(4),u=n(7),l={},c=function(t){console.error("Map "+t+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},h={dimensions:o.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("geo",function(t,a){var s=t.get("map"),u=l[s];u||c(s);var h=new o(s+a,s,u&&u.geoJson,u&&u.specialAreas,t.get("nameMap"));h.zoomLimit=t.get("scaleLimit"),n.push(h),r(h,t),t.coordinateSystem=h,h.model=t,h.resize=i,h.resize(t,e)}),t.eachSeries(function(t){var e=t.get("coordinateSystem");if("geo"===e){var i=t.get("geoIndex")||0;t.coordinateSystem=n[i]}});var a={};return t.eachSeriesByType("map",function(t){var e=t.get("map");a[e]=a[e]||[],a[e].push(t)}),s.each(a,function(t,a){var u=l[a];u||c(t[0].get("map"));var h=s.map(t,function(t){return t.get("nameMap")}),p=new o(a,a,u&&u.geoJson,u&&u.specialAreas,s.mergeAll(h));p.zoomLimit=s.retrieve.apply(null,s.map(t,function(t){return t.get("scaleLimit")})),n.push(p),p.resize=i,p.resize(t[0],e),s.each(t,function(t){t.coordinateSystem=p,r(p,t)})}),n},registerMap:function(t,e,n){e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),l[t]={geoJson:e,specialAreas:n}},getMap:function(t){return l[t]},getFilledRegions:function(t,e){var n=(t||[]).slice(),i=h.getMap(e),r=i&&i.geoJson;if(!r)return c(e),t;for(var o={},a=r.features,s=0;s<n.length;s++)o[n[s].name]=n[s];for(var s=0;s<a.length;s++){var u=a[s].properties.name;o[u]||n.push({name:u})}return n}},p=n(1);p.registerMap=h.registerMap,p.getMap=h.getMap,p.loadMap=function(){},p.registerCoordinateSystem("geo",h),t.exports=h},function(t,e,n){function i(t,e,n,i,r){s.call(this,t),this.map=e,this._nameCoordMap={},this.loadGeoJson(n,i,r)}var r=n(165),o=n(4),a=n(9),s=n(168),u=[n(169),n(170),n(171)];i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},loadGeoJson:function(t,e,n){try{this.regions=t?r(t):[]}catch(i){throw"Invalid geoJson format\n"+i}e=e||{},n=n||{};for(var a=this.regions,s={},l=0;l<a.length;l++){var c=a[l].name;c=n[c]||c,a[l].name=c,s[c]=a[l],this.addGeoCoord(c,a[l].center);var h=e[c];h&&a[l].transformTo(h.left,h.top,h.width,h.height)}this._regionsMap=s,this._rect=null,o.each(u,function(t){t(this)},this)},transformTo:function(t,e,n,i){var r=this.getBoundingRect();r=r.clone(),r.y=-r.y-r.height;var o=this._viewTransform;o.transform=r.calculateTransform(new a(t,e,n,i)),o.decomposeTransform();var s=o.scale;s[1]=-s[1],o.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getGeoCoord:function(t){return this._nameCoordMap[t]},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,n=0;n<e.length;n++){var i=e[n].getBoundingRect();t=t||i.clone(),t.union(i)}return this._rect=t||new a(0,0,0,0)},dataToPoints:function(t){var e=[];
return t.mapArray(["lng","lat"],function(t,n){return e[0]=t,e[1]=n,this.dataToPoint(e)},this)},dataToPoint:function(t){return"string"==typeof t&&(t=this.getGeoCoord(t)),t?s.prototype.dataToPoint.call(this,t):void 0}},o.mixin(i,s),t.exports=i},function(t,e,n){function i(t){if(!t.UTF8Encoding)return t;for(var e=t.features,n=0;n<e.length;n++)for(var i=e[n],o=i.geometry,a=o.coordinates,s=o.encodeOffsets,u=0;u<a.length;u++){var l=a[u];if("Polygon"===o.type)a[u]=r(l,s[u]);else if("MultiPolygon"===o.type)for(var c=0;c<l.length;c++){var h=l[c];l[c]=r(h,s[u][c])}}return t.UTF8Encoding=!1,t}function r(t,e){for(var n=[],i=e[0],r=e[1],o=0;o<t.length;o+=2){var a=t.charCodeAt(o)-64,s=t.charCodeAt(o+1)-64;a=a>>1^-(1&a),s=s>>1^-(1&s),a+=i,s+=r,i=a,r=s,n.push([a/1024,s/1024])}return n}function o(t){for(var e=[],n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)e.push(t[n][i]);return e}var a=n(4),s=n(166);t.exports=function(t){return i(t),a.map(a.filter(t.features,function(t){return t.geometry&&t.properties}),function(t){var e=t.properties,n=t.geometry,i=n.coordinates;return"MultiPolygon"===n.type&&(i=o(i)),new s(e.name,i,e.cp)})}},function(t,e,n){function i(t,e,n){if(this.name=t,this.contours=e,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}var r=n(167),o=n(9),a=n(51),s=n(10);i.prototype={constructor:i,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],i=[-e,-e],r=[],u=[],l=this.contours,c=0;c<l.length;c++)a.fromPoints(l[c],r,u),s.min(n,n,r),s.max(i,i,u);return 0===c&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new o(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.contours;if(e.contain(t[0],t[1]))for(var i=0,o=n.length;o>i;i++)if(r.contain(n[i],t[0],t[1]))return!0;return!1},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),a=r.width/r.height;n?i||(i=n/a):n=a*i;for(var u=new o(t,e,n,i),l=r.calculateTransform(u),c=this.contours,h=0;h<c.length;h++)for(var p=0;p<c[h].length;p++)s.applyTransform(c[h][p],c[h][p],l);r=this._rect,r.copy(u),this.center=[r.x+r.width/2,r.y+r.height/2]}},t.exports=i},function(t,e,n){function i(t,e){return Math.abs(t-e)<a}function r(t,e,n){var r=0,a=t[0];if(!a)return!1;for(var s=1;s<t.length;s++){var u=t[s];r+=o(a[0],a[1],u[0],u[1],e,n),a=u}var l=t[0];return i(a[0],l[0])&&i(a[1],l[1])||(r+=o(a[0],a[1],l[0],l[1],e,n)),0!==r}var o=n(58),a=1e-8;t.exports={contain:r}},function(t,e,n){function i(){s.call(this)}function r(t){this.name=t,this.zoomLimit,s.call(this),this._roamTransform=new i,this._viewTransform=new i,this._center,this._zoom}var o=n(10),a=n(11),s=n(34),u=n(4),l=n(9),c=o.applyTransform;u.mixin(i,s),r.prototype={constructor:r,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,i){return this._rect=new l(t,e,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,i){n=n,i=i,this.transformTo(t,e,n,i),this._viewRect=new l(t,e,n,i)},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),o=this._viewTransform;o.transform=r.calculateTransform(new l(t,e,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect(),e=t.x+t.width/2,n=t.y+t.height/2;return[e,n]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var t=this._viewTransform.getLocalTransform(),e=this._roamTransform,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=o.applyTransform([],i,t),n=o.applyTransform([],n,t),e.origin=i,e.position=[n[0]-i[0],n[1]-i[1]],e.scale=[r,r],this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&&a.copy(this.transform||(this.transform=[]),e.transform),this.transform?(this.invTransform=this.invTransform||[],a.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t){var e=this.transform;return e?c([],t,e):[t[0],t[1]]},pointToData:function(t){var e=this.invTransform;return e?c([],t,e):[t[0],t[1]]}},u.mixin(r,s),t.exports=r},function(t,e,n){for(var i=n(166),r=[126,25],o=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],a=0;a<o.length;a++)for(var s=0;s<o[a].length;s++)o[a][s][0]/=10.5,o[a][s][1]/=-14,o[a][s][0]+=r[0],o[a][s][1]+=r[1];t.exports=function(t){"china"===t.map&&t.regions.push(new i("",o,r))}},function(t,e,n){var i=n(4),r={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};t.exports=function(t){i.each(t.regions,function(t){var e=r[t.name];if(e){var n=t.center;n[0]+=e[0]/10.5,n[1]+=-e[1]/14}})}},function(t,e,n){var i=n(4),r={Russia:[100,60],"United States of America":[-99,38]};t.exports=function(t){i.each(t.regions,function(t){var e=r[t.name];if(e){var n=t.center;n[0]=e[0],n[1]=e[1]}})}},function(t,e,n){var i=n(43),r=n(173);n(1).extendChartView({type:"map",render:function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id){var a=this._mapDraw;a&&o.add(a.group)}else if(t.needsDrawMap){var a=this._mapDraw||new r(n,!0);o.add(a.group),a.draw(t,e,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_renderSymbols:function(t){var e=t.originalData,n=this.group;e.each("value",function(r,o){if(!isNaN(r)){var a=e.getItemLayout(o);if(a&&a.point){var s=a.point,u=a.offset,l=new i.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:s[0]+9*u,cy:s[1],r:3},silent:!0,z2:10});if(!u){var c=t.mainSeries.getData(),h=e.getName(o),p=h,d=c.indexOfName(h),f=e.getItemModel(o),g=f.getModel("label.normal"),m=f.getModel("label.emphasis"),v=g.getModel("textStyle"),y=m.getModel("textStyle"),_=c.getItemGraphicEl(d);l.setStyle({textPosition:"bottom"});var b=function(){l.setStyle({text:m.get("show")?p:"",textFill:y.getTextColor(),textFont:y.getFont()})},x=function(){l.setStyle({text:g.get("show")?p:"",textFill:v.getTextColor(),textFont:v.getFont()})};_.on("mouseover",b).on("mouseout",x).on("emphasis",b).on("normal",x),x()}n.add(l)}}})}})},function(t,e,n){function i(t){var e=t.getItemStyle(),n=t.get("areaColor");return n&&(e.fill=n),e}function r(t,e,n,i){e.off("click"),t.get("selectedMode")&&e.on("click",function(r){for(var a=r.target;!a.__region;)a=a.parent;if(a){var s=a.__region,u={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",name:s.name,from:i.uid};u[t.mainType+"Id"]=t.id,n.dispatchAction(u),o(t,e)}})}function o(t,e){e.eachChild(function(e){e.__region&&e.trigger(t.isSelected(e.__region.name)?"emphasis":"normal")})}function a(t,e){var n=new u.Group;this._controller=new s(t.getZr(),e?n:null,null),this.group=n,this._updateGroup=e}var s=n(174),u=n(43),l=n(4);a.prototype={constructor:a,draw:function(t,e,n,a,s){var c=t.getData&&t.getData(),h=t.coordinateSystem,p=this.group,d=h.scale,f={position:h.position,scale:d};!p.childAt(0)||s?p.attr(f):u.updateProps(p,f,t),p.removeAll();var g=["itemStyle","normal"],m=["itemStyle","emphasis"],v=["label","normal"],y=["label","emphasis"];l.each(h.regions,function(e){var n=new u.Group,r=new u.CompoundPath({shape:{paths:[]}});n.add(r);var o,a=t.getRegionModel(e.name)||t,s=a.getModel(g),h=a.getModel(m),f=i(s,d),_=i(h,d),b=a.getModel(v),x=a.getModel(y);if(c){o=c.indexOfName(e.name);var w=c.getItemVisual(o,"color",!0);w&&(f.fill=w)}var k=b.getModel("textStyle"),T=x.getModel("textStyle");l.each(e.contours,function(t){var e=new u.Polygon({shape:{points:t}});r.shape.paths.push(e)}),r.setStyle(f),r.style.strokeNoScale=!0,r.culling=!0;var S=b.get("show"),$=x.get("show"),C=c&&isNaN(c.get("value",o)),A=c&&c.getItemLayout(o);if(!c||C&&(S||$)||A&&A.showLabel){var M=c?o:e.name,I=t.getFormattedLabel(M,"normal"),D=t.getFormattedLabel(M,"emphasis"),E=new u.Text({style:{text:S?I||e.name:"",fill:k.getTextColor(),textFont:k.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:$?D||e.name:"",fill:T.getTextColor(),textFont:T.getFont()},position:e.center.slice(),scale:[1/d[0],1/d[1]],z2:10,silent:!0});n.add(E)}if(c)c.setItemGraphicEl(o,n);else{var a=t.getRegionModel(e.name);r.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:a&&a.option||{}}}n.__region=e,u.setHoverStyle(n,_),p.add(n)}),this._updateController(t,e,n),r(t,p,n,a),o(t,p)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(t,e,n){function i(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}var r=t.coordinateSystem,o=this._controller;o.zoomLimit=t.get("scaleLimit"),o.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var a=t.mainType;o.off("pan").on("pan",function(t,e){n.dispatchAction(l.extend(i(),{dx:t,dy:e}))}),o.off("zoom").on("zoom",function(t,e,r){if(n.dispatchAction(l.extend(i(),{zoom:t,originX:e,originY:r})),this._updateGroup){var o=this.group,a=o.scale;o.traverse(function(t){"text"===t.type&&t.attr("scale",[1/a[0],1/a[1]])})}},this),o.rectProvider=function(){return r.getViewRectAfterRoam()}}},t.exports=a},function(t,e,n){function i(t){if(!t.target||!t.target.draggable){var e=t.offsetX,n=t.offsetY,i=this.rectProvider&&this.rectProvider();i&&i.contain(e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function r(t){if(this._dragging&&(p.stop(t.event),"pinch"!==t.gestureEvent)){if(d.isTaken(this._zr,"globalPan"))return;var e=t.offsetX,n=t.offsetY,i=e-this._x,r=n-this._y;this._x=e,this._y=n;var o=this.target;if(o){var a=o.position;a[0]+=i,a[1]+=r,o.dirty()}p.stop(t.event),this.trigger("pan",i,r)}}function o(){this._dragging=!1}function a(t){var e=t.wheelDelta>0?1.1:1/1.1;u.call(this,t,e,t.offsetX,t.offsetY)}function s(t){if(!d.isTaken(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;u.call(this,t,e,t.pinchX,t.pinchY)}}function u(t,e,n,i){var r=this.rectProvider&&this.rectProvider();if(r&&r.contain(n,i)){p.stop(t.event);var o=this.target,a=this.zoomLimit;if(o){var s=o.position,u=o.scale,l=this.zoom=this.zoom||1;if(l*=e,a){var c=a.min||0,h=a.max||1/0;l=Math.max(Math.min(h,l),c)}var d=l/this.zoom;this.zoom=l,s[0]-=(n-s[0])*(d-1),s[1]-=(i-s[1])*(d-1),u[0]*=d,u[1]*=d,o.dirty()}this.trigger("zoom",e,n,i)}}function l(t,e,n){this.target=e,this.rectProvider=n,this.zoomLimit,this.zoom,this._zr=t;var u=h.bind,l=u(i,this),p=u(r,this),d=u(o,this),f=u(a,this),g=u(s,this);c.call(this),this.enable=function(e){this.disable(),null==e&&(e=!0),(e===!0||"move"===e||"pan"===e)&&(t.on("mousedown",l),t.on("mousemove",p),t.on("mouseup",d)),(e===!0||"scale"===e||"zoom"===e)&&(t.on("mousewheel",f),t.on("pinch",g))},this.disable=function(){t.off("mousedown",l),t.off("mousemove",p),t.off("mouseup",d),t.off("mousewheel",f),t.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var c=n(33),h=n(4),p=n(87),d=n(175);h.mixin(l,c),t.exports=l},function(t,e,n){function i(t){return t[r]||(t[r]={})}var r="\x00_ec_interaction_mutex",o={take:function(t,e,n){var r=i(t);r[e]=n},release:function(t,e,n){var r=i(t),o=r[e];o===n&&(r[e]=null)},isTaken:function(t,e){return!!i(t)[e]}};n(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),t.exports=o},function(t,e,n){var i=n(4),r=n(177),o=n(1);o.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){var o=e.coordinateSystem;if("geo"===o.type){var a=r.updateCenterAndZoom(o,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(a.center),e.setZoom&&e.setZoom(a.zoom),"series"===n&&i.each(e.seriesGroup,function(t){t.setCenter(a.center),t.setZoom(a.zoom)})}})})},function(t){var e={};e.updateCenterAndZoom=function(t,e,n){var i=t.getZoom(),r=t.getCenter(),o=e.zoom,a=t.dataToPoint(r);if(null!=e.dx&&null!=e.dy){a[0]-=e.dx,a[1]-=e.dy;var r=t.pointToData(a);t.setCenter(r)}if(null!=o){if(n){var s=n.min||0,u=n.max||1/0;o=Math.max(Math.min(i*o,u),s)/i}t.scale[0]*=o,t.scale[1]*=o;var l=t.position,c=(e.originX-l[0])*(o-1),h=(e.originY-l[1])*(o-1);l[0]-=c,l[1]-=h,t.updateTransform();var r=t.pointToData(a);t.setCenter(r),t.setZoom(o*i)}return{center:t.getCenter(),zoom:t.getZoom()}},t.exports=e},function(t,e,n){var i=n(4);t.exports=function(t){var e={};t.eachSeriesByType("map",function(n){var r=n.get("map");if(!e[r]){var o={};i.each(n.seriesGroup,function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each("value",function(t,e){var r=i.getName(e),a=n.getRegion(r);if(a&&!isNaN(t)){var s=o[r]||0,u=n.dataToPoint(a.center);o[r]=s+1,i.setItemLayout(e,{point:u,offset:s})}})});var a=n.getData();a.each(function(t){var e=a.getName(t),n=a.getItemLayout(t)||{};n.showLabel=!o[e],a.setItemLayout(t,n)}),e[r]=!0}})}},function(t){t.exports=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),n=t.getModel("itemStyle.normal"),i=n.get("areaColor"),r=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:i,color:r})})}},function(t,e,n){function i(t,e){for(var n={},i=["value"],r=0;r<t.length;r++)t[r].each(i,function(e,i){var o=t[r].getName(i);n[o]=n[o]||[],isNaN(e)||n[o].push(e)});return t[0].map(i,function(i,r){for(var o=t[0].getName(r),a=0,s=1/0,u=-1/0,l=n[o].length,c=0;l>c;c++)s=Math.min(s,n[o][c]),u=Math.max(u,n[o][c]),a+=n[o][c];var h;return h="min"===e?s:"max"===e?u:"average"===e?a/l:a,0===l?0/0:h})}var r=n(4);t.exports=function(t){var e={};t.eachSeriesByType("map",function(t){var n=t.get("map");e[n]=e[n]||[],e[n].push(t)}),r.each(e,function(t){for(var e=i(r.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),n=0;n<t.length;n++)t[n].originalData=t[n].getData();for(var n=0;n<t.length;n++)t[n].seriesGroup=t,t[n].needsDrawMap=0===n,t[n].setData(e.cloneShallow()),t[n].mainSeries=t[0]})}},function(t,e,n){var i=n(4);t.exports=function(t){var e=[];i.each(t.series,function(t){"map"===t.type&&e.push(t)}),i.each(e,function(t){t.map=t.map||t.mapType,i.defaults(t,t.mapLocation)})}},function(t,e,n){var i=n(1);n(183),n(186),n(190),i.registerVisual(n(191)),i.registerLayout(n(193))},function(t,e,n){function i(t,e){var n=0;s.each(t.children,function(t){i(t,e);var r=t.value;s.isArray(r)&&(r=r[0]),n+=r});var r=t.value;e>=0&&(s.isArray(r)?r=r[0]:t.value=new Array(e)),(null==r||isNaN(r))&&(r=n),0>r&&(r=0),e>=0?t.value[0]=r:t.value=r}function r(t,e){var n=e.get("color");if(n){t=t||[];var i;if(s.each(t,function(t){var e=new u(t),n=e.get("color");(e.get("itemStyle.normal.color")||n&&"none"!==n)&&(i=!0)}),!i){var r=t[0]||(t[0]={});r.color=n.slice()}return t}}var o=n(28),a=n(184),s=n(4),u=n(12),l=n(6),c=l.encodeHTML,h=l.addCommas;t.exports=o.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n=t.data||[],o=t.name;null==o&&(o=t.name);var u={name:o,children:t.data},l=(n[0]||{}).value;i(u,s.isArray(l)?l.length:-1);var c=t.levels||[];return c=t.levels=r(c,e),a.createTree(u,this,c).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=h(s.isArray(n)?n[0]:n),r=e.getName(t);return c(r)+": "+i},getDataParams:function(t){for(var e=o.prototype.getDataParams.apply(this,arguments),n=this.getData(),i=n.tree.getNodeByDataIndex(t),r=e.treePathInfo=[];i;){var a=i.dataIndex;r.push({name:i.name,dataIndex:a,value:this.getRawValue(a)}),i=i.parentNode}return r.reverse(),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},s.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap={},this._idIndexMapCount=0);var n=e[t];return null==n&&(e[t]=n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;(!t||t!==e&&!e.contains(t))&&(this._viewRoot=e)}})},function(t,e,n){function i(t,e){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=o.map(e||[],function(e){return new a(e,t,t.ecModel)})}function r(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}var o=n(4),a=n(12),s=n(97),u=n(185),l=n(102),c=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};c.prototype={constructor:c,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),t=t||{},o.isString(t)&&(t={order:t});var i,r=t.order||"preorder",a=this[t.attr||"children"];"preorder"===r&&(i=e.call(n,this));for(var s=0;!i&&s<a.length;s++)a[s].eachNode(t,e,n);"postorder"===r&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;i>e;e++){var r=n[e].getNodeById(t);if(r)return r}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;i>e;e++){var r=n[e].contains(t);if(r)return r}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex),i=this.getLevelModel();return n.getModel(t,(i||e.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},i.prototype={constructor:i,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;i>n;n++)e[n].dataIndex=-1;for(var n=0,i=t.count();i>n;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},i.createTree=function(t,e,n){function o(t,e){h.push(t);var n=new c(t.name,a);e?r(n,e):a.root=n,a._nodes.push(n);var i=t.children;if(i)for(var s=0;s<i.length;s++)o(i[s],n)}var a=new i(e,n),h=[];o(t),a.root.updateDepthAndHeight(0);var p=l([{name:"value"}],h),d=new s(p,e);return d.initData(h),u({mainData:d,struct:a,structAttr:"tree"}),a.update(),a},t.exports=i},function(t,e,n){function i(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,l(e,n,t),p(n,function(n){p(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,h.curry(r,t))})}),e.wrapMethod("cloneShallow",h.curry(a,t)),p(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,h.curry(o,t))}),h.assert(n[e.dataType]===e)}function r(t,e){if(u(this)){var n=h.extend({},this[d]);n[this.dataType]=e,l(e,n,t)}else c(e,this.dataType,this[f],t);return e}function o(t,e){return t.struct&&t.struct.update(this),e}function a(t,e){return p(e[d],function(n,i){n!==e&&c(n.cloneShallow(),i,e,t)}),e}function s(t){var e=this[f];return null==t||null==e?e:e[d][t]}function u(t){return t[f]===t}function l(t,e,n){t[d]={},p(e,function(e,i){c(e,i,t,n)})}function c(t,e,n,i){n[d][e]=t,t[f]=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=s}var h=n(4),p=h.each,d="\x00__link_datas",f="\x00__link_mainData";t.exports=i},function(t,e,n){function i(){return{nodeGroup:[],background:[],content:[]}}function r(t,e,n,i,r,u,l,c,h,p){function d(e){L.dataIndex=l.dataIndex,L.seriesIndex=t.seriesIndex;var n=$.borderWidth,i=Math.max(C-2*n,0),r=Math.max(A-2*n,0);L.culling=!0,L.setShape({x:n,y:n,width:i,height:r});var o=l.getVisual("color",!0);f(L,function(){var t={fill:o},e=l.getModel("itemStyle.emphasis").getItemStyle();g(t,e,o,i,r),L.setStyle(t),s.setHoverStyle(L,e)}),e.add(L)}function f(t,e){M?!t.invisible&&u.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function g(e,n,i,r,o){var a=l.getModel(),s=a.get("name");if($.isLeafRoot){var u=t.get("drillDownIcon",!0);s=u?u+" "+s:test}y(s,e,a,b,i,r,o),y(s,n,a,x,i,r,o)}function y(t,e,n,i,r,o,a){var u=n.getModel(i),l=u.getModel("textStyle");s.setText(e,u,r),e.textAlign=l.get("align"),e.textVerticalAlign=l.get("baseline");var c=l.getTextRect(t);e.text=!u.getShallow("show")||c.height>a?"":c.width>o?l.get("ellipsis")?l.truncateText(t,o,null,{minChar:2}):"":t}function _(t,i,a,s){var u=null!=D&&n[t][D],l=r[t];return u?(n[t][D]=null,w(l,u,t)):M||(u=new i({z:o(a,s)}),u.__tmDepth=a,u.__tmStorageName=t,S(l,u,t)),e[t][I]=u}function w(t,e,n){var i=t[I]={};i.old="nodeGroup"===n?e.position.slice():a.extend({},e.shape)}function S(t,e,n){var o=t[I]={},a=l.parentNode;if(a&&(!i||"drillDown"===i.direction)){var s=0,u=0,c=r.background[a.getRawIndex()];!i&&c&&c.old&&(s=c.old.width,u=c.old.height),o.old="nodeGroup"===n?[0,u]:{x:s,y:u,width:0,height:0}}o.fadein="nodeGroup"!==n}if(l){var $=l.getLayout();if($&&$.isInView){var C=$.width,A=$.height,M=$.invisible,I=l.getRawIndex(),D=c&&c.getRawIndex(),E=_("nodeGroup",m);if(E){if(h.add(E),E.attr("position",[$.x||0,$.y||0]),E.__tmNodeWidth=C,E.__tmNodeHeight=A,$.isAboveViewRoot)return E;var O=_("background",v,p,k);O&&(O.setShape({x:0,y:0,width:C,height:A}),f(O,function(){O.setStyle("fill",l.getVisual("borderColor",!0))}),E.add(O));var P=l.viewChildren;if(!P||!P.length){var L=_("content",v,p,T);L&&d(E)}return E}}}}function o(t,e){var n=t*w+e;return(n-1)/n}var a=n(4),s=n(43),u=n(98),l=n(187),c=n(188),h=n(174),p=n(9),d=n(11),f=n(189),g=a.bind,m=s.Group,v=s.Rect,y=a.each,_=3,b=["label","normal"],x=["label","emphasis"],w=10,k=1,T=2;t.exports=n(1).extendChartView({type:"treemap",init:function(){this._containerGroup,this._storage=i(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(t,e,n,i){var r=e.findComponents({mainType:"series",subType:"treemap",query:i});if(!(a.indexOf(r,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var o=l.retrieveTargetInfo(i,t),s=i&&i.type,u=t.layoutInfo,c=!this._oldTree,h=this._storage,p="treemapRootToNode"===s&&o&&h?{rootNodeGroup:h.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,d=this._giveContainerGroup(u),f=this._doRender(d,t,p);c||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?f.renderFinally():this._doAnimation(d,f,t,p),this._resetController(n),this._renderBreadcrumb(t,n,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new m,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){function o(t,e,n,i,r){function s(t){return t.getId()}function l(a,s){var u=null!=a?t[a]:null,l=null!=s?e[s]:null,c=m(u,l,n,r);c&&o(u&&u.viewChildren||[],l&&l.viewChildren||[],c,i,r+1)}i?(e=t,y(t,function(t,e){!t.isRemoved()&&l(e,e)})):new u(e,t,s,s).add(l).update(l).remove(a.curry(l,null)).execute()}function s(t){var e=i();return t&&y(t,function(t,n){var i=e[n];y(t,function(t){t&&(i.push(t),t.__tmWillDelete=1)})}),e}function l(){y(v,function(t){y(t,function(t){t.parent&&t.parent.remove(t)})}),y(g,function(t){t.invisible=!0,t.dirty()})}var c=e.getData().tree,h=this._oldTree,p=i(),d=i(),f=this._storage,g=[],m=a.curry(r,e,d,f,n,p,g);o(c.root?[c.root]:[],h&&h.root?[h.root]:[],t,c===h||!h,0);var v=s(f);return this._oldTree=c,this._storage=d,{lastsForAnimation:p,willDeleteEls:v,renderFinally:l}},_doAnimation:function(t,e,n,i){if(n.get("animation")){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),s=f.createWrap();y(e.willDeleteEls,function(t,e){y(t,function(t){if(!t.invisible){var n,a=t.parent;if(i&&"drillDown"===i.direction)n=a===i.rootNodeGroup?{shape:{x:0,y:0,width:a.__tmNodeWidth,height:a.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,l=0;a.__tmWillDelete||(u=a.__tmNodeWidth/2,l=a.__tmNodeHeight/2),n="nodeGroup"===e?{position:[u,l],style:{opacity:0}}:{shape:{x:u,y:l,width:0,height:0},style:{opacity:0}}}n&&s.add(t,n,r,o)}})}),y(this._storage,function(t,n){y(t,function(t,i){var u=e.lastsForAnimation[n][i],l={};u&&("nodeGroup"===n?u.old&&(l.position=t.position.slice(),t.attr("position",u.old)):(u.old&&(l.shape=a.extend({},t.shape),t.setShape(u.old)),u.fadein?(t.setStyle("opacity",0),l.style={opacity:1}):1!==t.style.opacity&&(l.style={opacity:1})),s.add(t,l,r,o))})},this),this._state="animating",s.done(g(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||(e=this._controller=new h(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",g(this._onPan,this)),e.on("zoom",g(this._onZoom,this)));var n=new p(0,0,t.getWidth(),t.getHeight());e.rectProvider=function(){return n}},_clearController:function(){var t=this._controller;t&&(t.off("pan").off("zoom"),t=null)},_onPan:function(t,e){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(t)>_||Math.abs(e)>_)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t,y:i.y+e,width:i.width,height:i.height}})}},_onZoom:function(t,e,n){if(this._mayClick=!1,"animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new p(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo;e-=a.x,n-=a.y;var s=d.create();d.translate(s,s,[-e,-n]),d.scale(s,s,[t,t]),d.translate(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(t){function e(t){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var r=i.hostTree.data.getItemModel(i.dataIndex),o=r.get("link",!0),a=r.get("target",!0)||"blank";o&&window.open(o,a)}}}}t.on("mousedown",function(){"ready"===this._state&&(this._mayClick=!0)},this),t.on("mouseup",function(t){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&e.call(this,t))},this)},_renderBreadcrumb:function(t,e,n){function i(e){"animating"!==this._state&&(l.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}n||(n=this.findTarget(e.getWidth()/2,e.getHeight()/2),n||(n={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new c(this.group,g(i,this)))).render(t,e,n.node)},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=i(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var n,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(t,e),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}},this),n}})},function(t,e,n){var i=n(4),r={retrieveTargetInfo:function(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var n=e.getData().tree.root,i=t.targetNode;if(i&&n.contains(i))return{node:i};var r=t.targetNodeId;if(null!=r&&(i=n.getNodeById(r)))return{node:i}}},getPathToRoot:function(t){for(var e=[];t;)t=t.parentNode,t&&e.push(t);return e.reverse()},aboveViewRoot:function(t,e){var n=r.getPathToRoot(t);return i.indexOf(n,e)>=0}};t.exports=r},function(t,e,n){function i(t,e){this.group=new o.Group,t.add(this.group),this._onSelect=e||s.noop}function r(t,e,n,i,r,o){var a=[[r?t:t-c,e],[t+n,e],[t+n,e+i],[r?t:t-c,e+i]];return!o&&a.splice(2,0,[t+n+c,e+i/2]),!r&&a.push([t,e+i/2]),a}var o=n(43),a=n(21),s=n(4),u=8,l=8,c=5;i.prototype={constructor:i,render:function(t,e,n){var i=t.getModel("breadcrumb"),r=this.group;if(r.removeAll(),i.get("show")&&n){var o=i.getModel("itemStyle.normal"),s=o.getModel("textStyle"),u={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,n,u,s),this._renderContent(i,n,u,o,s),a.positionGroup(r,u.pos,u.box)}},_prepare:function(t,e,n,i){for(var r=e;r;r=r.parentNode){var o=r.getModel().get("name"),a=i.getTextRect(o),s=Math.max(a.width+2*u,n.emptyItemWidth);n.totalWidth+=s+l,n.renderList.push({node:r,text:o,width:s})}},_renderContent:function(t,e,n,i,u){for(var c=0,h=n.emptyItemWidth,p=t.get("height"),d=a.getAvailableSize(n.pos,n.box),f=n.totalWidth,g=n.renderList,m=g.length-1;m>=0;m--){var v=g[m],y=v.width,_=v.text;f>d.width&&(f-=y-h,y=h,_=""),this.group.add(new o.Polygon({shape:{points:r(c,0,y,p,m===g.length-1,0===m)},style:s.defaults(i.getItemStyle(),{lineJoin:"bevel",text:_,textFill:u.getTextColor(),textFont:u.getFont()}),z:10,onclick:s.bind(this._onSelect,this,v.node)})),c+=y+l
}},remove:function(){this.group.removeAll()}},t.exports=i},function(t,e,n){function i(){var t,e=[],n={};return{add:function(t,i,o,a,s){return r.isString(a)&&(s=a,a=0),n[t.id]?!1:(n[t.id]=1,e.push({el:t,target:i,time:o,delay:a,easing:s}),!0)},done:function(e){return t=e,this},start:function(){function i(){r--,r||(e.length=0,n={},t&&t())}for(var r=e.length,o=0,a=e.length;a>o;o++){var s=e[o];s.el.animateTo(s.target,s.time,s.delay,s.easing,i)}return this}}}var r=n(4);t.exports={createWrap:i}},function(t,e,n){for(var i=n(1),r=n(187),o=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<a.length;s++)i.registerAction({type:a[s],update:"updateView"},o);i.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){function n(e){var n=r.retrieveTargetInfo(t,e);if(n){var i=e.getViewRoot();i&&(t.direction=r.aboveViewRoot(i,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},n)})},function(t,e,n){function i(t,e,n,s,l,h){var p=t.getModel(),f=t.getLayout();if(f&&!f.invisible&&f.isInView){var m,v=t.getModel(g),y=n[t.depth],_=r(v,e,y,s),b=v.get("borderColor"),x=v.get("borderColorSaturation");null!=x&&(m=o(_,t),b=a(x,m)),t.setVisual("borderColor",b);var w=t.viewChildren;if(w&&w.length){var k=u(t,p,f,v,_,w);d.each(w,function(t,e){if(t.depth>=l.length||t===l[t.depth]){var r=c(p,_,t,e,k,h);i(t,r,n,s,l,h)}})}else m=o(_,t),t.setVisual("color",m)}}function r(t,e,n,i){var r=d.extend({},e);return d.each(["color","colorAlpha","colorSaturation"],function(o){var a=t.get(o,!0);null==a&&n&&(a=n[o]),null==a&&(a=e[o]),null==a&&(a=i.get(o)),null!=a&&(r[o]=a)}),r}function o(t){var e=s(t,"color");if(e){var n=s(t,"colorAlpha"),i=s(t,"colorSaturation");return i&&(e=p.modifyHSL(e,null,null,i)),n&&(e=p.modifyAlpha(e,n)),e}}function a(t,e){return null!=e?p.modifyHSL(e,null,null,t):null}function s(t,e){var n=t[e];return null!=n&&"none"!==n?n:void 0}function u(t,e,n,i,r,o){if(o&&o.length){var a=l(e,"color")||null!=r.color&&"none"!==r.color&&(l(e,"colorAlpha")||l(e,"colorSaturation"));if(a){var s=e.get("colorMappingBy"),u={type:a.name,dataExtent:n.dataExtent,visual:a.range};"color"!==u.type||"index"!==s&&"id"!==s?u.mappingMethod="linear":(u.mappingMethod="category",u.loop=!0);var c=new h(u);return c.__drColorMappingBy=s,c}}}function l(t,e){var n=t.get(e);return f(n)&&n.length?{name:e,range:n}:null}function c(t,e,n,i,r,o){var a=d.extend({},e);if(r){var s=r.type,u="color"===s&&r.__drColorMappingBy,l="index"===u?i:"id"===u?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=r.mapValueToVisual(l)}return a}var h=n(192),p=n(39),d=n(4),f=d.isArray,g="itemStyle.normal";t.exports=function(t,e,n){var r={mainType:"series",subType:"treemap",query:n};t.eachComponent(r,function(t){var e=t.getData().tree,n=e.root,r=t.getModel(g);if(!n.isRemoved()){var o=d.map(e.levelModels,function(t){return t?t.get(g):null});i(n,{},o,r,t.getViewRoot().getAncestors(),t)}})}},function(t,e,n){function i(t){var e=t.pieceList;t.hasSpecialVisual=!1,f.each(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}function r(t){var e=t.categories,n=t.visual,i=t.categoryMap={};if(v(e,function(t,e){i[t]=e}),!f.isArray(n)){var r=[];f.isObject(n)?v(n,function(t,e){var n=i[e];r[null!=n?n:_]=t}):r[_]=n,n=t.visual=r}for(var o=e.length-1;o>=0;o--)null==n[o]&&(delete i[e[o]],e.pop())}function o(t,e){var n=t.visual,i=[];f.isObject(n)?v(n,function(t){i.push(t)}):null!=n&&i.push(n);var r={color:1,symbol:1};e||1!==i.length||t.type in r||(i[1]=i[0]),t.visual=i}function a(t){return{applyVisual:function(e,n,i){e=this.mapValueToVisual(e),i("color",t(n("color"),e))},_doMap:h([0,1])}}function s(t,e){var n=this.option.visual;return n[Math.round(m(e,[0,1],[0,n.length-1],!0))]||{}}function u(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function l(t){var e=this.option.visual;return e[this.option.loop&&t!==_?t%e.length:t]}function c(){return this.option.visual[0]}function h(t){return{linear:function(e){return m(e,t,this.option.visual,!0)},category:l,piecewise:function(e,n){var i=p.call(this,n);return null==i&&(i=m(e,t,this.option.visual,!0)),i},fixed:c}}function p(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=b.findPieceIndex(t,n),r=n[i];if(r&&r.visual)return r.visual[this.type]}}function d(t,e,n){return t?n>=e:n>e}var f=n(4),g=n(39),m=n(7).linearMap,v=f.each,y=f.isObject,_=-1,b=function(t){var e=t.mappingMethod,n=t.type,a=this.option=f.clone(t);this.type=n,this.mappingMethod=e,this._normalizeData=w[e];var s=x[n];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._doMap=s._doMap[e],"piecewise"===e?(o(a),i(a)):"category"===e?a.categories?r(a):o(a,!0):(f.assert("linear"!==e||a.dataExtent),o(a))};b.prototype={constructor:b,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return f.bind(this._normalizeData,this)}};var x=b.visualHandlers={color:{applyVisual:u("color"),getColorMapper:function(){var t=this.option,e=f.map(t.visual,g.parse);return f.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),l(this,t)}:function(t,n,i){var r=!!i;return!n&&(t=this._normalizeData(t)),i=g.fastMapToColor(t,e,i),r?i:f.stringify(i,"rgba")},this)},_doMap:{linear:function(t){return g.mapToColor(t,this.option.visual)},category:l,piecewise:function(t,e){var n=p.call(this,e);return null==n&&(n=g.mapToColor(t,this.option.visual)),n},fixed:c}},colorHue:a(function(t,e){return g.modifyHSL(t,e)}),colorSaturation:a(function(t,e){return g.modifyHSL(t,null,e)}),colorLightness:a(function(t,e){return g.modifyHSL(t,null,null,e)}),colorAlpha:a(function(t,e){return g.modifyAlpha(t,e)}),opacity:{applyVisual:u("opacity"),_doMap:h([0,1])},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);if(f.isString(i))n("symbol",i);else if(y(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:s,category:l,piecewise:function(t,e){var n=p.call(this,e);return null==n&&(n=s.call(this,t)),n},fixed:c}},symbolSize:{applyVisual:u("symbolSize"),_doMap:h([0,1])}},w={linear:function(t){return m(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=b.findPieceIndex(t,e,!0);return null!=n?m(n,[0,e.length-1],[0,1],!0):void 0},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?_:e},fixed:f.noop};b.addVisualHandler=function(t,e){x[t]=e},b.isValidType=function(t){return x.hasOwnProperty(t)},b.eachVisual=function(t,e,n){f.isObject(t)?f.each(t,e,n):e.call(n,t)},b.mapVisual=function(t,e,n){var i,r=f.isArray(t)?[]:f.isObject(t)?{}:(i=!0,null);return b.eachVisual(t,function(t,o){var a=e.call(n,t,o);i?r=a:r[o]=a}),r},b.retrieveVisuals=function(t){var e,n={};return t&&v(x,function(i,r){t.hasOwnProperty(r)&&(n[r]=t[r],e=!0)}),e?n:null},b.prepareVisualTypes=function(t){if(y(t)){var e=[];v(t,function(t,n){e.push(n)}),t=e}else{if(!f.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},b.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},b.findPieceIndex=function(t,e,n){function i(e,n){var i=Math.abs(e-t);o>i&&(o=i,r=n)}for(var r,o=1/0,a=0,s=e.length;s>a;a++){var u=e[a].value;if(null!=u){if(u===t)return a;n&&i(u,a)}}for(var a=0,s=e.length;s>a;a++){var l=e[a],c=l.interval,h=l.close;if(c){if(c[0]===-1/0){if(d(h[1],t,c[1]))return a}else if(1/0===c[1]){if(d(h[0],c[0],t))return a}else if(d(h[0],c[0],t)&&d(h[1],t,c[1]))return a;n&&i(c[0],a),n&&i(c[1],a)}}return n?1/0===t?e.length-1:t===-1/0?0:r:void 0},t.exports=b},function(t,e,n){function i(t,e,n){var i={mainType:"series",subType:"treemap",query:n};t.eachComponent(i,function(t){var i=e.getWidth(),o=e.getHeight(),a=t.option,s=a.size||[],u=x(w(a.width,s[0]),i),l=x(w(a.height,s[1]),o),c=m.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),g=n&&n.type,_=v.retrieveTargetInfo(n,t),b="treemapRender"===g||"treemapMove"===g?n.rootRect:null,T=t.getViewRoot(),S=v.getPathToRoot(T);if("treemapMove"!==g){var $="treemapZoomToNode"===g?h(t,_,T,u,l):b?[b.width,b.height]:[u,l],C=a.sort;C&&"asc"!==C&&"desc"!==C&&(C="desc");var A={squareRatio:a.squareRatio,sort:C,leafDepth:a.leafDepth};T.hostTree.clearLayouts();var M={x:0,y:0,width:$[0],height:$[1],area:$[0]*$[1]};T.setLayout(M),r(T,A,!1,0);var M=T.getLayout();k(S,function(t,e){var n=(S[e+1]||T).getValue();t.setLayout(f.extend({dataExtent:[n,n],borderWidth:0},M))})}var I=t.getData().tree.root;I.setLayout(p(c,b,_),!0),t.setLayoutInfo(c),d(I,new y(-c.x,-c.y,i,o),S,T,0)})}function r(t,e,n,i){var a,s;if(!t.isRemoved()){var u=t.getLayout();a=u.width,s=u.height;var h=t.getModel("itemStyle.normal"),p=h.get("borderWidth"),d=h.get("gapWidth")/2,f=p-d,g=t.getModel();t.setLayout({borderWidth:p},!0),a=_(a-2*f,0),s=_(s-2*f,0);var m=a*s,v=o(t,g,m,e,n,i);if(v.length){var y={x:f,y:f,width:a,height:s},x=b(a,s),w=1/0,k=[];k.area=0;for(var T=0,S=v.length;S>T;){var $=v[T];k.push($),k.area+=$.getLayout().area;var C=l(k,x,e.squareRatio);w>=C?(T++,w=C):(k.area-=k.pop().getLayout().area,c(k,x,y,d,!1),x=b(y.width,y.height),k.length=k.area=0,w=1/0)}if(k.length&&c(k,x,y,d,!0),!n){var A=g.get("childrenVisibleMin");null!=A&&A>m&&(n=!0)}for(var T=0,S=v.length;S>T;T++)r(v[T],e,n,i+1)}}}function o(t,e,n,i,r,o){var l=t.children||[],c=i.sort;"asc"!==c&&"desc"!==c&&(c=null);var h=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!h)return t.viewChildren=[];l=f.filter(l,function(t){return!t.isRemoved()}),s(l,c);var p=u(e,l,c);if(0===p.sum)return t.viewChildren=[];if(p.sum=a(e,n,p.sum,c,l),0===p.sum)return t.viewChildren=[];for(var d=0,g=l.length;g>d;d++){var m=l[d].getValue()/p.sum*n;l[d].setLayout({area:m})}return h&&(l.length&&t.setLayout({isLeafRoot:!0},!0),l.length=0),t.viewChildren=l,t.setLayout({dataExtent:p.dataExtent},!0),l}function a(t,e,n,i,r){if(!i)return n;for(var o=t.get("visibleMin"),a=r.length,s=a,u=a-1;u>=0;u--){var l=r["asc"===i?a-u-1:u].getValue();o>l/n*e&&(s=u,n-=l)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}function s(t,e){return e&&t.sort(function(t,n){return"asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue()}),t}function u(t,e,n){for(var i=0,r=0,o=e.length;o>r;r++)i+=e[r].getValue();var a,s=t.get("visualDimension");if(e&&e.length)if("value"===s&&n)a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&a.reverse();else{var a=[1/0,-1/0];k(e,function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)})}else a=[0/0,0/0];return{sum:i,dataExtent:a}}function l(t,e,n){for(var i,r=0,o=1/0,a=0,s=t.length;s>a;a++)i=t[a].getLayout().area,i&&(o>i&&(o=i),i>r&&(r=i));var u=t.area*t.area,l=e*e*n;return u?_(l*r/u,u/(l*o)):1/0}function c(t,e,n,i,r){var o=e===n.width?0:1,a=1-o,s=["x","y"],u=["width","height"],l=n[s[o]],c=e?t.area/e:0;(r||c>n[u[a]])&&(c=n[u[a]]);for(var h=0,p=t.length;p>h;h++){var d=t[h],f={},g=c?d.getLayout().area/c:0,m=f[u[a]]=_(c-2*i,0),v=n[s[o]]+n[u[o]]-l,y=h===p-1||g>v?v:g,x=f[u[o]]=_(y-2*i,0);f[s[a]]=n[s[a]]+b(i,m/2),f[s[o]]=l+b(i,x/2),l+=y,d.setLayout(f,!0)}n[s[a]]+=c,n[u[a]]-=c}function h(t,e,n,i,r){var o=(e||{}).node,a=[i,r];if(!o||o===n)return a;for(var s,u=i*r,l=u*t.option.zoomToNodeRatio;s=o.parentNode;){for(var c=0,h=s.children,p=0,d=h.length;d>p;p++)c+=h[p].getValue();var f=o.getValue();if(0===f)return a;l*=c/f;var m=s.getModel("itemStyle.normal").get("borderWidth");isFinite(m)&&(l+=4*m*m+4*m*Math.pow(l,.5)),l>g.MAX_SAFE_INTEGER&&(l=g.MAX_SAFE_INTEGER),o=s}u>l&&(l=u);var v=Math.pow(l/u,.5);return[i*v,r*v]}function p(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;for(var a=[o.width/2,o.height/2],s=r;s;){var u=s.getLayout();a[0]+=u.x,a[1]+=u.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}function d(t,e,n,i,r){var o=t.getLayout(),a=n[r],s=a&&a===t;if(!(a&&!s||r===n.length&&t!==i)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var u=new y(e.x-o.x,e.y-o.y,e.width,e.height);k(t.viewChildren||[],function(t){d(t,u,n,i,r+1)})}}var f=n(4),g=n(7),m=n(21),v=n(187),y=n(9),v=n(187),_=Math.max,b=Math.min,x=g.parsePercent,w=f.retrieve,k=f.each;t.exports=i},function(t,e,n){var i=n(1),r=n(4);n(195),n(198),n(203),i.registerProcessor(n(204)),i.registerVisual(r.curry(n(109),"graph","circle",null)),i.registerVisual(n(205)),i.registerVisual(n(206)),i.registerLayout(n(207)),i.registerLayout(n(210)),i.registerLayout(n(212)),i.registerCoordinateSystem("graphView",{create:n(214)})},function(t,e,n){"use strict";var i=n(97),r=n(4),o=n(5),a=n(12),s=n(196),u=n(1).extendSeriesModel({type:"series.graph",init:function(t){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){u.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){u.superApply(this,"mergeDefaultAndTheme",arguments),o.defaultEmphasis(t.edgeLabel,o.LABEL_OPTIONS)},getInitialData:function(t){function e(t,e){t.wrapMethod("getItemModel",function(t){var e=r._categoriesModels,n=t.getShallow("category"),i=e[n];return i&&(i.parentModel=t.parentModel,t.parentModel=i),t});var n=r.getModel("edgeLabel"),i=function(t,e){var r=(t||"").split(".");"label"===r[0]&&(e=e||n.getModel(r.slice(1)));var o=a.prototype.getModel.call(this,r,e);return o.getModel=i,o};e.wrapMethod("getItemModel",function(t){return t.getModel=i,t})}var n=t.edges||t.links||[],i=t.data||t.nodes||[],r=this;return i&&n?s(i,n,this,!0,e).data:void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(t,n),o=i.graph.getEdgeByIndex(t),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=a+" > "+s;return r.value&&(l+=" : "+r.value),l}return u.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=r.map(this.option.categories||[],function(t){return null!=t.value?t:r.extend({value:0},t)}),e=new i(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},ifEnableAnimation:function(){return u.superCall(this,"ifEnableAnimation")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});t.exports=u},function(t,e,n){var i=n(97),r=n(197),o=n(185),a=n(102),s=n(26),u=n(4),l=n(101);t.exports=function(t,e,n,c,h){for(var p=new r(c),d=0;d<t.length;d++)p.addNode(u.retrieve(t[d].id,t[d].name,d),d);for(var f=[],g=[],m=0,d=0;d<e.length;d++){var v=e[d],y=v.source,_=v.target;p.addEdge(y,_,m)&&(g.push(v),f.push(u.retrieve(v.id,y+" > "+_)),m++)}var b,x=n.get("coordinateSystem");if("cartesian2d"===x||"polar"===x)b=l(t,n,n.ecModel);else{var w=s.get(x),k=a((w&&"view"!==w.type?w.dimensions||[]:[]).concat(["value"]),t);b=new i(k,n),b.initData(t)}var T=new i(["value"],n);return T.initData(g,f),h&&h(b,T),o({mainData:b,struct:p,structAttr:"graph",datas:{node:b,edge:T},datasAttr:{node:"data",edge:"edgeData"}}),p.update(),p}},function(t,e,n){"use strict";function i(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function r(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}var o=n(4),a=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=a.prototype;s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(t,e){t=t||""+e;var n=this._nodesMap;if(!n[t]){var r=new i(t,e);return r.hostGraph=this,this.nodes.push(r),n[t]=r,r}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},s.getNodeById=function(t){return this._nodesMap[t]},s.addEdge=function(t,e,n){var o=this._nodesMap,a=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof i||(t=o[t]),e instanceof i||(e=o[e]),t&&e){var s=t.id+"-"+e.id;if(!a[s]){var u=new r(t,e,n);return u.hostGraph=this,this._directed&&(t.outEdges.push(u),e.inEdges.push(u)),t.edges.push(u),t!==e&&e.edges.push(u),this.edges.push(u),a[s]=u,u}}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},s.getEdge=function(t,e){t instanceof i&&(t=t.id),e instanceof i&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},s.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;i>r;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},s.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;i>r;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},s.breadthFirstTraverse=function(t,e,n,r){if(e instanceof i||(e=this._nodesMap[e]),e){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;)for(var u=s.shift(),l=u[o],a=0;a<l.length;a++){var c=l[a],h=c.node1===u?c.node2:c.node1;if(!h.__visited){if(t.call(h,h,u))return;s.push(h),h.__visited=!0}}}},s.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;o>r;r++)n[r].dataIndex=-1;for(var r=0,o=t.count();o>r;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf(function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(var r=0,o=i.length;o>r;r++)i[r].dataIndex=-1;for(var r=0,o=e.count();o>r;r++)i[e.getRawIndex(r)].dataIndex=r},s.clone=function(){for(var t=new a(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<n.length;i++){var r=n[i];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},i.prototype={constructor:i,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}}},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}};var u=function(t,e){return{getValue:function(n){var i=this[t][e];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[t][e].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};o.mixin(i,u("hostGraph","data")),o.mixin(r,u("hostGraph","edgeData")),a.Node=i,a.Edge=r,t.exports=a},function(t,e,n){function i(t,e){return t.getVisual("opacity")||t.getModel().get(e)}var r=n(104),o=n(199),a=n(174),s=n(43),u=n(202),l=n(4),c=["itemStyle","normal","opacity"],h=["lineStyle","normal","opacity"];n(1).extendChartView({type:"graph",init:function(t,e){var n=new r,i=new o,s=this.group,u=new a(e.getZr(),s);s.add(n.group),s.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._controller=u,this._firstRender=!0},render:function(t,e,n){var i=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var r=this._symbolDraw,o=this._lineDraw,a=this.group;if("view"===i.type){var l={position:i.position,scale:i.scale};this._firstRender?a.attr(l):s.updateProps(a,l,t)}u(t.getGraph(),this._getNodeGlobalScale(t));var c=t.getData();r.updateData(c);var h=t.getEdgeData();o.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,n),clearTimeout(this._layoutTimeout);var p=t.forceLayout,d=t.get("force.layoutAnimation");p&&this._startForceLayoutIteration(p,d),c.eachItemGraphicEl(function(t,e){var n=c.getItemModel(e);t.off("drag").off("dragend");var i=c.getItemModel(e).get("draggable");i&&t.on("drag",function(){p&&(p.warmUp(),!this._layouting&&this._startForceLayoutIteration(p,d),p.setFixed(e),c.setItemLayout(e,t.position))},this).on("dragend",function(){p&&p.setUnfixed(e)},this),t.setDraggable(i&&p),t.off("mouseover",this._focusNodeAdjacency),t.off("mouseout",this._unfocusAll),n.get("focusNodeAdjacency")&&(t.on("mouseover",this._focusNodeAdjacency,this),t.on("mouseout",this._unfocusAll,this))},this);var f="circular"===t.get("layout")&&t.get("circular.rotateLabel"),g=c.getLayout("cx"),m=c.getLayout("cy");c.eachItemGraphicEl(function(t,e){var n=t.getSymbolPath();if(f){var i=c.getItemLayout(e),r=Math.atan2(i[1]-m,i[0]-g);0>r&&(r=2*Math.PI+r);var o=i[0]<g;o&&(r-=Math.PI);var a=o?"left":"right";n.setStyle({textRotation:r,textPosition:a}),n.hoverStyle&&(n.hoverStyle.textPosition=a)}else n.setStyle({textRotation:0})}),this._firstRender=!1},_focusNodeAdjacency:function(t){function e(t,e){var n=i(t,e),r=t.getGraphicEl();null==n&&(n=1),r.traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",.1*n)})}function n(t,e){var n=i(t,e),r=t.getGraphicEl();r.traverse(function(t){t.trigger("emphasis"),"group"!==t.type&&t.setStyle("opacity",n)})}var r=this._model.getData(),o=r.graph,a=t.target,s=a.dataIndex,u=a.dataType;if(null!==s&&"edge"!==u){o.eachNode(function(t){e(t,c)}),o.eachEdge(function(t){e(t,h)});var p=o.getNodeByIndex(s);n(p,c),l.each(p.edges,function(t){t.dataIndex<0||(n(t,h),n(t.node1,c),n(t.node2,c))})}},_unfocusAll:function(){var t=this._model.getData(),e=t.graph;e.eachNode(function(t){var e=i(t,c);t.getGraphicEl().traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",e)})}),e.eachEdge(function(t){var e=i(t,h);t.getGraphicEl().traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",e)})})},_startForceLayoutIteration:function(t,e){var n=this;!function i(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(t,e){var n=this._controller,i=this.group;return n.rectProvider=function(){var t=i.getBoundingRect();return t.applyTransform(i.transform),t},"view"!==t.coordinateSystem.type?void n.disable():(n.enable(t.get("roam")),n.zoomLimit=t.get("scaleLimit"),n.zoom=t.coordinateSystem.getZoom(),void n.off("pan").off("zoom").on("pan",function(n,i){e.dispatchAction({seriesId:t.id,type:"graphRoam",dx:n,dy:i})}).on("zoom",function(n,i,r){e.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:n,originX:i,originY:r}),this._updateNodeAndLinkScale(),u(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),n=this._getNodeGlobalScale(t),i=[n,n];e.eachItemGraphicEl(function(t){t.attr("scale",i)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scale,r=i&&i[0]||1,o=e.getZoom(),a=(o-1)*n+1;return a/r},updateLayout:function(t){u(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(t,e,n){function i(t){return isNaN(t[0])||isNaN(t[1])}function r(t){return!i(t[0])&&!i(t[1])}function o(t){this._ctor=t||s,this.group=new a.Group}var a=n(43),s=n(200),u=o.prototype;u.updateData=function(t){var e=this._lineData,n=this.group,i=this._ctor,o=t.hostModel,a={lineStyle:o.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:o.getModel("lineStyle.emphasis").getLineStyle(),labelModel:o.getModel("label.normal"),hoverLabelModel:o.getModel("label.emphasis")};t.diff(e).add(function(e){if(r(t.getItemLayout(e))){var o=new i(t,e,a);t.setItemGraphicEl(e,o),n.add(o)}}).update(function(o,s){var u=e.getItemGraphicEl(s);return r(t.getItemLayout(o))?(u?u.updateData(t,o,a):u=new i(t,o,a),t.setItemGraphicEl(o,u),void n.add(u)):void n.remove(u)}).remove(function(t){n.remove(e.getItemGraphicEl(t))}).execute(),this._lineData=t},u.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},u.remove=function(){this.group.removeAll()},t.exports=o},function(t,e,n){function i(t){return"_"+t+"Type"}function r(t,e,n){var i=e.getItemVisual(n,"color"),r=e.getItemVisual(n,t),o=e.getItemVisual(n,t+"Size");if(r&&"none"!==r){d.isArray(o)||(o=[o,o]);var a=l.createSymbol(r,-o[0]/2,-o[1]/2,o[0],o[1],i);return a.name=t,a}}function o(t){var e=new h({name:"line"});return a(e.shape,t),e}function a(t,e){var n=e[0],i=e[1],r=e[2];t.x1=n[0],t.y1=n[1],t.x2=i[0],t.y2=i[1],t.percent=1,r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=0/0,t.cpy1=0/0)}function s(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.childOfName("label");if(e||n||!i.ignore){for(var r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;var a=t.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,u=a.pointAt(0),l=a.pointAt(s),h=c.sub([],l,u);if(c.normalize(h,h),e){e.attr("position",u);var p=a.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(p[1],p[0])),e.attr("scale",[r*s,r*s])}if(n){n.attr("position",l);var p=a.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(p[1],p[0])),n.attr("scale",[r*s,r*s])}if(!i.ignore){i.attr("position",l);var d,f,g,m=5*r;if("end"===i.__position)d=[h[0]*m+l[0],h[1]*m+l[1]],f=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var v=s/2,p=a.tangentAt(v),y=[p[1],-p[0]],_=a.pointAt(v);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]),d=[_[0]+y[0]*m,_[1]+y[1]*m],f="center",g="bottom";var b=-Math.atan2(p[1],p[0]);l[0]<u[0]&&(b=Math.PI+b),i.attr("rotation",b)}else d=[-h[0]*m+u[0],-h[1]*m+u[1]],f=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||g,textAlign:i.__textAlign||f},position:d,scale:[r,r]})}}}}function u(t,e,n){p.Group.call(this),this._createLine(t,e,n)}var l=n(106),c=n(10),h=n(201),p=n(43),d=n(4),f=n(7),g=["fromSymbol","toSymbol"],m=u.prototype;m.beforeUpdate=s,m._createLine=function(t,e,n){var a=t.hostModel,s=t.getItemLayout(e),u=o(s);u.shape.percent=0,p.initProps(u,{shape:{percent:1}},a,e),this.add(u);var l=new p.Text({name:"label"});this.add(l),d.each(g,function(n){var o=r(n,t,e);this.add(o),this[i(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},m.updateData=function(t,e,n){var o=t.hostModel,s=this.childOfName("line"),u=t.getItemLayout(e),l={shape:{}};a(l.shape,u),p.updateProps(s,l,o,e),d.each(g,function(n){var o=t.getItemVisual(e,n),a=i(n);if(this[a]!==o){this.remove(this.childOfName(n));var s=r(n,t,e);this.add(s)}this[a]=o},this),this._updateCommonStl(t,e,n)},m._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=n&&n.lineStyle,a=n&&n.hoverLineStyle,s=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var l=t.getItemModel(e);o=l.getModel("lineStyle.normal").getLineStyle(),a=l.getModel("lineStyle.emphasis").getLineStyle(),s=l.getModel("label.normal"),u=l.getModel("label.emphasis")}var c=t.getItemVisual(e,"color"),h=d.retrieve(t.getItemVisual(e,"opacity"),o.opacity,1);isNaN(m)&&(m=t.getName(e)),r.useStyle(d.defaults({strokeNoScale:!0,fill:"none",stroke:c,opacity:h},o)),r.hoverStyle=a,d.each(g,function(t){var e=this.childOfName(t);e&&(e.setColor(c),e.setStyle({opacity:h}))},this);var m,v,y=s.getShallow("show"),_=u.getShallow("show"),b=this.childOfName("label");if((y||_)&&(m=f.round(i.getRawValue(e)),v=c||"#000"),y){var x=s.getModel("textStyle");b.setStyle({text:d.retrieve(i.getFormattedLabel(e,"normal",t.dataType),m),textFont:x.getFont(),fill:x.getTextColor()||v}),b.__textAlign=x.get("align"),b.__verticalAlign=x.get("baseline"),b.__position=s.get("position")}else b.setStyle("text","");if(_){var w=u.getModel("textStyle");b.hoverStyle={text:d.retrieve(i.getFormattedLabel(e,"emphasis",t.dataType),m),textFont:w.getFont(),fill:w.getTextColor()||v}}else b.hoverStyle={text:""};b.ignore=!y&&!_,p.setHoverStyle(this)},m.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},m.setLinePoints=function(t){var e=this.childOfName("line");a(e.shape,t),e.dirty()},d.inherits(u,p.Group),t.exports=u},function(t,e,n){function i(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var r=n(43),o=n(10),a=r.Line.prototype,s=r.BezierCurve.prototype;t.exports=r.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(i(e)?a:s).buildPath(t,e)},pointAt:function(t){return i(this.shape)?a.pointAt.call(this,t):s.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,n=i(e)?[e.x2-e.x1,e.y2-e.y1]:s.tangentAt.call(this,t);return o.normalize(n,n)}})},function(t,e,n){function i(t,e,n){for(var i,r=t[0],o=t[1],p=t[2],d=1/0,f=n*n,g=.1,m=.1;.9>=m;m+=.1){a[0]=l(r[0],o[0],p[0],m),a[1]=l(r[1],o[1],p[1],m);var v=h(c(a,e)-f);d>v&&(d=v,i=m)}for(var y=0;32>y;y++){var _=i+g;s[0]=l(r[0],o[0],p[0],i),s[1]=l(r[1],o[1],p[1],i),u[0]=l(r[0],o[0],p[0],_),u[1]=l(r[1],o[1],p[1],_);var v=c(s,e)-f;if(h(v)<.01)break;var b=c(u,e)-f;g/=2,0>v?b>=0?i+=g:i-=g:b>=0?i-=g:i+=g}return i}var r=n(50),o=n(10),a=[],s=[],u=[],l=r.quadraticAt,c=o.distSquare,h=Math.abs;t.exports=function(t,e){function n(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var a=[],s=r.quadraticSubdivide,u=[[],[],[]],l=[[],[]],c=[];e/=2,t.eachEdge(function(t){var r=t.getLayout(),h=t.getVisual("fromSymbol"),p=t.getVisual("toSymbol");r.__original||(r.__original=[o.clone(r[0]),o.clone(r[1])],r[2]&&r.__original.push(o.clone(r[2])));var d=r.__original;if(null!=r[2]){if(o.copy(u[0],d[0]),o.copy(u[1],d[2]),o.copy(u[2],d[1]),h&&"none"!=h){var f=n(t.node1),g=i(u,d[0],f*e);s(u[0][0],u[1][0],u[2][0],g,a),u[0][0]=a[3],u[1][0]=a[4],s(u[0][1],u[1][1],u[2][1],g,a),u[0][1]=a[3],u[1][1]=a[4]}if(p&&"none"!=p){var f=n(t.node2),g=i(u,d[1],f*e);s(u[0][0],u[1][0],u[2][0],g,a),u[1][0]=a[1],u[2][0]=a[2],s(u[0][1],u[1][1],u[2][1],g,a),u[1][1]=a[1],u[2][1]=a[2]}o.copy(r[0],u[0]),o.copy(r[1],u[2]),o.copy(r[2],u[1])}else{if(o.copy(l[0],d[0]),o.copy(l[1],d[1]),o.sub(c,l[1],l[0]),o.normalize(c,c),h&&"none"!=h){var f=n(t.node1);o.scaleAndAdd(l[0],l[0],c,f*e)}if(p&&"none"!=p){var f=n(t.node2);o.scaleAndAdd(l[1],l[1],c,-f*e)}o.copy(r[0],l[0]),o.copy(r[1],l[1])}})}},function(t,e,n){var i=n(1),r=n(177),o={type:"graphRoam",event:"graphRoam",update:"none"};i.registerAction(o,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var n=e.coordinateSystem,i=r.updateCenterAndZoom(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)})})},function(t){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph(),r=i.data,o=n.mapArray(n.getName);r.filterSelf(function(t){var n=r.getItemModel(t),i=n.getShallow("category");if(null!=i){"number"==typeof i&&(i=o[i]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(i))return!1}return!0})},this)}},function(t){t.exports=function(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each(function(i){var o=n.getName(i);
r[o]=i;var a=n.getItemModel(i),s=a.get("itemStyle.normal.color")||t.getColorFromPalette(o,e);n.setItemVisual(i,"color",s)}),n.count()&&i.each(function(t){var e=i.getItemModel(t),o=e.getShallow("category");null!=o&&("string"==typeof o&&(o=r[o]),i.getItemVisual(t,"color",!0)||i.setItemVisual(t,"color",n.getItemVisual(o,"color")))})})}},function(t){function e(t){return t instanceof Array||(t=[t,t]),t}t.exports=function(t){t.eachSeriesByType("graph",function(t){var n=t.getGraph(),i=t.getEdgeData(),r=e(t.get("edgeSymbol")),o=e(t.get("edgeSymbolSize")),a="lineStyle.normal.color".split("."),s="lineStyle.normal.opacity".split(".");i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("color",t.get(a)),i.setVisual("opacity",t.get(s)),i.each(function(t){var r=i.getItemModel(t),o=n.getEdgeByIndex(t),u=e(r.getShallow("symbol",!0)),l=e(r.getShallow("symbolSize",!0)),c=r.get(a),h=r.get(s);switch(c){case"source":c=o.node1.getVisual("color");break;case"target":c=o.node2.getVisual("color")}u[0]&&o.setVisual("fromSymbol",u[0]),u[1]&&o.setVisual("toSymbol",u[1]),l[0]&&o.setVisual("fromSymbolSize",l[0]),l[1]&&o.setVisual("toSymbolSize",l[1]),o.setVisual("color",c),o.setVisual("opacity",h)})})}},function(t,e,n){var i=n(208),r=n(209);t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var o=t.getData();o.each(n.dimensions,function(t,e,i){isNaN(t)||isNaN(e)?o.setItemLayout(i,[0/0,0/0]):o.setItemLayout(i,n.dataToPoint([t,e]))}),r(o.graph)}else e&&"none"!==e||i(t)})}},function(t,e,n){var i=n(209);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),i(n)}}},function(t,e,n){var i=n(10);t.exports=function(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.normal.curveness")||0,n=i.clone(t.node1.getLayout()),r=i.clone(t.node2.getLayout()),o=[n,r];+e&&o.push([(n[0]+r[0])/2-(n[1]-r[1])*e,(n[1]+r[1])/2-(r[0]-n[0])*e]),t.setLayout(o)})}},function(t,e,n){var i=n(211);t.exports=function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&i(t)})}},function(t,e,n){var i=n(10);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=e.getBoundingRect(),r=t.getData(),o=r.graph,a=0,s=r.getSum("value"),u=2*Math.PI/(s||r.count()),l=n.width/2+n.x,c=n.height/2+n.y,h=Math.min(n.width,n.height)/2;o.eachNode(function(t){var e=t.getValue("value");a+=u*(s?e:2)/2,t.setLayout([h*Math.cos(a)+l,h*Math.sin(a)+c]),a+=u*(s?e:2)/2}),r.setLayout({cx:l,cy:c}),o.eachEdge(function(t){var e,n=t.getModel().get("lineStyle.normal.curveness")||0,r=i.clone(t.node1.getLayout()),o=i.clone(t.node2.getLayout()),a=(r[0]+o[0])/2,s=(r[1]+o[1])/2;+n&&(n*=3,e=[l*n+a*(1-n),c*n+s*(1-n)]),t.setLayout([r,o,e])})}}},function(t,e,n){var i=n(213),r=n(7),o=n(208),a=n(211),s=n(10),u=n(4);t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},l=t.getGraph(),c=l.data,h=l.edgeData,p=t.getModel("force"),d=p.get("initLayout");t.preservedPoints?c.each(function(t){var e=c.getId(t);c.setItemLayout(t,n[e]||[0/0,0/0])}):d&&"none"!==d?"circular"===d&&a(t):o(t);var f=c.getDataExtent("value"),g=h.getDataExtent("value"),m=p.get("repulsion"),v=p.get("edgeLength");u.isArray(m)||(m=[m,m]),u.isArray(v)||(v=[v,v]),v=[v[1],v[0]];var y=c.mapArray("value",function(t,e){var n=c.getItemLayout(e),i=r.linearMap(t,f,m);return isNaN(i)&&(i=(m[0]+m[1])/2),{w:i,rep:i,p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),_=h.mapArray("value",function(t,e){var n=l.getEdgeByIndex(e),i=r.linearMap(t,g,v);return isNaN(i)&&(i=(v[0]+v[1])/2),{n1:y[n.node1.dataIndex],n2:y[n.node2.dataIndex],d:i,curveness:n.getModel().get("lineStyle.normal.curveness")||0}}),e=t.coordinateSystem,b=e.getBoundingRect(),x=i(y,_,{rect:b,gravity:p.get("gravity")}),w=x.step;x.step=function(t){for(var e=0,i=y.length;i>e;e++)y[e].fixed&&s.copy(y[e].p,l.getNodeByIndex(e).getLayout());w(function(e,i,r){for(var o=0,a=e.length;a>o;o++)e[o].fixed||l.getNodeByIndex(o).setLayout(e[o].p),n[c.getId(o)]=e[o].p;for(var o=0,a=i.length;a>o;o++){var u=i[o],h=l.getEdgeByIndex(o),p=u.n1.p,d=u.n2.p,f=h.getLayout();f=f?f.slice():[],f[0]=f[0]||[],f[1]=f[1]||[],s.copy(f[0],p),s.copy(f[1],d),+u.curveness&&(f[2]=[(p[0]+d[0])/2-(p[1]-d[1])*u.curveness,(p[1]+d[1])/2-(d[0]-p[0])*u.curveness]),h.setLayout(f)}t&&t(r)})},t.forceLayout=x,t.preservedPoints=n,x.step()}else t.forceLayout=null})}},function(t,e,n){var i=n(10),r=i.scaleAndAdd;t.exports=function(t,e,n){for(var o=n.rect,a=o.width,s=o.height,u=[o.x+a/2,o.y+s/2],l=null==n.gravity?.1:n.gravity,c=0;c<t.length;c++){var h=t[c];h.p||(h.p=i.create(a*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),h.pp=i.clone(h.p),h.edges=null}var p=.6;return{warmUp:function(){p=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(n){for(var o=[],a=t.length,s=0;s<e.length;s++){var c=e[s],h=c.n1,d=c.n2;i.sub(o,d.p,h.p);var f=i.len(o)-c.d,g=d.w/(h.w+d.w);i.normalize(o,o),!h.fixed&&r(h.p,h.p,o,g*f*p),!d.fixed&&r(d.p,d.p,o,-(1-g)*f*p)}for(var s=0;a>s;s++){var m=t[s];m.fixed||(i.sub(o,u,m.p),i.scaleAndAdd(m.p,m.p,o,l*p))}for(var s=0;a>s;s++)for(var h=t[s],v=s+1;a>v;v++){var d=t[v];i.sub(o,d.p,h.p);var f=i.len(o);0===f&&(i.set(o,Math.random()-.5,Math.random()-.5),f=1);var y=(h.rep+d.rep)/f/f;!h.fixed&&r(h.pp,h.pp,o,y),!d.fixed&&r(d.pp,d.pp,o,-y)}for(var _=[],s=0;a>s;s++){var m=t[s];m.fixed||(i.sub(_,m.p,m.pp),i.scaleAndAdd(m.p,m.p,_,p),i.copy(m.pp,m.p))}p=.992*p,n&&n(t,e,.01>p)}}}},function(t,e,n){function i(t,e,n){var i=t.getBoxLayoutParams();return i.aspect=n,o.getLayoutRect(i,{width:e.getWidth(),height:e.getHeight()})}var r=n(168),o=n(21),a=n(51);t.exports=function(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var o=t.get("coordinateSystem");if(!o||"view"===o){var s=new r;n.push(s);var u=t.getData(),l=u.mapArray(function(t){var e=u.getItemModel(t);return[+e.get("x"),+e.get("y")]}),c=[],h=[];a.fromPoints(l,c,h),h[0]-c[0]===0&&(h[0]+=1,c[0]-=1),h[1]-c[1]===0&&(h[1]+=1,c[1]-=1);var p=(h[0]-c[0])/(h[1]-c[1]),d=i(t,e,p);isNaN(p)&&(c=[d.x,d.y],h=[d.x+d.width,d.y+d.height]);var f=h[0]-c[0],g=h[1]-c[1],m=d.width,v=d.height;s=t.coordinateSystem=new r,s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(c[0],c[1],f,g),s.setViewRect(d.x,d.y,m,v),s.setCenter(t.get("center")),s.setZoom(t.get("zoom"))}}),n}},function(t,e,n){n(216),n(217)},function(t,e,n){var i=n(97),r=n(28),o=n(4),a=r.extend({type:"series.gauge",getInitialData:function(t){var e=new i(["value"],this),n=t.data||[];return o.isArray(n)||(n=[n]),e.initData(n),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});t.exports=a},function(t,e,n){function i(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r),a=u(n[0],e.getWidth()),s=u(n[1],e.getHeight()),l=u(t.get("radius"),o/2);return{cx:a,cy:s,r:l}}function r(t,e){return e&&("string"==typeof e?t=e.replace("{value}",t):"function"==typeof e&&(t=e(t))),t}var o=n(218),a=n(43),s=n(7),u=s.parsePercent,l=2*Math.PI,c=n(42).extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var r=t.get("axisLine.lineStyle.color"),o=i(t,n);this._renderMain(t,e,n,r,o)},_renderMain:function(t,e,n,i,r){for(var o=this.group,s=t.getModel("axisLine"),u=s.getModel("lineStyle"),c=t.get("clockwise"),h=-t.get("startAngle")/180*Math.PI,p=-t.get("endAngle")/180*Math.PI,d=(p-h)%l,f=h,g=u.get("width"),m=0;m<i.length;m++){var v=Math.min(Math.max(i[m][0],0),1),p=h+d*v,y=new a.Sector({shape:{startAngle:f,endAngle:p,cx:r.cx,cy:r.cy,clockwise:c,r0:r.r-g,r:r.r},silent:!0});y.setStyle({fill:i[m][1]}),y.setStyle(u.getLineStyle(["color","borderWidth","borderColor"])),o.add(y),f=p}var _=function(t){if(0>=t)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!c){var b=h;h=p,p=b}this._renderTicks(t,e,n,_,r,h,p,c),this._renderPointer(t,e,n,_,r,h,p,c),this._renderTitle(t,e,n,_,r),this._renderDetail(t,e,n,_,r)},_renderTicks:function(t,e,n,i,o,l,c){for(var h=this.group,p=o.cx,d=o.cy,f=o.r,g=t.get("min"),m=t.get("max"),v=t.getModel("splitLine"),y=t.getModel("axisTick"),_=t.getModel("axisLabel"),b=t.get("splitNumber"),x=y.get("splitNumber"),w=u(v.get("length"),f),k=u(y.get("length"),f),T=l,S=(c-l)/b,$=S/x,C=v.getModel("lineStyle").getLineStyle(),A=y.getModel("lineStyle").getLineStyle(),M=_.getModel("textStyle"),I=0;b>=I;I++){var D=Math.cos(T),E=Math.sin(T);if(v.get("show")){var O=new a.Line({shape:{x1:D*f+p,y1:E*f+d,x2:D*(f-w)+p,y2:E*(f-w)+d},style:C,silent:!0});"auto"===C.stroke&&O.setStyle({stroke:i(I/b)}),h.add(O)}if(_.get("show")){var P=r(s.round(I/b*(m-g)+g),_.get("formatter")),L=_.get("distance"),N=new a.Text({style:{text:P,x:D*(f-w-L)+p,y:E*(f-w-L)+d,fill:M.getTextColor(),textFont:M.getFont(),textVerticalAlign:-.4>E?"top":E>.4?"bottom":"middle",textAlign:-.4>D?"left":D>.4?"right":"center"},silent:!0});"auto"===N.style.fill&&N.setStyle({fill:i(I/b)}),h.add(N)}if(y.get("show")&&I!==b){for(var R=0;x>=R;R++){var D=Math.cos(T),E=Math.sin(T),U=new a.Line({shape:{x1:D*f+p,y1:E*f+d,x2:D*(f-k)+p,y2:E*(f-k)+d},silent:!0,style:A});"auto"===A.stroke&&U.setStyle({stroke:i((I+R/x)/b)}),h.add(U),T+=$}T-=$}else T+=S}},_renderPointer:function(t,e,n,i,r,l,c,h){var p=[+t.get("min"),+t.get("max")],d=[l,c];h||(d=d.reverse());var f=t.getData(),g=this._data,m=this.group;f.diff(g).add(function(e){var n=new o({shape:{angle:l}});a.updateProps(n,{shape:{angle:s.linearMap(f.get("value",e),p,d,!0)}},t),m.add(n),f.setItemGraphicEl(e,n)}).update(function(e,n){var i=g.getItemGraphicEl(n);a.updateProps(i,{shape:{angle:s.linearMap(f.get("value",e),p,d,!0)}},t),m.add(i),f.setItemGraphicEl(e,i)}).remove(function(t){var e=g.getItemGraphicEl(t);m.remove(e)}).execute(),f.eachItemGraphicEl(function(t,e){var n=f.getItemModel(e),o=n.getModel("pointer");t.setShape({x:r.cx,y:r.cy,width:u(o.get("width"),r.r),r:u(o.get("length"),r.r)}),t.useStyle(n.getModel("itemStyle.normal").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",i((f.get("value",e)-p[0])/(p[1]-p[0]))),a.setHoverStyle(t,n.getModel("itemStyle.emphasis").getItemStyle())}),this._data=f},_renderTitle:function(t,e,n,i,r){var o=t.getModel("title");if(o.get("show")){var s=o.getModel("textStyle"),l=o.get("offsetCenter"),c=r.cx+u(l[0],r.r),h=r.cy+u(l[1],r.r),p=new a.Text({style:{x:c,y:h,text:t.getData().getName(0),fill:s.getTextColor(),textFont:s.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(p)}},_renderDetail:function(t,e,n,i,o){var l=t.getModel("detail"),c=t.get("min"),h=t.get("max");if(l.get("show")){var p=l.getModel("textStyle"),d=l.get("offsetCenter"),f=o.cx+u(d[0],o.r),g=o.cy+u(d[1],o.r),m=u(l.get("width"),o.r),v=u(l.get("height"),o.r),y=t.getData().get("value",0),_=new a.Rect({shape:{x:f-m/2,y:g-v/2,width:m,height:v},style:{text:r(y,l.get("formatter")),fill:l.get("backgroundColor"),textFill:p.getTextColor(),textFont:p.getFont()}});"auto"===_.style.textFill&&_.setStyle("textFill",i(s.linearMap(y,[c,h],[0,1],!0))),_.setStyle(l.getItemStyle(["color"])),this.group.add(_)}}});t.exports=c},function(t,e,n){t.exports=n(45).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,i=Math.sin,r=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=r/3?1:2),u=e.y-i(a)*o*(o>=r/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,u),t.lineTo(e.x+n(a)*o,e.y+i(a)*o),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(a)*o,e.y-i(a)*o),t.lineTo(s,u)}})},function(t,e,n){var i=n(4),r=n(1);n(220),n(221),r.registerVisual(i.curry(n(143),"funnel")),r.registerLayout(n(222)),r.registerProcessor(i.curry(n(146),"funnel"))},function(t,e,n){"use strict";var i=n(97),r=n(5),o=n(102),a=n(1).extendSeriesModel({type:"series.funnel",init:function(t){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this._defaultLabelLine(t)},getInitialData:function(t){var e=o(["value"],t.data),n=new i(e,this);return n.initData(t.data),n},_defaultLabelLine:function(t){r.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,n=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,n.show=n.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});t.exports=a},function(t,e,n){function i(t,e){function n(){a.ignore=a.hoverIgnore,s.ignore=s.hoverIgnore}function i(){a.ignore=a.normalIgnore,s.ignore=s.normalIgnore}o.Group.call(this);var r=new o.Polygon,a=new o.Polyline,s=new o.Text;this.add(r),this.add(a),this.add(s),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function r(t,e,n,i){var r=i.getModel("textStyle"),o=i.get("position"),s="inside"===o||"inner"===o||"center"===o;return{fill:r.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),textFont:r.getFont(),text:a.retrieve(t.hostModel.getFormattedLabel(e,n),t.getName(e))}}var o=n(43),a=n(4),s=i.prototype,u=["itemStyle","normal","opacity"];s.updateData=function(t,e,n){var i=this.childAt(0),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),c=t.getItemModel(e).get(u);c=null==c?1:c,i.useStyle({}),n?(i.setShape({points:l.points}),i.setStyle({opacity:0}),o.initProps(i,{style:{opacity:c}},r,e)):o.updateProps(i,{style:{opacity:c},shape:{points:l.points}},r,e);var h=s.getModel("itemStyle"),p=t.getItemVisual(e,"color");i.setStyle(a.defaults({lineJoin:"round",fill:p},h.getModel("normal").getItemStyle(["opacity"]))),i.hoverStyle=h.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),o.setHoverStyle(this)},s._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),a=t.hostModel,s=t.getItemModel(e),u=t.getItemLayout(e),l=u.label,c=t.getItemVisual(e,"color");o.updateProps(n,{shape:{points:l.linePoints||l.linePoints}},a,e),o.updateProps(i,{style:{x:l.x,y:l.y}},a,e),i.attr({style:{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,textFont:l.font},rotation:l.rotation,origin:[l.x,l.y],z2:10});var h=s.getModel("label.normal"),p=s.getModel("label.emphasis"),d=s.getModel("labelLine.normal"),f=s.getModel("labelLine.emphasis");i.setStyle(r(t,e,"normal",h)),i.ignore=i.normalIgnore=!h.get("show"),i.hoverIgnore=!p.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!f.get("show"),n.setStyle({stroke:c}),n.setStyle(d.getModel("lineStyle").getLineStyle()),i.hoverStyle=r(t,e,"emphasis",p),n.hoverStyle=f.getModel("lineStyle").getLineStyle()},a.inherits(i,o.Group);var l=n(42).extend({type:"funnel",render:function(t){var e=t.getData(),n=this._data,r=this.group;e.diff(n).add(function(t){var n=new i(e,t);e.setItemGraphicEl(t,n),r.add(n)}).update(function(t,i){var o=n.getItemGraphicEl(i);o.updateData(e,t),r.add(o),e.setItemGraphicEl(t,o)}).remove(function(t){var e=n.getItemGraphicEl(t);r.remove(e)}).execute(),this._data=e},remove:function(){this.group.removeAll(),this._data=null}});t.exports=l},function(t,e,n){function i(t,e){return a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function r(t,e){for(var n=t.mapArray("value",function(t){return t}),i=[],r="ascending"===e,o=0,a=t.count();a>o;o++)i[o]=o;return i.sort(function(t,e){return r?n[t]-n[e]:n[e]-n[t]}),i}function o(t){t.each(function(e){var n,i,r,o,a=t.getItemModel(e),s=a.getModel("label.normal"),u=s.get("position"),l=a.getModel("labelLine.normal"),c=t.getItemLayout(e),h=c.points,p="inner"===u||"inside"===u||"center"===u;if(p)i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,r=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,n="center",o=[[i,r],[i,r]];else{var d,f,g,m=l.get("length");"left"===u?(d=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,g=d-m,i=g-5,n="right"):(d=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,g=d+m,i=g+5,n="left");var v=f;o=[[d,f],[g,v]],r=v}c.label={linePoints:o,x:i,y:r,verticalAlign:"middle",textAlign:n,inside:p}})}var a=n(21),s=n(7),u=s.parsePercent;t.exports=function(t,e){t.eachSeriesByType("funnel",function(t){var n=t.getData(),a=t.get("sort"),l=i(t,e),c=r(n,a),h=[u(t.get("minSize"),l.width),u(t.get("maxSize"),l.width)],p=n.getDataExtent("value"),d=t.get("min"),f=t.get("max");null==d&&(d=Math.min(p[0],0)),null==f&&(f=p[1]);var g=t.get("funnelAlign"),m=t.get("gap"),v=(l.height-m*(n.count()-1))/n.count(),y=l.y,_=function(t,e){var i,r=n.get("value",t)||0,o=s.linearMap(r,[d,f],h,!0);switch(g){case"left":i=l.x;break;case"center":i=l.x+(l.width-o)/2;break;case"right":i=l.x+l.width-o}return[[i,e],[i+o,e]]};"ascending"===a&&(v=-v,m=-m,y+=l.height,c=c.reverse());for(var b=0;b<c.length;b++){var x=c[b],w=c[b+1],k=_(x,y),T=_(w,y+v);y+=v+m,n.setItemLayout(x,{points:k.concat(T.slice().reverse())})}o(n)})}},function(t,e,n){var i=n(1);n(224),n(235),n(236),i.registerVisual(n(237))},function(t,e,n){n(225),n(228),n(230);var i=n(1),r=n(4),o=5;i.extendComponentView({type:"parallel",render:function(t,e,n){var i=n.getZr();if(!this.__onMouseDown){var a;i.on("mousedown",this.__onMouseDown=function(t){a=[t.offsetX,t.offsetY]}),i.on("mouseup",this.__onMouseUp=function(e){var i=[e.offsetX,e.offsetY],s=Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2);if(t.get("axisExpandable")&&!(s>o)){var u=t.coordinateSystem,l=u.findClosestAxisDim(i);if(l){var c=r.indexOf(u.dimensions,l);n.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:c})}}})}},dispose:function(t,e){e.getZr().off(this.__onMouseDown),e.getZr().off(this.__onMouseUp)}}),i.registerPreprocessor(n(234))},function(t,e,n){function i(t,e){var n=[];return t.eachComponent("parallel",function(i,o){var a=new r(i,t,e);a.name="parallel_"+o,a.resize(i,e),i.coordinateSystem=a,a.model=i,n.push(a)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}var r=n(226);n(26).register("parallel",{create:i})},function(t,e,n){function i(t,e,n){this._axesMap={},this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}var r=n(21),o=n(114),a=n(4),s=n(227),u=n(43),l=n(11),c=a.each,h=Math.PI;i.prototype={type:"parallel",constructor:i,_init:function(t,e){var n=t.dimensions,i=t.parallelAxisIndex;c(n,function(t,n){var r=i[n],a=e.getComponent("parallelAxis",r),u=this._axesMap[t]=new s(t,o.createScaleByModel(a),[0,0],a.get("type"),r),l="category"===u.type;u.onBand=l&&a.get("boundaryGap"),u.inverse=a.get("inverse"),a.axis=u,u.model=a},this)},update:function(t){this._updateAxesFromSeries(this._model,t)},_updateAxesFromSeries:function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();c(this.dimensions,function(t){var e=this._axesMap[t];e.scale.unionExtent(i.getDataExtent(t)),o.niceScaleExtent(e,e.model)},this)}},this)},resize:function(t,e){this._rect=r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes(t)},getRect:function(){return this._rect},_layoutAxes:function(t){var e=this._rect,n=t.get("layout"),i=this._axesMap,r=this.dimensions,o=[e.width,e.height],a="horizontal"===n?0:1,s=o[a],u=o[1-a],p=[0,u];c(i,function(t){var e=t.inverse?1:0;t.setExtent(p[e],p[1-e])});var d,f=t.get("axisExpandable"),g=t.get("axisExpandWidth"),m=t.get("axisExpandCenter"),v=t.get("axisExpandCount")||0;if(null!=m){var y=Math.max(0,Math.floor(m-(v-1)/2)),_=y+v-1;_>=r.length&&(_=r.length-1,y=Math.max(0,Math.floor(_-v+1))),d=[y,_]}var b=f&&d&&g?function(t,e,n){var i,r=d[1]-d[0],o=(e-g*r)/(n-1-r);return i=t<d[0]?(t-1)*o:t<=d[1]?d[0]*o+(t-d[0])*g:t===n-1?e:d[0]*o+r*g+(t-d[1])*o,{position:i,axisNameAvailableWidth:d[0]<t&&t<d[1]?g:o}}:function(t,e,n){var i=e/(n-1);return{position:i*t,axisNameAvailableWidth:i}};c(r,function(t,i){var o=b(i,s,r.length),a={horizontal:{x:o.position,y:u},vertical:{x:0,y:o.position}},c={horizontal:h/2,vertical:0},p=[a[n].x+e.x,a[n].y+e.y],f=c[n],g=l.create();l.rotate(g,g,f),l.translate(g,g,p),this._axesLayout[t]={position:p,rotation:f,transform:g,axisNameAvailableWidth:o.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:d}},this)},getAxis:function(t){return this._axesMap[t]},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap[e].dataToCoord(t),e)},eachActiveState:function(t,e,n){for(var i=this.dimensions,r=this._axesMap,o=this.hasAxisbrushed(),a=0,s=t.count();s>a;a++){var u,l=t.getValues(i,a);if(o){u="active";for(var c=0,h=i.length;h>c;c++){var p=i[c],d=r[p].model.getActiveState(l[c],c);if("inactive"===d){u="inactive";break}}}else u="normal";e.call(n,u,a)}},hasAxisbrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;r>i;i++)"normal"!==e[t[i]].model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){var n=this._axesLayout[e];return u.applyTransform([t,0],n.transform)},getAxisLayout:function(t){return a.clone(this._axesLayout[t])},findClosestAxisDim:function(t){var e,n=1/0;return a.each(this._axesLayout,function(i,r){var o=u.applyTransform(t,i.transform,!0),a=this._axesMap[r].getExtent();if(!(o[0]<a[0]||o[0]>a[1])){var s=Math.abs(o[1]);n>s&&(n=s,e=r)}},this),e}},t.exports=i},function(t,e,n){var i=n(4),r=n(123),o=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.axisIndex=o};o.prototype={constructor:o,model:null},i.inherits(o,r),t.exports=o},function(t,e,n){var i=n(4),r=n(19);n(229),r.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&i.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},setAxisExpand:function(t){i.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=i.filter(this.dependentModels.parallelAxis,function(t){return t.get("parallelIndex")===this.componentIndex});i.each(n,function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})}})},function(t,e,n){function i(t,e){return e.type||(e.data?"category":"value")}var r=n(19),o=n(4),a=n(15),s=n(127),u=n(7),l=r.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return a([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=o.clone(t);if(e)for(var n=e.length-1;n>=0;n--)u.asc(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var n=0,i=e.length;i>n;n++)if(e[n][0]<=t&&t<=e[n][1])return"active";return"inactive"}}),c={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};o.merge(l.prototype,n(129)),s("parallel",l,i,c),t.exports=l},function(t,e,n){n(225),n(231),n(232)},function(t,e,n){var i=n(1),r={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};i.registerAction(r,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),i.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})},function(t,e,n){function i(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}var r=n(4),o=n(132),a=n(233),s=n(43),u=["axisLine","axisLabel","axisTick","axisName"],l=n(1).extendComponentView({type:"parallelAxis",init:function(t,e){l.superApply(this,"init",arguments),(this._brushController=new a(e.getZr())).on("brush",r.bind(this._onBrush,this))},render:function(t,e,n,a){if(!i(t,e,a)){this.axisModel=t,this.api=n,this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new s.Group,this.group.add(this._axisGroup),t.get("show")){var c,h=e.getComponent("parallel",t.get("parallelIndex")).coordinateSystem,p=t.getAreaSelectStyle(),d=p.width,f=t.axis.dim,g=h.getAxisLayout(f),m=r.indexOf(h.dimensions,f),v=g.axisExpandWindow;v&&(m<=v[0]||m>=v[1])&&(c=!1);var y=r.extend({axisLabelShow:c,strokeContainThreshold:d},g),_=new o(t,y);r.each(u,_.add,_),this._axisGroup.add(_.getGroup()),this._refreshBrushController(y,p,t,d),s.groupTransition(l,this._axisGroup,t)}}},_refreshBrushController:function(t,e,n,i){var o=n.axis,a=r.map(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[o.dataToCoord(t[0],!0),o.dataToCoord(t[1],!0)]}}),s=o.getExtent(),u=30,l={x:s[0]-u,y:-i/2,width:s[1]-s[0]+2*u,height:i};this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",rect:l}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(a)},_onBrush:function(t,e){var n=this.axisModel,i=n.axis,o=r.map(t,function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});t.exports=l},function(t,e,n){function i(t){U.assert(t),R.call(this),this._zr=t,this.group=new K.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._mounted,this._uid="brushController_"+ee++,this._handlers={},j(ne,function(t,e){this._handlers[e]=U.bind(t,this)},this)}function r(t,e){var n=t._zr;t._enableGlobalPan||W.take(n,X,t._uid),j(t._handlers,function(t,e){n.on(e,t)}),t._brushType=e.brushType,t._brushOption=U.merge(U.clone(te),e,!0)}function o(t){var e=t._zr;W.release(e,X,t._uid),j(t._handlers,function(t,n){e.off(n,t)}),t._brushType=t._brushOption=null}function a(t,e){var n=ie[e.brushType].createCover(t,e);return l(n),n.__brushOption=e,t.group.add(n),n}function s(t,e){var n=h(e);return n.endCreating&&(n.endCreating(t,e),l(e)),e}function u(t,e){var n=e.__brushOption;h(e).updateCoverShape(t,e,n.range,n)}function l(t){t.traverse(function(t){t.z=G,t.z2=G})}function c(t,e){h(e).updateCommon(t,e),u(t,e)}function h(t){return ie[t.__brushOption.brushType]}function p(t,e,n){var i=t._panels;if(!i)return!0;var r;return j(i,function(t){t.contain(e,n)&&(r=t)}),r}function d(t,e){var n=t._panels;if(!n)return!0;var i=e.__brushOption.panelId;return null!=i?n[i]:!0}function f(t){var e=t._covers,n=e.length;return j(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function g(t,e){var n=H(t._covers,function(t){var e=t.__brushOption,n=U.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function m(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],o=n[1]-i[1],a=q(r*r+o*o,.5);return a>Y}function v(t){var e=t.length-1;return 0>e&&(e=0),[t[0],t[e]]}function y(t,e,n,i){var r=new K.Group;return r.add(new K.Rect({name:"main",style:w(n),silent:!0,draggable:!0,cursor:"move",drift:B(t,e,r,"nswe"),ondragend:B(g,e,{isEnd:!0})})),j(i,function(n){r.add(new K.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:B(t,e,r,n),ondragend:B(g,e,{isEnd:!0})}))}),r}function _(t,e,n,i){var r=i.brushStyle.lineWidth||0,o=F(r,Z),a=n[0][0],s=n[1][0],u=a-r/2,l=s-r/2,c=n[0][1],h=n[1][1],p=c-o+r/2,d=h-o+r/2,f=c-a,g=h-s,m=f+r,v=g+r;x(t,e,"main",a,s,f,g),i.transformable&&(x(t,e,"w",u,l,o,v),x(t,e,"e",p,l,o,v),x(t,e,"n",u,l,m,o),x(t,e,"s",u,d,m,o),x(t,e,"nw",u,l,o,o),x(t,e,"ne",p,l,o,o),x(t,e,"sw",u,d,o,o),x(t,e,"se",p,d,o,o))}function b(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(w(n)),r.attr({silent:!i,cursor:i?"move":"default"}),j(["w","e","n","s","se","sw","ne","nw"],function(n){var r=e.childOfName(n),o=S(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?Q[o]+"-resize":null})})}function x(t,e,n,i,r,o,a){var s=e.childOfName(n);s&&s.setShape(I(M(t,e,[[i,r],[i+o,r+a]])))}function w(t){return U.defaults({strokeNoScale:!0},t.brushStyle)}function k(t,e,n,i){var r=[z(t,n),z(e,i)],o=[F(t,n),F(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function T(t){return K.getTransform(t.group)}function S(t,e){if(e.length>1){e=e.split("");var n=[S(t,e[0]),S(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}var i={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},n=K.transformDirection(i[e],T(t));return r[n]}function $(t,e,n,i,r,o,a){var s=i.__brushOption,u=t(s.range),l=A(n,o,a);j(r.split(""),function(t){var e=J[t];u[e[0]][e[1]]+=l[e[0]]}),s.range=e(k(u[0][0],u[1][0],u[0][1],u[1][1])),c(n,i),g(n,{isEnd:!1})}function C(t,e,n,i){var r=e.__brushOption.range,o=A(t,n,i);j(r,function(t){t[0]+=o[0],t[1]+=o[1]}),c(t,e),g(t,{isEnd:!1})}function A(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function M(t,e,n){var i=d(t,e);if(i===!0)return U.clone(n);var r=i.getBoundingRect();return U.map(n,function(t){var e=t[0];e=F(e,r.x),e=z(e,r.x+r.width);var n=t[1];return n=F(n,r.y),n=z(n,r.y+r.height),[e,n]})}function I(t){var e=z(t[0][0],t[1][0]),n=z(t[0][1],t[1][1]),i=F(t[0][0],t[1][0]),r=F(t[0][1],t[1][1]);return{x:e,y:n,width:i-e,height:r-n}}function D(t,e){var n=e.offsetX,i=e.offsetY,r=t._zr;if(t._brushType){for(var o,a=t._panels,s=t._covers,u=0;u<s.length;u++)if(ie[s[u].__brushOption.brushType].contain(s[u],n,i)){o=!0;break}o||(a?j(a,function(t){t.contain(n,i)&&r.setCursorStyle("crosshair")}):r.setCursorStyle("crosshair"))}}function E(t){var e=t.event;e.preventDefault&&e.preventDefault()}function O(t,e,n){return t.childOfName("main").contain(e,n)}function P(t,e,n){var i,r=e.offsetX,o=e.offsetY,l=t._creatingCover,c=t._creatingPanel,h=t._brushOption;if(t._track.push(t.group.transformCoordToLocal(r,o)),m(t)||l){if(c&&!l){"single"===h.brushMode&&f(t);var d=U.clone(h);d.panelId=c===!0?null:c.__brushPanelId,l=t._creatingCover=a(t,d),t._covers.push(l)}if(l){var g=ie[t._brushType],v=l.__brushOption;v.range=g.getCreatingRange(M(t,l,t._track)),n&&(s(t,l),g.updateCommon(t,l)),u(t,l),i={isEnd:n}}}else n&&"single"===h.brushMode&&h.removeOnClick&&p(t,r,o)&&f(t)&&(i={isEnd:n,removeOnClick:!0});return i}function L(t){if(this._dragging){E(t);var e=P(this,t,!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&g(this,e)}}function N(t){return{createCover:function(e,n){return y(B($,function(e){var n=[e,[0,100]];return t&&n.reverse(),n},function(e){return e[t]}),e,n,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var n=v(e),i=z(n[0][t],n[1][t]),r=F(n[0][t],n[1][t]);return[i,r]},updateCoverShape:function(e,n,i,r){var o,a=r.brushStyle.width;
if(null==a){var s=d(e,n),u=0;if(s!==!0){var l=s.getBoundingRect();a=t?l.width:l.height,u=t?l.x:l.y}o=[u,u+(a||0)]}else o=[-a/2,a/2];var c=[i,o];t&&c.reverse(),_(e,n,c,r)},updateCommon:b,contain:O}}var R=n(33),U=n(4),K=n(43),W=n(175),V=n(98),B=U.curry,j=U.each,H=U.map,z=Math.min,F=Math.max,q=Math.pow,G=1e4,Y=6,Z=6,X="globalPan",J={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Q={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},te={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},ee=0;i.prototype={constructor:i,enableBrush:function(t){return U.assert(this._mounted),this._brushType&&o(this),t.brushType&&r(this,t),this},setPanels:function(t){var e=this._panels||{},n=this._panels=t&&t.length&&{},i=this.group;return n&&j(t,function(t){var r=t.panelId,o=e[r];o||(o=new K.Rect({silent:!0,invisible:!0}),i.add(o)),o.attr("shape",t.rect),o.__brushPanelId=r,n[r]=o,e[r]=null}),j(e,function(t){t&&i.remove(t)}),this},mount:function(t){t=t||{},this._mounted=!0,this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this},eachCover:function(t,e){j(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:o+e)+"-"+t.brushType}function n(t,n){return e(t.__brushOption,n)}function i(e,n){var i=t[e];if(null!=n&&u[n]===p)l[e]=u[n];else{var r=l[e]=null!=n?(u[n].__brushOption=i,u[n]):s(h,a(h,i));c(h,r)}}function r(t){u[t]!==p&&h.group.remove(u[t])}U.assert(this._mounted),t=U.map(t,function(t){return U.merge(U.clone(te),t,!0)});var o="\x00-brush-index-",u=this._covers,l=this._covers=[],h=this,p=this._creatingCover;return new V(u,t,n,e).add(i).update(i).remove(r).execute(),this},unmount:function(){return this.enableBrush(!1),f(this),this._zr.remove(this.group),this._mounted=!1,this},dispose:function(){this.unmount(),this.off()}},U.mixin(i,R);var ne={mousedown:function(t){if(this._dragging)L.call(this,t);else if(!t.target||!t.target.draggable){E(t);var e=t.offsetX,n=t.offsetY;this._creatingCover=null;var i=this._creatingPanel=p(this,e,n);i&&(this._dragging=!0,this._track=[this.group.transformCoordToLocal(e,n)])}},mousemove:function(t){if(D(this,t),this._dragging){E(t);var e=P(this,t,!1);e&&g(this,e)}},mouseup:L},ie={lineX:N(0),lineY:N(1),rect:{createCover:function(t,e){return y(B($,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=v(t);return k(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){_(t,e,n,i)},updateCommon:b,contain:O},polygon:{createCover:function(t,e){var n=new K.Group;return n.add(new K.Polyline({name:"main",style:w(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new K.Polygon({name:"main",draggable:!0,drift:B(C,t,e),ondragend:B(g,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n){e.childAt(0).setShape({points:M(t,e,n)})},updateCommon:b,contain:O}};t.exports=i},function(t,e,n){function i(t){if(!t.parallel){var e=!1;o.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}function r(t){var e=a.normalizeToArray(t.parallelAxis);o.each(e,function(e){if(o.isObject(e)){var n=e.parallelIndex||0,i=a.normalizeToArray(t.parallel)[n];i&&i.parallelAxisDefault&&o.merge(e,i.parallelAxisDefault,!1)}})}var o=n(4),a=n(5);t.exports=function(t){i(t),r(t)}},function(t,e,n){function i(t,e,n){var i=t.get("data"),o=r(e);i&&i.length&&s.each(n,function(t){if(t){var e=s.indexOf(i,t[o]);t[o]=e>=0?e:0/0}})}function r(t){return+t.replace("dim","")}function o(t,e){var n=0;s.each(t,function(t){var e=r(t);e>n&&(n=e)});var i=e[0];i&&i.length-1>n&&(n=i.length-1);for(var o=[],a=0;n>=a;a++)o.push("dim"+a);return o}var a=n(97),s=n(4),u=n(28),l=n(102);t.exports=u.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(t,e){var n=e.getComponent("parallel",this.get("parallelIndex")),r=n.parallelAxisIndex,u=t.data,c=n.dimensions,h=o(c,u),p=s.map(h,function(t,n){var o=s.indexOf(c,t),a=o>=0&&e.getComponent("parallelAxis",r[o]);return a&&"category"===a.get("type")?(i(a,t,u),{name:t,type:"ordinal"}):0>o&&l.guessOrdinal(u,n)?{name:t,type:"ordinal"}:t}),d=new a(p,this);return d.initData(u),this.option.progressive&&(this.option.animation=!1),d},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,function(e,r){t===e&&i.push(n.getRawIndex(r))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(t,e,n){function i(t,e,n){var i=t.model,r=t.getRect(),o=new u.Rect({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),u.initProps(o,{shape:{width:r.width,height:r.height}},e,n),o}function r(t,e,n,i){for(var r=[],o=0;o<n.length;o++){var a=n[o],u=t.get(a,e);s(u,i.getAxis(a).type)||r.push(i.dataToPoint(u,a))}return r}function o(t,e,n,i,o){var a=r(t,n,i,o),s=new u.Polyline({shape:{points:a},silent:!0,z2:10});e.add(s),t.setItemGraphicEl(n,s)}function a(t,e){var n=t.hostModel.getModel("lineStyle.normal"),i=n.getLineStyle();t.eachItemGraphicEl(function(r,o){if(t.hasItemOption){var a=t.getItemModel(o),s=a.getModel("lineStyle.normal",n);i=s.getLineStyle()}r.useStyle(l.extend(i,{fill:null,stroke:t.getItemVisual(o,"color"),opacity:t.getItemVisual(o,"opacity")})),r.shape.smooth=e})}function s(t,e){return"category"===e?null==t:null==t||isNaN(t)}var u=n(43),l=n(4),c=.3,h=n(42).extend({type:"parallel",init:function(){this._dataGroup=new u.Group,this.group.add(this._dataGroup),this._data},render:function(t){this._renderForNormal(t)},_renderForNormal:function(t){function e(t){o(h,l,t,f,d,null,m)}function n(e,n){var i=p.getItemGraphicEl(n),o=r(h,e,f,d);h.setItemGraphicEl(e,i),u.updateProps(i,{shape:{points:o}},t,e)}function s(t){var e=p.getItemGraphicEl(t);l.remove(e)}var l=this._dataGroup,h=t.getData(),p=this._data,d=t.coordinateSystem,f=d.dimensions,g=t.option,m=g.smooth?c:null;if(h.diff(p).add(e).update(n).remove(s).execute(),a(h,m),!this._data){var v=i(d,t,function(){setTimeout(function(){l.removeClipPath()})});l.setClipPath(v)}this._data=h},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=h},function(t){t.exports=function(t){t.eachSeriesByType("parallel",function(e){var n=e.getModel("itemStyle.normal"),i=e.getModel("lineStyle.normal"),r=t.get("color"),o=i.get("color")||n.get("color")||r[e.seriesIndex%r.length],a=e.get("inactiveOpacity"),s=e.get("activeOpacity"),u=e.getModel("lineStyle.normal").getLineStyle(),l=e.coordinateSystem,c=e.getData(),h={normal:u.opacity,active:s,inactive:a};l.eachActiveState(c,function(t,e){c.setItemVisual(e,"opacity",h[t])}),c.setVisual("color",o)})}},function(t,e,n){var i=n(1);n(239),n(240),i.registerLayout(n(241)),i.registerVisual(n(243))},function(t,e,n){var i=n(28),r=n(196),o=i.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,n=t.data||t.nodes;if(n&&e){var i=r(n,e,this,!0);return i.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getDataParams(t,n),r=i.data,a=r.source+" -- "+r.target;return i.value&&(a+=" : "+i.value),a}return o.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});t.exports=o},function(t,e,n){function i(t,e,n){var i=new r.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return r.initProps(i,{shape:{width:t.width+20,height:t.height+20}},e,n),i}var r=n(43),o=n(4),a=r.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var n=e.extent/2;t.moveTo(e.x1,e.y1-n),t.bezierCurveTo(e.cpx1,e.cpy1-n,e.cpx2,e.cpy2-n,e.x2,e.y2-n),t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n),t.closePath()}});t.exports=n(1).extendChartView({type:"sankey",_model:null,render:function(t){var e=t.getGraph(),n=this.group,s=t.layoutInfo,u=t.getData(),l=t.getData("edge");this._model=t,n.removeAll(),n.position=[s.x,s.y],e.eachEdge(function(e){var i=new a;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var o=e.getModel("lineStyle.normal"),s=o.get("curveness"),u=e.node1.getLayout(),c=e.node2.getLayout(),h=e.getLayout();i.shape.extent=Math.max(1,h.dy);var p=u.x+u.dx,d=u.y+h.sy+h.dy/2,f=c.x,g=c.y+h.ty+h.dy/2,m=p*(1-s)+f*s,v=d,y=p*s+f*(1-s),_=g;switch(i.setShape({x1:p,y1:d,x2:f,y2:g,cpx1:m,cpy1:v,cpx2:y,cpy2:_}),i.setStyle(o.getItemStyle()),i.style.fill){case"source":i.style.fill=e.node1.getVisual("color");break;case"target":i.style.fill=e.node2.getVisual("color")}r.setHoverStyle(i,e.getModel("lineStyle.emphasis").getItemStyle()),n.add(i),l.setItemGraphicEl(e.dataIndex,i)}),e.eachNode(function(e){var i=e.getLayout(),a=e.getModel(),s=a.getModel("label.normal"),l=s.getModel("textStyle"),c=a.getModel("label.emphasis"),h=c.getModel("textStyle"),p=new r.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:{text:s.get("show")?t.getFormattedLabel(e.dataIndex,"normal")||e.id:"",textFont:l.getFont(),textFill:l.getTextColor(),textPosition:s.get("position")}});p.setStyle(o.defaults({fill:e.getVisual("color")},a.getModel("itemStyle.normal").getItemStyle())),r.setHoverStyle(p,o.extend(e.getModel("itemStyle.emphasis"),{text:c.get("show")?t.getFormattedLabel(e.dataIndex,"emphasis")||e.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:c.get("position")})),n.add(p),u.setItemGraphicEl(e.dataIndex,p),p.dataType="node"}),!this._data&&t.get("animation")&&n.setClipPath(i(n.getBoundingRect(),t,function(){n.removeClipPath()})),this._data=t.getData()}})},function(t,e,n){function i(t,e){return T.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function r(t,e,n,i,r,o,s){a(t,n,r),l(t,e,o,i,s),m(t)}function o(t){$.each(t,function(t){var e=_(t.outEdges,k),n=_(t.inEdges,k),i=Math.max(e,n);t.setLayout({value:i},!0)})}function a(t,e,n){for(var i=t,r=null,o=0,a=0;i.length;){r=[];for(var l=0,c=i.length;c>l;l++){var h=i[l];h.setLayout({x:o},!0),h.setLayout({dx:e},!0);for(var p=0,d=h.outEdges.length;d>p;p++)r.push(h.outEdges[p].node2)}i=r,++o}s(t,o),a=(n-e)/(o-1),u(t,a)}function s(t,e){$.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})}function u(t,e){$.each(t,function(t){var n=t.getLayout().x*e;t.setLayout({x:n},!0)})}function l(t,e,n,i,r){var o=S().key(function(t){return t.getLayout().x}).sortKeys(w).entries(t).map(function(t){return t.values});c(t,o,e,n,i),h(o,i,n);for(var a=1;r>0;r--)a*=.99,p(o,a),h(o,i,n),f(o,a),h(o,i,n)}function c(t,e,n,i,r){var o=[];$.each(e,function(t){var e=t.length,n=0;$.each(t,function(t){n+=t.getLayout().value});var a=(i-(e-1)*r)/n;o.push(a)}),o.sort(function(t,e){return t-e});var a=o[0];$.each(e,function(t){$.each(t,function(t,e){t.setLayout({y:e},!0);var n=t.getLayout().value*a;t.setLayout({dy:n},!0)})}),$.each(n,function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)})}function h(t,e,n){$.each(t,function(t){var i,r,o,a=0,s=t.length;for(t.sort(x),o=0;s>o;o++){if(i=t[o],r=a-i.getLayout().y,r>0){var u=i.getLayout().y+r;i.setLayout({y:u},!0)}a=i.getLayout().y+i.getLayout().dy+e}if(r=a-e-n,r>0){var u=i.getLayout().y-r;for(i.setLayout({y:u},!0),a=i.getLayout().y,o=s-2;o>=0;--o)i=t[o],r=i.getLayout().y+i.getLayout().dy+e-a,r>0&&(u=i.getLayout().y-r,i.setLayout({y:u},!0)),a=i.getLayout().y}})}function p(t,e){$.each(t.slice().reverse(),function(t){$.each(t,function(t){if(t.outEdges.length){var n=_(t.outEdges,d)/_(t.outEdges,k),i=t.getLayout().y+(n-b(t))*e;t.setLayout({y:i},!0)}})})}function d(t){return b(t.node2)*t.getValue()}function f(t,e){$.each(t,function(t){$.each(t,function(t){if(t.inEdges.length){var n=_(t.inEdges,g)/_(t.inEdges,k),i=t.getLayout().y+(n-b(t))*e;t.setLayout({y:i},!0)}})})}function g(t){return b(t.node1)*t.getValue()}function m(t){$.each(t,function(t){t.outEdges.sort(v),t.inEdges.sort(y)}),$.each(t,function(t){var e=0,n=0;$.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),$.each(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}function v(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function y(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function _(t,e){for(var n=0,i=t.length,r=-1;++r<i;){var o=+e.call(t,t[r],r);isNaN(o)||(n+=o)}return n}function b(t){return t.getLayout().y+t.getLayout().dy/2}function x(t,e){return t.getLayout().y-e.getLayout().y}function w(t,e){return e>t?-1:t>e?1:t===e?0:0/0}function k(t){return t.getValue()}var T=n(21),S=n(242),$=n(4);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),a=t.get("nodeGap"),s=i(t,e);t.layoutInfo=s;var u=s.width,l=s.height,c=t.getGraph(),h=c.nodes,p=c.edges;o(h);var d=h.filter(function(t){return 0===t.getLayout().value}),f=0!==d.length?0:t.get("layoutIterations");r(h,p,n,a,u,l,f)})}},function(t,e,n){function i(){function t(e,i){if(i>=n.length)return e;for(var o=-1,a=e.length,s=n[i++],u={},l={};++o<a;){var c=s(e[o]),h=l[c];h?h.push(e[o]):l[c]=[e[o]]}return r.each(l,function(e,n){u[n]=t(e,i)}),u}function e(t,o){if(o>=n.length)return t;var a=[],s=i[o++];return r.each(t,function(t,n){a.push({key:n,values:e(t,o)})}),s?a.sort(function(t,e){return s(t.key,e.key)}):a}var n=[],i=[];return{key:function(t){return n.push(t),this},sortKeys:function(t){return i[n.length-1]=t,this},entries:function(n){return e(t(n,0),0)}}}var r=n(4);t.exports=i},function(t,e,n){var i=n(192);t.exports=function(t){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes;n.sort(function(t,e){return t.getLayout().value-e.getLayout().value});var r=n[0].getLayout().value,o=n[n.length-1].getLayout().value;n.forEach(function(e){var n=new i({type:"color",mappingMethod:"linear",dataExtent:[r,o],visual:t.get("color")}),a=n.mapValueToVisual(e.getLayout().value);e.setVisual("color",a);var s=e.getModel(),u=s.get("itemStyle.normal.color");null!=u&&e.setVisual("color",u)})})}},function(t,e,n){var i=n(1);n(245),n(248),i.registerVisual(n(249)),i.registerLayout(n(250))},function(t,e,n){"use strict";var i=n(4),r=n(28),o=n(246),a=r.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});i.mixin(a,o.seriesModelMixin,!0),t.exports=a},function(t,e,n){"use strict";function i(t){return null==t.value?t:t.value}var r=n(97),o=n(102),a=n(247),s=n(4),u={_baseAxisDim:null,getInitialData:function(t,e){var n,a,s=e.getComponent("xAxis",this.get("xAxisIndex")),u=e.getComponent("yAxis",this.get("yAxisIndex")),l=s.get("type"),c=u.get("type");"category"===l?(t.layout="horizontal",n=s.getCategories(),a=!0):"category"===c?(t.layout="vertical",n=u.getCategories(),a=!0):t.layout=t.layout||"horizontal",this._baseAxisDim="horizontal"===t.layout?"x":"y";var h=t.data,p=this.dimensions=["base"].concat(this.valueDimensions);o(p,h);var d=new r(p,this);return d.initData(h,n?n.slice():null,function(t,e,n,r){var o=i(t);return a?"base"===e?n:o[r-1]:o[r]}),d},coordDimToDataDim:function(t){var e=this.valueDimensions.slice(),n=["base"],i={horizontal:{x:n,y:e},vertical:{x:e,y:n}};return i[this.get("layout")][t]},dataDimToCoordDim:function(t){var e;return s.each(["x","y"],function(n){var i=this.coordDimToDataDim(n);s.indexOf(i,t)>=0&&(e=n)},this),e},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}},l={init:function(){var t=this._whiskerBoxDraw=new a(this.getStyleUpdater());this.group.add(t.group)},render:function(t){this._whiskerBoxDraw.updateData(t.getData())},remove:function(){this._whiskerBoxDraw.remove()}};t.exports={seriesModelMixin:u,viewMixin:l}},function(t,e,n){function i(t,e,n,i){u.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=n,this._createContent(t,e,i),this.updateData(t,e,i),this._seriesModel}function r(t,e,n){return s.map(t,function(t){return t=t.slice(),t[e]=n.initBaseline,t})}function o(t){var e={};return s.each(t,function(t,n){e["ends"+n]=t}),e}function a(t){this.group=new u.Group,this.styleUpdater=t}var s=n(4),u=n(43),l=n(45),c=l.extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var n in e)if(0===n.indexOf("ends")){var i=e[n];t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1])}}}),h=i.prototype;h._createContent=function(t,e,n){var i=t.getItemLayout(e),a="horizontal"===i.chartLayout?1:0,l=0;this.add(new u.Polygon({shape:{points:n?r(i.bodyEnds,a,i):i.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=l++;var h=s.map(i.whiskerEnds,function(t){return n?r(t,a,i):t});this.add(new c({shape:o(h),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=l++},h.updateData=function(t,e,n){var i=this._seriesModel=t.hostModel,r=t.getItemLayout(e),a=u[n?"initProps":"updateProps"];a(this.childAt(this.bodyIndex),{shape:{points:r.bodyEnds}},i,e),a(this.childAt(this.whiskerIndex),{shape:o(r.whiskerEnds)},i,e),this.styleUpdater.call(null,this,t,e)},s.inherits(i,u.Group);var p=a.prototype;p.updateData=function(t){var e=this.group,n=this._data,r=this.styleUpdater;t.diff(n).add(function(n){if(t.hasValue(n)){var o=new i(t,n,r,!0);t.setItemGraphicEl(n,o),e.add(o)}}).update(function(o,a){var s=n.getItemGraphicEl(a);return t.hasValue(o)?(s?s.updateData(t,o):s=new i(t,o,r),e.add(s),void t.setItemGraphicEl(o,s)):void e.remove(s)}).remove(function(t){var i=n.getItemGraphicEl(t);i&&e.remove(i)}).execute(),this._data=t},p.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.exports=a},function(t,e,n){"use strict";function i(t,e,n){var i=e.getItemModel(n),r=i.getModel(l),o=e.getItemVisual(n,"color"),s=r.getItemStyle(["borderColor"]),u=t.childAt(t.whiskerIndex);u.style.set(s),u.style.stroke=o,u.dirty();var h=t.childAt(t.bodyIndex);h.style.set(s),h.style.stroke=o,h.dirty();var p=i.getModel(c).getItemStyle();a.setHoverStyle(t,p)}var r=n(4),o=n(42),a=n(43),s=n(246),u=o.extend({type:"boxplot",getStyleUpdater:function(){return i}});r.mixin(u,s.viewMixin,!0);var l=["itemStyle","normal"],c=["itemStyle","emphasis"];t.exports=u},function(t){var e=["itemStyle","normal","borderColor"];t.exports=function(t){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(i){var r=n[i.seriesIndex%n.length],o=i.getData();o.setVisual({legendSymbol:"roundRect",color:i.get(e)||r}),t.isSeriesFiltered(i)||o.each(function(t){var n=o.getItemModel(t);o.setItemVisual(t,{color:n.get(e,!0)})})})}},function(t,e,n){function i(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var i=t.getBaseAxis(),r=a.indexOf(n,i);0>r&&(r=n.length,n[r]=i,e[r]={axis:i,seriesModels:[]}),e[r].seriesModels.push(t)}),e}function r(t){var e,n,i=t.axis,r=t.seriesModels,o=r.length,s=t.boxWidthList=[],c=t.boxOffsetList=[],h=[];if("category"===i.type)n=i.getBandWidth();else{var p=0;l(r,function(t){p=Math.max(p,t.getData().count())}),e=i.getExtent(),Math.abs(e[1]-e[0])/p}l(r,function(t){var e=t.get("boxWidth");a.isArray(e)||(e=[e,e]),h.push([u(e[0],n)||0,u(e[1],n)||0])});var d=.8*n-2,f=d/o*.3,g=(d-f*(o-1))/o,m=g/2-d/2;l(r,function(t,e){c.push(m),m+=f+g,s.push(Math.min(Math.max(g,h[e][0]),h[e][1]))})}function o(t,e,n){var i=t.coordinateSystem,r=t.getData(),o=t.dimensions,a=t.get("layout"),s=n/2;r.each(o,function(){function t(t){var n=[];n[d]=h,n[f]=t;var r;return isNaN(h)||isNaN(t)?r=[0/0,0/0]:(r=i.dataToPoint(n),r[d]+=e),r}function n(t,e){var n=t.slice(),i=t.slice();n[d]+=s,i[d]-=s,e?_.push(n,i):_.push(i,n)}function u(t){var e=[t.slice(),t.slice()];e[0][d]-=s,e[1][d]+=s,y.push(e)}var l=arguments,c=o.length,h=l[0],p=l[c],d="horizontal"===a?0:1,f=1-d,g=t(l[3]),m=t(l[1]),v=t(l[5]),y=[[m,t(l[2])],[v,t(l[4])]];u(m),u(v),u(g);var _=[];n(y[0][1],0),n(y[1][1],1),r.setItemLayout(p,{chartLayout:a,initBaseline:g[f],median:g,bodyEnds:_,whiskerEnds:y})})}var a=n(4),s=n(7),u=s.parsePercent,l=a.each;t.exports=function(t){var e=i(t);l(e,function(t){var e=t.seriesModels;e.length&&(r(t),l(e,function(e,n){o(e,t.boxOffsetList[n],t.boxWidthList[n])}))})}},function(t,e,n){var i=n(1);n(252),n(253),i.registerPreprocessor(n(254)),i.registerVisual(n(255)),i.registerLayout(n(256))},function(t,e,n){"use strict";var i=n(4),r=n(28),o=n(246),a=n(6),s=a.encodeHTML,u=a.addCommas,l=r.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(t){var e=i.map(this.valueDimensions,function(e){return e+": "+u(this._data.get(e,t))},this);return s(this.name)+"<br />"+e.join("<br />")},brushSelector:function(t,e){return e.rect(t.brushRect)}});i.mixin(l,o.seriesModelMixin,!0),t.exports=l},function(t,e,n){"use strict";function i(t,e,n){var i=e.getItemModel(n),r=i.getModel(l),o=e.getItemVisual(n,"color"),s=e.getItemVisual(n,"borderColor")||o,u=r.getItemStyle(["color","color0","borderColor","borderColor0"]),h=t.childAt(t.whiskerIndex);h.useStyle(u),h.style.stroke=s;var p=t.childAt(t.bodyIndex);p.useStyle(u),p.style.fill=o,p.style.stroke=s;var d=i.getModel(c).getItemStyle();a.setHoverStyle(t,d)}var r=n(4),o=n(42),a=n(43),s=n(246),u=o.extend({type:"candlestick",getStyleUpdater:function(){return i}});r.mixin(u,s.viewMixin,!0);var l=["itemStyle","normal"],c=["itemStyle","emphasis"];t.exports=u},function(t,e,n){var i=n(4);t.exports=function(t){t&&i.isArray(t.series)&&i.each(t.series,function(t){i.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}},function(t){var e=["itemStyle","normal","borderColor"],n=["itemStyle","normal","borderColor0"],i=["itemStyle","normal","color"],r=["itemStyle","normal","color0"];t.exports=function(t){t.eachRawSeriesByType("candlestick",function(o){var a=o.getData();a.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(o)||a.each(function(t){var o=a.getItemModel(t),s=a.getItemLayout(t).sign;a.setItemVisual(t,{color:o.get(s>0?i:r),borderColor:o.get(s>0?e:n)})})})}},function(t){function e(t,e){var o,a=t.getBaseAxis(),s="category"===a.type?a.getBandWidth():(o=a.getExtent(),Math.abs(o[1]-o[0])/e.count());return s/2-2>i?s/2-2:s-i>r?i:Math.max(s-r,n)}var n=2,i=5,r=4;t.exports=function(t){t.eachSeriesByType("candlestick",function(t){var n=t.coordinateSystem,i=t.getData(),r=t.dimensions,o=t.get("layout"),a=e(t,i);i.each(r,function(){function t(t){var e=[];return e[p]=c,e[d]=t,isNaN(c)||isNaN(t)?[0/0,0/0]:n.dataToPoint(e)}function e(t,e){var n=t.slice(),i=t.slice();n[p]+=a/2,i[p]-=a/2,e?S.push(n,i):S.push(i,n)}function s(){var e=t(Math.min(f,g,m,v)),n=t(Math.max(f,g,m,v));return e[p]-=a/2,n[p]-=a/2,{x:e[0],y:e[1],width:d?a:n[0]-e[0],height:d?n[1]-e[1]:a}}var u=arguments,l=r.length,c=u[0],h=u[l],p="horizontal"===o?0:1,d=1-p,f=u[1],g=u[2],m=u[3],v=u[4],y=Math.min(f,g),_=Math.max(f,g),b=t(y),x=t(_),w=t(m),k=t(v),T=[[k,x],[w,b]],S=[];e(x,0),e(b,1),i.setItemLayout(h,{chartLayout:o,sign:f>g?-1:g>f?1:0,initBaseline:f>g?x[d]:b[d],bodyEnds:S,whiskerEnds:T,brushRect:s()})},!0)})}},function(t,e,n){var i=n(4),r=n(1);n(258),n(259),r.registerVisual(i.curry(n(109),"effectScatter","circle",null)),r.registerLayout(i.curry(n(110),"effectScatter"))},function(t,e,n){"use strict";var i=n(101),r=n(28);t.exports=r.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){var n=i(t.data,this,e);return n},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(t,e,n){var i=n(104),r=n(260);n(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new i(r)},render:function(t){var e=t.getData(),n=this._symbolDraw;n.updateData(e),this.group.add(n.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)}})},function(t,e,n){function i(t){return a.isArray(t)||(t=[+t,+t]),t}function r(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})})}function o(t,e){h.call(this);var n=new c(t,e),i=new h;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}var a=n(4),s=n(106),u=n(43),l=n(7),c=n(105),h=u.Group,p=3,d=o.prototype;d.stopEffectAnimation=function(){this.childAt(1).removeAll()},d.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=this.childAt(1),o=0;p>o;o++){var a=s.createSymbol(e,-.5,-.5,1,1,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[1,1]});var u=-o/p*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scale:[t.rippleScale,t.rippleScale]}).delay(u).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),i.add(a)}r(i,t)},d.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;i>o;o++){var a=i[o];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}r(n,t)},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),s=i(t.getItemVisual(e,"symbolSize")),u=t.getItemVisual(e,"color");r.attr("scale",s),r.traverse(function(t){t.attr({fill:u})});var c=o.getShallow("symbolOffset");if(c){var h=r.position;h[0]=l.parsePercent(c[0],s[0]),h[1]=l.parsePercent(c[1],s[1])}r.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var p={};if(p.showEffectOn=n.get("showEffectOn"),p.rippleScale=o.get("rippleEffect.scale"),p.brushType=o.get("rippleEffect.brushType"),p.period=1e3*o.get("rippleEffect.period"),p.effectOffset=e/t.count(),p.z=o.getShallow("z")||0,p.zlevel=o.getShallow("zlevel")||0,p.symbolType=a,p.color=u,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===p.showEffectOn)this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p;else{this._effectCfg=null,this.stopEffectAnimation();var d=this.childAt(0),f=function(){d.trigger("emphasis"),"render"!==p.showEffectOn&&this.startEffectAnimation(p)},g=function(){d.trigger("normal"),"render"!==p.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",f,this).on("mouseout",g,this).on("emphasis",f,this).on("normal",g,this)}this._effectCfg=p},d.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},a.inherits(o,h),t.exports=o},function(t,e,n){n(262),n(263);var i=n(1);i.registerLayout(n(268))},function(t,e,n){"use strict";function i(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),t.data=a.map(e,function(t){var e=[t[0].coord,t[1].coord],n={coords:e};return t[0].name&&(n.fromName=t[0].name),t[1].name&&(n.toName=t[1].name),a.mergeAll([n,t[0],t[1]])}))}var r=n(28),o=n(97),a=n(4),s=n(26),u=r.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(t){i(t),u.superApply(this,"init",arguments)},mergeOption:function(t){i(t),u.superApply(this,"mergeOption",arguments)},getInitialData:function(t){var e=s.get(t.coordinateSystem);if(!e)throw new Error("Unkown coordinate system "+t.coordinateSystem);var n=new o(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,i,r){if(t instanceof Array)return 0/0;n.hasItemOption=!0;var o=t.value;return o?o instanceof Array?o[r]:o:void 0}),n},formatTooltip:function(t){var e=this.getData(),n=e.getItemModel(t),i=n.get("name");if(i)return i;var r=n.get("fromName"),o=n.get("toName");return r+" > "+o},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(t,e,n){var i=n(199),r=n(264),o=n(200),a=n(265),s=n(266),u=n(267);n(1).extendChartView({type:"lines",init:function(){},render:function(t,e,n){var l=t.getData(),c=this._lineDraw,h=t.get("effect.show"),p=t.get("polyline"),d=t.get("large")&&l.count()>=t.get("largeThreshold");h&&d&&console.warn("Large lines not support effect"),(h!==this._hasEffet||p!==this._isPolyline||d!==this._isLarge)&&(c&&c.remove(),c=this._lineDraw=d?new u:new i(p?h?s:a:h?r:o),this._hasEffet=h,this._isPolyline=p,this._isLarge=d);var f=t.get("zlevel"),g=t.get("effect.trailLength"),m=n.getZr();if(m.painter.getLayer(f).clear(!0),null!=this._lastZlevel&&m.configLayer(this._lastZlevel,{motionBlur:!1}),h&&g){var v=!1;e.eachSeries(function(e){e!==t&&e.get("zlevel")===f&&(v=!0)}),v&&console.warn("Lines with trail effect should have an individual zlevel"),m.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})}this.group.add(c.group),c.updateData(l),this._lastZlevel=f},updateLayout:function(t,e,n){this._lineDraw.updateLayout(t);var i=n.getZr();i.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(e,!0)}})},function(t,e,n){function i(t,e,n){r.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}var r=n(43),o=n(200),a=n(4),s=n(106),u=n(10),l=n(50),c=i.prototype;c.createLine=function(t,e,n){return new o(t,e,n)},c._updateEffectSymbol=function(t,e){var n=t.getItemModel(e),i=n.getModel("effect"),r=i.get("symbolSize"),o=i.get("symbol");a.isArray(r)||(r=[r,r]);var u=i.get("color")||t.getItemVisual(e,"color"),l=this.childAt(1);this._symbolType!==o&&(this.remove(l),l=s.createSymbol(o,-.5,-.5,1,1,u),l.z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",u),l.setStyle(i.getItemStyle(["color"])),l.attr("scale",r),l.setColor(u),l.attr("scale",r),this._symbolType=o,this._updateEffectAnimation(t,i,e))},c._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=this,o=t.getItemLayout(n),a=1e3*e.get("period"),s=e.get("loop"),u=e.get("constantSpeed"),l=e.get("delay")||function(e){return e/t.count()*a/3},c="function"==typeof l;if(i.ignore=!0,this.updateAnimationPoints(i,o),u>0&&(a=this.getLineLength(i)/u*1e3),a!==this._period||s!==this._loop){i.stopAnimation();var h=l;c&&(h=l(n)),i.__t>0&&(h=-a*i.__t),i.__t=0;var p=i.animate("",s).when(a,{__t:1}).delay(h).during(function(){r.updateSymbolPosition(i)});s||p.done(function(){r.remove(i)}),p.start()}this._period=a,this._loop=s}},c.getLineLength=function(t){return u.dist(t.__p1,t.__cp1)+u.dist(t.__cp1,t.__p2)},c.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]
},c.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},c.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,o=t.position,a=l.quadraticAt,s=l.quadraticDerivativeAt;o[0]=a(e[0],i[0],n[0],r),o[1]=a(e[1],i[1],n[1],r);var u=s(e[0],i[0],n[0],r),c=s(e[1],i[1],n[1],r);t.rotation=-Math.atan2(c,u)-Math.PI/2,t.ignore=!1},c.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},a.inherits(i,r.Group),t.exports=i},function(t,e,n){function i(t,e,n){r.Group.call(this),this._createPolyline(t,e,n)}var r=n(43),o=n(4),a=i.prototype;a._createPolyline=function(t,e,n){var i=t.getItemLayout(e),o=new r.Polyline({shape:{points:i}});this.add(o),this._updateCommonStl(t,e,n)},a.updateData=function(t,e,n){var i=t.hostModel,o=this.childAt(0),a={shape:{points:t.getItemLayout(e)}};r.updateProps(o,a,i,e),this._updateCommonStl(t,e,n)},a._updateCommonStl=function(t,e,n){var i=this.childAt(0),a=t.getItemModel(e),s=t.getItemVisual(e,"color"),u=n&&n.lineStyle,l=n&&n.hoverLineStyle;(!n||t.hasItemOption)&&(u=a.getModel("lineStyle.normal").getLineStyle(),l=a.getModel("lineStyle.emphasis").getLineStyle()),i.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:s},u)),i.hoverStyle=l,r.setHoverStyle(this)},a.updateLayout=function(t,e){var n=this.childAt(0);n.setShape("points",t.getItemLayout(e))},o.inherits(i,r.Group),t.exports=i},function(t,e,n){function i(t,e,n){a.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}var r=n(265),o=n(4),a=n(264),s=n(10),u=i.prototype;u.createLine=function(t,e,n){return new r(t,e,n)},u.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var o=e[r-1],a=e[r];i+=s.dist(o,a),n.push(i)}if(0!==i){for(var r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},u.getLineLength=function(){return this._length},u.updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o,a=this._lastFrame;if(e<this._lastFramePercent){var u=Math.min(a+1,r-1);for(o=u;o>=0&&!(i[o]<=e);o--);o=Math.min(o,r-2)}else{for(var o=a;r>o&&!(i[o]>e);o++);o=Math.min(o-1,r-2)}s.lerp(t.position,n[o],n[o+1],(e-i[o])/(i[o+1]-i[o])),this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},o.inherits(i,a),t.exports=i},function(t,e,n){function i(){this.group=new r.Group,this._lineEl=new s}var r=n(43),o=n(55),a=n(53),s=r.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(t,e){for(var n=e.segs,i=e.polyline,r=0;r<n.length;r++){var o=n[r];if(i){t.moveTo(o[0][0],o[0][1]);for(var a=1;a<o.length;a++)t.lineTo(o[a][0],o[a][1])}else t.moveTo(o[0][0],o[0][1]),o.length>2?t.quadraticCurveTo(o[2][0],o[2][1],o[1][0],o[1][1]):t.lineTo(o[1][0],o[1][1])}},findDataIndex:function(t,e){for(var n=this.shape,i=n.segs,r=n.polyline,s=Math.max(this.style.lineWidth,1),u=0;u<i.length;u++){var l=i[u];if(r){for(var c=1;c<l.length;c++)if(a.containStroke(l[c-1][0],l[c-1][1],l[c][0],l[c][1],s,t,e))return u}else if(l.length>2){if(o.containStroke(l[0][0],l[0][1],l[2][0],l[2][1],l[1][0],l[1][1],s,t,e))return u}else if(a.containStroke(l[0][0],l[0][1],l[1][0],l[1][1],s,t,e))return u}return-1}}),u=i.prototype;u.updateData=function(t){this.group.removeAll();var e=this._lineEl,n=t.hostModel;e.setShape({segs:t.mapArray(t.getItemLayout),polyline:n.get("polyline")}),e.useStyle(n.getModel("lineStyle.normal").getLineStyle());var i=t.getVisual("color");i&&e.setStyle("stroke",i),e.setStyle("fill"),e.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(e.dataIndex=n)}),this.group.add(e)},u.updateLayout=function(t){var e=t.getData();this._lineEl.setShape({segs:e.mapArray(e.getItemLayout)})},u.remove=function(){this.group.removeAll()},t.exports=i},function(t){t.exports=function(t){t.eachSeriesByType("lines",function(t){var e=t.coordinateSystem,n=t.getData();n.each(function(i){var r=n.getItemModel(i),o=r.option instanceof Array?r.option:r.get("coords");if(!(o instanceof Array&&o.length>0&&o[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(o)+". Lines must have 2d coords array in data item.");var a=[];if(t.get("polyline"))for(var s=0;s<o.length;s++)a.push(e.dataToPoint(o[s]));else{a[0]=e.dataToPoint(o[0]),a[1]=e.dataToPoint(o[1]);var u=r.get("lineStyle.normal.curveness");+u&&(a[2]=[(a[0][0]+a[1][0])/2-(a[0][1]-a[1][1])*u,(a[0][1]+a[1][1])/2-(a[1][0]-a[0][0])*u])}n.setItemLayout(i,a)})})}},function(t,e,n){n(270),n(271)},function(t,e,n){var i=n(28),r=n(101);t.exports=i.extend({type:"series.heatmap",getInitialData:function(t,e){return r(t.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(t,e,n){function i(t,e,n){var i=t[1]-t[0];e=u.map(e,function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}});var r=e.length,o=0;return function(t){for(var i=o;r>i;i++){var a=e[i].interval;if(a[0]<=t&&t<=a[1]){o=i;break}}if(i===r)for(var i=o-1;i>=0;i--){var a=e[i].interval;if(a[0]<=t&&t<=a[1]){o=i;break}}return i>=0&&r>i&&n[i]}}function r(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}function o(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var a=n(43),s=n(272),u=n(4);t.exports=n(1).extendChartView({type:"heatmap",render:function(t,e,n){var i;if(e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(i=e)})}),!i)throw new Error("Heatmap must use with visualMap");this.group.removeAll();var r=t.coordinateSystem;"cartesian2d"===r.type?this._renderOnCartesian(r,t,n):o(r)&&this._renderOnGeo(r,t,i,n)},_renderOnCartesian:function(t,e){var n=t.getAxis("x"),i=t.getAxis("y"),r=this.group;if("category"!==n.type||"category"!==i.type)throw new Error("Heatmap on cartesian must have two category axes");if(!n.onBand||!i.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");var o=n.getBandWidth(),s=i.getBandWidth(),l=e.getData(),c="itemStyle.normal",h="itemStyle.emphasis",p="label.normal",d="label.emphasis",f=e.getModel(c).getItemStyle(["color"]),g=e.getModel(h).getItemStyle(),m=e.getModel("label.normal"),v=e.getModel("label.emphasis");l.each(["x","y","z"],function(n,i,y,_){var b=l.getItemModel(_),x=t.dataToPoint([n,i]);if(!isNaN(y)){var w=new a.Rect({shape:{x:x[0]-o/2,y:x[1]-s/2,width:o,height:s},style:{fill:l.getItemVisual(_,"color"),opacity:l.getItemVisual(_,"opacity")}});l.hasItemOption&&(f=b.getModel(c).getItemStyle(["color"]),g=b.getModel(h).getItemStyle(),m=b.getModel(p),v=b.getModel(d));var k=e.getRawValue(_),T="-";k&&null!=k[2]&&(T=k[2]),m.getShallow("show")&&(a.setText(f,m),f.text=e.getFormattedLabel(_,"normal")||T),v.getShallow("show")&&(a.setText(g,v),g.text=e.getFormattedLabel(_,"emphasis")||T),w.setStyle(f),a.setHoverStyle(w,l.hasItemOption?g:u.extend({},g)),r.add(w),l.setItemGraphicEl(_,w)}})},_renderOnGeo:function(t,e,n,o){var u=n.targetVisuals.inRange,l=n.targetVisuals.outOfRange,c=e.getData(),h=this._hmLayer||this._hmLayer||new s;h.blurSize=e.get("blurSize"),h.pointSize=e.get("pointSize"),h.minOpacity=e.get("minOpacity"),h.maxOpacity=e.get("maxOpacity");var p=t.getViewRect().clone(),d=t.getRoamTransform().transform;p.applyTransform(d);var f=Math.max(p.x,0),g=Math.max(p.y,0),m=Math.min(p.width+p.x,o.getWidth()),v=Math.min(p.height+p.y,o.getHeight()),y=m-f,_=v-g,b=c.mapArray(["lng","lat","value"],function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=f,r[1]-=g,r.push(i),r}),x=n.getExtent(),w="visualMap.continuous"===n.type?r(x,n.option.range):i(x,n.getPieceList(),n.option.selected);h.update(b,y,_,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:l.color.getColorMapper()},w);var k=new a.Image({style:{width:y,height:_,x:f,y:g,image:h.canvas},silent:!0});this.group.add(k)}})},function(t,e,n){function i(){var t=o.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var r=256,o=n(4);i.prototype={update:function(t,e,n,i,o,a){var s=this._getBrush(),u=this._getGradient(t,o,"inRange"),l=this._getGradient(t,o,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,p=h.getContext("2d"),d=t.length;h.width=e,h.height=n;for(var f=0;d>f;++f){var g=t[f],m=g[0],v=g[1],y=g[2],_=i(y);p.globalAlpha=_,p.drawImage(s,m-c,v-c)}for(var b=p.getImageData(0,0,h.width,h.height),x=b.data,w=0,k=x.length,T=this.minOpacity,S=this.maxOpacity,$=S-T;k>w;){var _=x[w+3]/256,C=4*Math.floor(_*(r-1));if(_>0){var A=a(_)?u:l;_>0&&(_=_*$+T),x[w++]=A[C],x[w++]=A[C+1],x[w++]=A[C+2],x[w++]=A[C+3]*_*256}else w+=4}return p.putImageData(b,0,0),h},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=o.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},_getGradient:function(t,e,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),o=[],a=0,s=0;256>s;s++)e[n](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r}},t.exports=i},function(t,e,n){n(274),n(275),n(276);var i=n(1);i.registerProcessor(n(278))},function(t,e,n){"use strict";var i=n(4),r=n(12),o=n(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{}},mergeOption:function(t){o.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=i.map(this.get("data")||[],function(t){return("string"==typeof t||"number"==typeof t)&&(t={name:t}),new r(t,this,this.ecModel)},this);this._data=e;var n=i.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();n=n.concat(e.mapArray(e.getName))}}),this._availableNames=n},getData:function(){return this._data},select:function(t){var e=this.option.selected,n=this.get("selectedMode");if("single"===n){var r=this._data;i.each(r,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;t in e||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(t in e&&!e[t])&&i.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});t.exports=o},function(t,e,n){function i(t,e,n){var i,r={},a="toggleSelected"===t;return n.eachComponent("legend",function(n){a&&null!=i?n[i?"select":"unSelect"](e.name):(n[t](e.name),i=n.isSelected(e.name));var s=n.getData();o.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);r[e]=e in r?r[e]&&i:i}})}),{name:e.name,selected:r}}var r=n(1),o=n(4);r.registerAction("legendToggleSelect","legendselectchanged",o.curry(i,"toggleSelected")),r.registerAction("legendSelect","legendselected",o.curry(i,"select")),r.registerAction("legendUnSelect","legendunselected",o.curry(i,"unSelect"))},function(t,e,n){function i(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function r(t,e,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||t.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function o(t,e,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||t.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:t.name,name:e})}var a=n(4),s=n(106),u=n(43),l=n(277),c=a.curry;t.exports=n(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(t,e,n){var s=this.group;if(s.removeAll(),t.get("show")){var h=t.get("selectedMode"),p=t.get("align");"auto"===p&&(p="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var d={};a.each(t.getData(),function(a){var l=a.get("name");if(""===l||"\n"===l)return void s.add(new u.Group({newline:!0}));var f=e.getSeriesByName(l)[0];if(!d[l]){if(f){var g=f.getData(),m=g.getVisual("color");"function"==typeof m&&(m=m(f.getDataParams(0)));var v=g.getVisual("legendSymbol")||"roundRect",y=g.getVisual("symbol"),_=this._createItem(l,a,t,v,y,p,m,h);_.on("click",c(i,l,n)).on("mouseover",c(r,f,"",n)).on("mouseout",c(o,f,"",n)),d[l]=!0}else e.eachRawSeries(function(e){if(!d[l]&&e.legendDataProvider){var s=e.legendDataProvider(),u=s.indexOfName(l);if(0>u)return;var f=s.getItemVisual(u,"color"),g="roundRect",m=this._createItem(l,a,t,g,null,p,f,h);m.on("click",c(i,l,n)).on("mouseover",c(r,e,l,n)).on("mouseout",c(o,e,l,n)),d[l]=!0}},this);d[l]||console.warn(l+" series not exists. Legend data should be same with series name or data name.")}},this),l.layout(s,t,n),l.addBackground(s,t)}},_createItem:function(t,e,n,i,r,o,l,c){var h=n.get("itemWidth"),p=n.get("itemHeight"),d=n.get("inactiveColor"),f=n.isSelected(t),g=new u.Group,m=e.getModel("textStyle"),v=e.get("icon"),y=e.getModel("tooltip");if(i=v||i,g.add(s.createSymbol(i,0,0,h,p,f?l:d)),!v&&r&&(r!==i||"none"==r)){var _=.8*p;"none"===r&&(r="circle"),g.add(s.createSymbol(r,(h-_)/2,(p-_)/2,_,_,f?l:d))}var b="left"===o?h+5:-5,x=o,w=n.get("formatter"),k=t;"string"==typeof w&&w?k=w.replace("{name}",t):"function"==typeof w&&(k=w(t));var T=new u.Text({style:{text:k,x:b,y:p/2,fill:f?m.getTextColor():d,textFont:m.getFont(),textAlign:x,textVerticalAlign:"middle"}});g.add(T);var S=new u.Rect({shape:g.getBoundingRect(),invisible:!0,tooltip:y.get("show")?a.extend({content:t,formatter:function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},y.option):null});return g.add(S),g.eachChild(function(t){t.silent=!0}),S.silent=!c,this.group.add(g),u.setHoverStyle(g),g}})},function(t,e,n){function i(t,e,n){r.positionGroup(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},e.get("padding"))}var r=n(21),o=n(6),a=n(43);t.exports={layout:function(t,e,n){var o=r.getLayoutRect(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},e.get("padding"));r.box(e.get("orient"),t,e.get("itemGap"),o.width,o.height),i(t,e,n)},addBackground:function(t,e){var n=o.normalizeCssArray(e.get("padding")),i=t.getBoundingRect(),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");var s=new a.Rect({shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},style:r,silent:!0,z2:-1});a.subPixelOptimizeRect(s),t.add(s)}}},function(t){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}},function(t,e,n){n(280),n(281),n(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),n(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(t,e,n){n(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(t,e,n){function i(t,e){if(!t||!e)return!1;var n=g.round;return n(t[0])===n(e[0])&&n(t[1])===n(e[1])}function r(t,e,n,i){return{x1:t,y1:e,x2:n,y2:i}}function o(t,e,n,i){return{x:t,y:e,width:n,height:i}}function a(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}function s(t,e,n,i,r){var o=n.clientWidth,a=n.clientHeight,s=20;return t+o+s>i?t-=o+s:t+=s,e+a+s>r?e-=a+s:e+=s,[t,e]}function u(t,e,n){var i=n.clientWidth,r=n.clientHeight,o=5,a=0,s=0,u=e.width,l=e.height;switch(t){case"inside":a=e.x+u/2-i/2,s=e.y+l/2-r/2;break;case"top":a=e.x+u/2-i/2,s=e.y-r-o;break;case"bottom":a=e.x+u/2-i/2,s=e.y+l+o;break;case"left":a=e.x-i-o,s=e.y+l/2-r/2;break;case"right":a=e.x+u+o,s=e.y+l/2-r/2}return[a,s]}function l(t,e,n,i,r,o,a){var l=a.getWidth(),c=a.getHeight(),h=o&&o.getBoundingRect().clone();if(o&&h.applyTransform(o.transform),"function"==typeof t&&(t=t([e,n],r,i.el,h)),d.isArray(t))e=m(t[0],l),n=m(t[1],c);else if("string"==typeof t&&o){var p=u(t,h,i.el);e=p[0],n=p[1]}else{var p=s(e,n,i.el,l,c);e=p[0],n=p[1]}i.moveTo(e,n)}function c(t){var e=t.coordinateSystem,n=t.get("tooltip.trigger",!0);return!(!e||"cartesian2d"!==e.type&&"polar"!==e.type&&"singleAxis"!==e.type||"item"===n)}var h=n(282),p=n(43),d=n(4),f=n(6),g=n(7),m=g.parsePercent,v=n(2),y=n(12);n(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(t,e){if(!v.node){var n=new h(e.getDom(),e);this._tooltipContent=n,e.on("showTip",this._manuallyShowTip,this),e.on("hideTip",this._manuallyHideTip,this)}},render:function(t,e,n){if(!v.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastHover={};var i=this._tooltipContent;i.update(),i.enterable=t.get("enterable"),this._alwaysShowContent=t.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(t,e);var r=this._crossText;if(r&&this.group.add(r),null!=this._lastX&&null!=this._lastY){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){o._manuallyShowTip({x:o._lastX,y:o._lastY})})}var a=this._api.getZr();a.off("click",this._tryShow),a.off("mousemove",this._mousemove),a.off("mouseout",this._hide),a.off("globalout",this._hide),"click"===t.get("triggerOn")?a.on("click",this._tryShow,this):(a.on("mousemove",this._mousemove,this),a.on("mouseout",this._hide,this),a.on("globalout",this._hide,this))}},_mousemove:function(t){var e=this._tooltipModel.get("showDelay"),n=this;clearTimeout(this._showTimeout),e>0?this._showTimeout=setTimeout(function(){n._tryShow(t)},e):this._tryShow(t)},_manuallyShowTip:function(t){if(t.from!==this.uid){var e=this._ecModel,n=t.seriesIndex,i=t.dataIndex,r=e.getSeriesByIndex(n),o=this._api;if(null==t.x||null==t.y){if(r||e.eachSeries(function(t){c(t)&&!r&&(r=t)}),r){var a=r.getData();null==i&&(i=a.indexOfName(t.name));var s,u,l=a.getItemGraphicEl(i),h=r.coordinateSystem;if(h&&h.dataToPoint){var p=h.dataToPoint(a.getValues(d.map(h.dimensions,function(t){return r.coordDimToDataDim(t)[0]}),i,!0));s=p&&p[0],u=p&&p[1]}else if(l){var f=l.getBoundingRect().clone();f.applyTransform(l.transform),s=f.x+f.width/2,u=f.y+f.height/2}null!=s&&null!=u&&this._tryShow({offsetX:s,offsetY:u,target:l,event:{}})}}else{var l=o.getZr().handler.findHover(t.x,t.y);this._tryShow({offsetX:t.x,offsetY:t.y,target:l,event:{}})}}},_manuallyHideTip:function(t){t.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(t,e){var n={};return e.eachSeries(function(t){if(c(t)){var e,i,r=t.coordinateSystem;"cartesian2d"===r.type?(e=r.getBaseAxis(),i=e.dim+e.index):"singleAxis"===r.type?(e=r.getAxis(),i=e.dim+e.type):(e=r.getBaseAxis(),i=e.dim+r.name),n[i]=n[i]||{coordSys:[],series:[]},n[i].coordSys.push(r),n[i].series.push(t)}},this),n},_tryShow:function(t){var e=t.target,n=this._tooltipModel,i=n.get("trigger"),r=this._ecModel,o=this._api;if(n)if(this._lastX=t.offsetX,this._lastY=t.offsetY,e&&null!=e.dataIndex){var a=e.dataModel||r.getSeriesByIndex(e.seriesIndex),s=e.dataIndex,u=a.getData().getItemModel(s);"axis"===(u.get("tooltip.trigger")||i)?this._showAxisTooltip(n,r,t):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(a,s,e.dataType,t)),o.dispatchAction({type:"showTip",from:this.uid,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex})}else if(e&&e.tooltip){var l=e.tooltip;if("string"==typeof l){var c=l;l={content:c,formatter:c}}var h=new y(l,n),p=h.get("content"),d=Math.random();this._showTooltipContent(h,p,h.get("formatterParams")||{},d,t.offsetX,t.offsetY,e,o)}else"item"===i?this._hide():this._showAxisTooltip(n,r,t),"cross"===n.get("axisPointer.type")&&o.dispatchAction({type:"showTip",from:this.uid,x:t.offsetX,y:t.offsetY})},_showAxisTooltip:function(t,e,n){var r=t.getModel("axisPointer"),o=r.get("type");if("cross"===o){var a=n.target;if(a&&null!=a.dataIndex){var s=e.getSeriesByIndex(a.seriesIndex),u=a.dataIndex;this._showItemTooltipContent(s,u,a.dataType,n)}}this._showAxisPointer();var l=!0;d.each(this._seriesGroupByAxis,function(t){var e=t.coordSys,a=e[0],s=[n.offsetX,n.offsetY];if(!a.containPoint(s))return void this._hideAxisPointer(a.name);l=!1;var u=a.dimensions,c=a.pointToData(s,!0);s=a.dataToPoint(c);var h=a.getBaseAxis(),p=r.get("axis");"auto"===p&&(p=h.dim);var f=!1,g=this._lastHover;if("cross"===o)i(g.data,c)&&(f=!0),g.data=c;else{var m=d.indexOf(u,p);g.data===c[m]&&(f=!0),g.data=c[m]}"cartesian2d"!==a.type||f?"polar"!==a.type||f?"singleAxis"!==a.type||f||this._showSinglePointer(r,a,p,s):this._showPolarPointer(r,a,p,s):this._showCartesianPointer(r,a,p,s),"cross"!==o&&this._dispatchAndShowSeriesTooltipContent(a,t.series,s,c,f)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),l&&this._hide()},_showCartesianPointer:function(t,e,n,i){function a(n,i,o){var a="x"===n?r(i[0],o[0],i[0],o[1]):r(o[0],i[1],o[1],i[1]),s=u._getPointerElement(e,t,n,a);p.subPixelOptimizeLine({shape:a,style:s.style}),h?p.updateProps(s,{shape:a},t):s.attr({shape:a})}function s(n,i,r){var a=e.getAxis(n),s=a.getBandWidth(),l=r[1]-r[0],c="x"===n?o(i[0]-s/2,r[0],s,l):o(r[0],i[1]-s/2,l,s),d=u._getPointerElement(e,t,n,c);h?p.updateProps(d,{shape:c},t):d.attr({shape:c})}var u=this,l=t.get("type"),c=e.getBaseAxis(),h="cross"!==l&&"category"===c.type&&c.getBandWidth()>20;if("cross"===l)a("x",i,e.getAxis("y").getGlobalExtent()),a("y",i,e.getAxis("x").getGlobalExtent()),this._updateCrossText(e,i,t);else{var d=e.getAxis("x"===n?"y":"x"),f=d.getGlobalExtent();"cartesian2d"===e.type&&("line"===l?a:s)(n,i,f)}},_showSinglePointer:function(t,e,n,i){function o(n,i,o){var s=e.getAxis(),l=s.orient,c="horizontal"===l?r(i[0],o[0],i[0],o[1]):r(o[0],i[1],o[1],i[1]),h=a._getPointerElement(e,t,n,c);u?p.updateProps(h,{shape:c},t):h.attr({shape:c})}var a=this,s=t.get("type"),u="cross"!==s&&"category"===e.getBaseAxis().type,l=e.getRect(),c=[l.y,l.y+l.height];o(n,i,c)},_showPolarPointer:function(t,e,n,i){function o(n,i,o){var a,s=e.pointToCoord(i);if("angle"===n){var l=e.coordToPoint([o[0],s[1]]),c=e.coordToPoint([o[1],s[1]]);a=r(l[0],l[1],c[0],c[1])}else a={cx:e.cx,cy:e.cy,r:s[0]};var h=u._getPointerElement(e,t,n,a);d?p.updateProps(h,{shape:a},t):h.attr({shape:a})}function s(n,i,r){var o,s=e.getAxis(n),l=s.getBandWidth(),c=e.pointToCoord(i),h=Math.PI/180;o="angle"===n?a(e.cx,e.cy,r[0],r[1],(-c[1]-l/2)*h,(-c[1]+l/2)*h):a(e.cx,e.cy,c[0]-l/2,c[0]+l/2,0,2*Math.PI);var f=u._getPointerElement(e,t,n,o);d?p.updateProps(f,{shape:o},t):f.attr({shape:o})}var u=this,l=t.get("type"),c=e.getAngleAxis(),h=e.getRadiusAxis(),d="cross"!==l&&"category"===e.getBaseAxis().type;if("cross"===l)o("angle",i,h.getExtent()),o("radius",i,c.getExtent()),this._updateCrossText(e,i,t);else{var f=e.getAxis("radius"===n?"angle":"radius"),g=f.getExtent();("line"===l?o:s)(n,i,g)}},_updateCrossText:function(t,e,n){var i=n.getModel("crossStyle"),r=i.getModel("textStyle"),o=this._tooltipModel,a=this._crossText;a||(a=this._crossText=new p.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(a));var s=t.pointToData(e),u=t.dimensions;s=d.map(s,function(e,n){var i=t.getAxis(u[n]);return e="category"===i.type||"time"===i.type?i.scale.getLabel(e):f.addCommas(e.toFixed(i.getPixelPrecision()))}),a.setStyle({fill:r.getTextColor()||i.get("color"),textFont:r.getFont(),text:s.join(", "),x:e[0]+5,y:e[1]-5}),a.z=o.get("z"),a.zlevel=o.get("zlevel")},_getPointerElement:function(t,e,n,i){var r=this._tooltipModel,o=r.get("z"),a=r.get("zlevel"),s=this._axisPointers,u=t.name;if(s[u]=s[u]||{},s[u][n])return s[u][n];var l=e.get("type"),c=e.getModel(l+"Style"),h="shadow"===l,d=c[h?"getAreaStyle":"getLineStyle"](),f="polar"===t.type?h?"Sector":"radius"===n?"Circle":"Line":h?"Rect":"Line";h?d.stroke=null:d.fill=null;var g=s[u][n]=new p[f]({style:d,z:o,zlevel:a,silent:!0,shape:i});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(t,e,n,i,r){var o=this._tooltipModel,a=t.getBaseAxis(),s="x"===a.dim||"radius"===a.dim?0:1,u=d.map(e,function(t){return{seriesIndex:t.seriesIndex,dataIndex:t.getAxisTooltipDataIndex?t.getAxisTooltipDataIndex(t.coordDimToDataDim(a.dim),i,a):t.getData().indexOfNearest(t.coordDimToDataDim(a.dim)[0],i[s],!1,"category"===a.type?.5:null)}}),c=this._lastHover,h=this._api;if(c.payloadBatch&&!r&&h.dispatchAction({type:"downplay",batch:c.payloadBatch}),r||(h.dispatchAction({type:"highlight",batch:u}),c.payloadBatch=u),h.dispatchAction({type:"showTip",dataIndex:u[0].dataIndex,seriesIndex:u[0].seriesIndex,from:this.uid}),a&&o.get("showContent")&&o.get("show")){var p=d.map(e,function(t,e){return t.getDataParams(u[e].dataIndex)});if(r)l(o.get("position"),n[0],n[1],this._tooltipContent,p,null,h);else{var f=u[0].dataIndex,g="time"===a.type?a.scale.getLabel(i[s]):e[0].getData().getName(f),m=(g?g+"<br />":"")+d.map(e,function(t,e){return t.formatTooltip(u[e].dataIndex,!0)}).join("<br />"),v="axis_"+t.name+"_"+f;this._showTooltipContent(o,m,p,v,n[0],n[1],null,h)}}},_showItemTooltipContent:function(t,e,n,i){var r=this._api,o=t.getData(n),a=o.getItemModel(e),s=a.get("tooltip",!0);if("string"==typeof s){var u=s;s={formatter:u}}var l=this._tooltipModel,c=t.getModel("tooltip",l),h=new y(s,c,c.ecModel),p=t.getDataParams(e,n),d=t.formatTooltip(e,!1,n),f="item_"+t.name+"_"+e;this._showTooltipContent(h,d,p,f,i.offsetX,i.offsetY,i.target,r)},_showTooltipContent:function(t,e,n,i,r,o,a,s){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,c=t.get("formatter"),h=t.get("position"),p=e;if(c)if("string"==typeof c)p=f.formatTpl(c,n);else if("function"==typeof c){var d=this,g=i,m=function(t,e){t===d._ticket&&(u.setContent(e),l(h,r,o,u,n,a,s))};d._ticket=g,p=c(n,g,m)}u.show(t),u.setContent(p),l(h,r,o,u,n,a,s)}},_showAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&d.each(e,function(t){t.show()})}else this.group.eachChild(function(t){t.show()}),this.group.show()},_resetLastHover:function(){var t=this._lastHover;t.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:t.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&d.each(e,function(t){t.hide()})}else this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(t,e){if(!v.node){var n=e.getZr();this._tooltipContent.hide(),n.off("click",this._tryShow),n.off("mousemove",this._mousemove),n.off("mouseout",this._hide),n.off("globalout",this._hide),e.off("showTip",this._manuallyShowTip),e.off("hideTip",this._manuallyHideTip)}}})},function(t,e,n){function i(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+t+"s "+e+",top "+t+"s "+e;return u.map(g,function(t){return t+"transition:"+n}).join(";")}function r(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();return i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),p(["decoration","align"],function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)}),e.join(";")}function o(t){t=t;var e=[],n=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.getModel("textStyle"),s=t.get("padding");return n&&e.push(i(n)),o&&(f.canvasSupported?e.push("background-Color:"+o):(e.push("background-Color:#"+l.toHex(o)),e.push("filter:alpha(opacity=70)"))),p(["width","color","radius"],function(n){var i="border-"+n,r=d(i),o=t.get(r);null!=o&&e.push(i+":"+o+("color"===n?"":"px"))}),e.push(r(a)),null!=s&&e.push("padding:"+h.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";"}function a(t,e){var n=document.createElement("div"),i=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r.enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(e){if(!r.enterable){var n=i.handler;c.normalizeEvent(t,e),n.dispatch("mousemove",e)}},n.onmouseleave=function(){r.enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1},s(n,t)}function s(t,e){function n(t){i(t.target)&&t.preventDefault()}function i(n){for(;n&&n!==e;){if(n===t)return!0;n=n.parentNode}}c.addEventListener(e,"touchstart",n),c.addEventListener(e,"touchmove",n),c.addEventListener(e,"touchend",n)}var u=n(4),l=n(39),c=n(87),h=n(6),p=u.each,d=h.toCamelCase,f=n(2),g=["","-webkit-","-moz-","-o-"],m="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";a.prototype={constructor:a,enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=m+o(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){var e=this.el;e.innerHTML=t,e.style.display=t?"block":"none"},moveTo:function(t,e){var n=this.el.style;n.left=t+"px",n.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this.enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(u.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}},t.exports=a},function(t,e,n){"use strict";n(284),n(290),n(292),n(1).extendComponentView({type:"polar"})},function(t,e,n){function i(t,e){var n=t.get("center"),i=t.get("radius"),r=e.getWidth(),o=e.getHeight(),a=s.parsePercent;this.cx=a(n[0],r),this.cy=a(n[1],o);var u=this.getRadiusAxis(),l=Math.min(r,o)/2;u.setExtent(0,a(i,l))}function r(t){var e=this,n=e.getAngleAxis(),i=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===e){var r=t.getData();i.scale.unionExtent(r.getDataExtent("radius","category"!==i.type)),n.scale.unionExtent(r.getDataExtent("angle","category"!==n.type))}}),c(n,n.model),c(i,i.model),"category"===n.type&&!n.onBand){var r=n.getExtent(),o=360/n.scale.count();n.inverse?r[1]+=o:r[1]-=o,n.setExtent(r[0],r[1])}}function o(t,e){if(t.type=e.get("type"),t.scale=l.createScaleByModel(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,"angleAxis"===e.mainType){var n=e.get("startAngle");t.inverse=e.get("inverse")^e.get("clockwise"),t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var a=n(285),s=n(7),u=n(4),l=n(114),c=l.niceScaleExtent;n(288);var h={dimensions:a.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,s){var u=new a(s);u.resize=i,u.update=r;var l=u.getRadiusAxis(),c=u.getAngleAxis(),h=t.findAxisModel("radiusAxis"),p=t.findAxisModel("angleAxis");o(l,h),o(c,p),u.resize(t,e),n.push(u),t.coordinateSystem=u}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];
if(!n)throw new Error('Polar "'+u.retrieve(e.get("polarIndex"),e.get("polarId"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}}),n}};n(26).register("polar",h)},function(t,e,n){"use strict";var i=n(286),r=n(287),o=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new i,this._angleAxis=new r};o.prototype={constructor:o,type:"polar",dimensions:["radius","angle"],containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxesByScale:function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(t){return t.mapArray(this.dimensions,function(t,e){return this.dataToPoint([t,e])},this)},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var u=Math.atan2(-n,e)/Math.PI*180,l=o>u?1:-1;o>u||u>a;)u+=360*l;return[s,u]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI,i=Math.cos(n)*e+this.cx,r=-Math.sin(n)*e+this.cy;return[i,r]}},t.exports=o},function(t,e,n){"use strict";function i(t,e){o.call(this,"radius",t,e),this.type="category"}var r=n(4),o=n(123);i.prototype={constructor:i,dataToRadius:o.prototype.dataToCoord,radiusToData:o.prototype.coordToData},r.inherits(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e){e=e||[0,360],o.call(this,"angle",t,e),this.type="category"}var r=n(4),o=n(123);i.prototype={constructor:i,dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData},r.inherits(i,o),t.exports=i},function(t,e,n){"use strict";n(289),n(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e,n=this.ecModel;return n.eachComponent(t,function(t){var i=n.queryComponents({mainType:"polar",index:t.getShallow("polarIndex"),id:t.getShallow("polarId")})[0];i===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(t,e,n){"use strict";function i(t,e){return e.type||(e.data?"category":"value")}var r=n(4),o=n(19),a=n(127),s=o.extend({type:"polarAxis",axis:null});r.merge(s.prototype,n(129));var u={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};a("angle",s,i,u.angle),a("radius",s,i,u.radius)},function(t,e,n){"use strict";n(284),n(291)},function(t,e,n){"use strict";function i(t,e,n,i){var r=t.coordToPoint([e,i]),o=t.coordToPoint([n,i]);return{x1:r[0],y1:r[1],x2:o[0],y2:o[1]}}var r=n(4),o=n(43),a=n(12),s=["axisLine","axisLabel","axisTick","splitLine","splitArea"];n(1).extendComponentView({type:"angleAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=e.getComponent("polar",t.get("polarIndex")),i=t.axis,o=n.coordinateSystem,a=o.getRadiusAxis().getExtent(),u=i.getTicksCoords();"category"!==i.type&&u.pop(),r.each(s,function(e){t.get(e+".show")&&this["_"+e](t,o,u,a)},this)}},_axisLine:function(t,e,n,i){var r=t.getModel("axisLine.lineStyle"),a=new o.Circle({shape:{cx:e.cx,cy:e.cy,r:i[1]},style:r.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,n,a){var s=t.getModel("axisTick"),u=(s.get("inside")?-1:1)*s.get("length"),l=r.map(n,function(t){return new o.Line({shape:i(e,a[1],a[1]+u,t)})});this.group.add(o.mergePath(l,{style:r.defaults(s.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,n,i){for(var r=t.axis,s=t.get("data"),u=t.getModel("axisLabel"),l=u.getModel("textStyle"),c=t.getFormattedLabels(),h=u.get("margin"),p=r.getLabelsCoords(),d=0;d<n.length;d++){var f=i[1],g=e.coordToPoint([f+h,p[d]]),m=e.cx,v=e.cy,y=Math.abs(g[0]-m)/f<.3?"center":g[0]>m?"left":"right",_=Math.abs(g[1]-v)/f<.3?"middle":g[1]>v?"top":"bottom",b=l;s&&s[d]&&s[d].textStyle&&(b=new a(s[d].textStyle,l)),this.group.add(new o.Text({style:{x:g[0],y:g[1],fill:b.getTextColor()||t.get("axisLine.lineStyle.color"),text:c[d],textAlign:y,textVerticalAlign:_,textFont:b.getFont()},silent:!0}))}},_splitLine:function(t,e,n,a){var s=t.getModel("splitLine"),u=s.getModel("lineStyle"),l=u.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],p=0;p<n.length;p++){var d=c++%l.length;h[d]=h[d]||[],h[d].push(new o.Line({shape:i(e,a[0],a[1],n[p])}))}for(var p=0;p<h.length;p++)this.group.add(o.mergePath(h[p],{style:r.defaults({stroke:l[p%l.length]},u.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,i){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=Math.PI/180,p=-n[0]*h,d=Math.min(i[0],i[1]),f=Math.max(i[0],i[1]),g=t.get("clockwise"),m=1;m<n.length;m++){var v=l++%u.length;c[v]=c[v]||[],c[v].push(new o.Sector({shape:{cx:e.cx,cy:e.cy,r0:d,r:f,startAngle:p,endAngle:-n[m]*h,clockwise:g},silent:!0})),p=-n[m]*h}for(var m=0;m<c.length;m++)this.group.add(o.mergePath(c[m],{style:r.defaults({fill:u[m%u.length]},s.getAreaStyle()),silent:!0}))}})},function(t,e,n){n(284),n(293)},function(t,e,n){"use strict";function i(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:e.getModel("axisLabel").get("rotate"),z2:1}}var r=n(4),o=n(43),a=n(132),s=["axisLine","axisLabel","axisTick","axisName"],u=["splitLine","splitArea"];n(1).extendComponentView({type:"radiusAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=e.getComponent("polar",t.get("polarIndex")),o=n.coordinateSystem.getAngleAxis(),l=t.axis,c=n.coordinateSystem,h=l.getTicksCoords(),p=o.getExtent()[0],d=l.getExtent(),f=i(c,t,p),g=new a(t,f);r.each(s,g.add,g),this.group.add(g.getGroup()),r.each(u,function(e){t.get(e+".show")&&this["_"+e](t,c,p,d,h)},this)}},_splitLine:function(t,e,n,i,a){var s=t.getModel("splitLine"),u=s.getModel("lineStyle"),l=u.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],p=0;p<a.length;p++){var d=c++%l.length;h[d]=h[d]||[],h[d].push(new o.Circle({shape:{cx:e.cx,cy:e.cy,r:a[p]},silent:!0}))}for(var p=0;p<h.length;p++)this.group.add(o.mergePath(h[p],{style:r.defaults({stroke:l[p%l.length],fill:null},u.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,i,a){var s=t.getModel("splitArea"),u=s.getModel("areaStyle"),l=u.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],p=a[0],d=1;d<a.length;d++){var f=c++%l.length;h[f]=h[f]||[],h[f].push(new o.Sector({shape:{cx:e.cx,cy:e.cy,r0:p,r:a[d],startAngle:0,endAngle:2*Math.PI},silent:!0})),p=a[d]}for(var d=0;d<h.length;d++)this.group.add(o.mergePath(h[d],{style:r.defaults({fill:l[d%l.length]},u.getAreaStyle()),silent:!0}))}})},function(t,e,n){function i(t,e){e.update="updateView",r.registerAction(e,function(e,n){var i={};return n.eachComponent({mainType:"geo",query:e},function(n){n[t](e.name);var r=n.coordinateSystem;o.each(r.regions,function(t){i[t.name]=n.isSelected(t.name)||!1})}),{selected:i,name:e.name}})}n(295),n(163),n(296),n(176);var r=n(1),o=n(4);i("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),i("select",{type:"geoSelect",event:"geoselected"}),i("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(t,e,n){"use strict";var i=n(5),r=n(19),o=n(12),a=n(4),s=n(140),u=n(163),l=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){r.prototype.init.apply(this,arguments),i.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var t=this.option,e=this;t.regions=u.getFilledRegions(t.regions,t.map),this._optionModelMap=a.reduce(t.regions||[],function(t,n){return n.name&&(t[n.name]=new o(n,e)),t},{}),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap[t]},getFormattedLabel:function(t,e){var n=this.get("label."+e+".formatter"),i={name:t};return"function"==typeof n?(i.status=e,n(i)):"string"==typeof n?n.replace("{a}",i.seriesName):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});a.mixin(l,s),t.exports=l},function(t,e,n){"use strict";var i=n(173);t.exports=n(1).extendComponentView({type:"geo",init:function(t,e){var n=new i(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var r=this._mapDraw;t.get("show")?r.draw(t,e,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}}})},function(t,e,n){n(298),n(301),n(302);var i=n(1);i.extendComponentView({type:"single"})},function(t,e,n){function i(t,e){var n=[];return t.eachComponent("singleAxis",function(i,o){var a=new r(i,t,e);a.name="single_"+o,a.resize(i,e),i.coordinateSystem=a,n.push(a)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}var r=n(299);n(26).register("single",{create:i,dimensions:r.prototype.dimensions})},function(t,e,n){function i(t,e,n){this.dimension="x",this.dimensions=["x"],this._axis=null,this._rect,this._init(t,e,n),this._model=t}var r=n(300),o=n(114),a=n(21);i.prototype={type:"singleAxis",constructor:i,_init:function(t){var e=this.dimension,n=new r(e,o.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),i="category"===n.type;n.onBand=i&&t.get("boundaryGap"),n.inverse=t.get("inverse"),n.orient=t.get("orient"),t.axis=n,n.model=t,this._axis=n},update:function(t){this._updateAxisFromSeries(t)},_updateAxisFromSeries:function(t){t.eachSeries(function(t){var e=t.getData(),n=this.dimension;this._axis.scale.unionExtent(e.getDataExtent(t.coordDimToDataDim(n))),o.niceScaleExtent(this._axis,this._axis.model)},this)},resize:function(t,e){this._rect=a.getLayoutRect({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},containPoint:function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return"horizontal"===i?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i}},t.exports=i},function(t,e,n){var i=n(4),r=n(123),o=n(114),a=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom",this.orient=null,this._labelInterval=null};a.prototype={constructor:a,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getLabelInterval:function(){var t=this._labelInterval;if(!t){var e=this.model,n=e.getModel("axisLabel"),r=n.get("interval");if("category"!==this.type||"auto"!==r)return t=this._labelInterval="auto"===r?0:r;t=this._labelInterval=o.getAxisLabelInterval(i.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(),n.getModel("textStyle").getFont(),this.isHorizontal())}return t},toGlobalCoord:null,toLocalCoord:null},i.inherits(a,r),t.exports=a},function(t,e,n){function i(t){var e=t.coordinateSystem,n=t.axis,i={},r=n.position,o=n.orient,a=e.getRect(),s=[a.x,a.x+a.width,a.y,a.y+a.height],u={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};i.position=["vertical"===o?u.vertical[r]:s[0],"horizontal"===o?u.horizontal[r]:s[3]];var l={horizontal:0,vertical:1};i.rotation=Math.PI/2*l[o];var c={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=c[r],t.getModel("axisTick").get("inside")&&(i.tickDirection=-i.tickDirection),t.getModel("axisLabel").get("inside")&&(i.labelDirection=-i.labelDirection);var h=t.getModel("axisLabel").get("rotate");return i.labelRotation="top"===r?-h:h,i.labelInterval=n.getLabelInterval(),i.z2=1,i}var r=n(132),o=n(4),a=n(43),s=r.getInterval,u=r.ifIgnoreOnTick,l=["axisLine","axisLabel","axisTick","axisName"],c="splitLine",h=n(1).extendComponentView({type:"singleAxis",render:function(t){var e=this.group;e.removeAll();var n=i(t),a=new r(t,n);o.each(l,a.add,a),e.add(a.getGroup()),t.get(c+".show")&&this["_"+c](t,n.labelInterval)},_splitLine:function(t,e){var n=t.axis,i=t.getModel("splitLine"),r=i.getModel("lineStyle"),o=r.get("width"),l=r.get("color"),c=s(i,e);l=l instanceof Array?l:[l];for(var h=t.coordinateSystem.getRect(),p=n.isHorizontal(),d=[],f=0,g=n.getTicksCoords(),m=[],v=[],y=0;y<g.length;++y)if(!u(n,y,c)){var _=n.toGlobalCoord(g[y]);p?(m[0]=_,m[1]=h.y,v[0]=_,v[1]=h.y+h.height):(m[0]=h.x,m[1]=_,v[0]=h.x+h.width,v[1]=_);var b=f++%l.length;d[b]=d[b]||[],d[b].push(new a.Line(a.subPixelOptimizeLine({shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:{lineWidth:o},silent:!0})))}for(var y=0;y<d.length;++y)this.group.add(a.mergePath(d[y],{style:{stroke:l[y%l.length],lineDash:r.getLineDash(),lineWidth:o},silent:!0}))}});t.exports=h},function(t,e,n){function i(t,e){return e.type||(e.data?"category":"value")}var r=n(19),o=n(127),a=n(4),s=r.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null}),u={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};a.merge(s.prototype,n(129)),o("single",s,i,u),t.exports=s},function(t,e,n){n(1).registerPreprocessor(n(304)),n(305),n(310),n(311),n(312),n(313)},function(t,e,n){function i(t){var e={};r.each(t,function(t){e[t]=1}),t.length=0,r.each(e,function(e,n){t.push(n)})}var r=n(4),o=["rect","polygon","keep","clear"];t.exports=function(t,e){var n=t&&t.brush;if(r.isArray(n)||(n=n?[n]:[]),n.length){var a=[];r.each(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(a=a.concat(e))});var s=t&&t.toolbox;r.isArray(s)&&(s=s[0]),s||(s={feature:{}},t.toolbox=[s]);var u=s.feature||(s.feature={}),l=u.brush||(u.brush={}),c=l.type||(l.type=[]);c.push.apply(c,a),i(c),e&&!c.length&&c.push.apply(c,o)}}},function(t,e,n){function i(t,e,n,i,o){if(o){var a=t.getZr();if(!a[_]){a[y]||(a[y]=r);var s=g.createOrUpdate(a,y,n,e);s(t,i)}}}function r(t,e){if(!t.isDisposed()){var n=t.getZr();n[_]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[_]=!1}}function o(t,e,n,i){for(var r=n.getItemLayout(i),o=0,a=e.length;a>o;o++){var s=e[o];if(t[s.brushType](r,s.selectors,s))return!0}}function a(t){var e=t.brushSelector;if(p.isString(e)){var n=[];return p.each(f,function(t,i){n[i]=t[e]}),n}if(p.isFunction(e)){var i={};return p.each(f,function(t,n){i[n]=e}),i}return e}function s(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(p.isArray(n)?p.indexOf(n,e)<0:e!==n)}function u(t){var e=t.selectors={};return p.each(f[t.brushType],function(n,i){e[i]=function(i){return n(i,e,t)}}),t}function l(t){return new d(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var c=n(1),h=n(306),p=n(4),d=n(9),f=n(307),g=n(308),m=n(309),v=["inBrush","outOfBrush"],y="__ecBrushSelect",_="__ecInBrushSelectEvent",b=c.PRIORITY.VISUAL.BRUSH;c.registerLayout(b,function(t,e,n){t.eachComponent({mainType:"brush"},function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),e.coordInfoList=m.makeCoordInfoList(e.option,t),m.parseInputRanges(e,t)})}),c.registerVisual(b,function(t,e,n){var r,l,c=[];t.eachComponent({mainType:"brush"},function(e,n){function i(t){return"all"===b||w[t]}function d(t){return!!t.length}function f(t,e){var n=t.coordinateSystem;S|=n.hasAxisbrushed(),i(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(k[e]=1)})}function g(t,n,r){var u=a(t);if(u&&!s(e,n)&&(p.each($,function(n){u[n.brushType]&&m.controlSeries(n,e,t)&&r.push(n),S|=d(r)}),i(n)&&d(r))){var l=t.getData();l.each(function(t){o(u,r,l,t)&&(k[t]=1)})}}var y={brushId:e.id,brushIndex:n,brushName:e.name,areas:p.clone(e.areas),selected:[]};c.push(y);var _=e.option,b=_.brushLink,w=[],k=[],T=[],S=0;n||(r=_.throttleType,l=_.throttleDelay);var $=p.map(e.areas,function(t){return u(p.defaults({boundingRect:x[t.brushType](t)},t))}),C=h.createVisualMappings(e.option,v,function(t){t.mappingMethod="fixed"});p.isArray(b)&&p.each(b,function(t){w[t]=1}),t.eachSeries(function(t,e){var n=T[e]=[];"parallel"===t.subType?f(t,e,n):g(t,e,n)}),t.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};y.selected.push(n);var r=a(t),s=T[e],u=t.getData(),l=i(e)?function(t){return k[t]?(n.dataIndex.push(u.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return o(r,s,u,t)?(n.dataIndex.push(u.getRawIndex(t)),"inBrush"):"outOfBrush"};(i(e)?S:d(s))&&h.applyVisual(v,C,u,l)})}),i(e,r,l,c,n)});var x={lineX:p.noop,lineY:p.noop,rect:function(t){return l(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;r>i;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&l(e)}}},function(t,e,n){function i(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}var r=n(4),o=n(192),a=r.each,s={createVisualMappings:function(t,e,n){function i(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}var s={};return a(e,function(e){var u=s[e]=i();a(t[e],function(t,i){if(o.isValidType(i)){var a={type:i,visual:t};n&&n(a,e),u[i]=new o(a),"opacity"===i&&(a=r.clone(a),a.type="colorAlpha",u.__hidden.__alphaForOpacity=new o(a))}})}),s},replaceVisualOption:function(t,e,n){var o;r.each(n,function(t){e.hasOwnProperty(t)&&i(e[t])&&(o=!0)}),o&&r.each(n,function(n){e.hasOwnProperty(n)&&i(e[n])?t[n]=r.clone(e[n]):delete t[n]})},applyVisual:function(t,e,n,i,a,s){function u(t){return n.getItemVisual(p,t)}function l(t,e){n.setItemVisual(p,t,e)}function c(t,n){p=null==s?t:n;for(var r=i.call(a,t),o=e[r],c=h[r],d=0,f=c.length;f>d;d++){var g=c[d];o[g]&&o[g].applyVisual(t,u,l)}}var h={};r.each(t,function(t){var n=o.prepareVisualTypes(e[t]);h[t]=n});var p;null==s?n.each(c,!0):n.each([s],c,!0)}};t.exports=s},function(t,e,n){function i(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){var o=i.range,a=e[t];return r(a,o)},rect:function(i,o,a){var s=a.range;return r(i[e[t]],s)||r(i[e[t]]+i[n[t]],s)}}}function r(t,e){return e[0]<=t&&t<=e[1]}function o(t,e,n,i,r){for(var o=0,s=r[r.length-1];o<r.length;o++){var u=r[o];if(a(t,e,n,i,u[0],u[1],s[0],s[1]))return!0;s=u}}function a(t,e,n,i,r,o,a,l){var c=u(n-t,r-a,i-e,o-l);if(s(c))return!1;var h=u(r-t,r-a,o-e,o-l)/c;if(0>h||h>1)return!1;var p=u(n-t,r-t,i-e,o-e)/c;return 0>p||p>1?!1:!0}function s(t){return 1e-6>=t&&t>=-1e-6}function u(t,e,n,i){return t*i-e*n}function l(t){var e=t.x,n=t.y,i=t.width,r=t.height;return 0>i&&(e+=i,i=-i),0>r&&(n+=r,r=-r),new h(e,n,i,r)}var c=n(167).contain,h=n(9),p={lineX:i(0),lineY:i(1),rect:{point:function(t,e,n){return n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return n.boundingRect.intersect(l(t))}},polygon:{point:function(t,e,n){return n.boundingRect.contain(t[0],t[1])&&c(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(i.length<=1)return!1;var r=t.x,a=t.y,s=t.width,u=t.height,h=i[0];return c(i,r,a)||c(i,r+s,a)||c(i,r,a+u)||c(i,r+s,a+u)||l(t).contain(h[0],h[1])||o(r,a,r+s,a,i)||o(r,a,r,a+u,i)||o(r+s,a,r+s,a+u,i)||o(r,a+u,r+s,a+u,i)?!0:void 0}}};t.exports=p},function(t){var e={},n="\x00__throttleOriginMethod",i="\x00__throttleRate",r="\x00__throttleType";e.throttle=function(t,e,n){function i(){l=(new Date).getTime(),c=null,t.apply(a,s||[])}var r,o,a,s,u=0,l=0,c=null;e=e||0;var h=function(){r=(new Date).getTime(),a=this,s=arguments,o=r-(n?u:l)-e,clearTimeout(c),n?c=setTimeout(i,e):o>=0?i():c=setTimeout(i,-o),u=r};return h.clear=function(){c&&(clearTimeout(c),c=null)},h},e.createOrUpdate=function(t,o,a,s){var u=t[o];if(u){var l=u[n]||u,c=u[r],h=u[i];if(h!==a||c!==s){if(null==a||!s)return t[o]=l;u=t[o]=e.throttle(l,a,"debounce"===s),u[n]=l,u[r]=s,u[i]=a}return u}},e.clear=function(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n])},t.exports=e},function(t,e,n){function i(t){return t[0]>t[1]&&t.reverse(),t}function r(t,e){for(var n=!0,i=0;i<c.length;i++){var r=c[i]+"Index";if(t[r]>=0){n=!1;for(var o=0;o<e.length;o++)if(e[o][r]===t[r])return e[o]}}return n}function o(t,e,n,r){var o=n.coordSys.getAxis(t);return a.assert(o,"line brush is only available in cartesian (grid)."),i(a.map([0,1],function(t){return e?o.coordToData(o.toLocalCoord(r[t])):o.toGlobalCoord(o.dataToCoord(r[t]))}))}var a=n(4),s=n(43),u=a.each,l={},c=["geo","xAxis","yAxis"],h="--",p=["dataToPoint","pointToData"];l.parseOutputRanges=function(t,e,n,i){u(t,function(t,n){var o=t.panelId;if(o){o=o.split(h),t[o[0]+"Index"]=+o[1];var a=r(t,e);t.coordRange=d[t.brushType](1,a,t.range),i&&(i[n]=a)}})},l.parseInputRanges=function(t){u(t.areas,function(e){var n=r(e,t.coordInfoList);a.assert(!n||n===!0||e.coordRange,"coordRange must be specified when coord index specified."),a.assert(!n||n!==!0||e.range,"range must be specified."),e.range=e.range||[],n&&n!==!0&&(e.range=d[e.brushType](0,n,e.coordRange),e.panelId=n.panelId)})},l.makePanelOpts=function(t){var e=[];return u(t,function(t){var n,i=t.coordSys;t.geoIndex>=0?(n=i.getBoundingRect().clone(),n.applyTransform(s.getTransform(i))):n=i.grid.getRect().clone(),e.push({panelId:t.panelId,rect:n})}),e},l.makeCoordInfoList=function(t,e){var n=[];return u(c,function(i){var r=t[i+"Index"];null!=r&&"none"!==r&&("all"===r||a.isArray(r)||(r=[r]),e.eachComponent({mainType:i},function(t,e){if(!("all"!==r&&a.indexOf(r,e)<0)){var o,s;"xAxis"===i||"yAxis"===i?o=t.axis.grid:s=t.coordinateSystem;for(var u,l=0,c=n.length;c>l;l++){var p=n[l];if(a.assert(p[i+"Index"]!=e,"Coord should not be defined duplicately: "+i+e),"yAxis"===i&&!p.yAxis&&p.xAxis){var d=o.getCartesian(p.xAxisIndex,e);if(d){s=d,u=p;break}}}!u&&n.push(u={}),u[i]=t,u[i+"Index"]=e,u.panelId=i+h+e,u.coordSys=s||o.getCartesian(u.xAxisIndex,u.yAxisIndex),u.coordSys?n[i+"Has"]=!0:n.pop()}}))}),n},l.controlSeries=function(t,e,n){var i=r(t,e.coordInfoList);return i===!0||i&&i.coordSys===n.coordinateSystem};var d={lineX:a.curry(o,"x"),lineY:a.curry(o,"y"),rect:function(t,e,n){var r=e.coordSys,o=r[p[t]]([n[0][0],n[1][0]]),a=r[p[t]]([n[0][1],n[1][1]]);return[i([o[0],a[0]]),i([o[1],a[1]])]},polygon:function(t,e,n){var i=e.coordSys;return a.map(n,i[p[t]],i)}};t.exports=l},function(t,e,n){var i=n(1),r=n(4),o=n(306),a=n(12),s=["#ddd"],u=i.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;!e&&o.replaceVisualOption(n,t,["inBrush","outOfBrush"]),n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:s}},setAreas:function(t){r.assert(r.isArray(t)),r.each(t,function(t){r.assert(t.brushType,"Illegal areas")}),t&&(this.areas=r.map(t,function(t){return this._mergeBrushOption(t)},this))},setBrushOption:function(t){this.brushOption=this._mergeBrushOption(t),this.brushType=this.brushOption.brushType},_mergeBrushOption:function(t){var e=this.option;return r.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new a(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick},t,!0)}});t.exports=u},function(t,e,n){function i(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(s.makePanelOpts(t.coordInfoList)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}var r=n(4),o=n(233),a=n(1),s=n(309);t.exports=a.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new o(e.getZr())).on("brush",r.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,i.apply(this,arguments)},updateView:i,updateLayout:i,updateVisual:i,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;s.parseOutputRanges(t,this.model.coordInfoList,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:r.clone(t),$from:n})}})},function(t,e,n){var i=n(1);i.registerAction({type:"brush",event:"brush",update:"updateView"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(t,e,n){"use strict";function i(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}var r=n(314),o=n(4);i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}};var a=i.prototype;a.render=a.updateView=a.updateLayout=function(t,e){var n,i,r;e.eachComponent({mainType:"brush"},function(t){n=t.brushType,i=t.brushOption.brushMode||"single",r|=t.areas.length}),this._brushType=n,this._brushMode=i,o.each(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===i:"clear"===e?r:e===n)?"emphasis":"normal")})},a.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return o.each(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},a.onclick=function(t,e,n){var e=this.api,i=this._brushType,r=this._brushMode;e.dispatchAction("clear"===n?{type:"brush",areas:[]}:{type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i===n?!1:n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},r.register("brush",i),t.exports=i},function(t){"use strict";var e={};t.exports={register:function(t,n){e[t]=n},get:function(t){return e[t]}}},function(t,e,n){"use strict";var i=n(1),r=n(43),o=n(21);i.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),i.extendComponentView({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,a=t.getModel("textStyle"),s=t.getModel("subtextStyle"),u=t.get("textAlign"),l=t.get("textBaseline"),c=new r.Text({style:{text:t.get("text"),textFont:a.getFont(),fill:a.getTextColor()},z2:10}),h=c.getBoundingRect(),p=t.get("subtext"),d=new r.Text({style:{text:p,textFont:s.getFont(),fill:s.getTextColor(),y:h.height+t.get("itemGap"),textBaseline:"top"},z2:10}),f=t.get("link"),g=t.get("sublink");c.silent=!f,d.silent=!g,f&&c.on("click",function(){window.open(f,"_"+t.get("target"))}),g&&d.on("click",function(){window.open(g,"_"+t.get("subtarget"))}),i.add(c),p&&i.add(d);var m=i.getBoundingRect(),v=t.getBoxLayoutParams();v.width=m.width,v.height=m.height;var y=o.getLayoutRect(v,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));u||(u=t.get("left")||t.get("right"),"middle"===u&&(u="center"),"right"===u?y.x+=y.width:"center"===u&&(y.x+=y.width/2)),l||(l=t.get("top")||t.get("bottom"),"center"===l&&(l="middle"),"bottom"===l?y.y+=y.height:"middle"===l&&(y.y+=y.height/2),l=l||"top"),i.attr("position",[y.x,y.y]);var _={textAlign:u,textVerticalAlign:l};c.setStyle(_),d.setStyle(_),m=i.getBoundingRect();var b=y.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var w=new r.Rect({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2]},style:x,silent:!0});r.subPixelOptimizeRect(w),i.add(w)}}})},function(t,e,n){n(317),n(318),n(321),n(322),n(323),n(325),n(326),n(328),n(329)},function(t,e,n){n(19).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(t,e,n){function i(t){var e={};return h(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function r(t,e,n,i){null!=n[e]&&null==n[t]&&(i[t]=null)}var o=n(4),a=n(2),s=n(1),u=n(5),l=n(319),c=n(320),h=o.each,p=l.eachAxisDim,d=s.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0;var r=i(t);this.mergeDefaultAndTheme(t,n),this.doInit(r)},mergeOption:function(t){var e=i(t);o.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;a.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),r("start","startValue",t,e),r("end","endValue",t,e),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()
},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,n,i,r){var o=this.dependentModels[e.axis][n],a=o.__dzAxisProxy||(o.__dzAxisProxy=new c(e.name,n,this,r));t[e.name+"_"+n]=a},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();p(function(e){var n=e.axisIndex;t[n]=u.normalizeToArray(t[n])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;p(function(n){null!=t[n.axisIndex]&&(e=!0)},this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option;if(t){var i="vertical"===e?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"};this.dependentModels[i.axis].length&&(n[i.axisIndex]=[0],t=!1)}t&&p(function(e){if(t){var i=[],r=this.dependentModels[e.axis];if(r.length&&!i.length)for(var o=0,a=r.length;a>o;o++)"category"===r[o].get("type")&&i.push(o);n[e.axisIndex]=i,i.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&p(function(e){var i=n[e.axisIndex],r=t.get(e.axisIndex),a=t.get(e.axisId),s=t.ecModel.queryComponents({mainType:e.axis,index:r,id:a})[0];if(!s)throw new Error(e.axis+' "'+o.retrieve(r,a,0)+'" not found');r=s.componentIndex,o.indexOf(i,r)<0&&i.push(r)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return p(function(i){var r=t.get(i.axisIndex),o=this.dependentModels[i.axis][r];o&&o.get("type")===e||(n=!1)},this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return p(function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}},this),t},eachTargetAxis:function(t,e){var n=this.ecModel;p(function(i){h(this.get(i.axisIndex),function(r){t.call(e,i,r,this,n)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},setRawRange:function(t){h(["start","end","startValue","endValue"],function(e){this.option[e]=t[e]},this)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();return t?t.getDataPercentWindow():void 0},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){var t=this._axisProxies;for(var e in t)if(t.hasOwnProperty(e)&&t[e].hostedBy(this))return t[e];for(var e in t)if(t.hasOwnProperty(e)&&!t[e].hostedBy(this))return t[e]}});t.exports=d},function(t,e,n){var i=n(6),r=n(4),o={},a=["x","y","z","radius","angle"];o.createNameEach=function(t,e){t=t.slice();var n=r.map(t,i.capitalFirst);e=(e||[]).slice();var o=r.map(e,i.capitalFirst);return function(i,a){r.each(t,function(t,r){for(var s={name:t,capital:n[r]},u=0;u<e.length;u++)s[e[u]]=t+o[u];i.call(a,s)})}},o.eachAxisDim=o.createNameEach(a,["axisIndex","axis","index","id"]),o.createLinkedNodesFinder=function(t,e,n){function i(t,e){return r.indexOf(e.nodes,t)>=0}function o(t,i){var o=!1;return e(function(e){r.each(n(t,e)||[],function(t){i.records[e.name][t]&&(o=!0)})}),o}function a(t,i){i.nodes.push(t),e(function(e){r.each(n(t,e)||[],function(t){i.records[e.name][t]=!0})})}return function(n){function r(t){!i(t,s)&&o(t,s)&&(a(t,s),u=!0)}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!n)return s;a(n,s);var u;do u=!1,t(r);while(u);return s}},t.exports=o},function(t,e,n){function i(t,e){var n=[1/0,-1/0];return l(e,function(e){var i=e.getData();i&&l(e.coordDimToDataDim(t),function(t){var e=i.getDataExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])})},this),n}function r(t,e,n){var i=n.getAxisModel(),r=i.axis.scale,a=[0,100],s=[t.start,t.end],h=[];return e=e.slice(),o(e,i,r),l(["startValue","endValue"],function(e){h.push(null!=t[e]?r.parse(t[e]):null)}),l([0,1],function(t){var n=h[t],i=s[t];null!=i||null==n?(null==i&&(i=a[t]),n=r.parse(u.linearMap(i,a,e,!0))):i=u.linearMap(n,e,a,!0),h[t]=n,s[t]=i}),{valueWindow:c(h),percentWindow:c(s)}}function o(t,e,n){return l(["min","max"],function(i,r){var o=e.get(i,!0);null!=o&&(o+"").toLowerCase()!=="data"+i&&(t[r]=n.parse(o))}),e.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function a(t,e){var n=t.getAxisModel(),i=t._percentWindow,r=t._valueWindow;if(i){var o=e||0===i[0]&&100===i[1],a=!e&&u.getPixelPrecision(r,[0,500]),s=!(e||20>a&&a>=0),l=e||o||s;n.setRange&&n.setRange(l?null:+r[0].toFixed(a),l?null:+r[1].toFixed(a))}}var s=n(4),u=n(7),l=s.each,c=u.asc,h=function(t,e,n,i){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=i,this._dataZoomModel=n};h.prototype={constructor:h,hostedBy:function(t){return this._dataZoomModel===t},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(n){var i=this._dimName,r=e.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(r&&r.componentIndex)&&t.push(n)},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n=this._dimName,i=this.ecModel,r=this.getAxisModel(),o="x"===n||"y"===n;o?(e="gridIndex",t="x"===n?"y":"x"):(e="polarIndex",t="angle"===n?"radius":"angle");var a;return i.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(r.get(e)||0)&&(a=t)}),a},reset:function(t){if(t===this._dataZoomModel){var e=this._dataExtent=i(this._dimName,this.getTargetSeriesModels()),n=r(t.option,e,this);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,a(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,a(this,!0))},filterData:function(t){function e(t){return t>=o[0]&&t<=o[1]}if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get("filterMode"),o=this._valueWindow,a=this.getOtherAxisModel();t.get("$fromToolbox")&&a&&"category"===a.get("type")&&(r="empty"),l(i,function(t){var i=t.getData();i&&l(t.coordDimToDataDim(n),function(n){"empty"===r?t.setData(i.map(n,function(t){return e(t)?t:0/0})):i.filterSelf(n,e)})})}}},t.exports=h},function(t,e,n){var i=n(29);t.exports=i.extend({type:"dataZoom",render:function(t,e,n){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetInfo:function(){function t(t,e,n,i){for(var r,o=0;o<n.length;o++)if(n[o].model===t){r=n[o];break}r||n.push(r={model:t,axisModels:[],coordIndex:i}),r.axisModels.push(e)}var e=this.dataZoomModel,n=this.ecModel,i=[],r=[],o=[];return e.eachTargetAxis(function(e,a){var s=n.getComponent(e.axis,a);if(s){o.push(s);var u;u="xAxis"===e.axis||"yAxis"===e.axis?"grid":"polar";var l=n.queryComponents({mainType:u,index:s.get(u+"Index"),id:s.get(u+"Id")})[0];null!=l&&t(l,s,"grid"===u?i:r,l.componentIndex)}},this),{cartesians:i,polars:r,axisModels:o}}})},function(t,e,n){var i=n(318),r=i.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});t.exports=r},function(t,e,n){function i(t){return"x"===t?"y":"x"}var r=n(4),o=n(43),a=n(308),s=n(321),u=o.Rect,l=n(7),c=l.linearMap,h=n(21),p=n(324),d=l.asc,f=r.bind,g=r.each,m=7,v=1,y=30,_="horizontal",b="vertical",x=5,w=["line","bar","candlestick","scatter"],k=s.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,i){return k.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),void this._updateView())},remove:function(){k.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){k.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new o.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},o=this._orient===_?{right:i.width-n.x-n.width,top:i.height-y-m,width:n.width,height:y}:{right:m,top:n.y,width:y,height:n.height},a=h.getLayoutParams(t.option);r.each(["right","top","width","height"],function(t){"ph"===a[t]&&(a[t]=o[t])});var s=h.getLayoutRect(a,i,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===b&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==_||r?n===_&&r?{scale:a?[-1,1]:[-1,-1]}:n!==b||r?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=t.getBoundingRect([o]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size;this._displayables.barGroup.add(new u({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,i=n.getRawData(),a=n.getShadowDim?n.getShadowDim():t.otherDim,s=i.getDataExtent(a),u=.3*(s[1]-s[0]);s=[s[0]-u,s[1]+u];var l=[0,e[1]],h=[0,e[0]],p=[[e[0],0],[0,0]],d=[],f=h[1]/(i.count()-1),g=0,m=Math.round(i.count()/e[0]);i.each([a],function(t,e){if(m>0&&e%m)return void(g+=f);var n=null==t||isNaN(t)||""===t?null:c(t,s,l,!0);null!=n&&(p.push([g,n]),d.push([g,n])),g+=f});var v=this.dataZoomModel;this._displayables.barGroup.add(new o.Polygon({shape:{points:p},style:r.defaults({fill:v.get("dataBackgroundColor")},v.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new o.Polyline({shape:{points:d},style:v.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(e!==!1){var n,o=this.ecModel;return t.eachTargetAxis(function(a,s){var u=t.getAxisProxy(a.name,s).getTargetSeriesModels();r.each(u,function(t){if(!(n||e!==!0&&r.indexOf(w,t.get("type"))<0)){var u=i(a.name),l=o.getComponent(a.axis,s).axis;n={thisAxis:l,series:t,thisDim:a.name,otherDim:u,otherAxisInverse:t.coordinateSystem.getOtherAxis(l).inverse}}},this)},this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],i=this._displayables.barGroup,r=this._size,a=this.dataZoomModel;i.add(t.filler=new u({draggable:!0,cursor:"move",drift:f(this._onDragMove,this,"all"),ondragstart:f(this._showDataInfo,this,!0),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),i.add(new u(o.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:v,fill:"rgba(0,0,0,0)"}})));var s=a.get("handleIcon");g([0,1],function(t){var r=o.makePath(s,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:f(this._onDragMove,this,t),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center"),u=r.getBoundingRect();this._handleHeight=l.parsePercent(a.get("handleSize"),this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,r.setStyle(a.getModel("handleStyle").getItemStyle());var c=a.get("handleColor");null!=c&&(r.style.fill=c),i.add(e[t]=r);var h=a.textStyleModel;this.group.add(n[t]=new o.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[c(t[0],[0,100],e,!0),c(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this._handleEnds,i=this._getViewExtent();p(e,n,i,"all"===t||this.dataZoomModel.get("zoomLock")?"rigid":"cross",t),this._range=d([c(n[0],i,[0,100],!0),c(n[1],i,[0,100],!0)])},_updateView:function(){var t=this._displayables,e=this._handleEnds,n=d(e.slice()),i=this._size;g([0,1],function(n){var r=t.handles[n],o=this._handleHeight;r.attr({scale:[o,o],position:[e[n],i[1]/2-o/2]})},this),t.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:i[1]}),this._updateDataInfo()},_updateDataInfo:function(){function t(t){var e=o.getTransform(n.handles[t].parent,this.group),s=o.transformDirection(0===t?"right":"left",e),u=this._handleWidth/2+x,c=o.applyTransform([l[t]+(0===t?-u:u),this._size[1]/2],e);i[t].setStyle({x:c[0],y:c[1],textVerticalAlign:r===_?"middle":s,textAlign:r===_?s:"center",text:a[t]})}var e=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,a=["",""];if(e.get("showDetail")){var s,u;e.eachTargetAxis(function(t,n){s||(s=e.getAxisProxy(t.name,n).getDataValueWindow(),u=this.ecModel.getComponent(t.axis,n).axis)},this),s&&(a=[this._formatLabel(s[0],u),this._formatLabel(s[1],u)])}var l=d(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter");if(r.isFunction(i))return i(t);var o=n.get("labelPrecision");return(null==o||"auto"===o)&&(o=e.getPixelPrecision()),t=null==t&&isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20)),r.isString(i)&&(t=i.replace("{value}",t)),t},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n){this._dragging=!0;var i=this._applyBarTransform([e,n],!0);this._updateInterval(t,i[0]),this._updateView(),this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_applyBarTransform:function(t,e){var n=this._displayables.barGroup.getLocalTransform();return o.applyTransform(t,n,e)},_findCoordRect:function(){var t,e=this.getTargetInfo();if(e.cartesians.length)t=e.cartesians[0].model.coordinateSystem.getRect();else{var n=this.api.getWidth(),i=this.api.getHeight();t={x:.2*n,y:.2*i,width:.6*n,height:.6*i}}return t}});t.exports=k},function(t){t.exports=function(t,e,n,i,r){function o(t,e,n){var i=e.length?e.slice():[e,e];return e[0]>e[1]&&i.reverse(),0>t&&i[0]+t<n[0]&&(t=n[0]-i[0]),t>0&&i[1]+t>n[1]&&(t=n[1]-i[1]),t}return t?("rigid"===i?(t=o(t,e,n),e[0]+=t,e[1]+=t):(t=o(t,e[r],n),e[r]+=t,"push"===i&&e[0]>e[1]&&(e[1-r]=e[r])),e):e}},function(t,e,n){t.exports=n(318).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(t,e,n){function i(t,e,n,i){e=e.slice();var r=i.axisModels[0];if(r){var a=o(t,r,n),s=a.signal*(e[1]-e[0])*a.pixel/a.pixelLength;return l(s,e,[0,100],"rigid"),e}}function r(t,e,n,i,r){n=n.slice();var s=r.axisModels[0];if(s){var u=o(e,s,i),l=u.pixel-u.pixelStart,c=l/u.pixelLength*(n[1]-n[0])+n[0];return t=Math.max(t,0),n[0]=(n[0]-c)*t+c,n[1]=(n[1]-c)*t+c,a(n)}}function o(t,e,n){var i=e.axis,r=n.rectProvider(),o={};return"x"===i.dim?(o.pixel=t[0],o.pixelLength=r.width,o.pixelStart=r.x,o.signal=i.inverse?1:-1):(o.pixel=t[1],o.pixelLength=r.height,o.pixelStart=r.y,o.signal=i.inverse?-1:1),o}function a(t){var e=[0,100];return!(t[0]<=e[1])&&(t[0]=e[1]),!(t[1]<=e[1])&&(t[1]=e[1]),!(t[0]>=e[0])&&(t[0]=e[0]),!(t[1]>=e[0])&&(t[1]=e[0]),t}var s=n(321),u=n(4),l=n(324),c=n(327),h=u.bind,p=s.extend({type:"dataZoom.inside",init:function(){this._range},render:function(t,e,n,i){p.superApply(this,"render",arguments),c.shouldRecordRange(i,t.id)&&(this._range=t.getPercentRange());var r=this.getTargetInfo().cartesians,o=u.map(r,function(t){return c.generateCoordId(t.model)});u.each(r,function(e){var i=e.model;c.register(n,{coordId:c.generateCoordId(i),allCoordIds:o,coordinateSystem:i.coordinateSystem,dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:h(this._onPan,this,e),zoomGetRange:h(this._onZoom,this,e)})},this)},dispose:function(){c.unregister(this.api,this.dataZoomModel.id),p.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,n,r){return this._range=i([n,r],this._range,e,t)},_onZoom:function(t,e,n,i,o){var a=this.dataZoomModel;return a.option.zoomLock?this._range:this._range=r(1/n,[i,o],this._range,e,t,a)}});t.exports=p},function(t,e,n){function i(t){var e=t.getZr();return e[f]||(e[f]={})}function r(t,e,n){var i=new h(t.getZr());return i.enable(),i.on("pan",d(a,n)),i.on("zoom",d(s,n)),i}function o(t){c.each(t,function(e,n){e.count||(e.controller.off("pan").off("zoom"),delete t[n])})}function a(t,e,n){u(t,function(i){return i.panGetRange(t.controller,e,n)})}function s(t,e,n,i){u(t,function(r){return r.zoomGetRange(t.controller,e,n,i)})}function u(t,e){var n=[];c.each(t.dataZoomInfos,function(t){var i=e(t);i&&n.push({dataZoomId:t.dataZoomId,start:i[0],end:i[1]})}),t.dispatchAction(n)}function l(t,e){t.dispatchAction({type:"dataZoom",batch:e})}var c=n(4),h=n(174),p=n(308),d=c.curry,f="\x00_ec_dataZoom_roams",g={register:function(t,e){var n=i(t),a=e.dataZoomId,s=e.coordId;c.each(n,function(t){var n=t.dataZoomInfos;n[a]&&c.indexOf(e.allCoordIds,s)<0&&(delete n[a],t.count--)}),o(n);var u=n[s];u||(u=n[s]={coordId:s,dataZoomInfos:{},count:0},u.controller=r(t,e,u),u.dispatchAction=c.curry(l,t));var h=e.coordinateSystem.getRect().clone();u.controller.rectProvider=function(){return h},p.createOrUpdate(u,"dispatchAction",e.throttleRate,"fixRate"),!u.dataZoomInfos[a]&&u.count++,u.dataZoomInfos[a]=e},unregister:function(t,e){var n=i(t);c.each(n,function(t){var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)}),o(n)},shouldRecordRange:function(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var n=0,i=t.batch.length;i>n;n++)if(t.batch[n].dataZoomId===e)return!1;return!0},generateCoordId:function(t){return t.type+"\x00_"+t.id}};t.exports=g},function(t,e,n){function i(t,e,n){n.getAxisProxy(t.name,e).reset(n)}function r(t,e,n){n.getAxisProxy(t.name,e).filterData(n)}var o=n(1);o.registerProcessor(function(t){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(i),t.eachTargetAxis(r)}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setRawRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})})})},function(t,e,n){var i=n(4),r=n(319),o=n(1);o.registerAction("dataZoom",function(t,e){var n=r.createLinkedNodesFinder(i.bind(e.eachComponent,e,"dataZoom"),r.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),o=[];e.eachComponent({mainType:"dataZoom",query:t},function(t){o.push.apply(o,n(t).nodes)}),i.each(o,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},function(t,e,n){n(331),n(342)},function(t,e,n){n(1).registerPreprocessor(n(332)),n(333),n(334),n(335),n(338),n(341)},function(t,e,n){function i(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var r=n(4),o=r.each;t.exports=function(t){var e=t&&t.visualMap;r.isArray(e)||(e=e?[e]:[]),o(e,function(t){if(t){i(t,"splitList")&&!i(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&r.isArray(e)&&o(e,function(t){r.isObject(t)&&(i(t,"start")&&!i(t,"min")&&(t.min=t.start),i(t,"end")&&!i(t,"max")&&(t.max=t.end))})}})}},function(t,e,n){n(19).registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})},function(t,e,n){function i(t){t.eachTargetSeries(function(e){var n=e.getData();s.applyVisual(t.stateList,t.targetVisuals,n,t.getValueState,t,t.getDataDimension(n))})}function r(t){t.eachSeries(function(e){var n=e.getData(),i=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var r={};i.push(r),r.stops=t.getStops(e,o),r.dimension=t.getDataDimension(n)}}),e.getData().setVisual("visualMeta",i)})}function o(t,e,n){function i(t){return s[t]}function r(t,e){s[t]=e}for(var o=t.targetVisuals[n],a=u.prepareVisualTypes(o),s={},l=0,c=a.length;c>l;l++){var h=a[l],p=o["colorAlpha"===h?"__alphaForOpacity":h];p&&p.applyVisual(e,i,r)}return s.color}var a=n(1),s=n(306),u=n(192);a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,function(t){t.eachComponent("visualMap",function(e){i(e,t)}),r(t)})},function(t,e,n){function i(t,e,n){var i=t.targetVisuals[e].color;if(!i)return n.slice();var r=i.option.visual.length;if(1>=r||n[0]===n[1])return n.slice();for(var o=(n[1]-n[0])/(r-1),a=n[0],s=[],u=0;r>u&&a<n[1];u++)s.push(a),a+=o;return s.push(n[1]),s}function r(t,e,n,r){var o=i(t,e,n);a.each(o,function(t){for(var n={value:t,valueState:e},i=0,o=0;o<r.length;o++){if(i|="inRange"===r[o].valueState,t<r[o].value)return void r.splice(o,0,n);i&&(r[o].valueState="inRange")}r.push(n)})}var o=n(336),a=n(4),s=n(7),u=[20,140],l=o.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(){l.superApply(this,"optionUpdated",arguments),this.resetTargetSeries(),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){l.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=u[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=u[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):a.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){o.prototype.completeVisualOption.apply(this,arguments),a.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=s.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)},!0,this),e.push({seriesId:n.id,dataIndex:i})},this),e},getStops:function(t,e){var n=[];return r(this,"outOfRange",this.getExtent(),n),r(this,"inRange",this.option.range.slice(),n),a.each(n,function(t){t.color=e(this,t.value,t.valueState)},this),n}});t.exports=l},function(t,e,n){var i=n(1),r=n(4),o=n(2),a=n(337),s=n(192),u=n(306),l=s.mapVisual,c=n(5),h=s.eachVisual,p=n(7),d=r.isArray,f=r.each,g=p.asc,m=p.linearMap,v=r.noop,y=["#f6efa6","#d88273","#bf444c"],_=i.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;o.canvasSupported||(n.realtime=!1),!e&&u.replaceVisualOption(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=r.bind(t,this),this.controllerVisuals=u.createVisualMappings(this.option.controller,e,t),this.targetVisuals=u.createVisualMappings(this.option.target,e,t)},resetTargetSeries:function(){var t=this.option,e=null==t.seriesIndex;t.seriesIndex=e?[]:c.normalizeToArray(t.seriesIndex),e&&this.ecModel.eachSeries(function(e,n){t.seriesIndex.push(n)})},eachTargetSeries:function(t,e){r.each(this.option.seriesIndex,function(n){t.call(e,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},formatValueText:function(t,e,n){function i(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(u)}var o,a,s=this.option,u=s.precision,l=this.dataBound,c=s.formatter;return n=n||["<",">"],r.isArray(t)&&(t=t.slice(),o=!0),a=e?t:o?[i(t[0]),i(t[1])]:i(t),r.isString(c)?c.replace("{value}",o?a[0]:a).replace("{value2}",o?a[1]:a):r.isFunction(c)?o?c(t[0],t[1]):c(t):o?t[0]===l[0]?n[0]+" "+a[1]:t[1]===l[1]?n[1]+" "+a[0]:a[0]+" - "+a[1]:a},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){d(i.color)&&!t.inRange&&(t.inRange={color:i.color.slice().reverse()}),t.inRange=t.inRange||{color:y},f(this.stateList,function(e){var n=t[e];if(r.isString(n)){var i=a.get(n,"active",p);i?(t[e]={},t[e][n]=i):delete t[e]}},this)}function e(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},f(i,function(t,e){if(s.isValidType(e)){var n=a.get(e,"inactive",p);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}}))}function n(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor");f(this.stateList,function(o){var a=this.itemSize,s=t[o];s||(s=t[o]={color:p?i:[i]}),null==s.symbol&&(s.symbol=e&&r.clone(e)||(p?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&r.clone(n)||(p?a[0]:[a[0],a[0]])),s.symbol=l(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var u=s.symbolSize;if(null!=u){var c=-1/0;h(u,function(t){t>c&&(c=t)}),s.symbolSize=l(u,function(t){return m(t,[0,c],[0,a[0]],!0)})}},this)}var i=this.option,o={inRange:i.inRange,outOfRange:i.outOfRange},u=i.target||(i.target={}),c=i.controller||(i.controller={});r.merge(u,o),r.merge(c,o);var p=this.isCategory();t.call(this,u),t.call(this,c),e.call(this,u,"inRange","outOfRange"),n.call(this,c)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v});t.exports=_},function(t,e,n){var i=n(4),r={get:function(t,e,n){var r=i.clone((o[t]||{})[e]);return n&&i.isArray(r)?r[r.length-1]:r}},o={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};t.exports=r},function(t,e,n){function i(t,e,n,i){return new l.Polygon({shape:{points:t},draggable:!!n,cursor:e,drift:n,ondragend:i})}function r(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function o(t,e,n,i){return t?[[0,-y(e,_(n,0))],[x,0],[0,y(e,_(i-n,0))]]:[[0,0],[5,-5],[5,5]]}function a(t,e,n){var i=b/2,r=t.get("hoverLinkDataSize");return r&&(i=m(r,e,n,!0)/2),i}function s(t){return!t.get("realtime")&&t.get("hoverLinkOnHandle")}var u=n(339),l=n(43),c=n(4),h=n(7),p=n(324),d=n(79),f=n(340),g=n(5),m=h.linearMap,v=c.each,y=Math.min,_=Math.max,b=12,x=6,w=u.extend({type:"visualMap.continuous",init:function(){w.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.barGroup,u=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),c=this._applyTransform(0===n?"bottom":"top",s),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new l.Text({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===h?"middle":c,textAlign:"horizontal"===h?c:"center",text:i,textFont:p.getFont(),fill:p.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,o=this._orient,a=this._useHandle,s=f.getItemAlign(e,this.api,r),u=n.barGroup=this._createBarGroup(s);u.add(n.outOfRange=i()),u.add(n.inRange=i(null,a?"move":null,c.bind(this._dragHandle,this,"all",!1),c.bind(this._dragHandle,this,"all",!0)));var l=e.textStyleModel.getTextRect(""),h=_(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(u,0,r,h,o,s),this._createHandle(u,1,r,h,o,s)),this._createIndicator(u,r,h,o),t.add(u)},_createHandle:function(t,e,n,o,a){var s=c.bind(this._dragHandle,this,e,!1),u=c.bind(this._dragHandle,this,e,!0),h=i(r(e,o),"move",s,u);h.position[0]=n[0],t.add(h);var p=this.visualMapModel.textStyleModel,d=new l.Text({draggable:!0,drift:s,ondragend:u,style:{x:0,y:0,text:"",textFont:p.getFont(),fill:p.getTextColor()}});this.group.add(d);var f=["horizontal"===a?o/2:1.5*o,"horizontal"===a?0===e?-(1.5*o):1.5*o:0===e?-o/2:o/2],g=this._shapes;g.handleThumbs[e]=h,g.handleLabelPoints[e]=f,g.handleLabels[e]=d},_createIndicator:function(t,e,n,r){var o=i([[0,0]],"move");o.position[0]=e[0],o.attr({invisible:!0,silent:!0}),t.add(o);
var a=this.visualMapModel.textStyleModel,s=new l.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),fill:a.getTextColor()}});this.group.add(s);var u=["horizontal"===r?n/2:x+3,0],c=this._shapes;c.indicator=o,c.indicatorLabel=s,c.indicatorLabelPoint=u},_dragHandle:function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(t,r[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():s(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[m(e[0],n,i,!0),m(e[1],n,i,!0)]},_updateInterval:function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds;p(e,i,[0,n.itemSize[1]],"all"===t?"rigid":"push",t);var r=n.getExtent(),o=[0,n.itemSize[1]];this._dataInterval=[m(i[0],o,r,!0),m(i[1],o,r,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],o=t?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,a)},_createBarVisual:function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,r),a=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new d(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(t,e){var n=100,i=[],r=(t[1]-t[0])/n;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var o=1;n>o;o++){var a=t[0]+r*o;if(a>t[1])break;i.push({color:this.getControllerVisual(a,"color",e),offset:o/n})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new l.Group("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels;v([0,1],function(a){var s=r[a];s.setStyle("fill",e.handlesColor[a]),s.position[1]=t[a];var u=l.applyTransform(n.handleLabelPoints[a],l.getTransform(s,this.group));o[a].setStyle({x:u[0],y:u[1],text:i.formatValueText(this._dataInterval[a]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(t,e,n,i){var r=this.visualMapModel,a=r.getExtent(),s=r.itemSize,u=[0,s[1]],c=m(t,a,u,!0),h=this._shapes,p=h.indicator;if(p){p.position[1]=c,p.attr("invisible",!1),p.setShape("points",o(!!n,i,c,s[1]));var d={convertOpacityToAlpha:!0},f=this.getControllerVisual(t,"color",d);p.setStyle("fill",f);var g=l.applyTransform(h.indicatorLabelPoint,l.getTransform(p,this.group)),v=h.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",h.barGroup),_=this._orient;v.setStyle({text:(n?n:"")+r.formatValueText(e),textVerticalAlign:"horizontal"===_?y:"middle",textAlign:"horizontal"===_?"center":y,x:g[0],y:g[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);i[1]=y(_(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();t=y(_(r[0],t),r[1]);var u=a(n,o,r),l=[t-u,t+u],c=m(t,r,o,!0),h=[m(l[0],r,o,!0),m(l[1],r,o,!0)];l[0]<r[0]&&(h[0]=-1/0),l[1]>r[1]&&(h[1]=1/0),e&&(h[0]===-1/0?this._showIndicator(c,h[1],"< ",u):1/0===h[1]?this._showIndicator(c,h[0],"> ",u):this._showIndicator(c,c," ",u));var p=this._hoverLinkDataIndices,d=[];(e||s(n))&&(d=this._hoverLinkDataIndices=n.findTargetDataIndices(h));var f=g.compressBatches(p,d);this._dispatchHighDown("downplay",f[0]),this._dispatchHighDown("highlight",f[1])}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target;if(e&&null!=e.dataIndex){var n=e.dataModel||this.ecModel.getSeriesByIndex(e.seriesIndex),i=n.getData(e.dataType),r=i.getDimension(this.visualMapModel.getDataDimension(i)),o=i.get(r,e.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",t),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,n,i){var r=l.getTransform(e,i?null:this.group);return l[c.isArray(t)?"applyTransform":"transformDirection"](t,r,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});t.exports=w},function(t,e,n){var i=n(4),r=n(43),o=n(6),a=n(21),s=n(1),u=n(192);t.exports=s.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t){return this.visualMapModel=t,t.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(t){var e=this.visualMapModel,n=o.normalizeCssArray(e.get("padding")||0),i=t.getBoundingRect();t.add(new r.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,n){function r(t){return l[t]}function o(t,e){l[t]=e}n=n||{};var a=n.forceState,s=this.visualMapModel,l={};if("symbol"===e&&(l.symbol=s.get("itemSymbol")),"color"===e){var c=s.get("contentColor");l.color=c}var h=s.controllerVisuals[a||s.getValueState(t)],p=u.prepareVisualTypes(h);return i.each(p,function(i){var a=h[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",a=h.__alphaForOpacity),u.dependsOn(i,e)&&a&&a.applyVisual(t,r,o)}),l[e]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;a.positionGroup(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:i.noop})},function(t,e,n){var i=n(21),r={getItemAlign:function(t,e,n){var r=t.option,o=r.align;if(null!=o&&"auto"!==o)return o;for(var a={width:e.getWidth(),height:e.getHeight()},s="horizontal"===r.orient?1:0,u=[["left","right","width"],["top","bottom","height"]],l=u[s],c=[0,null,10],h={},p=0;3>p;p++)h[u[1-s][p]]=c[p],h[l[p]]=2===p?n[0]:r[l[p]];var d=[["x","width",3],["y","height",0]][s],f=i.getLayoutRect(h,a,r.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*a[d[1]]?0:1]}};t.exports=r},function(t,e,n){var i=n(1),r={type:"selectDataRange",event:"dataRangeSelected",update:"update"};i.registerAction(r,function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})})},function(t,e,n){n(1).registerPreprocessor(n(332)),n(333),n(334),n(343),n(344),n(341)},function(t,e,n){function i(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}function r(t){function e(t,n,i){return i=i||0,t.interval[i]<n.interval[i]||t.interval[i]===n.interval[i]&&(+t.close[i]>n.close[i]||e(t,n,1))}t.sort(function(t,n){return e(t,n)?-1:1});for(var n=-1/0,i=0;i<t.length;i++)for(var r=t[i].interval,o=t[i].close,a=0;2>a;a++)r[a]<n&&(r[a]=n,o[a]=1-a),n=r[a]}var o=n(336),a=n(4),s=n(192),u=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0},optionUpdated:function(t,e){u.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetTargetSeries(),this.resetExtent();var n=this._mode=this._determineMode();l[this._mode].call(this),this._resetSelected(t,e);var i=this.option.categories;this.resetVisual(function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=a.clone(i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=a.map(this._pieceList,function(t){var t=a.clone(t);return"inRange"!==e&&(t.visual=null),t}))})},_resetSelected:function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,a.each(i,function(t){var e=this.getSelectedMapKey(t);e in r||(r[e]=!0)},this),"single"===n.selectedMode){var o=!1;a.each(i,function(t){var e=this.getSelectedMapKey(t);r[e]&&(o?r[e]=!1:o=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=a.clone(t)},getValueState:function(t){var e=s.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(e,n){var r=s.findPieceIndex(e,this._pieceList);r===t&&i.push(n)},!0,this),e.push({seriesId:n.id,dataIndex:i})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=(n[0]+n[1])/2}return e},getStops:function(t,e){function n(t){i.push(t),t.color=e(r,r.getRepresentValue(t),t.valueState)}var i=[],r=this,o=-1/0;return a.each(this._pieceList,function(t){var e=t.interval;e&&(e[0]>o&&n({interval:[o,e[0]],valueState:"outOfRange"}),n({interval:e.slice(),valueState:this.getValueState((e[0]+e[1])/2)}),o=e[1])},this),i}}),l={splitNumber:function(){var t=this.option,e=this._pieceList,n=t.precision,i=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var s=(i[1]-i[0])/o;+s.toFixed(n)!==s&&5>n;)n++;t.precision=n,s=+s.toFixed(n);for(var u=0,l=i[0];o>u;u++,l+=s){var c=u===o-1?i[1]:l+s;e.push({index:u,interval:[l,c],close:[1,1]})}r(e),a.each(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;a.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),i(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;a.each(t.pieces,function(t,n){a.isObject(t)||(t={value:t});var i={text:"",index:n};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var r=i.value=t.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],u=i.close=[0,0],l=[1,0,1],c=[-1/0,1/0],h=[],p=0;2>p;p++){for(var d=[["gte","gt","min"],["lte","lt","max"]][p],f=0;3>f&&null==o[p];f++)o[p]=t[d[f]],u[p]=l[f],h[p]=2===f;null==o[p]&&(o[p]=c[p])}h[0]&&1/0===o[1]&&(u[0]=0),h[1]&&o[0]===-1/0&&(u[1]=0),o[0]>o[1]&&console.warn("Piece "+n+"is illegal: "+o+" lower bound should not greater then uppper bound."),o[0]===o[1]&&u[0]&&u[1]&&(i.value=o[0])}i.visual=s.retrieveVisuals(t),e.push(i)},this),i(t,e),r(e),a.each(e,function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}};t.exports=u},function(t,e,n){var i=n(339),r=n(4),o=n(43),a=n(106),s=n(21),u=n(340),l=i.extend({type:"visualMap.piecewise",doRender:function(){function t(t){var a=t.piece,s=new o.Group;s.onclick=r.bind(this._onItemClick,this,a),this._enableHoverLink(s,t.indexInModelPieceList);var p=n.getRepresentValue(a);if(this._createItemSymbol(s,p,[0,0,h[0],h[1]]),d){var f=this.visualMapModel.getValueState(p);s.add(new o.Text({style:{x:"right"===c?-i:h[0]+i,y:h[1]/2,text:a.text,textVerticalAlign:"middle",textAlign:c,textFont:u,fill:l,opacity:"outOfRange"===f?.5:1}}))}e.add(s)}var e=this.group;e.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,u=a.getFont(),l=a.getTextColor(),c=this._getItemAlign(),h=n.itemSize,p=this._getViewData(),d=!p.endsText,f=!d;f&&this._renderEndsText(e,p.endsText[0],h),r.each(p.viewPieceList,t,this),f&&this._renderEndsText(e,p.endsText[1],h),s.box(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(t,e){function n(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:t,batch:n.findTargetDataIndices(e)})}t.on("mouseover",r.bind(n,this,"highlight")).on("mouseout",r.bind(n,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return u.getItemAlign(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(t,e,n){if(e){var i=new o.Group,r=this.visualMapModel.textStyleModel;i.add(new o.Text({style:{x:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:"center",text:e,textFont:r.getFont(),fill:r.getTextColor()}})),t.add(i)}},_getViewData:function(){var t=this.visualMapModel,e=r.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),i=t.get("orient"),o=t.get("inverse");return("horizontal"===i?o:!o)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(a.createSymbol(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,i=r.clone(n.selected),o=e.getSelectedMapKey(t);"single"===n.selectedMode?(i[o]=!0,r.each(i,function(t,e){i[e]=e===o})):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});t.exports=l},function(t,e,n){n(346),n(348),n(1).registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},function(t,e,n){t.exports=n(347).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(t,e,n){function i(t){r.defaultEmphasis(t.label,r.LABEL_OPTIONS)}var r=n(5),o=n(4),a=n(2),s=n(6),u=s.addCommas,l=s.encodeHTML,c=n(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,n,i){if("marker"===this.type)throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(t,n),this.mergeOption(t,n,i.createdBySelf,!0)},ifEnableAnimation:function(){if(a.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.ifEnableAnimation()},mergeOption:function(t,e,n,r){var a=this.constructor,s=this.mainType+"Model";n||e.eachSeries(function(t){var n=t.get(this.mainType),u=t[s];if(!n||!n.data)return void(t[s]=null);if(u)u.mergeOption(n,e,!0);else{r&&i(n),o.each(n.data,function(t){t instanceof Array?(i(t[0]),i(t[1])):i(t)});var l={mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0};u=new a(n,this,e,l),u.__hostSeries=t}t[s]=u},this)},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=o.isArray(n)?o.map(n,u).join(", "):u(n),r=e.getName(t),a=this.name;return(null!=n||r)&&(a+="<br />"),r&&(a+=l(r),null!=n&&(a+=" : ")),null!=n&&(a+=i),a},getData:function(){return this._data},setData:function(t){this._data=t}});o.mixin(c,r.dataFormatMixin),t.exports=c},function(t,e,n){function i(t,e,n){var i=e.coordinateSystem;t.each(function(r){var o,a=t.getItemModel(r),u=s.parsePercent(a.get("x"),n.getWidth()),l=s.parsePercent(a.get("y"),n.getHeight());if(isNaN(u)||isNaN(l)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var c=t.get(i.dimensions[0],r),h=t.get(i.dimensions[1],r);o=i.dataToPoint([c,h])}}else o=[u,l];isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l),t.setItemLayout(r,o)})}function r(t,e,n){var i;i=t?a.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n}):[{name:"value",type:"float"}];var r=new u(i,n),o=a.map(n.get("data"),a.curry(l.dataTransform,e));return t&&(o=a.filter(o,a.curry(l.dataFilter,t))),r.initData(o,null,t?l.dimValueGetter:function(t){return t.value}),r}var o=n(104),a=n(4),s=n(7),u=n(97),l=n(349);n(350).extend({type:"markPoint",updateLayout:function(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(i(e.getData(),t,n),this.markerGroupMap[t.name].updateLayout(e))},this)},renderSeries:function(t,e,n,a){var s=t.coordinateSystem,u=t.name,l=t.getData(),c=this.markerGroupMap,h=c[u];h||(h=c[u]=new o);var p=r(s,t,e);e.setData(p),i(e.getData(),t,a),p.each(function(t){var n=p.getItemModel(t),i=n.getShallow("symbolSize");"function"==typeof i&&(i=i(e.getRawValue(t),e.getDataParams(t))),p.setItemVisual(t,{symbolSize:i,color:n.get("itemStyle.normal.color")||l.getVisual("color"),symbol:n.getShallow("symbol")})}),h.updateData(p),this.group.add(h.group),p.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),h.__keep=!0,h.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){function i(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function r(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function o(t,e,n){var i=-1;do i=Math.max(u.getPrecision(t.get(e,n)),i),t=t.stackedOn;while(t);return i}function a(t,e,n,i,r,a){var s=[],u=m(e,i,t),l=e.indexOfNearest(i,u,!0);s[r]=e.get(n,l,!0),s[a]=e.get(i,l,!0);var c=o(e,i,l);return c>=0&&(s[a]=+s[a].toFixed(c)),s}var s=n(4),u=n(7),l=s.indexOf,c=s.curry,h={min:c(a,"min"),max:c(a,"max"),average:c(a,"average")},p=function(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&!r(e)&&!s.isArray(e.coord)&&i){var o=i.dimensions,a=d(e,n,i,t);if(e=s.clone(e),e.type&&h[e.type]&&a.baseAxis&&a.valueAxis){var u=l(o,a.baseAxis.dim),c=l(o,a.valueAxis.dim);e.coord=h[e.type](n,a.baseDataDim,a.valueDataDim,u,c),e.value=e.coord[c]}else{for(var p=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],f=0;2>f;f++)if(h[p[f]]){var g=t.coordDimToDataDim(o[f])[0];p[f]=m(n,g,p[f])}e.coord=p}}return e},d=function(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(i.dataDimToCoordDim(r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=i.coordDimToDataDim(r.baseAxis.dim)[0]):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=i.coordDimToDataDim(r.baseAxis.dim)[0],r.valueDataDim=i.coordDimToDataDim(r.valueAxis.dim)[0]),r},f=function(t,e){return t&&t.containData&&e.coord&&!i(e)?t.containData(e.coord):!0},g=function(t,e,n,i){return 2>i?t.coord&&t.coord[i]:t.value},m=function(t,e,n){if("average"===n){var i=0,r=0;return t.each(e,function(t){isNaN(t)||(i+=t,r++)},!0),i/r}return t.getDataExtent(e,!0)["max"===n?1:0]};t.exports={dataTransform:p,dataFilter:f,dimValueGetter:g,getAxisInfo:d,numCalculate:m}},function(t,e,n){t.exports=n(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(t,e,n){var i=this.markerGroupMap;for(var r in i)i[r].__keep=!1;var o=this.type+"Model";e.eachSeries(function(t){var i=t[o];i&&this.renderSeries(t,i,e,n)},this);for(var r in i)i[r].__keep||this.group.remove(i[r].group)},renderSeries:function(){}})},function(t,e,n){n(352),n(353),n(1).registerPreprocessor(function(t){t.markLine=t.markLine||{}})},function(t,e,n){t.exports=n(347).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(t,e,n){function i(t){return!isNaN(t)&&!isFinite(t)}function r(t,e,n,r){var o=1-t,a=r.dimensions[t];return i(e[o])&&i(n[o])&&e[t]===n[t]&&r.getAxis(a).containData(e[t])}function o(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(r(1,n,i,t)||r(0,n,i,t)))return!0}return h.dataFilter(t,e[0])&&h.dataFilter(t,e[1])}function a(t,e,n,r,o){var a,s=r.coordinateSystem,u=t.getItemModel(e),l=c.parsePercent(u.get("x"),o.getWidth()),h=c.parsePercent(u.get("y"),o.getHeight());if(isNaN(l)||isNaN(h)){if(r.getMarkerPosition)a=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var p=s.dimensions,d=t.get(p[0],e),f=t.get(p[1],e);a=s.dataToPoint([d,f])}if("cartesian2d"===s.type){var g=s.getAxis("x"),m=s.getAxis("y"),p=s.dimensions;i(t.get(p[0],e))?a[0]=g.toGlobalCoord(g.getExtent()[n?0:1]):i(t.get(p[1],e))&&(a[1]=m.toGlobalCoord(m.getExtent()[n?0:1]))}isNaN(l)||(a[0]=l),isNaN(h)||(a[1]=h)}else a=[l,h];t.setItemLayout(e,a)}function s(t,e,n){var i;i=t?u.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n}):[{name:"value",type:"float"}];var r=new l(i,n),a=new l(i,n),s=new l([],n),c=u.map(n.get("data"),u.curry(d,e,t,n));t&&(c=u.filter(c,u.curry(o,t)));var p=t?h.dimValueGetter:function(t){return t.value};return r.initData(u.map(c,function(t){return t[0]}),null,p),a.initData(u.map(c,function(t){return t[1]}),null,p),s.initData(u.map(c,function(t){return t[2]})),s.hasItemOption=!0,{from:r,to:a,line:s}}var u=n(4),l=n(97),c=n(7),h=n(349),p=n(199),d=function(t,e,n,i){var r=t.getData(),o=i.type;if(!u.isArray(i)&&("min"===o||"max"===o||"average"===o||null!=i.xAxis||null!=i.yAxis)){var a,s,l;if(null!=i.yAxis||null!=i.xAxis)s=null!=i.yAxis?"y":"x",a=e.getAxis(s),l=u.retrieve(i.yAxis,i.xAxis);else{var c=h.getAxisInfo(i,r,e,t);s=c.valueDataDim,a=c.valueAxis,l=h.numCalculate(r,s,o)}var p="x"===s?0:1,d=1-p,f=u.clone(i),g={};f.type=null,f.coord=[],g.coord=[],f.coord[d]=-1/0,g.coord[d]=1/0;var m=n.get("precision");m>=0&&(l=+l.toFixed(m)),f.coord[p]=g.coord[p]=l,i=[f,g,{type:o,valueIndex:i.valueIndex,value:l}]}return i=[h.dataTransform(t,i[0]),h.dataTransform(t,i[1]),u.extend({},i[2])],i[2].type=i[2].type||"",u.merge(i[2],i[0]),u.merge(i[2],i[1]),i};n(350).extend({type:"markLine",updateLayout:function(t,e,n){e.eachSeries(function(t){var e=t.markLineModel;if(e){var i=e.getData(),r=e.__from,o=e.__to;r.each(function(e){a(r,e,!0,t,n),a(o,e,!1,t,n)}),i.each(function(t){i.setItemLayout(t,[r.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap[t.name].updateLayout()}},this)},renderSeries:function(t,e,n,i){function r(e,n,r){var o=e.getItemModel(n);a(e,n,r,t,i),e.setItemVisual(n,{symbolSize:o.get("symbolSize")||_[r?0:1],symbol:o.get("symbol",!0)||y[r?0:1],color:o.get("itemStyle.normal.color")||c.getVisual("color")})}var o=t.coordinateSystem,l=t.name,c=t.getData(),h=this.markerGroupMap,d=h[l];d||(d=h[l]=new p),this.group.add(d.group);var f=s(o,t,e),g=f.from,m=f.to,v=f.line;e.__from=g,e.__to=m,e.setData(v);var y=e.get("symbol"),_=e.get("symbolSize");u.isArray(y)||(y=[y,y]),"number"==typeof _&&(_=[_,_]),f.from.each(function(t){r(g,t,!0),r(m,t,!1)}),v.each(function(t){var e=v.getItemModel(t).get("lineStyle.normal.color");v.setItemVisual(t,{color:e||g.getItemVisual(t,"color")}),v.setItemLayout(t,[g.getItemLayout(t),m.getItemLayout(t)]),v.setItemVisual(t,{fromSymbolSize:g.getItemVisual(t,"symbolSize"),fromSymbol:g.getItemVisual(t,"symbol"),toSymbolSize:m.getItemVisual(t,"symbolSize"),toSymbol:m.getItemVisual(t,"symbol")})}),d.updateData(v),f.line.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),d.__keep=!0,d.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){n(355),n(356),n(1).registerPreprocessor(function(t){t.markArea=t.markArea||{}})},function(t,e,n){t.exports=n(347).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(t,e,n){function i(t){return!isNaN(t)&&!isFinite(t)}function r(t,e,n){var r=1-t;return i(e[r])&&i(n[r])}function o(t,e){var n=e.coord[0],i=e.coord[1];return"cartesian2d"===t.type&&n&&i&&(r(1,n,i,t)||r(0,n,i,t))?!0:d.dataFilter(t,{coord:n,x:e.x0,y:e.y0})||d.dataFilter(t,{coord:i,x:e.x1,y:e.y1})}function a(t,e,n,r,o){var a,s=r.coordinateSystem,u=t.getItemModel(e),l=c.parsePercent(u.get(n[0]),o.getWidth()),h=c.parsePercent(u.get(n[1]),o.getHeight());if(isNaN(l)||isNaN(h)){if(r.getMarkerPosition)a=r.getMarkerPosition(t.getValues(n,e));else{var p=t.get(n[0],e),d=t.get(n[1],e);a=s.dataToPoint([p,d],!0)}if("cartesian2d"===s.type){var f=s.getAxis("x"),g=s.getAxis("y"),p=t.get(n[0],e),d=t.get(n[1],e);i(p)?a[0]=f.toGlobalCoord(f.getExtent()["x0"===n[0]?0:1]):i(d)&&(a[1]=g.toGlobalCoord(g.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(h)||(a[1]=h)}else a=[l,h];return a}function s(t,e,n){var i,r,a=["x0","y0","x1","y1"];t?(i=u.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n}),r=new l(u.map(a,function(t,e){return{name:t,type:i[e%2].type}}),n)):(i=[{name:"value",type:"float"}],r=new l(i,n));var s=u.map(n.get("data"),u.curry(f,e,t,n));t&&(s=u.filter(s,u.curry(o,t)));var c=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return r.initData(s,null,c),r.hasItemOption=!0,r}var u=n(4),l=n(97),c=n(7),h=n(43),p=n(39),d=n(349),f=function(t,e,n,i){var r=d.dataTransform(t,i[0]),o=d.dataTransform(t,i[1]),a=u.retrieve,s=r.coord,l=o.coord;s[0]=a(s[0],-1/0),s[1]=a(s[1],-1/0),l[0]=a(l[0],1/0),l[1]=a(l[1],1/0);var c=u.mergeAll([{},r,o]);return c.coord=[r.coord,o.coord],c.x0=r.x,c.y0=r.y,c.x1=o.x,c.y1=o.y,c},g=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];n(350).extend({type:"markArea",updateLayout:function(t,e,n){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var i=e.getData();i.each(function(e){var r=u.map(g,function(r){return a(i,e,r,t,n)});i.setItemLayout(e,r);var o=i.getItemGraphicEl(e);o.setShape("points",r)})}},this)},renderSeries:function(t,e,n,i){var r=t.coordinateSystem,o=t.name,l=t.getData(),c=this.markerGroupMap,d=c[o];d||(d=c[o]={group:new h.Group}),this.group.add(d.group),d.__keep=!0;var f=s(r,t,e);e.setData(f),f.each(function(e){f.setItemLayout(e,u.map(g,function(n){return a(f,e,n,t,i)})),f.setItemVisual(e,{color:l.getVisual("color")})}),f.diff(d.__data).add(function(t){var e=new h.Polygon({shape:{points:f.getItemLayout(t)}});f.setItemGraphicEl(t,e),d.group.add(e)}).update(function(t,n){var i=d.__data.getItemGraphicEl(n);h.updateProps(i,{shape:{points:f.getItemLayout(t)}},e,t),d.group.add(i),f.setItemGraphicEl(t,i)}).remove(function(t){var e=d.__data.getItemGraphicEl(t);d.group.remove(e)}).execute(),f.eachItemGraphicEl(function(t,n){var i=f.getItemModel(n),r=i.getModel("label.normal"),o=i.getModel("label.emphasis"),a=f.getItemVisual(n,"color");t.useStyle(u.defaults(i.getModel("itemStyle.normal").getItemStyle(),{fill:p.modifyAlpha(a,.4),stroke:a})),t.hoverStyle=i.getModel("itemStyle.normal").getItemStyle();var s=f.getName(n)||"",l=a||t.style.fill;h.setText(t.style,r,l),t.style.text=u.retrieve(e.getFormattedLabel(n,"normal"),s),h.setText(t.hoverStyle,o,l),t.hoverStyle.text=u.retrieve(e.getFormattedLabel(n,"emphasis"),s),h.setHoverStyle(t,{}),t.dataModel=e}),d.__data=f,d.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){var i=n(1);i.registerPreprocessor(n(358)),n(359),n(360),n(361),n(363)},function(t,e,n){function i(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),r(t),o(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});o(i,"position")||(i.position=t.controlPosition),"none"!==i.position||o(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}a.each(t.data||[],function(t){a.isObject(t)&&!a.isArray(t)&&(!o(t,"value")&&o(t,"name")&&(t.value=t.name),r(t))})}function r(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),s={normal:1,emphasis:1};a.each(i,function(t,e){s[e]||o(r,e)||(r[e]=t)}),n.label&&!o(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function o(t,e){return t.hasOwnProperty(e)}var a=n(4);t.exports=function(t){var e=t&&t.timeline;a.isArray(e)||(e=e?[e]:[]),a.each(e,function(t){t&&i(t)})}},function(t,e,n){n(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(t,e,n){var i=n(1);i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline")}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)})},function(t,e,n){var i=n(362),r=n(4),o=n(5),a=i.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});
r.mixin(a,o.dataFormatMixin),t.exports=a},function(t,e,n){var i=n(19),r=n(97),o=n(4),a=n(5),s=i.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),0>t&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,i=this._names=[];if("category"===n){var s=[];o.each(e,function(t,e){var n,r=a.getDataItemValue(t);o.isObject(t)?(n=o.clone(t),n.value=e):n=e,s.push(n),o.isString(r)||null!=r&&!isNaN(r)||(r=""),i.push(r+"")}),e=s}var u={category:"ordinal",time:"time"}[n]||"number",l=this._data=new r([{name:"value",type:u}],this);l.initData(e,i)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}});t.exports=s},function(t,e,n){function i(t,e){return l.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function r(t,e,n,i){var r=u.makePath(t.get(e).replace(/^path:\/\//,""),s.clone(i||{}),new f(n[0],n[1],n[2],n[3]),"center");return r}function o(t,e,n,i,r,o){var a=t.get("symbol"),u=e.get("color"),l=t.get("symbolSize"),c=l/2,h=e.getItemStyle(["color","symbol","symbolSize"]);return r?(r.setStyle(h),r.setColor(u),n.add(r),o&&o.onUpdate(r)):(r=p.createSymbol(a,-c,-c,l,l,u),n.add(r),o&&o.onCreate(r)),i=s.merge({rectHover:!0,style:h,z2:100},i,!0),r.attr(i),r}function a(t,e,n,i,r){if(!t.dragging){var o=i.getModel("checkpointStyle"),a=n.dataToCoord(i.getData().get(["value"],e));r||!o.get("animation",!0)?t.attr({position:[a,0]}):(t.stopAnimation(!0),t.animateTo({position:[a,0]},o.get("animationDuration",!0),o.get("animationEasing",!0)))}}var s=n(4),u=n(43),l=n(21),c=n(364),h=n(365),p=n(106),d=n(114),f=n(9),g=n(11),m=n(7),v=n(6),y=v.encodeHTML,_=s.bind,b=s.each,x=Math.PI;t.exports=c.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),r=this._createGroup("mainGroup"),o=this._createGroup("labelGroup"),a=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return y(a.scale.getLabel(t))},b(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](i,r,a,t)},this),this._renderAxisLabel(i,o,a,t),this._position(i,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.normal.position"),r=t.get("orient"),o=i(t,e);null==n||"auto"===n?n="horizontal"===r?o.y+o.height/2<e.getHeight()/2?"-":"+":o.x+o.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][n]);var a={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},s={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:x/2},l="vertical"===r?o.height:o.width,c=t.getModel("controlStyle"),h=c.get("show"),p=h?c.get("itemSize"):0,d=h?c.get("itemGap"):0,f=p+d,g=t.get("label.normal.rotate")||0;g=g*x/180;var m,v,y,_,b=c.get("position",!0),h=c.get("show",!0),w=h&&c.get("showPlayBtn",!0),k=h&&c.get("showPrevBtn",!0),T=h&&c.get("showNextBtn",!0),S=0,$=l;return"left"===b||"bottom"===b?(w&&(m=[0,0],S+=f),k&&(v=[S,0],S+=f),T&&(y=[$-p,0],$-=f)):(w&&(m=[$-p,0],$-=f),k&&(v=[0,0],S+=f),T&&(y=[$-p,0],$-=f)),_=[S,$],t.get("inverse")&&_.reverse(),{viewRect:o,mainLength:l,orient:r,rotation:u[r],labelRotation:g,labelPosOpt:n,labelAlign:a[r],labelBaseline:s[r],playPosition:m,prevBtnPosition:v,nextBtnPosition:y,axisExtent:_,controlSize:p,controlGap:d}},_position:function(t){function e(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function i(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}var r=this._mainGroup,o=this._labelGroup,a=t.viewRect;if("vertical"===t.orient){var s=g.create(),u=a.x,l=a.y+a.height;g.translate(s,s,[-u,-l]),g.rotate(s,s,-x/2),g.translate(s,s,[u,l]),a=a.clone(),a.applyTransform(s)}var c=n(a),h=n(r.getBoundingRect()),p=n(o.getBoundingRect()),d=r.position,f=o.position;f[0]=d[0]=c[0][0];var m=t.labelPosOpt;if(isNaN(m)){var v="+"===m?0:1;i(d,h,c,1,v),i(f,p,c,1,1-v)}else{var v=m>=0?0:1;i(d,h,c,1,v),f[1]=d[1]+m}r.attr("position",d),o.attr("position",f),r.rotation=o.rotation=t.rotation,e(r),e(o)},_createAxis:function(t,e){var n=e.getData(),i=e.get("axisType"),r=d.createScaleByModel(e,i),o=n.getDataExtent("value");r.setExtent(o[0],o[1]),this._customizeScale(r,n),r.niceTicks();var a=new h("value",r,t.axisExtent,i);return a.model=e,a},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray(["value"],function(t){return t})},t.getTicksLabels=function(){return s.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new u.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,n,i){var r=n.getExtent();i.get("lineStyle.show")&&e.add(new u.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:s.extend({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,i){var r=i.getData(),a=n.scale.getTicks();b(a,function(t,a){var s=n.dataToCoord(t),l=r.getItemModel(a),c=l.getModel("itemStyle.normal"),h=l.getModel("itemStyle.emphasis"),p={position:[s,0],onclick:_(this._changeTimeline,this,a)},d=o(l,c,e,p);u.setHoverStyle(d,h.getItemStyle()),l.get("tooltip")?(d.dataIndex=a,d.dataModel=i):d.dataIndex=d.dataModel=null},this)},_renderAxisLabel:function(t,e,n,i){var r=i.getModel("label.normal");if(r.get("show")){var o=i.getData(),a=n.scale.getTicks(),s=d.getFormattedLabels(n,r.get("formatter")),l=n.getLabelInterval();b(a,function(i,r){if(!n.isLabelIgnored(r,l)){var a=o.getItemModel(r),c=a.getModel("label.normal.textStyle"),h=a.getModel("label.emphasis.textStyle"),p=n.dataToCoord(i),d=new u.Text({style:{text:s[r],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline,textFont:c.getFont(),fill:c.getTextColor()},position:[p,0],rotation:t.labelRotation-t.rotation,onclick:_(this._changeTimeline,this,r),silent:!1});e.add(d),u.setHoverStyle(d,h.getItemStyle())}},this)}},_renderControl:function(t,e,n,i){function o(t,n,o,p){if(t){var d={position:t,origin:[a/2,0],rotation:p?-s:0,rectHover:!0,style:l,onclick:o},f=r(i,n,h,d);e.add(f),u.setHoverStyle(f,c)}}var a=t.controlSize,s=t.rotation,l=i.getModel("controlStyle.normal").getItemStyle(),c=i.getModel("controlStyle.emphasis").getItemStyle(),h=[0,-a/2,a,a],p=i.getPlayState(),d=i.get("inverse",!0);o(t.nextBtnPosition,"controlStyle.nextIcon",_(this._changeTimeline,this,d?"-":"+")),o(t.prevBtnPosition,"controlStyle.prevIcon",_(this._changeTimeline,this,d?"+":"-")),o(t.playPosition,"controlStyle."+(p?"stopIcon":"playIcon"),_(this._handlePlayClick,this,!p),!0)},_renderCurrentPointer:function(t,e,n,i){var r=i.getData(),s=i.getCurrentIndex(),u=r.getItemModel(s).getModel("checkpointStyle"),l=this,c={onCreate:function(t){t.draggable=!0,t.drift=_(l._handlePointerDrag,l),t.ondragend=_(l._handlePointerDragend,l),a(t,s,n,i,!0)},onUpdate:function(t){a(t,s,n,i)}};this._currentPointer=o(u,u,this._mainGroup,{},this._currentPointer,c)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],i=this._axis,r=m.asc(i.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(_(t,this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return u.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-t);i>s&&(i=s,e=o)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}})},function(t,e,n){var i=n(29);t.exports=i.extend({type:"timeline"})},function(t,e,n){var i=n(4),r=n(123),o=n(114),a=function(t,e,n,i){r.call(this,t,e,n),this.type=i||"value",this._autoLabelInterval,this.model=null};a.prototype={constructor:a,getLabelInterval:function(){var t=this.model,e=t.getModel("label.normal"),n=e.get("interval");if(null!=n&&"auto"!=n)return n;var n=this._autoLabelInterval;return n||(n=this._autoLabelInterval=o.getAxisLabelInterval(i.map(this.scale.getTicks(),this.dataToCoord,this),o.getFormattedLabels(this,e.get("formatter")),e.getModel("textStyle").getFont(),"horizontal"===t.get("orient"))),n},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},i.inherits(a,r),t.exports=a},function(t,e,n){n(367),n(368),n(370),n(371),n(372),n(373),n(378)},function(t,e,n){var i=n(314),r=n(4),o=n(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(){o.superApply(this,"mergeDefaultAndTheme",arguments),r.each(this.option.feature,function(t,e){var n=i.get(e);n&&r.merge(t,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});t.exports=o},function(t,e,n){(function(){function e(t){return 0===t.indexOf("my")}var i=n(314),r=n(4),o=n(43),a=n(12),s=n(98),u=n(277),l=n(8);t.exports=n(1).extendComponentView({type:"toolbox",render:function(t,n,c,h){function p(r,o){var s,u=y[r],l=y[o],p=m[u],f=new a(p,t,t.ecModel);if(u&&!l){if(e(u))s={model:f,onclick:f.option.onclick,featureName:u};else{var g=i.get(u);if(!g)return;s=new g(f,n,c)}v[u]=s}else{if(s=v[l],!s)return;s.model=f,s.ecModel=n,s.api=c}return!u&&l?void(s.dispose&&s.dispose(n,c)):!f.get("show")||s.unusable?void(s.remove&&s.remove(n,c)):(d(f,s,u),f.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&i[t].trigger(e)},void(s.render&&s.render(f,n,c,h)))}function d(e,i,a){var s=e.getModel("iconStyle"),u=i.getIcons?i.getIcons():e.get("icon"),l=e.get("title")||{};if("string"==typeof u){var h=u,p=l;u={},l={},u[a]=h,l[a]=p}var d=e.iconPaths={};r.each(u,function(a,u){var h=s.getModel("normal").getItemStyle(),p=s.getModel("emphasis").getItemStyle(),m={x:-g/2,y:-g/2,width:g,height:g},v=0===a.indexOf("image://")?(m.image=a.slice(8),new o.Image({style:m})):o.makePath(a.replace("path://",""),{style:h,hoverStyle:p,rectHover:!0},m,"center");o.setHoverStyle(v),t.get("showTitle")&&(v.__title=l[u],v.on("mouseover",function(){v.setStyle({text:l[u],textPosition:p.textPosition||"bottom",textFill:p.fill||p.stroke||"#000",textAlign:p.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})})),v.trigger(e.get("iconStatus."+u)||"normal"),f.add(v),v.on("click",r.bind(i.onclick,i,n,c,u)),d[u]=v})}var f=this.group;if(f.removeAll(),t.get("show")){var g=+t.get("itemSize"),m=t.get("feature")||{},v=this._features||(this._features={}),y=[];r.each(m,function(t,e){y.push(e)}),new s(this._featureNames||[],y).add(p).update(p).remove(r.curry(p,null)).execute(),this._featureNames=y,u.layout(f,t,c),u.addBackground(f,t),f.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var i=l.getBoundingRect(e,n.font),r=t.position[0]+f.position[0],o=t.position[1]+f.position[1]+g,a=!1;o+i.height>c.getHeight()&&(n.textPosition="top",a=!0);var s=a?-5-i.height:g+8;r+i.width/2>c.getWidth()?(n.textPosition=["100%",s],n.textAlign="right"):r-i.width/2<0&&(n.textPosition=[0,s],n.textAlign="left")}})}},updateView:function(t,e,n,i){r.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,i)})},updateLayout:function(t,e,n,i){r.each(this._features,function(t){t.updateLayout&&t.updateLayout(t.model,e,n,i)})},remove:function(t,e){r.each(this._features,function(n){n.remove&&n.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){r.each(this._features,function(n){n.dispose&&n.dispose(t,e)})}})}).call(e,n(369))},function(t){function e(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&n())}function n(){if(!c){var t=o(e);c=!0;for(var n=l.length;n;){for(u=l,l=[];++h<n;)u&&u[h].run();h=-1,n=l.length}u=null,c=!1,a(t)}}function i(t,e){this.fun=t,this.array=e}function r(){}var o,a,s=t.exports={};!function(){try{o=setTimeout}catch(t){o=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(t){a=function(){throw new Error("clearTimeout is not defined")}}}();var u,l=[],c=!1,h=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new i(t,e)),1!==l.length||c||o(n,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=r,s.addListener=r,s.once=r,s.off=r,s.removeListener=r,s.removeAllListeners=r,s.emit=r,s.binding=function(){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,n){function i(t){this.model=t}var r=n(2);i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:[""]},i.prototype.unusable=!r.canvasSupported;var o=i.prototype;o.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",r=document.createElement("a"),o=n.get("type",!0)||"png";r.download=i+"."+o,r.target="_blank";var a=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(r.href=a,"function"==typeof MouseEvent){var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(s)}else{var u=n.get("lang"),l='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(u&&u[0]||"")+'" /></body>',c=window.open();c.document.write(l)}},n(314).register("saveAsImage",i),t.exports=i},function(t,e,n){"use strict";function i(t){this.model=t}var r=n(4);i.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"",bar:"",stack:"",tiled:""},option:{},seriesIndex:{}};var o=i.prototype;o.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return r.each(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n};var a={line:function(t,e,n,i){return"bar"===t?r.merge({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0):void 0},bar:function(t,e,n,i){return"line"===t?r.merge({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0):void 0},stack:function(t,e,n,i){return"line"===t||"bar"===t?r.merge({id:e,stack:"__ec_magicType_stack__"},i.get("option.stack")||{},!0):void 0},tiled:function(t,e,n,i){return"line"===t||"bar"===t?r.merge({id:e,stack:""},i.get("option.tiled")||{},!0):void 0}},s=[["line","bar"],["stack","tiled"]];o.onclick=function(t,e,n){var i=this.model,o=i.get("seriesIndex."+n);if(a[n]){var u={series:[]},l=function(e){var o=e.subType,s=e.id,l=a[n](o,s,e,i);l&&(r.defaults(l,e.option),u.series.push(l));var c=e.coordinateSystem;if(c&&"cartesian2d"===c.type&&("line"===n||"bar"===n)){var h=c.getAxesByScale("ordinal")[0];if(h){var p=h.dim,d=p+"Axis",f=t.queryComponents({mainType:d,index:e.get(name+"Index"),id:e.get(name+"Id")})[0],g=f.componentIndex;u[d]=u[d]||[];for(var m=0;g>=m;m++)u[d][g]=u[d][g]||{};u[d][g].boundaryGap="bar"===n?!0:!1}}};r.each(s,function(t){r.indexOf(t,n)>=0&&r.each(t,function(t){i.setIconStatus(t,"normal")})}),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},l),e.dispatchAction({type:"changeMagicType",currentType:n,newOption:u})}};var u=n(1);u.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),n(314).register("magicType",i),t.exports=i},function(t,e,n){function i(t){var e={},n=[],i=[];return t.eachRawSeries(function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(t);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:i}}function r(t){var e=[];return f.each(t,function(t){var n=t.categoryAxis,i=t.valueAxis,r=i.dim,o=[" "].concat(f.map(t.series,function(t){return t.name})),a=[n.model.getCategories()];f.each(t.series,function(t){a.push(t.getRawData().mapArray(r,function(t){return t}))});for(var s=[o.join(v)],u=0;u<a[0].length;u++){for(var l=[],c=0;c<a.length;c++)l.push(a[c][u]);s.push(l.join(v))}e.push(s.join("\n"))}),e.join("\n\n"+m+"\n\n")}function o(t){return f.map(t,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var t=arguments.length,r=arguments[t-1],o=e.getName(r),a=0;t-1>a;a++)i[a]=arguments[a];n.push((o?o+v:"")+i.join(v))}),n.join("\n")}).join("\n\n"+m+"\n\n")}function a(t){var e=i(t);return{value:f.filter([r(e.seriesGroupByCategoryAxis),o(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+m+"\n\n"),meta:e.meta}}function s(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function u(t){var e=t.slice(0,t.indexOf("\n"));return e.indexOf(v)>=0?!0:void 0}function l(t){for(var e=t.split(/\n+/g),n=s(e.shift()).split(y),i=[],r=f.map(n,function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var a=s(e[o]).split(y);i.push(a.shift());for(var u=0;u<a.length;u++)r[u]&&(r[u].data[o]=a[u])}return{series:r,categories:i}}function c(t){for(var e=t.split(/\n+/g),n=s(e.shift()),i=[],r=0;r<e.length;r++){var o,a=s(e[r]).split(y),u="",l=!1;isNaN(a[0])?(l=!0,u=a[0],a=a.slice(1),i[r]={name:u,value:[]},o=i[r].value):o=i[r]=[];for(var c=0;c<a.length;c++)o.push(+a[c]);1===o.length&&(l?i[r].value=o[0]:i[r]=o[0])}return{name:n,data:i}}function h(t,e){var n=t.split(new RegExp("\n*"+m+"\n*","g")),i={series:[]};return f.each(n,function(t,n){if(u(t)){var r=l(t),o=e[n],a=o.axisDim+"Axis";o&&(i[a]=i[a]||[],i[a][o.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{var r=c(t);i.series.push(r)}}),i}function p(t){this._dom=null,this.model=t}function d(t,e){return f.map(t,function(t,n){var i=e&&e[n];return f.isObject(i)&&!f.isArray(i)?(f.isObject(t)&&!f.isArray(t)&&(t=t.value),f.defaults({value:t},i)):t})}var f=n(4),g=n(87),m=new Array(60).join("-"),v="	",y=new RegExp("["+v+"]+","g");p.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"",lang:["","",""],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},p.prototype.onclick=function(t,e){function n(){i.removeChild(o),T._dom=null}var i=e.getDom(),r=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=r.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=r.get("lang")||[];s.innerHTML=u[0]||r.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=r.get("textColor");var l=document.createElement("div"),c=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:hidden;";var p=r.get("optionToContent"),d=r.get("contentToOption"),m=a(t);if("function"==typeof p){var y=p(e.getOption());"string"==typeof y?l.innerHTML=y:f.isDom(y)&&l.appendChild(y)}else l.appendChild(c),c.readOnly=r.get("readOnly"),c.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",c.style.color=r.get("textColor"),c.style.borderColor=r.get("textareaBorderColor"),c.style.backgroundColor=r.get("textareaColor"),c.value=m.value;var _=m.meta,b=document.createElement("div");b.style.cssText="position:absolute;bottom:0;left:0;right:0;";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),k=document.createElement("div");x+=";background-color:"+r.get("buttonColor"),x+=";color:"+r.get("buttonTextColor");var T=this;g.addEventListener(w,"click",n),g.addEventListener(k,"click",function(){var t;try{t="function"==typeof d?d(l,e.getOption()):h(c.value,_)}catch(i){throw n(),new Error("Data view format error "+i)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),n()}),w.innerHTML=u[1],k.innerHTML=u[2],k.style.cssText=x,w.style.cssText=x,!r.get("readOnly")&&b.appendChild(k),b.appendChild(w),g.addEventListener(c,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,n=this.selectionStart,i=this.selectionEnd;this.value=e.substring(0,n)+v+e.substring(i),this.selectionStart=this.selectionEnd=n+1,g.stop(t)}}),o.appendChild(s),o.appendChild(l),o.appendChild(b),l.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},p.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},p.prototype.dispose=function(t,e){this.remove(t,e)},n(314).register("dataView",p),n(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];f.each(t.newOption.series,function(t){var i=e.getSeriesByName(t.name)[0];if(i){var r=i.get("data");n.push({name:t.name,data:d(t.data,r)})}else n.push(f.extend({type:"scatter"},t))}),e.mergeOption(f.defaults({series:n},t.newOption))}),t.exports=p},function(t,e,n){"use strict";function i(t,e,n){(this._brushController=new u(n.getZr())).on("brush",s.bind(this._onBrush,this)).mount(),this._isZoomActive}function r(t){var e={};return s.each(["xAxisIndex","yAxisIndex"],function(n){e[n]=t[n],null==e[n]&&(e[n]="all"),(e[n]===!1||"none"===e[n])&&(e[n]=[])}),e}function o(t,e){t.setIconStatus("back",c.count(e)>1?"emphasis":"normal")}function a(t,e,n,i){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key?i.dataZoomSelectActive:!1),n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=l.makeCoordInfoList(r(t.option),e),s=a.xAxisHas&&!a.yAxisHas?"lineX":!a.xAxisHas&&a.yAxisHas?"lineY":"rect";n._brushController.setPanels(l.makePanelOpts(a)).enableBrush(o?{brushType:s,brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}var s=n(4),u=n(233),l=n(309),c=n(374),h=s.each;n(375);var p="\x00_ec_\x00toolbox-dataZoom_";i.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"",back:""}};var d=i.prototype;d.render=function(t,e,n,i){this.model=t,this.ecModel=e,this.api=n,a(t,e,this,i),o(t,e)},d.onclick=function(t,e,n){f[n].call(this)},d.remove=function(){this._brushController.unmount()},d.dispose=function(){this._brushController.dispose()};var f={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(c.pop(this.ecModel))}};d._onBrush=function(t,e){function n(t,e,n){var r=i(t,n[t],a);r&&(o[r.id]={dataZoomId:r.id,startValue:e[0],endValue:e[1]})}function i(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(r){var o=r.get(t+"Index");null!=o&&n.getComponent(t,o)===e&&(i=r)}),i}if(e.isEnd&&t.length){var o={},a=this.ecModel;this._brushController.updateCovers([]);var s=l.makeCoordInfoList(r(this.model.option),a),u=[];l.parseOutputRanges(t,s,a,u);var h=t[0],p=u[0],d=h.coordRange,f=h.brushType;if(p&&d)if("rect"===f)n("xAxis",d[0],p),n("yAxis",d[1],p);else{var g={lineX:"xAxis",lineY:"yAxis"};n(g[f],d,p)}c.push(a,o),this._dispatchZoomAction(o)}},d._dispatchZoomAction=function(t){var e=[];h(t,function(t){e.push(s.clone(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},n(314).register("dataZoom",i),n(1).registerPreprocessor(function(t){function e(t,e){if(e){var r=t+"Index",o=e[r];null==o||"all"==o||s.isArray(o)||(o=o===!1||"none"===o?[]:[o]),n(t,function(e,n){if(null==o||"all"==o||-1!==s.indexOf(o,n)){var a={type:"select",$fromToolbox:!0,id:p+t+n};a[r]=n,i.push(a)}})}}function n(e,n){var i=t[e];s.isArray(i)||(i=i?[i]:[]),h(i,n)}if(t){var i=t.dataZoom||(t.dataZoom=[]);s.isArray(i)||(t.dataZoom=i=[i]);var r=t.toolbox;if(r&&(s.isArray(r)&&(r=r[0]),r&&r.feature)){var o=r.feature.dataZoom;e("xAxis",o),e("yAxis",o)}}}),t.exports=i},function(t,e,n){function i(t){var e=t[a];return e||(e=t[a]=[{}]),e}var r=n(4),o=r.each,a="\x00_ec_hist_store",s={push:function(t,e){var n=i(t);o(e,function(e,i){for(var r=n.length-1;r>=0;r--){var o=n[r];if(o[i])break}if(0>r){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(a){var s=a.getPercentRange();n[0][i]={dataZoomId:i,start:s[0],end:s[1]}}}}),n.push(e)},pop:function(t){var e=i(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return o(n,function(t,n){for(var i=e.length-1;i>=0;i--){var t=e[i][n];if(t){r[n]=t;break}}}),r},clear:function(t){t[a]=null},count:function(t){return i(t).length}};t.exports=s},function(t,e,n){n(317),n(318),n(321),n(376),n(377),n(328),n(329)},function(t,e,n){var i=n(318);t.exports=i.extend({type:"dataZoom.select"})},function(t,e,n){t.exports=n(321).extend({type:"dataZoom.select"})},function(t,e,n){"use strict";function i(t){this.model=t}var r=n(374);i.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:""};var o=i.prototype;o.onclick=function(t,e){r.clear(t),e.dispatchAction({type:"restore",from:this.uid})},n(314).register("restore",i),n(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")}),t.exports=i},function(t,e,n){n(380),n(81).registerPainter("vml",n(382))},function(t,e,n){if(!n(2).canvasSupported){var i=n(10),r=n(9),o=n(49).CMD,a=n(39),s=n(8),u=n(48),l=n(46),c=n(62),h=n(64),p=n(45),d=n(61),f=n(381),g=Math.round,m=Math.sqrt,v=Math.abs,y=Math.cos,_=Math.sin,b=Math.max,x=i.applyTransform,w=",",k="progid:DXImageTransform.Microsoft",T=21600,S=T/2,$=1e5,C=1e3,A=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=T+","+T,t.coordorigin="0,0"},M=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},I=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},D=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},E=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},O=function(t,e,n){return(parseFloat(t)||0)*$+(parseFloat(e)||0)*C+n},P=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},L=function(t,e,n){var i=a.parse(e);n=+n,isNaN(n)&&(n=1),i&&(t.color=I(i[0],i[1],i[2]),t.opacity=n*i[3])},N=function(t){var e=a.parse(t);return[I(e[0],e[1],e[2]),e[3]]},R=function(t,e,n){var i=e.fill;if(null!=i)if(i instanceof d){var r,o=0,a=[0,0],s=0,u=1,l=n.getBoundingRect(),c=l.width,h=l.height;if("linear"===i.type){r="gradient";var p=n.transform,f=[i.x*c,i.y*h],g=[i.x2*c,i.y2*h];p&&(x(f,f,p),x(g,g,p));var m=g[0]-f[0],v=g[1]-f[1];o=180*Math.atan2(m,v)/Math.PI,0>o&&(o+=360),1e-6>o&&(o=0)}else{r="gradientradial";var f=[i.x*c,i.y*h],p=n.transform,y=n.scale,_=c,w=h;a=[(f[0]-l.x)/_,(f[1]-l.y)/w],p&&x(f,f,p),_/=y[0]*T,w/=y[1]*T;var k=b(_,w);s=0/k,u=2*i.r/k-s}var S=i.colorStops.slice();S.sort(function(t,e){return t.offset-e.offset});for(var $=S.length,C=[],A=[],M=0;$>M;M++){var I=S[M],D=N(I.color);A.push(I.offset*u+s+" "+D[0]),(0===M||M===$-1)&&C.push(D)}if($>=2){var E=C[0][0],O=C[1][0],P=C[0][1]*e.opacity,R=C[1][1]*e.opacity;t.type=r,t.method="none",t.focus="100%",t.angle=o,t.color=E,t.color2=O,t.colors=A.join(","),t.opacity=R,t.opacity2=P}"radial"===r&&(t.focusposition=a.join(","))}else L(t,i,e.opacity)},U=function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof d||L(t,e.stroke,e.opacity)},K=function(t,e,n,i){var r="fill"==e,o=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(r||!r&&n.lineWidth)?(t[r?"filled":"stroked"]="true",n[e]instanceof d&&E(t,o),o||(o=f.createNode(e)),r?R(o,n,i):U(o,n),D(t,o)):(t[r?"filled":"stroked"]="false",E(t,o))},W=[[],[],[]],V=function(t,e){var n,i,r,a,s,u,l=o.M,c=o.C,h=o.L,p=o.A,d=o.Q,f=[];for(a=0;a<t.length;){switch(r=t[a++],i="",n=0,r){case l:i=" m ",n=1,s=t[a++],u=t[a++],W[0][0]=s,W[0][1]=u;break;case h:i=" l ",n=1,s=t[a++],u=t[a++],W[0][0]=s,W[0][1]=u;break;case d:case c:i=" c ",n=3;var v,b,k=t[a++],$=t[a++],C=t[a++],A=t[a++];r===d?(v=C,b=A,C=(C+2*k)/3,A=(A+2*$)/3,k=(s+2*k)/3,$=(u+2*$)/3):(v=t[a++],b=t[a++]),W[0][0]=k,W[0][1]=$,W[1][0]=C,W[1][1]=A,W[2][0]=v,W[2][1]=b,s=v,u=b;break;case p:var M=0,I=0,D=1,E=1,O=0;e&&(M=e[4],I=e[5],D=m(e[0]*e[0]+e[1]*e[1]),E=m(e[2]*e[2]+e[3]*e[3]),O=Math.atan2(-e[1]/E,e[0]/D));var P=t[a++],L=t[a++],N=t[a++],R=t[a++],U=t[a++]+O,K=t[a++]+U+O;a++;var V=t[a++],B=P+y(U)*N,j=L+_(U)*R,k=P+y(K)*N,$=L+_(K)*R,H=V?" wa ":" at ";Math.abs(B-k)<1e-10&&(Math.abs(K-U)>.01?V&&(B+=270/T):Math.abs(j-L)<1e-10?V&&P>B||!V&&B>P?$-=270/T:$+=270/T:V&&L>j||!V&&j>L?k+=270/T:k-=270/T),f.push(H,g(((P-N)*D+M)*T-S),w,g(((L-R)*E+I)*T-S),w,g(((P+N)*D+M)*T-S),w,g(((L+R)*E+I)*T-S),w,g((B*D+M)*T-S),w,g((j*E+I)*T-S),w,g((k*D+M)*T-S),w,g(($*E+I)*T-S)),s=k,u=$;break;case o.R:var z=W[0],F=W[1];z[0]=t[a++],z[1]=t[a++],F[0]=z[0]+t[a++],F[1]=z[1]+t[a++],e&&(x(z,z,e),x(F,F,e)),z[0]=g(z[0]*T-S),F[0]=g(F[0]*T-S),z[1]=g(z[1]*T-S),F[1]=g(F[1]*T-S),f.push(" m ",z[0],w,z[1]," l ",F[0],w,z[1]," l ",F[0],w,F[1]," l ",z[0],w,F[1]);
break;case o.Z:f.push(" x ")}if(n>0){f.push(i);for(var q=0;n>q;q++){var G=W[q];e&&x(G,G,e),f.push(g(G[0]*T-S),w,g(G[1]*T-S),n-1>q?w:"")}}}return f.join("")};p.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=f.createNode("shape"),A(n),this._vmlEl=n),K(n,"fill",e,this),K(n,"stroke",e,this);var i=this.transform,r=null!=i,o=n.getElementsByTagName("stroke")[0];if(o){var a=e.lineWidth;if(r&&!e.strokeNoScale){var s=i[0]*i[3]-i[1]*i[2];a*=m(v(s))}o.weight=a+"px"}var u=this.path;this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=V(u.data,this.transform),n.style.zIndex=O(this.zlevel,this.z,this.z2),D(t,n),e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},p.prototype.onRemove=function(t){E(t,this._vmlEl),this.removeRectText(t)},p.prototype.onAdd=function(t){D(t,this._vmlEl),this.appendRectText(t)};var B=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};c.prototype.brushVML=function(t){var e,n,i=this.style,r=i.image;if(B(r)){var o=r.src;if(o===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var a=r.runtimeStyle,s=a.width,u=a.height;a.width="auto",a.height="auto",e=r.width,n=r.height,a.width=s,a.height=u,this._imageSrc=o,this._imageWidth=e,this._imageHeight=n}r=o}else r===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(r){var l=i.x||0,c=i.y||0,h=i.width,p=i.height,d=i.sWidth,v=i.sHeight,y=i.sx||0,_=i.sy||0,T=d&&v,S=this._vmlEl;S||(S=f.doc.createElement("div"),A(S),this._vmlEl=S);var $,C=S.style,M=!1,I=1,E=1;if(this.transform&&($=this.transform,I=m($[0]*$[0]+$[1]*$[1]),E=m($[2]*$[2]+$[3]*$[3]),M=$[1]||$[2]),M){var P=[l,c],L=[l+h,c],N=[l,c+p],R=[l+h,c+p];x(P,P,$),x(L,L,$),x(N,N,$),x(R,R,$);var U=b(P[0],L[0],N[0],R[0]),K=b(P[1],L[1],N[1],R[1]),W=[];W.push("M11=",$[0]/I,w,"M12=",$[2]/E,w,"M21=",$[1]/I,w,"M22=",$[3]/E,w,"Dx=",g(l*I+$[4]),w,"Dy=",g(c*E+$[5])),C.padding="0 "+g(U)+"px "+g(K)+"px 0",C.filter=k+".Matrix("+W.join("")+", SizingMethod=clip)"}else $&&(l=l*I+$[4],c=c*E+$[5]),C.filter="",C.left=g(l)+"px",C.top=g(c)+"px";var V=this._imageEl,j=this._cropEl;V||(V=f.doc.createElement("div"),this._imageEl=V);var H=V.style;if(T){if(e&&n)H.width=g(I*e*h/d)+"px",H.height=g(E*n*p/v)+"px";else{var z=new Image,F=this;z.onload=function(){z.onload=null,e=z.width,n=z.height,H.width=g(I*e*h/d)+"px",H.height=g(E*n*p/v)+"px",F._imageWidth=e,F._imageHeight=n,F._imageSrc=r},z.src=r}j||(j=f.doc.createElement("div"),j.style.overflow="hidden",this._cropEl=j);var q=j.style;q.width=g((h+y*h/d)*I),q.height=g((p+_*p/v)*E),q.filter=k+".Matrix(Dx="+-y*h/d*I+",Dy="+-_*p/v*E+")",j.parentNode||S.appendChild(j),V.parentNode!=j&&j.appendChild(V)}else H.width=g(I*h)+"px",H.height=g(E*p)+"px",S.appendChild(V),j&&j.parentNode&&(S.removeChild(j),this._cropEl=null);var G="",Y=i.opacity;1>Y&&(G+=".Alpha(opacity="+g(100*Y)+") "),G+=k+".AlphaImageLoader(src="+r+", SizingMethod=scale)",H.filter=G,S.style.zIndex=O(this.zlevel,this.z,this.z2),D(t,S),i.text&&this.drawRectText(t,this.getBoundingRect())}},c.prototype.onRemove=function(t){E(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},c.prototype.onAdd=function(t){D(t,this._vmlEl),this.appendRectText(t)};var j,H="normal",z={},F=0,q=100,G=document.createElement("div"),Y=function(t){var e=z[t];if(!e){F>q&&(F=0,z={});var n,i=G.style;try{i.font=t,n=i.fontFamily.split(",")[0]}catch(r){}e={style:i.fontStyle||H,variant:i.fontVariant||H,weight:i.fontWeight||H,size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},z[t]=e,F++}return e};s.measureText=function(t,e){var n=f.doc;j||(j=n.createElement("div"),j.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",f.doc.body.appendChild(j));try{j.style.font=e}catch(i){}return j.innerHTML="",j.appendChild(n.createTextNode(t)),{width:j.offsetWidth}};for(var Z=new r,X=function(t,e,n,i){var r=this.style,o=r.text;if(o){var a,u,l=r.textAlign,c=Y(r.textFont),h=c.style+" "+c.variant+" "+c.weight+" "+c.size+'px "'+c.family+'"',p=r.textBaseline,d=r.textVerticalAlign;n=n||s.getBoundingRect(o,h,l,p);var m=this.transform;if(m&&!i&&(Z.copy(e),Z.applyTransform(m),e=Z),i)a=e.x,u=e.y;else{var v=r.textPosition,y=r.textDistance;if(v instanceof Array)a=e.x+P(v[0],e.width),u=e.y+P(v[1],e.height),l=l||"left",p=p||"top";else{var _=s.adjustTextPositionOnRect(v,e,n,y);a=_.x,u=_.y,l=l||_.textAlign,p=p||_.textBaseline}}if(d){switch(d){case"middle":u-=n.height/2;break;case"bottom":u-=n.height}p="top"}var b=c.size;switch(p){case"hanging":case"top":u+=b/1.75;break;case"middle":break;default:u-=b/2.25}switch(l){case"left":break;case"center":a-=n.width/2;break;case"right":a-=n.width}var k,T,S,$=f.createNode,C=this._textVmlEl;C?(S=C.firstChild,k=S.nextSibling,T=k.nextSibling):(C=$("line"),k=$("path"),T=$("textpath"),S=$("skew"),T.style["v-text-align"]="left",A(C),k.textpathok=!0,T.on=!0,C.from="0 0",C.to="1000 0.05",D(C,S),D(C,k),D(C,T),this._textVmlEl=C);var I=[a,u],E=C.style;m&&i?(x(I,I,m),S.on=!0,S.matrix=m[0].toFixed(3)+w+m[2].toFixed(3)+w+m[1].toFixed(3)+w+m[3].toFixed(3)+",0,0",S.offset=(g(I[0])||0)+","+(g(I[1])||0),S.origin="0 0",E.left="0px",E.top="0px"):(S.on=!1,E.left=g(a)+"px",E.top=g(u)+"px"),T.string=M(o);try{T.style.font=h}catch(L){}K(C,"fill",{fill:i?r.fill:r.textFill,opacity:r.opacity},this),K(C,"stroke",{stroke:i?r.stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash},this),C.style.zIndex=O(this.zlevel,this.z,this.z2),D(t,C)}},J=function(t){E(t,this._textVmlEl),this._textVmlEl=null},Q=function(t){D(t,this._textVmlEl)},te=[u,l,c,p,h],ee=0;ee<te.length;ee++){var ne=te[ee].prototype;ne.drawRectText=X,ne.removeRectText=J,ne.appendRectText=Q}h.prototype.brushVML=function(t){var e=this.style;e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},h.prototype.onRemove=function(t){this.removeRectText(t)},h.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,n){if(!n(2).canvasSupported){var i,r="urn:schemas-microsoft-com:vml",o=window,a=o.document,s=!1;try{!a.namespaces.zrvml&&a.namespaces.add("zrvml",r),i=function(t){return a.createElement("<zrvml:"+t+' class="zrvml">')}}catch(u){i=function(t){return a.createElement("<"+t+' xmlns="'+r+'" class="zrvml">')}}var l=function(){if(!s){s=!0;var t=a.styleSheets;t.length<31?a.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}};t.exports={doc:a,initVML:l,createNode:i}}},function(t,e,n){function i(t){return parseInt(t,10)}function r(t,e){s.initVML(),this.root=t,this.storage=e;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=e.delFromMap,o=e.addToMap;e.delFromMap=function(t){var n=e.get(t);r.call(e,t),n&&n.onRemove&&n.onRemove(i)},e.addToMap=function(t){t.onAdd&&t.onAdd(i),o.call(e,t)},this._firstPaint=!0}function o(t){return function(){a('In IE8.0 VML mode painter not support method "'+t+'"')}}var a=n(40),s=n(381);r.prototype={constructor:r,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var i=t[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(){var t=this._getWidth(),e=this._getHeight();if(this._width!=t&&this._height!=e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this.root.removeChild(this.vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||i(e.width))-i(e.paddingLeft)-i(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||i(e.height))-i(e.paddingTop)-i(e.paddingBottom)|0}};for(var u=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],l=0;l<u.length;l++){var c=u[l];r.prototype[c]=o(c)}t.exports=r}])}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return dr.apply(null,arguments)}function e(t){dr=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,i){return vn(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(t){return null==t._pf&&(t._pf=c()),t._pf}function p(t){if(null==t._isValid){var e=h(t),n=fr.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=l(0/0);return null!=t?u(h(e),t):h(e).userInvalidated=!0,e}function f(t){return void 0===t}function g(t,e){var n,i,r;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=h(e)),f(e._locale)||(t._locale=e._locale),gr.length>0)for(n in gr)i=gr[n],r=e[i],f(r)||(t[i]=r);return t}function m(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),mr===!1&&(mr=!0,t.updateOffset(this),mr=!1)}function v(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function y(t){return 0>t?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function b(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&a++;return a+o}function x(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,n){var i=!0;return u(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,e),i&&(x(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),vr[e]||(x(n),vr[e]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)e=t[n],T(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function $(t,e){var n,r=u({},t);for(n in e)s(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},u(r[n],t[n]),u(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)s(t,n)&&!s(e,n)&&i(t[n])&&(r[n]=u({},r[n]));return r}function C(t){null!=t&&this.set(t)}function A(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return T(i)?i.call(e,n):i}function M(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function I(){return this._invalidDate}function D(t){return this._ordinal.replace("%d",t)}function E(t,e,n,i){var r=this._relativeTime[n];return T(r)?r(t,e,n,i):r.replace(/%d/i,t)}function O(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)}function P(t,e){var n=t.toLowerCase();$r[n]=$r[n+"s"]=$r[e]=t}function L(t){return"string"==typeof t?$r[t]||$r[t.toLowerCase()]:void 0}function N(t){var e,n,i={};for(n in t)s(t,n)&&(e=L(n),e&&(i[e]=t[n]));return i}function R(t,e){Cr[t]=e}function U(t){var e=[];for(var n in t)e.push({unit:n,priority:Cr[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function K(e,n){return function(i){return null!=i?(V(this,e,i),t.updateOffset(this,n),this):W(this,e)}}function W(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():0/0}function V(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function B(t){return t=L(t),T(this[t])?this[t]():this}function j(t,e){if("object"==typeof t){t=N(t);for(var n=U(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=L(t),T(this[t]))return this[t](e);return this}function H(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function z(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Dr[t]=r),e&&(Dr[e[0]]=function(){return H(r.apply(this,arguments),e[1],e[2])}),n&&(Dr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,n,i=t.match(Ar);for(e=0,n=i.length;n>e;e++)i[e]=Dr[i[e]]?Dr[i[e]]:F(i[e]);return function(e){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function G(t,e){return t.isValid()?(e=Y(e,t.localeData()),Ir[e]=Ir[e]||q(e),Ir[e](t)):t.localeData().invalidDate()}function Y(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Mr.lastIndex=0;i>=0&&Mr.test(t);)t=t.replace(Mr,n),Mr.lastIndex=0,i-=1;return t}function Z(t,e,n){Yr[t]=T(e)?e:function(t){return t&&n?n:e}}function X(t,e){return s(Yr,t)?Yr[t](e._strict,e._locale):new RegExp(J(t))}function J(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)Zr[t[n]]=i}function ee(t,e){te(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function ne(t,e,n){null!=e&&s(Zr,t)&&Zr[t](e,n._a,n,t)}function ie(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function re(t,e){return n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ao).test(e)?"format":"standalone"][t.month()]}function oe(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ao.test(e)?"format":"standalone"][t.month()]}function ae(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=l([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=_r.call(this._shortMonthsParse,a),-1!==r?r:null):(r=_r.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===e?(r=_r.call(this._shortMonthsParse,a),-1!==r?r:(r=_r.call(this._longMonthsParse,a),-1!==r?r:null)):(r=_r.call(this._longMonthsParse,a),-1!==r?r:(r=_r.call(this._shortMonthsParse,a),-1!==r?r:null))}function se(t,e,n){var i,r,o;if(this._monthsParseExact)return ae.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ue(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),ie(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function le(e){return null!=e?(ue(this,e),t.updateOffset(this,!0),this):W(this,"Month")}function ce(){return ie(this.year(),this.month())}function he(t){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=lo),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(t){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=co),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function de(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=l([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=Q(i[e]),r[e]=Q(r[e]);for(e=0;24>e;e++)o[e]=Q(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function fe(t){return ge(t)?366:365}function ge(t){return t%4===0&&t%100!==0||t%400===0}function me(){return ge(this.year())}function ve(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return 100>t&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function ye(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function _e(t,e,n){var i=7+e-n,r=(7+ye(t,0,i).getUTCDay()-e)%7;return-r+i-1}function be(t,e,n,i,r){var o,a,s=(7+n-i)%7,u=_e(t,i,r),l=1+7*(e-1)+s+u;return 0>=l?(o=t-1,a=fe(o)+l):l>fe(t)?(o=t+1,a=l-fe(t)):(o=t,a=l),{year:o,dayOfYear:a}}function xe(t,e,n){var i,r,o=_e(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return 1>a?(r=t.year()-1,i=a+we(r,e,n)):a>we(t.year(),e,n)?(i=a-we(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function we(t,e,n){var i=_e(t,e,n),r=_e(t+1,e,n);return(fe(t)-i+r)/7}function ke(t){return xe(t,this._week.dow,this._week.doy).week}function Te(){return this._week.dow}function Se(){return this._week.doy}function $e(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ce(t){var e=xe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ae(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Me(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ie(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function De(t){return this._weekdaysShort[t.day()]}function Ee(t){return this._weekdaysMin[t.day()]}function Oe(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=l([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=_r.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===e?(r=_r.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=_r.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===e?(r=_r.call(this._weekdaysParse,a),-1!==r?r:(r=_r.call(this._shortWeekdaysParse,a),-1!==r?r:(r=_r.call(this._minWeekdaysParse,a),-1!==r?r:null))):"ddd"===e?(r=_r.call(this._shortWeekdaysParse,a),-1!==r?r:(r=_r.call(this._weekdaysParse,a),-1!==r?r:(r=_r.call(this._minWeekdaysParse,a),-1!==r?r:null))):(r=_r.call(this._minWeekdaysParse,a),-1!==r?r:(r=_r.call(this._weekdaysParse,a),-1!==r?r:(r=_r.call(this._shortWeekdaysParse,a),-1!==r?r:null)))}function Pe(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Oe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=l([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Le(t){if(!this.isValid())return null!=t?this:0/0;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ae(t,this.localeData()),this.add(t-e,"d")):e}function Ne(t){if(!this.isValid())return null!=t?this:0/0;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Re(t){if(!this.isValid())return null!=t?this:0/0;if(null!=t){var e=Me(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ue(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ve.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=vo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ke(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ve.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yo),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function We(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ve.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_o),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ve(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],u=[],c=[];for(e=0;7>e;e++)n=l([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),u.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;7>e;e++)s[e]=Q(s[e]),u[e]=Q(u[e]),c[e]=Q(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Be(){return this.hours()%12||12}function je(){return this.hours()||24}function He(t,e){z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ze(t,e){return e._meridiemParse}function Fe(t){return"p"===(t+"").toLowerCase().charAt(0)}function qe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ge(t){return t?t.toLowerCase().replace("_","-"):t}function Ye(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Ge(t[o]).split("-"),e=r.length,n=Ge(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Ze(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&b(r,n,!0)>=e-1)break;e--}o++}return null}function Ze(t){var e=null;if(!To[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=bo._abbr,require("./locale/"+t),Xe(e)}catch(n){}return To[t]}function Xe(t,e){var n;return t&&(n=f(e)?tn(t):Je(t,e),n&&(bo=n)),bo._abbr}function Je(t,e){if(null!==e){var n=ko;return e.abbr=t,null!=To[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=To[t]._config):null!=e.parentLocale&&(null!=To[e.parentLocale]?n=To[e.parentLocale]._config:k("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),To[t]=new C($(n,e)),Xe(t),To[t]}return delete To[t],null}function Qe(t,e){if(null!=e){var n,i=ko;null!=To[t]&&(i=To[t]._config),e=$(i,e),n=new C(e),n.parentLocale=To[t],To[t]=n,Xe(t)}else null!=To[t]&&(null!=To[t].parentLocale?To[t]=To[t].parentLocale:null!=To[t]&&delete To[t]);return To[t]}function tn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return bo;if(!n(t)){if(e=Ze(t))return e;t=[t]}return Ye(t)}function en(){return yr(To)}function nn(t){var e,n=t._a;return n&&-2===h(t).overflow&&(e=n[Jr]<0||n[Jr]>11?Jr:n[Qr]<1||n[Qr]>ie(n[Xr],n[Jr])?Qr:n[to]<0||n[to]>24||24===n[to]&&(0!==n[eo]||0!==n[no]||0!==n[io])?to:n[eo]<0||n[eo]>59?eo:n[no]<0||n[no]>59?no:n[io]<0||n[io]>999?io:-1,h(t)._overflowDayOfYear&&(Xr>e||e>Qr)&&(e=Qr),h(t)._overflowWeeks&&-1===e&&(e=ro),h(t)._overflowWeekday&&-1===e&&(e=oo),h(t).overflow=e),t}function rn(t){var e,n,i,r,o,a,s=t._i,u=So.exec(s)||$o.exec(s);if(u){for(h(t).iso=!0,e=0,n=Ao.length;n>e;e++)if(Ao[e][1].exec(u[1])){r=Ao[e][0],i=Ao[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=Mo.length;n>e;e++)if(Mo[e][1].exec(u[3])){o=(u[2]||" ")+Mo[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Co.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),cn(t)}else t._isValid=!1}function on(e){var n=Io.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(rn(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function an(t,e,n){return null!=t?t:null!=e?e:n}function sn(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function un(t){var e,n,i,r,o=[];if(!t._d){for(i=sn(t),t._w&&null==t._a[Qr]&&null==t._a[Jr]&&ln(t),t._dayOfYear&&(r=an(t._a[Xr],i[Xr]),t._dayOfYear>fe(r)&&(h(t)._overflowDayOfYear=!0),n=ye(r,0,t._dayOfYear),t._a[Jr]=n.getUTCMonth(),t._a[Qr]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[to]&&0===t._a[eo]&&0===t._a[no]&&0===t._a[io]&&(t._nextDay=!0,t._a[to]=0),t._d=(t._useUTC?ye:ve).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[to]=24)}}function ln(t){var e,n,i,r,o,a,s,u;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=an(e.GG,t._a[Xr],xe(yn(),1,4).year),i=an(e.W,1),r=an(e.E,1),(1>r||r>7)&&(u=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,n=an(e.gg,t._a[Xr],xe(yn(),o,a).year),i=an(e.w,1),null!=e.d?(r=e.d,(0>r||r>6)&&(u=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(u=!0)):r=o),1>i||i>we(n,o,a)?h(t)._overflowWeeks=!0:null!=u?h(t)._overflowWeekday=!0:(s=be(n,i,r,o,a),t._a[Xr]=s.year,t._dayOfYear=s.dayOfYear)}function cn(e){if(e._f===t.ISO_8601)return void rn(e);e._a=[],h(e).empty=!0;var n,i,r,o,a,s=""+e._i,u=s.length,l=0;for(r=Y(e._f,e._locale).match(Ar)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(X(o,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),l+=i.length),Dr[o]?(i?h(e).empty=!1:h(e).unusedTokens.push(o),ne(o,i,e)):e._strict&&!i&&h(e).unusedTokens.push(o);h(e).charsLeftOver=u-l,s.length>0&&h(e).unusedInput.push(s),e._a[to]<=12&&h(e).bigHour===!0&&e._a[to]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[to]=hn(e._locale,e._a[to],e._meridiem),un(e),nn(e)}function hn(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function pn(t){var e,n,i,r,o;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],cn(e),p(e)&&(o+=h(e).charsLeftOver,o+=10*h(e).unusedTokens.length,h(e).score=o,(null==i||i>o)&&(i=o,n=e));u(t,n||e)}function dn(t){if(!t._d){var e=N(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),un(t)}}function fn(t){var e=new m(nn(gn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function gn(t){var e=t._i,i=t._f;return t._locale=t._locale||tn(t._l),null===e||void 0===i&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new m(nn(e)):(n(i)?pn(t):o(e)?t._d=e:i?cn(t):mn(t),p(t)||(t._d=null),t))}function mn(e){var i=e._i;void 0===i?e._d=new Date(t.now()):o(i)?e._d=new Date(i.valueOf()):"string"==typeof i?on(e):n(i)?(e._a=a(i.slice(0),function(t){return parseInt(t,10)}),un(e)):"object"==typeof i?dn(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function vn(t,e,o,a,s){var u={};return"boolean"==typeof o&&(a=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=o,u._i=t,u._f=e,u._strict=a,fn(u)}function yn(t,e,n,i){return vn(t,e,n,i,!1)}function _n(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return yn();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function bn(){var t=[].slice.call(arguments,0);return _n("isBefore",t)}function xn(){var t=[].slice.call(arguments,0);return _n("isAfter",t)}function wn(t){var e=N(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=tn(),this._bubble()}function kn(t){return t instanceof wn}function Tn(t,e){z(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}function Sn(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(Po)||["-",0,0],o=+(60*r[1])+_(r[2]);return"+"===r[0]?o:-o}function $n(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(e)||o(e)?e.valueOf():yn(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):yn(e).local()}function Cn(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function An(e,n){var i,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Sn(Fr,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=Cn(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?zn(this,Kn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Cn(this):null!=e?this:0/0}function Mn(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function In(t){return this.utcOffset(0,t)}function Dn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Cn(this),"m")),this
}function En(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Sn(zr,this._i)),this}function On(t){return this.isValid()?(t=t?yn(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Pn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ln(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=gn(t),t._a){var e=t._isUTC?l(t._a):yn(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Nn(){return this.isValid()?!this._isUTC:!1}function Rn(){return this.isValid()?this._isUTC:!1}function Un(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Kn(t,e){var n,i,r,o=t,a=null;return kn(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Lo.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:_(a[Qr])*n,h:_(a[to])*n,m:_(a[eo])*n,s:_(a[no])*n,ms:_(a[io])*n}):(a=No.exec(t))?(n="-"===a[1]?-1:1,o={y:Wn(a[2],n),M:Wn(a[3],n),w:Wn(a[4],n),d:Wn(a[5],n),h:Wn(a[6],n),m:Wn(a[7],n),s:Wn(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Bn(yn(o.from),yn(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new wn(o),kn(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function Wn(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Vn(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Bn(t,e){var n;return t.isValid()&&e.isValid()?(e=$n(e,t),t.isBefore(e)?n=Vn(t,e):(n=Vn(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function jn(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function Hn(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Kn(n,i),zn(this,r,t),this}}function zn(e,n,i,r){var o=n._milliseconds,a=jn(n._days),s=jn(n._months);e.isValid()&&(r=null==r?!0:r,o&&e._d.setTime(e._d.valueOf()+o*i),a&&V(e,"Date",W(e,"Date")+a*i),s&&ue(e,W(e,"Month")+s*i),r&&t.updateOffset(e,a||s))}function Fn(t,e){var n=t.diff(e,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function qn(e,n){var i=e||yn(),r=$n(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",a=n&&(T(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,yn(i)))}function Gn(){return new m(this)}function Yn(t,e){var n=v(t)?t:yn(t);return this.isValid()&&n.isValid()?(e=L(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Zn(t,e){var n=v(t)?t:yn(t);return this.isValid()&&n.isValid()?(e=L(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Xn(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Jn(t,e){var n,i=v(t)?t:yn(t);return this.isValid()&&i.isValid()?(e=L(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function Qn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ti(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ei(t,e,n){var i,r,o,a;return this.isValid()?(i=$n(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=L(e),"year"===e||"month"===e||"quarter"===e?(a=ni(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-i,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?a:y(a)):0/0):0/0}function ni(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function ii(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ri(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():G(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function oi(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=G(this,e);return this.localeData().postformat(n)}function ai(t,e){return this.isValid()&&(v(t)&&t.isValid()||yn(t).isValid())?Kn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function si(t){return this.from(yn(),t)}function ui(t,e){return this.isValid()&&(v(t)&&t.isValid()||yn(t).isValid())?Kn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function li(t){return this.to(yn(),t)}function ci(t){var e;return void 0===t?this._locale._abbr:(e=tn(t),null!=e&&(this._locale=e),this)}function hi(){return this._locale}function pi(t){switch(t=L(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function di(t){return t=L(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function fi(){return this._d.valueOf()-6e4*(this._offset||0)}function gi(){return Math.floor(this.valueOf()/1e3)}function mi(){return new Date(this.valueOf())}function vi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function yi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function bi(){return p(this)}function xi(){return u({},h(this))}function wi(){return h(this).overflow}function ki(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ti(t,e){z(0,[t,t.length],0,e)}function Si(t){return Mi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $i(t){return Mi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ci(){return we(this.year(),1,4)}function Ai(){var t=this.localeData()._week;return we(this.year(),t.dow,t.doy)}function Mi(t,e,n,i,r){var o;return null==t?xe(this,i,r).year:(o=we(t,i,r),e>o&&(e=o),Ii.call(this,t,e,n,i,r))}function Ii(t,e,n,i,r){var o=be(t,e,n,i,r),a=ye(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Di(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ei(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Oi(t,e){e[io]=_(1e3*("0."+t))}function Pi(){return this._isUTC?"UTC":""}function Li(){return this._isUTC?"Coordinated Universal Time":""}function Ni(t){return yn(1e3*t)}function Ri(){return yn.apply(null,arguments).parseZone()}function Ui(t){return t}function Ki(t,e,n,i){var r=tn(),o=l().set(i,e);return r[n](o,t)}function Wi(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ki(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Ki(t,i,n,"month");return r}function Vi(t,e,n,i){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var r=tn(),o=t?r._week.dow:0;if(null!=n)return Ki(e,(n+o)%7,i,"day");var a,s=[];for(a=0;7>a;a++)s[a]=Ki(e,(a+o)%7,i,"day");return s}function Bi(t,e){return Wi(t,e,"months")}function ji(t,e){return Wi(t,e,"monthsShort")}function Hi(t,e,n){return Vi(t,e,n,"weekdays")}function zi(t,e,n){return Vi(t,e,n,"weekdaysShort")}function Fi(t,e,n){return Vi(t,e,n,"weekdaysMin")}function qi(){var t=this._data;return this._milliseconds=Go(this._milliseconds),this._days=Go(this._days),this._months=Go(this._months),t.milliseconds=Go(t.milliseconds),t.seconds=Go(t.seconds),t.minutes=Go(t.minutes),t.hours=Go(t.hours),t.months=Go(t.months),t.years=Go(t.years),this}function Gi(t,e,n,i){var r=Kn(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Yi(t,e){return Gi(this,t,e,1)}function Zi(t,e){return Gi(this,t,e,-1)}function Xi(t){return 0>t?Math.floor(t):Math.ceil(t)}function Ji(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Xi(tr(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=y(o/1e3),u.seconds=t%60,e=y(t/60),u.minutes=e%60,n=y(e/60),u.hours=n%24,a+=y(n/24),r=y(Qi(a)),s+=r,a-=Xi(tr(r)),i=y(s/12),s%=12,u.days=a,u.months=s,u.years=i,this}function Qi(t){return 4800*t/146097}function tr(t){return 146097*t/4800}function er(t){var e,n,i=this._milliseconds;if(t=L(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Qi(e),"month"===t?n:n/12;switch(e=this._days+Math.round(tr(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function nr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function ir(t){return function(){return this.as(t)}}function rr(t){return t=L(t),this[t+"s"]()}function or(t){return function(){return this._data[t]}}function ar(){return y(this.days()/7)}function sr(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ur(t,e,n){var i=Kn(t).abs(),r=ca(i.as("s")),o=ca(i.as("m")),a=ca(i.as("h")),s=ca(i.as("d")),u=ca(i.as("M")),l=ca(i.as("y")),c=r<ha.s&&["s",r]||1>=o&&["m"]||o<ha.m&&["mm",o]||1>=a&&["h"]||a<ha.h&&["hh",a]||1>=s&&["d"]||s<ha.d&&["dd",s]||1>=u&&["M"]||u<ha.M&&["MM",u]||1>=l&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,sr.apply(null,c)}function lr(t){return void 0===t?ca:"function"==typeof t?(ca=t,!0):!1}function cr(t,e){return void 0===ha[t]?!1:void 0===e?ha[t]:(ha[t]=e,!0)}function hr(t){var e=this.localeData(),n=ur(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function pr(){var t,e,n,i=pa(this._milliseconds)/1e3,r=pa(this._days),o=pa(this._months);t=y(i/60),e=y(t/60),i%=60,t%=60,n=y(o/12),o%=12;var a=n,s=o,u=r,l=e,c=t,h=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var dr,fr;fr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;n>i;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var gr=t.momentProperties=[],mr=!1,vr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var yr;yr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var _r,br={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},wr="Invalid date",kr="%d",Tr=/\d{1,2}/,Sr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},$r={},Cr={},Ar=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ir={},Dr={},Er=/\d/,Or=/\d\d/,Pr=/\d{3}/,Lr=/\d{4}/,Nr=/[+-]?\d{6}/,Rr=/\d\d?/,Ur=/\d\d\d\d?/,Kr=/\d\d\d\d\d\d?/,Wr=/\d{1,3}/,Vr=/\d{1,4}/,Br=/[+-]?\d{1,6}/,jr=/\d+/,Hr=/[+-]?\d+/,zr=/Z|[+-]\d\d:?\d\d/gi,Fr=/Z|[+-]\d\d(?::?\d\d)?/gi,qr=/[+-]?\d+(\.\d{1,3})?/,Gr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Yr={},Zr={},Xr=0,Jr=1,Qr=2,to=3,eo=4,no=5,io=6,ro=7,oo=8;_r=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),R("month",8),Z("M",Rr),Z("MM",Rr,Or),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),te(["M","MM"],function(t,e){e[Jr]=_(t)-1}),te(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Jr]=r:h(n).invalidMonth=t});var ao=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,so="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lo=Gr,co=Gr;z("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),P("year","y"),R("year",1),Z("Y",Hr),Z("YY",Rr,Or),Z("YYYY",Vr,Lr),Z("YYYYY",Br,Nr),Z("YYYYYY",Br,Nr),te(["YYYYY","YYYYYY"],Xr),te("YYYY",function(e,n){n[Xr]=2===e.length?t.parseTwoDigitYear(e):_(e)}),te("YY",function(e,n){n[Xr]=t.parseTwoDigitYear(e)}),te("Y",function(t,e){e[Xr]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var ho=K("FullYear",!0);z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),R("week",5),R("isoWeek",5),Z("w",Rr),Z("ww",Rr,Or),Z("W",Rr),Z("WW",Rr,Or),ee(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=_(t)});var po={dow:0,doy:6};z("d",0,"do","day"),z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),Z("d",Rr),Z("e",Rr),Z("E",Rr),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),ee(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:h(n).invalidWeekday=t}),ee(["d","e","E"],function(t,e,n,i){e[i]=_(t)});var fo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),go="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vo=Gr,yo=Gr,_o=Gr;z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Be),z("k",["kk",2],0,je),z("hmm",0,0,function(){return""+Be.apply(this)+H(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Be.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),He("a",!0),He("A",!1),P("hour","h"),R("hour",13),Z("a",ze),Z("A",ze),Z("H",Rr),Z("h",Rr),Z("HH",Rr,Or),Z("hh",Rr,Or),Z("hmm",Ur),Z("hmmss",Kr),Z("Hmm",Ur),Z("Hmmss",Kr),te(["H","HH"],to),te(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),te(["h","hh"],function(t,e,n){e[to]=_(t),h(n).bigHour=!0}),te("hmm",function(t,e,n){var i=t.length-2;e[to]=_(t.substr(0,i)),e[eo]=_(t.substr(i)),h(n).bigHour=!0}),te("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[to]=_(t.substr(0,i)),e[eo]=_(t.substr(i,2)),e[no]=_(t.substr(r)),h(n).bigHour=!0}),te("Hmm",function(t,e){var n=t.length-2;e[to]=_(t.substr(0,n)),e[eo]=_(t.substr(n))}),te("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[to]=_(t.substr(0,n)),e[eo]=_(t.substr(n,2)),e[no]=_(t.substr(i))});var bo,xo=/[ap]\.?m?\.?/i,wo=K("Hours",!0),ko={calendar:br,longDateFormat:xr,invalidDate:wr,ordinal:kr,ordinalParse:Tr,relativeTime:Sr,months:so,monthsShort:uo,week:po,weekdays:fo,weekdaysMin:mo,weekdaysShort:go,meridiemParse:xo},To={},So=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$o=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Co=/Z|[+-]\d\d(?::?\d\d)?/,Ao=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Mo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Io=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Do=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yn.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:d()}),Eo=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:d()}),Oo=function(){return Date.now?Date.now():+new Date};Tn("Z",":"),Tn("ZZ",""),Z("Z",Fr),Z("ZZ",Fr),te(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Sn(Fr,t)});var Po=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Lo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,No=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Kn.fn=wn.prototype;var Ro=Hn(1,"add"),Uo=Hn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ko=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ti("gggg","weekYear"),Ti("ggggg","weekYear"),Ti("GGGG","isoWeekYear"),Ti("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),Z("G",Hr),Z("g",Hr),Z("GG",Rr,Or),Z("gg",Rr,Or),Z("GGGG",Vr,Lr),Z("gggg",Vr,Lr),Z("GGGGG",Br,Nr),Z("ggggg",Br,Nr),ee(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=_(t)}),ee(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),z("Q",0,"Qo","quarter"),P("quarter","Q"),R("quarter",7),Z("Q",Er),te("Q",function(t,e){e[Jr]=3*(_(t)-1)}),z("D",["DD",2],"Do","date"),P("date","D"),R("date",9),Z("D",Rr),Z("DD",Rr,Or),Z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),te(["D","DD"],Qr),te("Do",function(t,e){e[Qr]=_(t.match(Rr)[0],10)});var Wo=K("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),R("dayOfYear",4),Z("DDD",Wr),Z("DDDD",Pr),te(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),z("m",["mm",2],0,"minute"),P("minute","m"),R("minute",14),Z("m",Rr),Z("mm",Rr,Or),te(["m","mm"],eo);var Vo=K("Minutes",!1);z("s",["ss",2],0,"second"),P("second","s"),R("second",15),Z("s",Rr),Z("ss",Rr,Or),te(["s","ss"],no);var Bo=K("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),R("millisecond",16),Z("S",Wr,Er),Z("SS",Wr,Or),Z("SSS",Wr,Pr);var jo;for(jo="SSSS";jo.length<=9;jo+="S")Z(jo,jr);for(jo="S";jo.length<=9;jo+="S")te(jo,Oi);var Ho=K("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var zo=m.prototype;zo.add=Ro,zo.calendar=qn,zo.clone=Gn,zo.diff=ei,zo.endOf=di,zo.format=oi,zo.from=ai,zo.fromNow=si,zo.to=ui,zo.toNow=li,zo.get=B,zo.invalidAt=wi,zo.isAfter=Yn,zo.isBefore=Zn,zo.isBetween=Xn,zo.isSame=Jn,zo.isSameOrAfter=Qn,zo.isSameOrBefore=ti,zo.isValid=bi,zo.lang=Ko,zo.locale=ci,zo.localeData=hi,zo.max=Eo,zo.min=Do,zo.parsingFlags=xi,zo.set=j,zo.startOf=pi,zo.subtract=Uo,zo.toArray=vi,zo.toObject=yi,zo.toDate=mi,zo.toISOString=ri,zo.toJSON=_i,zo.toString=ii,zo.unix=gi,zo.valueOf=fi,zo.creationData=ki,zo.year=ho,zo.isLeapYear=me,zo.weekYear=Si,zo.isoWeekYear=$i,zo.quarter=zo.quarters=Di,zo.month=le,zo.daysInMonth=ce,zo.week=zo.weeks=$e,zo.isoWeek=zo.isoWeeks=Ce,zo.weeksInYear=Ai,zo.isoWeeksInYear=Ci,zo.date=Wo,zo.day=zo.days=Le,zo.weekday=Ne,zo.isoWeekday=Re,zo.dayOfYear=Ei,zo.hour=zo.hours=wo,zo.minute=zo.minutes=Vo,zo.second=zo.seconds=Bo,zo.millisecond=zo.milliseconds=Ho,zo.utcOffset=An,zo.utc=In,zo.local=Dn,zo.parseZone=En,zo.hasAlignedHourOffset=On,zo.isDST=Pn,zo.isLocal=Nn,zo.isUtcOffset=Rn,zo.isUtc=Un,zo.isUTC=Un,zo.zoneAbbr=Pi,zo.zoneName=Li,zo.dates=w("dates accessor is deprecated. Use date instead.",Wo),zo.months=w("months accessor is deprecated. Use month instead",le),zo.years=w("years accessor is deprecated. Use year instead",ho),zo.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Mn),zo.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ln);var Fo=zo,qo=C.prototype;qo.calendar=A,qo.longDateFormat=M,qo.invalidDate=I,qo.ordinal=D,qo.preparse=Ui,qo.postformat=Ui,qo.relativeTime=E,qo.pastFuture=O,qo.set=S,qo.months=re,qo.monthsShort=oe,qo.monthsParse=se,qo.monthsRegex=pe,qo.monthsShortRegex=he,qo.week=ke,qo.firstDayOfYear=Se,qo.firstDayOfWeek=Te,qo.weekdays=Ie,qo.weekdaysMin=Ee,qo.weekdaysShort=De,qo.weekdaysParse=Pe,qo.weekdaysRegex=Ue,qo.weekdaysShortRegex=Ke,qo.weekdaysMinRegex=We,qo.isPM=Fe,qo.meridiem=qe,Xe("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=w("moment.lang is deprecated. Use moment.locale instead.",Xe),t.langData=w("moment.langData is deprecated. Use moment.localeData instead.",tn);var Go=Math.abs,Yo=ir("ms"),Zo=ir("s"),Xo=ir("m"),Jo=ir("h"),Qo=ir("d"),ta=ir("w"),ea=ir("M"),na=ir("y"),ia=or("milliseconds"),ra=or("seconds"),oa=or("minutes"),aa=or("hours"),sa=or("days"),ua=or("months"),la=or("years"),ca=Math.round,ha={s:45,m:45,h:22,d:26,M:11},pa=Math.abs,da=wn.prototype;da.abs=qi,da.add=Yi,da.subtract=Zi,da.as=er,da.asMilliseconds=Yo,da.asSeconds=Zo,da.asMinutes=Xo,da.asHours=Jo,da.asDays=Qo,da.asWeeks=ta,da.asMonths=ea,da.asYears=na,da.valueOf=nr,da._bubble=Ji,da.get=rr,da.milliseconds=ia,da.seconds=ra,da.minutes=oa,da.hours=aa,da.days=sa,da.weeks=ar,da.months=ua,da.years=la,da.humanize=hr,da.toISOString=pr,da.toString=pr,da.toJSON=pr,da.locale=ci,da.localeData=hi,da.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pr),da.lang=Ko,z("X",0,0,"unix"),z("x",0,0,"valueOf"),Z("x",Hr),Z("X",qr),te("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),te("x",function(t,e,n){n._d=new Date(_(t))}),t.version="2.14.1",e(yn),t.fn=Fo,t.min=bn,t.max=xn,t.now=Oo,t.utc=l,t.unix=Ni,t.months=Bi,t.isDate=o,t.locale=Xe,t.invalid=d,t.duration=Kn,t.isMoment=v,t.weekdays=Hi,t.parseZone=Ri,t.localeData=tn,t.isDuration=kn,t.monthsShort=ji,t.weekdaysMin=Fi,t.defineLocale=Je,t.updateLocale=Qe,t.locales=en,t.weekdaysShort=zi,t.normalizeUnits=L,t.relativeTimeRounding=lr,t.relativeTimeThreshold=cr,t.calendarFormat=Fn,t.prototype=Fo;var fa=t;return fa}),/*
   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0

   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)
   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)
 */
function(){var t,e,n,i,r={}.hasOwnProperty,o=[].slice;t={LF:"\n",NULL:"\x00"},n=function(){function e(t,e,n){this.command=t,this.headers=null!=e?e:{},this.body=null!=n?n:""}var n;return e.prototype.toString=function(){var n,i,o,a,s;n=[this.command],o=this.headers["content-length"]===!1?!0:!1,o&&delete this.headers["content-length"],s=this.headers;for(i in s)r.call(s,i)&&(a=s[i],n.push(""+i+":"+a));return this.body&&!o&&n.push("content-length:"+e.sizeOfUTF8(this.body)),n.push(t.LF+this.body),n.join(t.LF)},e.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},n=function(n){var i,r,o,a,s,u,l,c,h,p,d,f,g,m,v,y,_;for(a=n.search(RegExp(""+t.LF+t.LF)),s=n.substring(0,a).split(t.LF),o=s.shift(),u={},f=function(t){return t.replace(/^\s+|\s+$/g,"")},y=s.reverse(),g=0,v=y.length;v>g;g++)p=y[g],c=p.indexOf(":"),u[f(p.substring(0,c))]=f(p.substring(c+1));if(i="",d=a+2,u["content-length"])h=parseInt(u["content-length"]),i=(""+n).substring(d,d+h);else for(r=null,l=m=d,_=n.length;(_>=d?_>m:m>_)&&(r=n.charAt(l),r!==t.NULL);l=_>=d?++m:--m)i+=r;return new e(o,u,i)},e.unmarshall=function(e){var i,r,o,a;return r=e.split(RegExp(""+t.NULL+t.LF+"*")),a={frames:[],partial:""},a.frames=function(){var t,e,o,a;for(o=r.slice(0,-1),a=[],t=0,e=o.length;e>t;t++)i=o[t],a.push(n(i));return a}(),o=r.slice(-1)[0],o===t.LF||-1!==o.search(RegExp(""+t.NULL+t.LF+"*$"))?a.frames.push(n(o)):a.partial=o,a},e.marshall=function(n,i,r){var o;return o=new e(n,i,r),o.toString()+t.NULL},e}(),e=function(){function e(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}var r;return e.prototype.debug=function(t){var e;return"undefined"!=typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},r=function(){return Date.now?Date.now():(new Date).valueOf},e.prototype._transmit=function(t,e,i){var r;for(r=n.marshall(t,e,i),"function"==typeof this.debug&&this.debug(">>> "+r);;){if(!(r.length>this.maxWebSocketFrameSize))return this.ws.send(r);this.ws.send(r.substring(0,this.maxWebSocketFrameSize)),r=r.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+r.length)}},e.prototype._setupHeartbeat=function(e){var n,o,a,s,u,l;if((u=e.version)===i.VERSIONS.V1_1||u===i.VERSIONS.V1_2)return l=function(){var t,n,i,r;for(i=e["heart-beat"].split(","),r=[],t=0,n=i.length;n>t;t++)s=i[t],r.push(parseInt(s));return r}(),o=l[0],n=l[1],0!==this.heartbeat.outgoing&&0!==n&&(a=Math.max(this.heartbeat.outgoing,n),"function"==typeof this.debug&&this.debug("send PING every "+a+"ms"),this.pinger=i.setInterval(a,function(e){return function(){return e.ws.send(t.LF),"function"==typeof e.debug?e.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==o?(a=Math.max(this.heartbeat.incoming,o),"function"==typeof this.debug&&this.debug("check PONG every "+a+"ms"),this.ponger=i.setInterval(a,function(t){return function(){var e;return e=r()-t.serverActivity,e>2*a?("function"==typeof t.debug&&t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close()):void 0}}(this))):void 0},e.prototype._parseConnect=function(){var t,e,n,i;switch(t=1<=arguments.length?o.call(arguments,0):[],i={},t.length){case 2:i=t[0],e=t[1];break;case 3:t[1]instanceof Function?(i=t[0],e=t[1],n=t[2]):(i.login=t[0],i.passcode=t[1],e=t[2]);break;case 4:i.login=t[0],i.passcode=t[1],e=t[2],n=t[3];break;default:i.login=t[0],i.passcode=t[1],e=t[2],n=t[3],i.host=t[4]}return[i,e,n]},e.prototype.connect=function(){var e,a,s,u;return e=1<=arguments.length?o.call(arguments,0):[],u=this._parseConnect.apply(this,e),s=u[0],this.connectCallback=u[1],a=u[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(e){return function(i){var o,s,u,l,c,h,p,d,f,g,m,v,y;if(l="undefined"!=typeof ArrayBuffer&&i.data instanceof ArrayBuffer?(o=new Uint8Array(i.data),"function"==typeof e.debug?e.debug("--- got data length: "+o.length):void 0,function(){var t,e,n;for(n=[],t=0,e=o.length;e>t;t++)s=o[t],n.push(String.fromCharCode(s));return n}().join("")):i.data,e.serverActivity=r(),l===t.LF)return void("function"==typeof e.debug&&e.debug("<<< PONG"));for("function"==typeof e.debug&&e.debug("<<< "+l),f=n.unmarshall(e.partialData+l),e.partialData=f.partial,v=f.frames,y=[],g=0,m=v.length;m>g;g++)switch(c=v[g],c.command){case"CONNECTED":"function"==typeof e.debug&&e.debug("connected to server "+c.headers.server),e.connected=!0,e._setupHeartbeat(c.headers),y.push("function"==typeof e.connectCallback?e.connectCallback(c):void 0);break;case"MESSAGE":d=c.headers.subscription,p=e.subscriptions[d]||e.onreceive,p?(u=e,h=c.headers["message-id"],c.ack=function(t){return null==t&&(t={}),u.ack(h,d,t)},c.nack=function(t){return null==t&&(t={}),u.nack(h,d,t)},y.push(p(c))):y.push("function"==typeof e.debug?e.debug("Unhandled received MESSAGE: "+c):void 0);break;case"RECEIPT":y.push("function"==typeof e.onreceipt?e.onreceipt(c):void 0);break;case"ERROR":y.push("function"==typeof a?a(c):void 0);break;default:y.push("function"==typeof e.debug?e.debug("Unhandled frame: "+c):void 0)}return y}}(this),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"==typeof t.debug&&t.debug(e),t._cleanUp(),"function"==typeof a?a(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"==typeof t.debug&&t.debug("Web Socket Opened..."),s["accept-version"]=i.VERSIONS.supportedVersions(),s["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",s)}}(this)},e.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof t?t():void 0},e.prototype._cleanUp=function(){return this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger?i.clearInterval(this.ponger):void 0},e.prototype.send=function(t,e,n){return null==e&&(e={}),null==n&&(n=""),e.destination=t,this._transmit("SEND",e,n)},e.prototype.subscribe=function(t,e,n){var i;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=t,this.subscriptions[n.id]=e,this._transmit("SUBSCRIBE",n),i=this,{id:n.id,unsubscribe:function(){return i.unsubscribe(n.id)}}},e.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},e.prototype.begin=function(t){var e,n;return n=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),e=this,{id:n,commit:function(){return e.commit(n)},abort:function(){return e.abort(n)}}},e.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},e.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},e.prototype.ack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("ACK",n)},e.prototype.nack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("NACK",n)},e}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,n){var r,o;return null==n&&(n=["v10.stomp","v11.stomp"]),r=i.WebSocketClass||WebSocket,o=new r(t,n),new e(o)},over:function(t){return new e(t)},Frame:n},"undefined"!=typeof exports&&null!==exports&&(exports.Stomp=i),"undefined"!=typeof window&&null!==window?(i.setInterval=function(t,e){return window.setInterval(e,t)},i.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=i):exports||(self.Stomp=i)}.call(this);