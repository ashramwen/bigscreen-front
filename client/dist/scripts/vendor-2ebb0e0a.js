/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=oe.type(t);return"function"===n||oe.isWindow(t)?!1:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(oe.isFunction(e))return oe.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return oe.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ge.test(e))return oe.filter(e,t,n);e=oe.filter(e,t)}return oe.grep(t,function(t){return Q.call(e,t)>-1!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return oe.each(t.match(xe)||[],function(t,n){e[n]=!0}),e}function a(){Y.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a),oe.ready()}function s(){this.expando=oe.expando+s.uid++}function u(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ae,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ce.test(n)?oe.parseJSON(n):n}catch(r){}Se.set(t,e,n)}else n=void 0;return n}function l(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return oe.css(t,e,"")},u=s(),l=n&&n[3]||(oe.cssNumber[e]?"":"px"),c=(oe.cssNumber[e]||"px"!==l&&+u)&&Me.exec(oe.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,oe.style(t,e,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&oe.nodeName(t,e)?oe.merge([t],n):n}function h(t,e){for(var n=0,i=t.length;i>n;n++)$e.set(t[n],"globalEval",!e||$e.get(e[n],"globalEval"))}function p(t,e,n,i,r){for(var o,a,s,u,l,p,f=e.createDocumentFragment(),d=[],g=0,m=t.length;m>g;g++)if(o=t[g],o||0===o)if("object"===oe.type(o))oe.merge(d,o.nodeType?[o]:o);else if(Re.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(Pe.exec(o)||["",""])[1].toLowerCase(),u=Ne[s]||Ne._default,a.innerHTML=u[1]+oe.htmlPrefilter(o)+u[2],p=u[0];p--;)a=a.lastChild;oe.merge(d,a.childNodes),a=f.firstChild,a.textContent=""}else d.push(e.createTextNode(o));for(f.textContent="",g=0;o=d[g++];)if(i&&oe.inArray(o,i)>-1)r&&r.push(o);else if(l=oe.contains(o.ownerDocument,o),a=c(f.appendChild(o),"script"),l&&h(a),n)for(p=0;o=a[p++];)Le.test(o.type||"")&&n.push(o);return f}function f(){return!0}function d(){return!1}function g(){try{return Y.activeElement}catch(t){}}function m(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)m(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=d;else if(!r)return t;return 1===o&&(a=r,r=function(t){return oe().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=oe.guid++)),t.each(function(){oe.event.add(this,e,r,i,n)})}function v(t,e){return oe.nodeName(t,"table")&&oe.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _(t){var e=ze.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){var n,i,r,o,a,s,u,l;if(1===e.nodeType){if($e.hasData(t)&&(o=$e.access(t),a=$e.set(e,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)oe.event.add(e,r,l[r][n])}Se.hasData(t)&&(s=Se.access(t),u=oe.extend({},s),Se.set(e,u))}}function x(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Oe.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function w(t,e,n,i){e=X.apply([],e);var r,o,a,s,u,l,h=0,f=t.length,d=f-1,g=e[0],m=oe.isFunction(g);if(m||f>1&&"string"==typeof g&&!ie.checkClone&&je.test(g))return t.each(function(r){var o=t.eq(r);m&&(e[0]=g.call(this,r,o.html())),w(o,e,n,i)});if(f&&(r=p(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=oe.map(c(r,"script"),y),s=a.length;f>h;h++)u=r,h!==d&&(u=oe.clone(u,!0,!0),s&&oe.merge(a,c(u,"script"))),n.call(t[h],u,h);if(s)for(l=a[a.length-1].ownerDocument,oe.map(a,_),h=0;s>h;h++)u=a[h],Le.test(u.type||"")&&!$e.access(u,"globalEval")&&oe.contains(l,u)&&(u.src?oe._evalUrl&&oe._evalUrl(u.src):oe.globalEval(u.textContent.replace(He,"")))}return t}function T(t,e,n){for(var i,r=e?oe.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||oe.cleanData(c(i)),i.parentNode&&(n&&oe.contains(i.ownerDocument,i)&&h(c(i,"script")),i.parentNode.removeChild(i));return t}function k(t,e){var n=oe(e.createElement(t)).appendTo(e.body),i=oe.css(n[0],"display");return n.detach(),i}function $(t){var e=Y,n=qe[t];return n||(n=k(t,e),"none"!==n&&n||(Fe=(Fe||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Fe[0].contentDocument,e.write(),e.close(),n=k(t,e),Fe.detach()),qe[t]=n),n}function S(t,e,n){var i,r,o,a,s=t.style;return n=n||Ze(t),a=n?n.getPropertyValue(e)||n[e]:void 0,""!==a&&void 0!==a||oe.contains(t.ownerDocument,t)||(a=oe.style(t,e)),n&&!ie.pixelMarginRight()&&Ye.test(a)&&Ge.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in rn)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=nn.length;n--;)if(t=nn[n]+e,t in rn)return t}function I(t,e,n){var i=Me.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function M(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=oe.css(t,n+De[o],!0,r)),i?("content"===n&&(a-=oe.css(t,"padding"+De[o],!0,r)),"margin"!==n&&(a-=oe.css(t,"border"+De[o]+"Width",!0,r))):(a+=oe.css(t,"padding"+De[o],!0,r),"padding"!==n&&(a+=oe.css(t,"border"+De[o]+"Width",!0,r)));return a}function D(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Ze(t),a="border-box"===oe.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=S(t,e,o),(0>r||null==r)&&(r=t.style[e]),Ye.test(r))return r;i=a&&(ie.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+M(t,e,n||(a?"border":"content"),i,o)+"px"}function E(t,e){for(var n,i,r,o=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(o[a]=$e.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Ee(i)&&(o[a]=$e.access(i,"olddisplay",$(i.nodeName)))):(r=Ee(i),"none"===n&&r||$e.set(i,"olddisplay",r?n:oe.css(i,"display"))));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function O(t,e,n,i,r){return new O.prototype.init(t,e,n,i,r)}function P(){return t.setTimeout(function(){on=void 0}),on=oe.now()}function L(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=De[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function N(t,e,n){for(var i,r=(V.tweeners[e]||[]).concat(V.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,e,t))return i}function R(t,e,n){var i,r,o,a,s,u,l,c,h=this,p={},f=t.style,d=t.nodeType&&Ee(t),g=$e.get(t,"fxshow");n.queue||(s=oe._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,oe.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=oe.css(t,"display"),c="none"===l?$e.get(t,"olddisplay")||$(t.nodeName):l,"inline"===c&&"none"===oe.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],sn.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;d=!0}p[i]=g&&g[i]||oe.style(t,i)}else l=void 0;if(oe.isEmptyObject(p))"inline"===("none"===l?$(t.nodeName):l)&&(f.display=l);else{g?"hidden"in g&&(d=g.hidden):g=$e.access(t,"fxshow",{}),o&&(g.hidden=!d),d?oe(t).show():h.done(function(){oe(t).hide()}),h.done(function(){var e;$e.remove(t,"fxshow");for(e in p)oe.style(t,e,p[e])});for(i in p)a=N(d?g[i]:0,i,h),i in g||(g[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function U(t,e){var n,i,r,o,a;for(n in t)if(i=oe.camelCase(n),r=e[i],o=t[n],oe.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=oe.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function V(t,e,n){var i,r,o=0,a=V.prefilters.length,s=oe.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=on||P(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),1>o&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:oe.extend({},e),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:e,originalOptions:n,startTime:on||P(),duration:n.duration,tweens:[],createTween:function(e,n){var i=oe.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(U(c,l.opts.specialEasing);a>o;o++)if(i=V.prefilters[o].call(l,t,c,l.opts))return oe.isFunction(i.stop)&&(oe._queueHooks(l.elem,l.opts.queue).stop=oe.proxy(i.stop,i)),i;return oe.map(c,N,l),oe.isFunction(l.opts.start)&&l.opts.start.call(t,l),oe.fx.timer(oe.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(t){return t.getAttribute&&t.getAttribute("class")||""}function B(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(xe)||[];if(oe.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function K(t,e,n,i){function r(s){var u;return o[s]=!0,oe.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=t===Cn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function j(t,e){var n,i,r=oe.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&oe.extend(!0,t,i),t}function z(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function H(t,e,n,i){var r,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function F(t,e,n,i){var r;if(oe.isArray(e))oe.each(e,function(e,r){n||Dn.test(t)?i(t,r):F(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==oe.type(e))i(t,e);else for(r in e)F(t+"["+r+"]",e[r],n,i)}function q(t){return oe.isWindow(t)?t:9===t.nodeType&&t.defaultView}var G=[],Y=t.document,Z=G.slice,X=G.concat,J=G.push,Q=G.indexOf,te={},ee=te.toString,ne=te.hasOwnProperty,ie={},re="2.2.4",oe=function(t,e){return new oe.fn.init(t,e)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ue=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};oe.fn=oe.prototype={jquery:re,constructor:oe,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Z.call(this)},pushStack:function(t){var e=oe.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return oe.each(this,t)},map:function(t){return this.pushStack(oe.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:G.sort,splice:G.splice},oe.extend=oe.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(oe.isPlainObject(i)||(r=oe.isArray(i)))?(r?(r=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},a[e]=oe.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},oe.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===oe.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!oe.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==oe.type(t)||t.nodeType||oe.isWindow(t))return!1;if(t.constructor&&!ne.call(t,"constructor")&&!ne.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||ne.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?te[ee.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=oe.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(se,"ms-").replace(ue,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;i>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ae,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?oe.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:Q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;a>o;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,i){var r,o,a=0,s=[];if(n(t))for(r=t.length;r>a;a++)o=e(t[a],a,i),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,i),null!=o&&s.push(o);return X.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),oe.isFunction(t)?(i=Z.call(arguments,2),r=function(){return t.apply(e||this,i.concat(Z.call(arguments)))},r.guid=t.guid=t.guid||oe.guid++,r):void 0},now:Date.now,support:ie}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=G[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){te["[object "+e+"]"]=e.toLowerCase()});var ce=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,n,i){var r,o,a,s,u,l,h,f,d=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:W)!==E&&D(e),e=e||E,P)){if(11!==g&&(l=ve.exec(t)))if(r=l[1]){if(9===g){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(d&&(a=d.getElementById(r))&&U(e,a)&&a.id===r)return n.push(a),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(!(!x.qsa||H[t+" "]||L&&L.test(t))){if(1!==g)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_e,"\\$&"):e.setAttribute("id",s=V),h=$(t),o=h.length,u=pe.test(s)?"#"+s:"[id='"+s+"']";o--;)h[o]=u+" "+p(h[o]);f=h.join(","),d=ye.test(t)&&c(e.parentNode)||e}if(f)try{return J.apply(n,d.querySelectorAll(f)),n}catch(m){}finally{s===V&&e.removeAttribute("id")}}}return C(t.replace(se,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[V]=!0,t}function r(t){var e=E.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||q)-(~t.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=K++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,u,l,c=[B,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[V]||(e[V]={}),u=l[e.uniqueID]||(l[e.uniqueID]={}),(s=u[i])&&s[0]===B&&s[1]===o)return c[2]=s[2];if(u[i]=c,c[2]=t(e,n,a))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,i,r))&&(a.push(o),l&&e.push(s));return a}function v(t,e,n,r,o,a){return r&&!r[V]&&(r=v(r)),o&&!o[V]&&(o=v(o,a)),i(function(i,a,s,u){var l,c,h,p=[],f=[],d=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,p,t,s,u),_=n?o||(i?t:d||r)?[]:a:y;if(n&&n(y,_,s,u),r)for(l=m(_,f),r(l,[],s,u),c=l.length;c--;)(h=l[c])&&(_[f[c]]=!(y[f[c]]=h));if(i){if(o||t){if(o){for(l=[],c=_.length;c--;)(h=_[c])&&l.push(y[c]=h);o(null,_=[],l,u)}for(c=_.length;c--;)(h=_[c])&&(l=o?te(i,h):p[c])>-1&&(i[l]=!(a[l]=h))}}else _=m(_===a?_.splice(d,_.length):_),o?o(null,a,_,u):J.apply(a,_)})}function y(t){for(var e,n,i,r=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=f(function(t){return t===e},a,!0),l=f(function(t){return te(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==A)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];r>s;s++)if(n=w.relative[t[s].type])c=[f(d(c),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[V]){for(i=++s;r>i&&!w.relative[t[i].type];i++);return v(s>1&&d(c),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&y(t.slice(s,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}c.push(n)}return d(c)}function _(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,u,l){var c,h,p,f=0,d="0",g=i&&[],v=[],y=A,_=i||o&&w.find.TAG("*",l),b=B+=null==y?1:Math.random()||.1,x=_.length;for(l&&(A=a===E||a||l);d!==x&&null!=(c=_[d]);d++){if(o&&c){for(h=0,a||c.ownerDocument===E||(D(c),s=!P);p=t[h++];)if(p(c,a||E,s)){u.push(c);break}l&&(B=b)}r&&((c=!p&&c)&&f--,i&&g.push(c))}if(f+=d,r&&d!==f){for(h=0;p=n[h++];)p(g,v,a,s);if(i){if(f>0)for(;d--;)g[d]||v[d]||(v[d]=Z.call(u));v=m(v)}J.apply(u,v),l&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(u)}return l&&(B=b,A=y),g};return r?i(a):a}var b,x,w,T,k,$,S,C,A,I,M,D,E,O,P,L,N,R,U,V="sizzle"+1*new Date,W=t.document,B=0,K=0,j=n(),z=n(),H=n(),F=function(t,e){return t===e&&(M=!0),0},q=1<<31,G={}.hasOwnProperty,Y=[],Z=Y.pop,X=Y.push,J=Y.push,Q=Y.slice,te=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),pe=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},we=function(){D()};try{J.apply(Y=Q.call(W.childNodes),W.childNodes),Y[W.childNodes.length].nodeType}catch(Te){J={apply:Y.length?function(t,e){X.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:W;return i!==E&&9===i.nodeType&&i.documentElement?(E=i,O=E.documentElement,P=!k(E),(n=E.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(E.getElementsByClassName),x.getById=r(function(t){return O.appendChild(t).id=V,!E.getElementsByName||!E.getElementsByName(V).length}),x.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}},w.filter.ID=function(t){var e=t.replace(be,xe);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(be,xe);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&P?e.getElementsByClassName(t):void 0},N=[],L=[],(x.qsa=me.test(E.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+V+"'></a><select id='"+V+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+V+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+V+"+*").length||L.push(".#.+[+~]")}),r(function(t){var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=me.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){x.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),N.push("!=",oe)}),L=L.length&&new RegExp(L.join("|")),N=N.length&&new RegExp(N.join("|")),e=me.test(O.compareDocumentPosition),U=e||me.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},F=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===E||t.ownerDocument===W&&U(W,t)?-1:e===E||e.ownerDocument===W&&U(W,e)?1:I?te(I,t)-te(I,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!r||!o)return t===E?-1:e===E?1:r?-1:o?1:I?te(I,t)-te(I,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[i]===u[i];)i++;return i?a(s[i],u[i]):s[i]===W?-1:u[i]===W?1:0},E):E},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==E&&D(t),n=n.replace(ce,"='$1']"),!(!x.matchesSelector||!P||H[n+" "]||N&&N.test(n)||L&&L.test(n)))try{var i=R.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&D(t),U(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&D(t);var n=w.attrHandle[e.toLowerCase()],i=n&&G.call(w.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==i?i:x.attributes||!P?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!x.detectDuplicates,I=!x.sortStable&&t.slice(0),t.sort(F),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return I=null,t},T=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=T(e);return n},w=e.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(be,xe),t[3]=(t[3]||t[4]||t[5]||"").replace(be,xe),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=$(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(be,xe).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,p,f,d,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,_=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?m.firstChild:m.lastChild],a&&y){for(p=m,h=p[V]||(p[V]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),l=c[t]||[],f=l[0]===B&&l[1],_=f&&l[2],p=f&&m.childNodes[f];p=++f&&p&&p[g]||(_=f=0)||d.pop();)if(1===p.nodeType&&++_&&p===e){c[t]=[B,f,_];break}}else if(y&&(p=e,h=p[V]||(p[V]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),l=c[t]||[],f=l[0]===B&&l[1],_=f),_===!1)for(;(p=++f&&p&&p[g]||(_=f=0)||d.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++_||(y&&(h=p[V]||(p[V]={}),c=h[p.uniqueID]||(h[p.uniqueID]={}),c[t]=[B,_]),p!==e)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[V]?o(n):o.length>1?(r=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=te(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(se,"$1"));return r[V]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(be,xe),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:i(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(be,xe).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return de.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},w.pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=u(b);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,$=e.tokenize=function(t,n){var i,r,o,a,s,u,l,c=z[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=w.preFilter;s;){(!i||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=le.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in w.filter)!(r=fe[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):z(t,u).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=H[t+" "];if(!o){for(e||(e=$(t)),n=e.length;n--;)o=y(e[n]),o[V]?i.push(o):r.push(o);o=H(t,_(r,i)),o.selector=t}return o},C=e.select=function(t,e,n,i){var r,o,a,s,u,l="function"==typeof t&&t,h=!i&&$(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&P&&w.relative[o[1].type]){if(e=(w.find.ID(a.matches[0].replace(be,xe),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=fe.needsContext.test(t)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((u=w.find[s])&&(i=u(a.matches[0].replace(be,xe),ye.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return J.apply(n,i),n;break}}return(l||S(t,h))(i,e,!P,n,!e||ye.test(t)&&c(e.parentNode)||e),n},x.sortStable=V.split("").sort(F).join("")===V,x.detectDuplicates=!!M,D(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var he=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&oe(t).is(n))break;i.push(t)}return i},pe=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},fe=oe.expr.match.needsContext,de=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ge=/^.[^:#\[\.,]*$/;oe.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?oe.find.matchesSelector(i,t)?[i]:[]:oe.find.matches(t,oe.grep(e,function(t){return 1===t.nodeType}))},oe.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(oe(t).filter(function(){for(e=0;n>e;e++)if(oe.contains(r[e],this))return!0}));for(e=0;n>e;e++)oe.find(t,r[e],i);return i=this.pushStack(n>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&fe.test(t)?oe(t):t||[],!1).length}});var me,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=oe.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||me,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ve.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof oe?e[0]:e,oe.merge(this,oe.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),de.test(i[1])&&oe.isPlainObject(e))for(i in e)oe.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=Y.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):oe.isFunction(t)?void 0!==n.ready?n.ready(t):t(oe):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),oe.makeArray(t,this))};ye.prototype=oe.fn,me=oe(Y);var _e=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(t){var e=oe(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(oe.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=fe.test(t)||"string"!=typeof t?oe(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?Q.call(oe(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),oe.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return he(t,"parentNode")},parentsUntil:function(t,e,n){return he(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return he(t,"nextSibling")},prevAll:function(t){return he(t,"previousSibling")},nextUntil:function(t,e,n){return he(t,"nextSibling",n)},prevUntil:function(t,e,n){return he(t,"previousSibling",n)},siblings:function(t){return pe((t.parentNode||{}).firstChild,t)},children:function(t){return pe(t.firstChild)},contents:function(t){return t.contentDocument||oe.merge([],t.childNodes)}},function(t,e){oe.fn[t]=function(n,i){var r=oe.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=oe.filter(i,r)),this.length>1&&(be[t]||oe.uniqueSort(r),_e.test(t)&&r.reverse()),this.pushStack(r)}});var xe=/\S+/g;oe.Callbacks=function(t){t="string"==typeof t?o(t):oe.extend({},t);var e,n,i,r,a=[],s=[],u=-1,l=function(){for(r=t.once,i=e=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)a[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(u=a.length-1,s.push(n)),function i(e){oe.each(e,function(e,n){oe.isFunction(n)?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==oe.type(n)&&i(n)})}(arguments),n&&!e&&l()),this},remove:function(){return oe.each(arguments,function(t,e){for(var n;(n=oe.inArray(e,a,n))>-1;)a.splice(n,1),u>=n&&u--}),this},has:function(t){return t?oe.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},oe.extend({Deferred:function(t){var e=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return oe.Deferred(function(n){oe.each(e,function(e,o){var a=oe.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&oe.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?oe.extend(t,i):i}},r={};return i.pipe=i.then,oe.each(e,function(t,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=Z.call(arguments),a=o.length,s=1!==a||t&&oe.isFunction(t.promise)?a:0,u=1===s?t:oe.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?Z.call(arguments):r,i===e?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(e=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().progress(l(r,n,e)).done(l(r,i,o)).fail(u.reject):--s;return s||u.resolveWith(i,o),u.promise()}});var we;oe.fn.ready=function(t){return oe.ready.promise().done(t),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(t){t?oe.readyWait++:oe.ready(!0)},ready:function(t){(t===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,t!==!0&&--oe.readyWait>0||(we.resolveWith(Y,[oe]),oe.fn.triggerHandler&&(oe(Y).triggerHandler("ready"),oe(Y).off("ready"))))}}),oe.ready.promise=function(e){return we||(we=oe.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?t.setTimeout(oe.ready):(Y.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a))),we.promise(e)},oe.ready.promise();var Te=function(t,e,n,i,r,o,a){var s=0,u=t.length,l=null==n;if("object"===oe.type(n)){r=!0;for(s in n)Te(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,oe.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(oe(t),n)})),e))for(;u>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):u?e(t[0],n):o},ke=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};s.uid=1,s.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!ke(t))return{};var e=t[this.expando];return e||(e={},ke(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,oe.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{oe.isArray(e)?i=e.concat(e.map(oe.camelCase)):(r=oe.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(xe)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||oe.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!oe.isEmptyObject(e)}};var $e=new s,Se=new s,Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/[A-Z]/g;oe.extend({hasData:function(t){return Se.hasData(t)||$e.hasData(t)},data:function(t,e,n){return Se.access(t,e,n)},removeData:function(t,e){Se.remove(t,e)},_data:function(t,e,n){return $e.access(t,e,n)},_removeData:function(t,e){$e.remove(t,e)}}),oe.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Se.get(o),1===o.nodeType&&!$e.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),u(o,i,r[i])));$e.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Se.set(this,t)}):Te(this,function(e){var n,i;if(o&&void 0===e){if(n=Se.get(o,t)||Se.get(o,t.replace(Ae,"-$&").toLowerCase()),void 0!==n)return n;if(i=oe.camelCase(t),n=Se.get(o,i),void 0!==n)return n;if(n=u(o,i,void 0),void 0!==n)return n}else i=oe.camelCase(t),this.each(function(){var n=Se.get(this,i);Se.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Se.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Se.remove(this,t)})}}),oe.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=$e.get(t,e),n&&(!i||oe.isArray(n)?i=$e.access(t,e,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=oe.queue(t,e),i=n.length,r=n.shift(),o=oe._queueHooks(t,e),a=function(){oe.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return $e.get(t,n)||$e.access(t,n,{empty:oe.Callbacks("once memory").add(function(){$e.remove(t,[e+"queue",n])})})}}),oe.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?oe.queue(this[0],t):void 0===e?this:this.each(function(){var n=oe.queue(this,t,e);oe._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&oe.dequeue(this,t)})},dequeue:function(t){return this.each(function(){oe.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=oe.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=$e.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Me=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),De=["Top","Right","Bottom","Left"],Ee=function(t,e){return t=e||t,"none"===oe.css(t,"display")||!oe.contains(t.ownerDocument,t)},Oe=/^(?:checkbox|radio)$/i,Pe=/<([\w:-]+)/,Le=/^$|\/(?:java|ecma)script/i,Ne={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ne.optgroup=Ne.option,Ne.tbody=Ne.tfoot=Ne.colgroup=Ne.caption=Ne.thead,Ne.th=Ne.td;var Re=/<|&#?\w+;/;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ue=/^key/,Ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,We=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,h,p,f,d,g,m=$e.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=oe.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return"undefined"!=typeof oe&&oe.event.triggered!==e.type?oe.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(xe)||[""],l=e.length;l--;)s=We.exec(e[l])||[],f=g=s[1],d=(s[2]||"").split(".").sort(),f&&(h=oe.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=oe.event.special[f]||{},c=oe.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&oe.expr.match.needsContext.test(r),namespace:d.join(".")},o),(p=u[f])||(p=u[f]=[],p.delegateCount=0,h.setup&&h.setup.call(t,i,d,a)!==!1||t.addEventListener&&t.addEventListener(f,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),oe.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,u,l,c,h,p,f,d,g,m=$e.hasData(t)&&$e.get(t);if(m&&(u=m.events)){for(e=(e||"").match(xe)||[""],l=e.length;l--;)if(s=We.exec(e[l])||[],f=g=s[1],d=(s[2]||"").split(".").sort(),f){for(h=oe.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,p=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(t,c));
a&&!p.length&&(h.teardown&&h.teardown.call(t,d,m.handle)!==!1||oe.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)oe.event.remove(t,f+e[l],n,i,!0);oe.isEmptyObject(u)&&$e.remove(t,"handle events")}},dispatch:function(t){t=oe.event.fix(t);var e,n,i,r,o,a=[],s=Z.call(arguments),u=($e.get(this,"events")||{})[t.type]||[],l=oe.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=oe.event.handlers.call(this,t,u),e=0;(r=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(o.namespace))&&(t.handleObj=o,t.data=o.data,i=((oe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],n=0;s>n;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?oe(r,this).index(u)>-1:oe.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&a.push({elem:u,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Y,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[oe.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ve.test(r)?this.mouseHooks:Ue.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new oe.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return oe.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},oe.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},oe.Event=function(t,e){return this instanceof oe.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?f:d):this.type=t,e&&oe.extend(this,e),this.timeStamp=t&&t.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(t,e)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=f,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=f,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=f,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){oe.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!oe.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),oe.fn.extend({on:function(t,e,n,i){return m(this,t,e,n,i)},one:function(t,e,n,i){return m(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,oe(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=d),this.each(function(){oe.event.remove(this,t,n,e)})}});var Be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ke=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(t){return t.replace(Be,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),u=oe.contains(t.ownerDocument,t);if(!(ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||oe.isXMLDoc(t)))for(a=c(s),o=c(t),i=0,r=o.length;r>i;i++)x(o[i],a[i]);if(e)if(n)for(o=o||c(t),a=a||c(s),i=0,r=o.length;r>i;i++)b(o[i],a[i]);else b(t,s);return a=c(s,"script"),a.length>0&&h(a,!u&&c(t,"script")),s},cleanData:function(t){for(var e,n,i,r=oe.event.special,o=0;void 0!==(n=t[o]);o++)if(ke(n)){if(e=n[$e.expando]){if(e.events)for(i in e.events)r[i]?oe.event.remove(n,i):oe.removeEvent(n,i,e.handle);n[$e.expando]=void 0}n[Se.expando]&&(n[Se.expando]=void 0)}}}),oe.fn.extend({domManip:w,detach:function(t){return T(this,t,!0)},remove:function(t){return T(this,t)},text:function(t){return Te(this,function(t){return void 0===t?oe.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return w(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return w(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return w(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return w(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(oe.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return oe.clone(this,t,e)})},html:function(t){return Te(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ke.test(t)&&!Ne[(Pe.exec(t)||["",""])[1].toLowerCase()]){t=oe.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(oe.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return w(this,arguments,function(e){var n=this.parentNode;oe.inArray(this,t)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){oe.fn[t]=function(t){for(var n,i=[],r=oe(t),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),oe(r[a])[e](n),J.apply(i,n.get());return this.pushStack(i)}});var Fe,qe={HTML:"block",BODY:"block"},Ge=/^margin/,Ye=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),Ze=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Xe=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},Je=Y.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Je.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,Je.removeChild(a)}var n,i,r,o,a=Y.createElement("div"),s=Y.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),oe.extend(ie,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},pixelMarginRight:function(){return null==i&&e(),r},reliableMarginLeft:function(){return null==i&&e(),o},reliableMarginRight:function(){var e,n=s.appendChild(Y.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Je.appendChild(a),e=!parseFloat(t.getComputedStyle(n).marginRight),Je.removeChild(a),s.removeChild(n),e}}))}();var Qe=/^(none|table(?!-c[ea]).+)/,tn={position:"absolute",visibility:"hidden",display:"block"},en={letterSpacing:"0",fontWeight:"400"},nn=["Webkit","O","Moz","ms"],rn=Y.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=S(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=oe.camelCase(e),u=t.style;return e=oe.cssProps[s]||(oe.cssProps[s]=A(s)||s),a=oe.cssHooks[e]||oe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Me.exec(n))&&r[1]&&(n=l(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(oe.cssNumber[s]?"":"px")),ie.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=oe.camelCase(e);return e=oe.cssProps[s]||(oe.cssProps[s]=A(s)||s),a=oe.cssHooks[e]||oe.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=S(t,e,i)),"normal"===r&&e in en&&(r=en[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),oe.each(["height","width"],function(t,e){oe.cssHooks[e]={get:function(t,n,i){return n?Qe.test(oe.css(t,"display"))&&0===t.offsetWidth?Xe(t,tn,function(){return D(t,e,i)}):D(t,e,i):void 0},set:function(t,n,i){var r,o=i&&Ze(t),a=i&&M(t,e,i,"border-box"===oe.css(t,"boxSizing",!1,o),o);return a&&(r=Me.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=oe.css(t,e)),I(t,n,a)}}}),oe.cssHooks.marginLeft=C(ie.reliableMarginLeft,function(t,e){return e?(parseFloat(S(t,"marginLeft"))||t.getBoundingClientRect().left-Xe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=C(ie.reliableMarginRight,function(t,e){return e?Xe(t,{display:"inline-block"},S,[t,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(t,e){oe.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+De[i]+e]=o[i]||o[i-2]||o[0];return r}},Ge.test(t)||(oe.cssHooks[t+e].set=I)}),oe.fn.extend({css:function(t,e){return Te(this,function(t,e,n){var i,r,o={},a=0;if(oe.isArray(e)){for(i=Ze(t),r=e.length;r>a;a++)o[e[a]]=oe.css(t,e[a],!1,i);return o}return void 0!==n?oe.style(t,e,n):oe.css(t,e)},t,e,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ee(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=O,O.prototype={constructor:O,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||oe.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var t=O.propHooks[this.prop];return t&&t.get?t.get(this):O.propHooks._default.get(this)},run:function(t){var e,n=O.propHooks[this.prop];return this.pos=e=this.options.duration?oe.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=oe.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){oe.fx.step[t.prop]?oe.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[oe.cssProps[t.prop]]&&!oe.cssHooks[t.prop]?t.elem[t.prop]=t.now:oe.style(t.elem,t.prop,t.now+t.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},oe.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},oe.fx=O.prototype.init,oe.fx.step={};var on,an,sn=/^(?:toggle|show|hide)$/,un=/queueHooks$/;oe.Animation=oe.extend(V,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return l(n.elem,t,Me.exec(e),n),n}]},tweener:function(t,e){oe.isFunction(t)?(e=t,t=["*"]):t=t.match(xe);for(var n,i=0,r=t.length;r>i;i++)n=t[i],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(e)},prefilters:[R],prefilter:function(t,e){e?V.prefilters.unshift(t):V.prefilters.push(t)}}),oe.speed=function(t,e,n){var i=t&&"object"==typeof t?oe.extend({},t):{complete:n||!n&&e||oe.isFunction(t)&&t,duration:t,easing:n&&e||e&&!oe.isFunction(e)&&e};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=oe.isEmptyObject(t),o=oe.speed(e,n,i),a=function(){var e=V(this,oe.extend({},t),o);(r||$e.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=oe.timers,a=$e.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&un.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&oe.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=$e.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=oe.timers,a=i?i.length:0;for(n.finish=!0,oe.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(t,e){var n=oe.fn[e];oe.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,i,r)}}),oe.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){oe.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),oe.timers=[],oe.fx.tick=function(){var t,e=0,n=oe.timers;for(on=oe.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||oe.fx.stop(),on=void 0},oe.fx.timer=function(t){oe.timers.push(t),t()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){an||(an=t.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){t.clearInterval(an),an=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,n){return e=oe.fx?oe.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),n=e.appendChild(Y.createElement("option"));t.type="checkbox",ie.checkOn=""!==t.value,ie.optSelected=n.selected,e.disabled=!0,ie.optDisabled=!n.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",ie.radioValue="t"===t.value}();var ln,cn=oe.expr.attrHandle;oe.fn.extend({attr:function(t,e){return Te(this,oe.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){oe.removeAttr(this,t)})}}),oe.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?oe.prop(t,e,n):(1===o&&oe.isXMLDoc(t)||(e=e.toLowerCase(),r=oe.attrHooks[e]||(oe.expr.match.bool.test(e)?ln:void 0)),void 0!==n?null===n?void oe.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=oe.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&oe.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(xe);if(o&&1===t.nodeType)for(;n=o[r++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),ln={set:function(t,e,n){return e===!1?oe.removeAttr(t,n):t.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(t,e){var n=cn[e]||oe.find.attr;cn[e]=function(t,e,i){var r,o;return i||(o=cn[e],cn[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,cn[e]=o),r}});var hn=/^(?:input|select|textarea|button)$/i,pn=/^(?:a|area)$/i;oe.fn.extend({prop:function(t,e){return Te(this,oe.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[oe.propFix[t]||t]})}}),oe.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(t)||(e=oe.propFix[e]||e,r=oe.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=oe.find.attr(t,"tabindex");return e?parseInt(e,10):hn.test(t.nodeName)||pn.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ie.optSelected||(oe.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var fn=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,u=0;if(oe.isFunction(t))return this.each(function(e){oe(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(xe)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(fn," ")){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=oe.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,u=0;if(oe.isFunction(t))return this.each(function(e){oe(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(xe)||[];n=this[u++];)if(r=W(n),i=1===n.nodeType&&(" "+r+" ").replace(fn," ")){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=oe.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(oe.isFunction(t)?function(n){oe(this).toggleClass(t.call(this,n,W(this),e),e)}:function(){var e,i,r,o;if("string"===n)for(i=0,r=oe(this),o=t.match(xe)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(void 0===t||"boolean"===n)&&(e=W(this),e&&$e.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":$e.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(fn," ").indexOf(e)>-1)return!0;return!1}});var dn=/\r/g,gn=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=oe.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,oe(this).val()):t,null==r?r="":"number"==typeof r?r+="":oe.isArray(r)&&(r=oe.map(r,function(t){return null==t?"":t+""})),e=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=oe.valHooks[r.type]||oe.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(dn,""):null==n?"":n)}}}),oe.extend({valHooks:{option:{get:function(t){var e=oe.find.attr(t,"value");return null!=e?e:oe.trim(oe.text(t)).replace(gn," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,u=0>r?s:o?r:0;s>u;u++)if(n=i[u],!(!n.selected&&u!==r||(ie.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(e=oe(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=oe.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=oe.inArray(oe.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(t,e){return oe.isArray(e)?t.checked=oe.inArray(oe(t).val(),e)>-1:void 0}},ie.checkOn||(oe.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var mn=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(e,n,i,r){var o,a,s,u,l,c,h,p=[i||Y],f=ne.call(e,"type")?e.type:e,d=ne.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||Y,3!==i.nodeType&&8!==i.nodeType&&!mn.test(f+oe.event.triggered)&&(f.indexOf(".")>-1&&(d=f.split("."),f=d.shift(),d.sort()),l=f.indexOf(":")<0&&"on"+f,e=e[oe.expando]?e:new oe.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:oe.makeArray(n,[e]),h=oe.event.special[f]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!oe.isWindow(i)){for(u=h.delegateType||f,mn.test(u+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(i.ownerDocument||Y)&&p.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||f,c=($e.get(a,"events")||{})[e.type]&&$e.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&ke(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),n)!==!1||!ke(i)||l&&oe.isFunction(i[f])&&!oe.isWindow(i)&&(s=i[l],s&&(i[l]=null),oe.event.triggered=f,i[f](),oe.event.triggered=void 0,s&&(i[l]=s)),e.result}},simulate:function(t,e,n){var i=oe.extend(new oe.Event,n,{type:t,isSimulated:!0});oe.event.trigger(i,null,e)}}),oe.fn.extend({trigger:function(t,e){return this.each(function(){oe.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?oe.event.trigger(t,e,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){oe.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),oe.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ie.focusin="onfocusin"in t,ie.focusin||oe.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){oe.event.simulate(e,t.target,oe.event.fix(t))};oe.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=$e.access(i,e);r||i.addEventListener(t,n,!0),$e.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=$e.access(i,e)-1;r?$e.access(i,e,r):(i.removeEventListener(t,n,!0),$e.remove(i,e))}}});var vn=t.location,yn=oe.now(),_n=/\?/;oe.parseJSON=function(t){return JSON.parse(t+"")},oe.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&oe.error("Invalid XML: "+e),n};var bn=/#.*$/,xn=/([?&])_=[^&]*/,wn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kn=/^(?:GET|HEAD)$/,$n=/^\/\//,Sn={},Cn={},An="*/".concat("*"),In=Y.createElement("a");In.href=vn.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vn.href,type:"GET",isLocal:Tn.test(vn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":An,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,oe.ajaxSettings),e):j(oe.ajaxSettings,t)},ajaxPrefilter:B(Sn),ajaxTransport:B(Cn),ajax:function(e,n){function i(e,n,i,s){var l,h,y,_,x,T=n;2!==b&&(b=2,u&&t.clearTimeout(u),r=void 0,a=s||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(_=z(p,w,i)),_=H(p,_,w,l),l?(p.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(oe.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(oe.etag[o]=x)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=_.state,h=_.data,y=_.error,l=!y)):(y=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(n||T)+"",l?g.resolveWith(f,[h,T,w]):g.rejectWith(f,[w,T,y]),w.statusCode(v),v=void 0,c&&d.trigger(l?"ajaxSuccess":"ajaxError",[w,p,l?h:y]),m.fireWith(f,[w,T]),c&&(d.trigger("ajaxComplete",[w,p]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,u,l,c,h,p=oe.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?oe(f):oe.event,g=oe.Deferred(),m=oe.Callbacks("once memory"),v=p.statusCode||{},y={},_={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=wn.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=_[n]=_[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||vn.href)+"").replace(bn,"").replace($n,vn.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(xe)||[""],null==p.crossDomain){l=Y.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=In.protocol+"//"+In.host!=l.protocol+"//"+l.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional)),K(Sn,p,n,w),2===b)return w;c=oe.event&&p.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!kn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(_n.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=xn.test(o)?o.replace(xn,"$1_="+yn++):o+(_n.test(o)?"&":"?")+"_="+yn++)),p.ifModified&&(oe.lastModified[o]&&w.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&w.setRequestHeader("If-None-Match",oe.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+An+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)w.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(f,w,p)===!1||2===b))return w.abort();x="abort";for(h in{success:1,error:1,complete:1})w[h](p[h]);if(r=K(Cn,p,n,w)){if(w.readyState=1,c&&d.trigger("ajaxSend",[w,p]),2===b)return w;p.async&&p.timeout>0&&(u=t.setTimeout(function(){w.abort("timeout")},p.timeout));try{b=1,r.send(y,i)}catch(T){if(!(2>b))throw T;i(-1,T)}}else i(-1,"No Transport");return w},getJSON:function(t,e,n){return oe.get(t,e,n,"json")},getScript:function(t,e){return oe.get(t,void 0,e,"script")}}),oe.each(["get","post"],function(t,e){oe[e]=function(t,n,i,r){return oe.isFunction(n)&&(r=r||i,i=n,n=void 0),oe.ajax(oe.extend({url:t,type:e,dataType:r,data:n,success:i},oe.isPlainObject(t)&&t))}}),oe._evalUrl=function(t){return oe.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(t){var e;return oe.isFunction(t)?this.each(function(e){oe(this).wrapAll(t.call(this,e))}):(this[0]&&(e=oe(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(oe.isFunction(t)?function(e){oe(this).wrapInner(t.call(this,e))}:function(){var e=oe(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=oe.isFunction(t);return this.each(function(n){oe(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(t){return!oe.expr.filters.visible(t)},oe.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Mn=/%20/g,Dn=/\[\]$/,En=/\r?\n/g,On=/^(?:submit|button|image|reset|file)$/i,Pn=/^(?:input|select|textarea|keygen)/i;oe.param=function(t,e){var n,i=[],r=function(t,e){e=oe.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(t)||t.jquery&&!oe.isPlainObject(t))oe.each(t,function(){r(this.name,this.value)});else for(n in t)F(n,t[n],e,r);return i.join("&").replace(Mn,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=oe.prop(this,"elements");return t?oe.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!oe(this).is(":disabled")&&Pn.test(this.nodeName)&&!On.test(t)&&(this.checked||!Oe.test(t))}).map(function(t,e){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(t){return{name:e.name,value:t.replace(En,"\r\n")}}):{name:e.name,value:n.replace(En,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ln={0:200,1223:204},Nn=oe.ajaxSettings.xhr();ie.cors=!!Nn&&"withCredentials"in Nn,ie.ajax=Nn=!!Nn,oe.ajaxTransport(function(e){var n,i;return ie.cors||Nn&&!e.crossDomain?{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");
for(a in r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ln[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return oe.globalEval(t),t}}}),oe.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),oe.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=oe("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Rn=[],Un=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Rn.pop()||oe.expando+"_"+yn++;return this[t]=!0,t}}),oe.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Un.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=oe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Un,"$1"+r):e.jsonp!==!1&&(e.url+=(_n.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||oe.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?oe(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Rn.push(r)),a&&oe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),oe.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Y;var i=de.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=p([t],e,r),r&&r.length&&oe(r).remove(),oe.merge([],i.childNodes))};var Vn=oe.fn.load;oe.fn.load=function(t,e,n){if("string"!=typeof t&&Vn)return Vn.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=oe.trim(t.slice(s)),t=t.slice(0,s)),oe.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&oe.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?oe("<div>").append(oe.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){oe.fn[e]=function(t){return this.on(e,t)}}),oe.expr.filters.animated=function(t){return oe.grep(oe.timers,function(e){return t===e.elem}).length},oe.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l,c=oe.css(t,"position"),h=oe(t),p={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=oe.css(t,"top"),u=oe.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),oe.isFunction(e)&&(e=e.call(t,n,oe.extend({},s))),null!=e.top&&(p.top=e.top-s.top+a),null!=e.left&&(p.left=e.left-s.left+r),"using"in e?e.using.call(t,p):h.css(p)}},oe.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){oe.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,oe.contains(e,i)?(r=i.getBoundingClientRect(),n=q(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===oe.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),oe.nodeName(t[0],"html")||(i=t.offset()),i.top+=oe.css(t[0],"borderTopWidth",!0),i.left+=oe.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-oe.css(n,"marginTop",!0),left:e.left-i.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===oe.css(t,"position");)t=t.offsetParent;return t||Je})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;oe.fn[t]=function(i){return Te(this,function(t,i,r){var o=q(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),oe.each(["top","left"],function(t,e){oe.cssHooks[e]=C(ie.pixelPosition,function(t,n){return n?(n=S(t,e),Ye.test(n)?oe(t).position()[e]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(t,e){oe.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){oe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return Te(this,function(e,n,i){var r;return oe.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?oe.css(e,n,a):oe.style(e,n,i,a)},e,o?i:void 0,o,null)}})}),oe.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Wn=t.jQuery,Bn=t.$;return oe.noConflict=function(e){return t.$===oe&&(t.$=Bn),e&&t.jQuery===oe&&(t.jQuery=Wn),oe},e||(t.jQuery=t.$=oe),oe}),/**
 * @license AngularJS v1.6.1
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<o.length?xe(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.6.1/"+(t?t+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(xe(o[i]));return new e(s)}}function n(t){if(null==t||S(t))return!1;if(lo(t)||x(t)||Xr&&t instanceof Xr)return!0;var e="length"in Object(t)&&t.length;return w(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function i(t,e,r){var o,a;if(t)if(k(t))for(o in t)"prototype"!==o&&"length"!==o&&"name"!==o&&t.hasOwnProperty(o)&&e.call(r,t[o],o,t);else if(lo(t)||n(t)){var s="object"!=typeof t;for(o=0,a=t.length;a>o;o++)(s||o in t)&&e.call(r,t[o],o,t)}else if(t.forEach&&t.forEach!==i)t.forEach(e,r,t);else if(b(t))for(o in t)e.call(r,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t);else for(o in t)Hr.call(t,o)&&e.call(r,t[o],o,t);return t}function r(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function o(t){return function(e,n){t(n,e)}}function a(){return++so}function s(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;o>r;++r){var a=e[r];if(_(a)||k(a))for(var l=Object.keys(a),c=0,h=l.length;h>c;c++){var p=l[c],f=a[p];n&&_(f)?T(f)?t[p]=new Date(f.valueOf()):$(f)?t[p]=new RegExp(f):f.nodeName?t[p]=f.cloneNode(!0):L(f)?t[p]=f.clone():(_(t[p])||(t[p]=lo(f)?[]:{}),u(t[p],[f],!0)):t[p]=f}}return s(t,i),t}function l(t){return u(t,to.call(arguments,1),!1)}function c(t){return u(t,to.call(arguments,1),!0)}function h(t){return parseInt(t,10)}function p(t,e){return l(Object.create(t),e)}function f(){}function d(t){return t}function g(t){return function(){return t}}function m(t){return k(t.toString)&&t.toString!==io}function v(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function _(t){return null!==t&&"object"==typeof t}function b(t){return null!==t&&"object"==typeof t&&!ro(t)}function x(t){return"string"==typeof t}function w(t){return"number"==typeof t}function T(t){return"[object Date]"===io.call(t)}function k(t){return"function"==typeof t}function $(t){return"[object RegExp]"===io.call(t)}function S(t){return t&&t.window===t}function C(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===io.call(t)}function I(t){return"[object FormData]"===io.call(t)}function M(t){return"[object Blob]"===io.call(t)}function D(t){return"boolean"==typeof t}function E(t){return t&&k(t.then)}function O(t){return t&&w(t.length)&&co.test(io.call(t))}function P(t){return"[object ArrayBuffer]"===io.call(t)}function L(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function N(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function R(t){return Fr(t.nodeName||t[0]&&t[0].nodeName)}function U(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function V(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function W(t,e){function n(t,e){var n,i=e.$$hashKey;if(lo(t))for(var o=0,a=t.length;a>o;o++)e.push(r(t[o]));else if(b(t))for(n in t)e[n]=r(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));else for(n in t)Hr.call(t,n)&&(e[n]=r(t[n]));return s(e,i),e}function r(t){if(!_(t))return t;var e=a.indexOf(t);if(-1!==e)return u[e];if(S(t)||C(t))throw oo("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(t);return void 0===r&&(r=lo(t)?[]:Object.create(ro(t)),i=!0),a.push(t),u.push(r),i?n(t,r):r}function o(t){switch(io.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(r(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}return k(t.cloneNode)?t.cloneNode(!0):void 0}var a=[],u=[];if(e){if(O(e)||P(e))throw oo("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw oo("cpi","Can't copy! Source and destination are identical.");return lo(e)?e.length=0:i(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),u.push(e),n(t,e)}return r(t)}function B(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!lo(t)){if(T(t))return T(e)?B(t.getTime(),e.getTime()):!1;if($(t))return $(e)?t.toString()===e.toString():!1;if(C(t)||C(e)||S(t)||S(e)||lo(e)||T(e)||$(e))return!1;r=me();for(i in t)if("$"!==i.charAt(0)&&!k(t[i])){if(!B(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&y(e[i])&&!k(e[i]))return!1;return!0}if(!lo(e))return!1;if((n=t.length)===e.length){for(i=0;n>i;i++)if(!B(t[i],e[i]))return!1;return!0}}return!1}function K(t,e,n){return t.concat(to.call(e,n))}function j(t,e){return to.call(t,e||0)}function z(t,e){var n=arguments.length>2?j(arguments,2):[];return!k(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,K(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:S(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":C(n)&&(i="$SCOPE"),i}function F(t,e){return v(t)?void 0:(w(e)||(e=e?2:null),JSON.stringify(t,H,e))}function q(t){return x(t)?JSON.parse(t):t}function G(t,e){t=t.replace(mo,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return uo(n)?e:n}function Y(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Z(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=G(e,i);return Y(t,n*(r-i))}function X(t){t=Xr(t).clone();try{t.empty()}catch(e){}var n=Xr("<div>").append(t).html();try{return t[0].nodeType===To?Fr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Fr(e)})}catch(e){return Fr(n)}}function J(t){try{return decodeURIComponent(t)}catch(e){}}function Q(t){var e={};return i((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),r=t.substring(n+1)),i=J(i),y(i)&&(r=y(r)?J(r):!0,Hr.call(e,i)?lo(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function te(t){var e=[];return i(t,function(t,n){lo(t)?i(t,function(t){e.push(ne(n,!0)+(t===!0?"":"="+ne(t,!0)))}):e.push(ne(n,!0)+(t===!0?"":"="+ne(t,!0)))}),e.length?e.join("&"):""}function ee(t){return ne(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function ie(t,e){var n,i,r=vo.length;for(i=0;r>i;++i)if(n=vo[i]+e,x(n=t.getAttribute(n)))return n;return null}function re(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),n=t.createElement("a");if(n.href=e,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function oe(e,n){var r,o,a={};if(i(vo,function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,o=e.getAttribute(n))}),i(vo,function(t){var n,i=t+"app";!r&&(n=e.querySelector("["+i.replace(":","\\:")+"]"))&&(r=n,o=n.getAttribute(i))}),r){if(!yo)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==ie(r,"strict-di"),n(r,o?[o]:[],a)}}function ae(e,n,r){_(r)||(r={});var o={strictDi:!1};r=l(o,r);var a=function(){if(e=Xr(e),e.injector()){var i=e[0]===t.document?"document":X(e);throw oo("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=cn(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!u.test(t.name)?a():(t.name=t.name.replace(u,""),ao.resumeBootstrap=function(t){return i(t,function(t){n.push(t)}),a()},void(k(ao.resumeDeferredBootstrap)&&ao.resumeDeferredBootstrap()))}function se(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ue(t){var e=ao.element(t).injector();if(!e)throw oo("test","no injector found for element argument to getTestability");return e.get("$$testability")}function le(t,e){return e=e||"_",t.replace(_o,function(t,n){return(n?e:"")+t.toLowerCase()})}function ce(){var e;if(!bo){var n=go();Jr=v(n)?t.jQuery:n?t[n]:void 0,Jr&&Jr.fn.on?(Xr=Jr,l(Jr.fn,{scope:Wo.scope,isolateScope:Wo.isolateScope,controller:Wo.controller,injector:Wo.injector,inheritedData:Wo.inheritedData}),e=Jr.cleanData,Jr.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)n=Jr._data(i,"events"),n&&n.$destroy&&Jr(i).triggerHandler("$destroy");e(t)}):Xr=Pe,ao.element=Xr,bo=!0}}function he(t,e,n){if(!t)throw oo("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function pe(t,e,n){return n&&lo(t)&&(t=t[t.length-1]),he(k(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function fe(t,e){if("hasOwnProperty"===t)throw oo("badname","hasOwnProperty is not a valid {0} name",e)}function de(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;a>s;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&k(t)?z(o,t):t}function ge(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=Xr(to.call(t,0,r))),e.push(n));return e||t}function me(){return Object.create(null)}function ve(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!m(t)||lo(t)||T(t)?F(t):t.toString()}return t}function ye(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),r=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return s(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function n(t,n,i){return i||(i=r),function(r,o){return o&&k(o)&&(o.$$moduleName=e),i.push([t,n,arguments]),c}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var r=[],s=[],u=[],l=t("$injector","invoke","push",s),c={_invokeQueue:r,_configBlocks:s,_runBlocks:u,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator",s),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:l,run:function(t){return u.push(t),this}};return a&&l(a),c})}})}function _e(t,e){if(lo(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(_(t)){e=e||{};for(var r in t)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(e[r]=t[r])}return e||t}function be(t){var e=[];return JSON.stringify(t,function(t,n){if(n=H(t,n),_(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function xe(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):v(t)?"undefined":"string"!=typeof t?be(t):t}function we(n){l(n,{bootstrap:ae,copy:W,extend:l,merge:c,equals:B,element:Xr,forEach:i,injector:cn,noop:f,bind:z,toJson:F,fromJson:q,identity:d,isUndefined:v,isDefined:y,isString:x,isFunction:k,isObject:_,isNumber:w,isElement:L,isArray:lo,version:Co,isDate:T,lowercase:Fr,uppercase:qr,callbacks:{$$counter:0},getTestability:ue,reloadWithDebugInfo:se,$$minErr:e,$$csp:fo,$$encodeUriSegment:ee,$$encodeUriQuery:ne,$$stringify:ve}),(Qr=ye(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ci}),t.provider("$compile",xn).directive({a:qa,input:fs,textarea:fs,form:Qa,script:su,select:cu,option:hu,ngBind:ms,ngBindHtml:ys,ngBindTemplate:vs,ngClass:bs,ngClassEven:ws,ngClassOdd:xs,ngCloak:Ts,ngController:ks,ngForm:ts,ngHide:tu,ngIf:Cs,ngInclude:As,ngInit:Ms,ngNonBindable:Hs,ngPluralize:Ys,ngRepeat:Zs,ngShow:Qs,ngStyle:eu,ngSwitch:nu,ngSwitchWhen:iu,ngSwitchDefault:ru,ngOptions:Gs,ngTransclude:au,ngModel:Ks,ngList:Ds,ngChange:_s,pattern:fu,ngPattern:fu,required:pu,ngRequired:pu,minlength:gu,ngMinlength:gu,maxlength:du,ngMaxlength:du,ngValue:gs,ngModelOptions:zs}).directive({ngInclude:Is}).directive(Ga).directive($s),t.provider({$anchorScroll:hn,$animate:na,$animateCss:oa,$$animateJs:ta,$$animateQueue:ea,$$AnimateRunner:ra,$$animateAsyncRun:ia,$browser:vn,$cacheFactory:yn,$controller:Cn,$document:An,$$isDocumentHidden:In,$exceptionHandler:Mn,$filter:Ki,$$forceReflow:pa,$interpolate:zn,$interval:Hn,$http:Wn,$httpParamSerializer:En,$httpParamSerializerJQLike:On,$httpBackend:Kn,$xhrFactory:Bn,$jsonpCallbacks:ba,$location:ai,$log:si,$parse:xi,$rootScope:Si,$q:wi,$$q:Ti,$sce:Ei,$sceDelegate:Di,$sniffer:Oi,$templateCache:_n,$templateRequest:Pi,$$testability:Li,$timeout:Ni,$window:Vi,$$rAF:$i,$$jqLite:nn,$$HashMap:zo,$$cookieReader:Bi})}])}function Te(){return++Io}function ke(t){return Se(t.replace(Do,"ms-"))}function $e(t,e){return e.toUpperCase()}function Se(t){return t.replace(Mo,$e)}function Ce(t){return!Lo.test(t)}function Ae(t){var e=t.nodeType;return e===xo||!e||e===$o}function Ie(t){for(var e in Ao[t.ng339])return!0;return!1}function Me(t){for(var e=0,n=t.length;n>e;e++)Ue(t[e])}function De(t,e){var n,r,o,a,s=e.createDocumentFragment(),u=[];if(Ce(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(No.exec(t)||["",""])[1].toLowerCase(),o=Uo[r]||Uo._default,n.innerHTML=o[1]+t.replace(Ro,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;u=K(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(u,function(t){s.appendChild(t)}),s}function Ee(e,n){n=n||t.document;var i;return(i=Po.exec(e))?[n.createElement(i[1])]:(i=De(e,n))?i.childNodes:[]}function Oe(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Pe(t){if(t instanceof Pe)return t;var e;if(x(t)&&(t=ho(t),e=!0),!(this instanceof Pe)){if(e&&"<"!==t.charAt(0))throw Oo("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Pe(t)}e?ze(this,Ee(t)):k(t)?Ze(t):ze(this,t)}function Le(t){return t.cloneNode(!0)}function Ne(t,e){if(e||Ue(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;r>i;i++)Ue(n[i])}function Re(t,e,n,r){if(y(r))throw Oo("offargs","jqLite#off() does not support the `selector` argument");var o=Ve(t),a=o&&o.events,s=o&&o.handle;if(s)if(e){var u=function(e){var i=a[e];y(n)&&V(i||[],n),y(n)&&i&&i.length>0||(t.removeEventListener(e,s),delete a[e])};i(e.split(" "),function(t){u(t),Eo[t]&&u(Eo[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function Ue(t,e){var n=t.ng339,i=n&&Ao[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Re(t)),delete Ao[n],t.ng339=void 0}}function Ve(t,e){var n=t.ng339,i=n&&Ao[n];return e&&!i&&(t.ng339=n=Te(),i=Ao[n]={events:{},data:{},handle:void 0}),i}function We(t,e,n){if(Ae(t)){var i,r=y(n),o=!r&&e&&!_(e),a=!e,s=Ve(t,!o),u=s&&s.data;if(r)u[Se(e)]=n;else{if(a)return u;if(o)return u&&u[Se(e)];for(i in e)u[Se(i)]=e[i]}}}function Be(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Ke(t,e){e&&t.setAttribute&&i(e.split(" "),function(e){t.setAttribute("class",ho((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ho(e)+" "," ")))})}function je(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(e.split(" "),function(t){t=ho(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",ho(n))}}function ze(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function He(t,e){return Fe(t,"$"+(e||"ngController")+"Controller")}function Fe(t,e,n){t.nodeType===$o&&(t=t.documentElement);for(var i=lo(e)?e:[e];t;){for(var r=0,o=i.length;o>r;r++)if(y(n=Xr.data(t,i[r])))return n;t=t.parentNode||t.nodeType===So&&t.host}}function qe(t){for(Ne(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Ge(t,e){e||Ne(t);var n=t.parentNode;n&&n.removeChild(t)}function Ye(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Xr(n).on("load",e)}function Ze(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Xe(t,e){var n=Bo[e.toLowerCase()];return n&&Ko[R(t)]&&n}function Je(t){return jo[t]}function Qe(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||tn;o>1&&(r=_e(r));for(var u=0;o>u;u++)n.isImmediatePropagationStopped()||s(t,n,r[u])}};return n.elem=t,n}function tn(t,e,n){n.call(t,e)}function en(t,e,n){var i=e.relatedTarget;(!i||i!==t&&!Vo.call(t,i))&&n.call(t,e)}function nn(){this.$get=function(){return l(Pe,{hasClass:function(t,e){return t.attr&&(t=t[0]),Be(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),je(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ke(t,e)}})}}function rn(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"===i||"object"===i&&null!==t?t.$$hashKey=i+":"+(e||a)():i+":"+t}function on(t,e){if(e){var n=0;this.nextUid=function(){return++n}}i(t,this.put,this)}function an(t){return Function.prototype.toString.call(t)+" "}function sn(t){var e=an(t).replace(Yo,""),n=e.match(Ho)||e.match(Fo);return n}function un(t){var e=sn(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ln(t,e,n){var r,o,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw x(n)&&n||(n=t.name||un(t)),Zo("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=sn(t),i(o[1].split(qo),function(t){t.replace(Go,function(t,e,n){r.push(n)})})}t.$inject=r}}else lo(t)?(a=t.length-1,pe(t[a],"fn"),r=t.slice(0,a)):pe(t,"fn",!0);return r}function cn(t,e){function n(t){return function(e,n){return _(e)?void i(e,o(t)):t(e,n)}}function r(t,e){if(fe(t,"service"),(k(e)||lo(e))&&(e=T.instantiate(e)),!e.$get)throw Zo("pget","Provider '{0}' must define $get factory method.",t);return w[t+m]=e}function a(t,e){return function(){var n=C.invoke(e,this);if(v(n))throw Zo("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return r(t,{$get:n!==!1?a(t,e):e})}function u(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function l(t,e){return s(t,g(e),!1)}function c(t,e){fe(t,"constant"),w[t]=e,$[t]=e}function h(t,e){var n=T.get(t+m),i=n.$get;n.$get=function(){var t=C.invoke(i,n);return C.invoke(e,null,{$delegate:t})}}function p(t){he(v(t)||lo(t),"modulesToLoad","not an array");var e,n=[];return i(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=T.get(i[0]);r[i[1]].apply(r,i[2])}}if(!b.get(t)){b.put(t,!0);try{x(t)?(e=Qr(t),n=n.concat(p(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):k(t)?n.push(T.invoke(t)):lo(t)?n.push(T.invoke(t)):pe(t,"module")}catch(r){throw lo(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1===r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Zo("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function f(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===d)throw Zo("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=d,t[e]=n(e,i),t[e]}catch(r){throw t[e]===d&&delete t[e],r}finally{y.shift()}}function r(t,n,r){for(var o=[],a=cn.$$annotate(t,e,r),s=0,u=a.length;u>s;s++){var l=a[s];if("string"!=typeof l)throw Zo("itkn","Incorrect injection token! Expected service name as string, got {0}",l);o.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return o}function o(t){if(Zr||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return D(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(an(t))),e}function a(t,e,n,i){"string"==typeof n&&(i=n,n=null);var a=r(t,n,i);return lo(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var i=lo(t)?t[t.length-1]:t,o=r(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:cn.$$annotate,has:function(e){return w.hasOwnProperty(e+m)||t.hasOwnProperty(e)}}}e=e===!0;var d={},m="Provider",y=[],b=new on([],!0),w={$provide:{provider:n(r),factory:n(s),service:n(u),value:n(l),constant:n(c),decorator:h}},T=w.$injector=f(w,function(t,e){throw ao.isString(e)&&y.push(e),Zo("unpr","Unknown provider: {0}",y.join(" <- "))}),$={},S=f($,function(t,e){var n=T.get(t+m,e);return C.invoke(n.$get,n,void 0,t)}),C=S;w["$injector"+m]={$get:g(S)};var A=p(t);return C=S.get("$injector"),C.strictDi=e,i(A,function(t){t&&C.invoke(t)}),C}function hn(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===R(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(k(t))t=t();else if(L(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else w(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(t){t=x(t)?t:w(t)?t.toString():n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=r(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Ye(function(){i.$evalAsync(s)})}),s}]}function pn(t,e){return t||e?t?e?(lo(t)&&(t=t.join(" ")),lo(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function fn(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Jo)return n}}function dn(t){x(t)&&(t=t.split(" "));var e=me();return i(t,function(t){t.length&&(e[t]=!0)}),e}function gn(t){return _(t)?t:{}}function mn(t,e,n,r){function o(t){try{t.apply(null,j(arguments,1))}finally{if(y--,0===y)for(;_.length;)try{_.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){k=null,u(),l()}function u(){b=$(),b=v(b)?null:b,B(b,A)&&(b=A),A=b}function l(){(w!==c.url()||x!==b)&&(w=c.url(),x=b,i(S,function(t){t(c.url(),b)}))}var c=this,h=t.location,p=t.history,d=t.setTimeout,g=t.clearTimeout,m={};c.isMock=!1;var y=0,_=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(t){0===y?t():_.push(t)};var b,x,w=h.href,T=e.find("base"),k=null,$=r.history?function(){try{return p.state}catch(t){}}:f;u(),x=b,c.url=function(e,n,i){if(v(i)&&(i=null),h!==t.location&&(h=t.location),p!==t.history&&(p=t.history),e){var o=x===i;if(w===e&&(!r.history||o))return c;var s=w&&Xn(w)===Xn(e);return w=e,x=i,!r.history||s&&o?(s||(k=e),n?h.replace(e):s?h.hash=a(e):h.href=e,h.href!==e&&(k=e)):(p[n?"replaceState":"pushState"](i,"",e),u(),x=b),k&&(k=e),c}return k||h.href.replace(/%27/g,"'")},c.state=function(){return b};var S=[],C=!1,A=null;c.onUrlChange=function(e){return C||(r.history&&Xr(t).on("popstate",s),Xr(t).on("hashchange",s),C=!0),S.push(e),e},c.$$applicationDestroyed=function(){Xr(t).off("hashchange popstate",s)},c.$$checkUrlChange=l,c.baseHref=function(){var t=T.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return y++,n=d(function(){delete m[n],o(t)},e||0),m[n]=!0,n},c.defer.cancel=function(t){return m[t]?(delete m[t],g(t),o(f),!0):!1}}function vn(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new mn(t,i,e,n)}]}function yn(){this.$get=function(){function t(t,i){function r(t){t!==p&&(f?f===t&&(f=t.n):f=t,o(t.n,t.p),o(t,p),p=t,p.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=l({},i,{id:t}),u=me(),c=i&&i.capacity||Number.MAX_VALUE,h=me(),p=null,f=null;return n[t]={put:function(t,e){if(!v(e)){if(c<Number.MAX_VALUE){var n=h[t]||(h[t]={key:t});r(n)}return t in u||a++,u[t]=e,a>c&&this.remove(f.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=h[t];if(!e)return;e===p&&(p=e.p),e===f&&(f=e.n),o(e.n,e.p),delete h[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=me(),a=0,h=me(),p=f=null},destroy:function(){u=null,s=null,h=null,delete n[t]},info:function(){return l({},s,{size:a})}}}var n={};return t.info=function(){var t={};return i(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function _n(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function bn(){}function xn(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=me();return i(t,function(t,i){if(t in A)return void(o[i]=A[t]);var a=t.match(r);if(!a)throw aa("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(A[t]=o[i])}),o}function a(t,e){var n={isolateScope:null,bindToController:null};if(_(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),_(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw aa("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function s(t){var e=t.charAt(0);if(!e||e!==Fr(e))throw aa("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw aa("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!lo(e)&&_(e)&&i(e,function(t,n){var i=t.match($),r=t.substring(i[0].length);r||(e[n]=i[0]+n)}),e}function c(t,e){if(t&&(!x(t)||!/[EACM]/.test(t)))throw aa("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var h={},m="Directive",b=/^\s*directive:\s*([\w-]+)\s+(.*)$/,w=/(([\w-]+)(?::([^;]+))?;?)/,T=N("ngSrc,ngSrcset,src,srcset"),$=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,A=me();this.directive=function L(t,n){return he(t,"name"),fe(t,"directive"),x(t)?(s(t),he(n,"directiveFactory"),h.hasOwnProperty(t)||(h[t]=[],e.factory(t+m,["$injector","$exceptionHandler",function(e,n){var r=[];return i(h[t],function(i,o){try{var a=e.invoke(i);k(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=u(a),a.restrict=c(a.restrict,t),a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),h[t].push(n)):i(t,o(L)),this},this.component=function(t,e){function n(t){function n(e){return k(e)||lo(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var o=e.template||e.templateUrl?e.template:"",a={controller:r,controllerAs:Sn(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return i(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var r=e.controller||function(){};return i(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,k(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var I=!0;this.debugInfoEnabled=function(t){return y(t)?(I=t,this):I};var M=!1;this.preAssignBindingsEnabled=function(t){return y(t)?(M=t,this):M};var E=10;this.onChangesTtl=function(t){return arguments.length?(E=t,this):E};var O=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(O=t,this):O};var P=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(P=t,this):P},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,o,s,u,c,g,A,L){function N(){try{if(!--Ie)throw Te=void 0,aa("infchng","{0} $onChanges() iterations reached. Aborting!\n",E);c.$apply(function(){for(var t=[],e=0,n=Te.length;n>e;++e)try{Te[e]()}catch(i){t.push(i)}if(Te=void 0,t.length)throw t})}finally{Ie++}}function U(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function W(t,e,n){$e.innerHTML="<span "+e+">";var i=$e.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function K(t,e){try{t.addClass(e)}catch(n){}}function H(t,e,n,i,r){t instanceof Xr||(t=Xr(t));var o=q(t,e,t,n,i,r);H.$$addScopeClass(t);var a=null;return function(e,n,i){if(!t)throw aa("multilink","This element has already been linked.");he(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,u=i.transcludeControllers,l=i.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=F(l));var c;if(c="html"!==a?Xr(ge(a,Xr("<div>").append(t).html())):n?Wo.clone.call(t):t,u)for(var h in u)c.data("$"+h+"Controller",u[h].instance);return H.$$addScopeInfo(c,e),n&&n(c,e),o&&o(e,c,c,s),n||(t=o=null),c}}function F(t){var e=t&&t[0];return e&&"foreignobject"!==R(e)&&io.call(e).match(/SVG/)?"svg":"html"}function q(t,e,n,i,r,o){function a(t,n,i,r){var o,a,s,u,l,c,h,p,g;if(f){var m=n.length;for(g=new Array(m),l=0;l<d.length;l+=3)h=d[l],g[h]=n[h]}else g=n;for(l=0,c=d.length;c>l;)s=g[d[l++]],o=d[l++],a=d[l++],o?(o.scope?(u=t.$new(),H.$$addScopeInfo(Xr(s),u)):u=t,p=o.transcludeOnThisElement?Y(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?Y(t,e):null,o(a,u,s,i,p)):a&&a(t,s.childNodes,void 0,r)}for(var s,u,l,c,h,p,f,d=[],g=lo(t)||t instanceof Xr,m=0;m<t.length;m++)s=new U,11===Zr&&G(t,m,g),u=Z(t[m],[],s,0===m?i:void 0,r),l=u.length?ne(u,t[m],s,e,n,null,[],[],o):null,l&&l.scope&&H.$$addScopeClass(s.$$element),h=l&&l.terminal||!(c=t[m].childNodes)||!c.length?null:q(c,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||h)&&(d.push(m,l,h),p=!0,f=f||l),o=null;
return p?a:null}function G(t,e,n){var i,r=t[e],o=r.parentNode;if(r.nodeType===To)for(;;){if(i=o?r.nextSibling:t[e+1],!i||i.nodeType!==To)break;r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===t[e+1]&&t.splice(e+1,1)}}function Y(t,e,n){function i(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=me();for(var o in e.$$slots)r[o]=e.$$slots[o]?Y(t,e.$$slots[o],n):null;return i}function Z(t,e,n,i,r){var o,a,s,u=t.nodeType,l=n.$attr;switch(u){case xo:a=R(t),ae(e,Tn(a),"E",i,r);for(var c,h,p,f,d,g,m=t.attributes,v=0,y=m&&m.length;y>v;v++){var b=!1,T=!1;c=m[v],h=c.name,d=c.value,f=Tn(h),g=Oe.test(f),g&&(h=h.replace(ua,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var k=f.match(Pe);k&&se(k[1])&&(b=h,T=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=Tn(h.toLowerCase()),l[p]=h,(g||!n.hasOwnProperty(p))&&(n[p]=d,Xe(t,p)&&(n[p]=!0)),ye(t,e,d,p,g),ae(e,p,"A",i,r,b,T)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Ae)break;if(s=t.className,_(s)&&(s=s.animVal),x(s)&&""!==s)for(;o=w.exec(s);)p=Tn(o[2]),ae(e,p,"C",i,r)&&(n[p]=ho(o[3])),s=s.substr(o.index+o[0].length);break;case To:de(e,t.nodeValue);break;case ko:if(!Se)break;J(t,e,n,i,r)}return e.sort(pe),e}function J(t,e,n,i,r){try{var o=b.exec(t.nodeValue);if(o){var a=Tn(o[1]);ae(e,a,"M",i,r)&&(n[a]=ho(o[2]))}}catch(s){}}function Q(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw aa("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===xo&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return Xr(i)}function te(t,e,n){return function(i,r,o,a,s){return r=Q(r[0],e,n),t(i,r,o,a,s)}}function ee(t,e,n,i,r,o){var a;return t?H(e,n,i,r,o):function(){return a||(a=H(e,n,i,r,o),e=n=o=null),a.apply(this,arguments)}}function ne(t,e,n,o,a,s,u,c,h){function p(t,e,n,i){t&&(n&&(t=te(t,n,i)),t.require=d.require,t.directiveName=g,($===d||d.$$isolateScope)&&(t=be(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=te(e,n,i)),e.require=d.require,e.directiveName=g,($===d||d.$$isolateScope)&&(e=be(e,{isolateScope:!0})),c.push(e))}function f(t,o,a,s,h){function p(t,e,n,i){var r;if(C(t)||(i=n,n=e,e=t,t=void 0),E&&(r=b),n||(n=E?A.parent():A),!i)return h(t,e,r,n,V);var o=h.$$slots[i];if(o)return o(t,e,r,n,V);if(v(o))throw aa("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,X(A))}var f,d,g,m,y,b,x,A,I,D;e===a?(I=n,A=n.$$element):(A=Xr(a),I=new U(A,n)),y=o,$?m=o.$new(!0):w&&(y=o.$parent),h&&(x=p,x.$$boundTransclude=h,x.isSlotFilled=function(t){return!!h.$$slots[t]}),T&&(b=re(A,I,x,T,m,o,$)),$&&(H.$$addScopeInfo(A,m,!0,!(S&&(S===$||S===$.$$originalDirective))),H.$$addScopeClass(A,!0),m.$$isolateBindings=$.$$isolateBindings,D=we(o,I,m,m.$$isolateBindings,$),D.removeWatches&&m.$on("$destroy",D.removeWatches));for(var O in b){var P=T[O],L=b[O],N=P.$$bindings.bindToController;if(M){L.bindingInfo=N?we(y,I,L.instance,N,P):{};var R=L();R!==L.instance&&(L.instance=R,A.data("$"+P.name+"Controller",R),L.bindingInfo.removeWatches&&L.bindingInfo.removeWatches(),L.bindingInfo=we(y,I,L.instance,N,P))}else L.instance=L(),A.data("$"+P.name+"Controller",L.instance),L.bindingInfo=we(y,I,L.instance,N,P)}for(i(T,function(t,e){var n=t.require;t.bindToController&&!lo(n)&&_(n)&&l(b[e].instance,ie(e,n,A,b))}),i(b,function(t){var e=t.instance;if(k(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){r(n)}if(k(e.$onInit))try{e.$onInit()}catch(n){r(n)}k(e.$doCheck)&&(y.$watch(function(){e.$doCheck()}),e.$doCheck()),k(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),f=0,d=u.length;d>f;f++)g=u[f],xe(g,g.isolateScope?m:o,A,I,g.require&&ie(g.directiveName,g.require,A,b),x);var V=o;for($&&($.template||null===$.templateUrl)&&(V=m),t&&t(V,a.childNodes,void 0,h),f=c.length-1;f>=0;f--)g=c[f],xe(g,g.isolateScope?m:o,A,I,g.require&&ie(g.directiveName,g.require,A,b),x);i(b,function(t){var e=t.instance;k(e.$postLink)&&e.$postLink()})}h=h||{};for(var d,g,m,y,b,x=-Number.MAX_VALUE,w=h.newScopeDirective,T=h.controllerDirectives,$=h.newIsolateScopeDirective,S=h.templateDirective,A=h.nonTlbTranscludeDirective,I=!1,D=!1,E=h.hasElementTranscludeDirective,O=n.$$element=Xr(e),P=s,L=o,N=!1,V=!1,W=0,B=t.length;B>W;W++){d=t[W];var K=d.$$start,F=d.$$end;if(K&&(O=Q(e,K,F)),m=void 0,x>d.priority)break;if(b=d.scope,b&&(d.templateUrl||(_(b)?(fe("new/isolated scope",$||w,d,O),$=d):fe("new/isolated scope",$,d,O)),w=w||d),g=d.name,!N&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var q,G=W+1;q=t[G++];)if(q.transclude&&!q.$$tlb||q.replace&&(q.templateUrl||q.template)){V=!0;break}N=!0}if(!d.templateUrl&&d.controller&&(T=T||me(),fe("'"+g+"' controller",T[g],d,O),T[g]=d),b=d.transclude)if(I=!0,d.$$tlb||(fe("transclusion",A,d,O),A=d),"element"===b)E=!0,x=d.priority,m=O,O=n.$$element=Xr(H.$$createComment(g,n[g])),e=O[0],_e(a,j(m),e),m[0].$$parentNode=m[0].parentNode,L=ee(V,m,o,x,P&&P.name,{nonTlbTranscludeDirective:A});else{var Y=me();if(_(b)){m=[];var J=me(),ne=me();i(b,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,J[t]=e,Y[e]=null,ne[e]=n}),i(O.contents(),function(t){var e=J[Tn(R(t))];e?(ne[e]=!0,Y[e]=Y[e]||[],Y[e].push(t)):m.push(t)}),i(ne,function(t,e){if(!t)throw aa("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var ae in Y)Y[ae]&&(Y[ae]=ee(V,Y[ae],o))}else m=Xr(Le(e)).contents();O.empty(),L=ee(V,m,o,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),L.$$slots=Y}if(d.template)if(D=!0,fe("template",S,d,O),S=d,b=k(d.template)?d.template(O,n):d.template,b=Ee(b),d.replace){if(P=d,m=Ce(b)?[]:$n(ge(d.templateNamespace,ho(b))),e=m[0],1!==m.length||e.nodeType!==xo)throw aa("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");_e(a,O,e);var se={$attr:{}},le=Z(e,[],se),he=t.splice(W+1,t.length-(W+1));($||w)&&oe(le,$,w),t=t.concat(le).concat(he),ue(n,se),B=t.length}else O.html(b);if(d.templateUrl)D=!0,fe("template",S,d,O),S=d,d.replace&&(P=d),f=ce(t.splice(W,t.length-W),O,n,a,I&&L,u,c,{controllerDirectives:T,newScopeDirective:w!==d&&w,newIsolateScopeDirective:$,templateDirective:S,nonTlbTranscludeDirective:A}),B=t.length;else if(d.compile)try{y=d.compile(O,n,L);var pe=d.$$originalDirective||d;k(y)?p(null,z(pe,y),K,F):y&&p(z(pe,y.pre),z(pe,y.post),K,F)}catch(de){r(de,X(O))}d.terminal&&(f.terminal=!0,x=Math.max(x,d.priority))}return f.scope=w&&w.scope===!0,f.transcludeOnThisElement=I,f.templateOnThisElement=D,f.transclude=L,h.hasElementTranscludeDirective=E,f}function ie(t,e,n,r){var o;if(x(e)){var a=e.match($),s=e.substring(a[0].length),u=a[1]||a[3],l="?"===a[2];if("^^"===u?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=u?n.inheritedData(c):n.data(c)}if(!o&&!l)throw aa("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(lo(e)){o=[];for(var h=0,p=e.length;p>h;h++)o[h]=ie(t,e[h],n,r)}else _(e)&&(o={},i(e,function(e,i){o[i]=ie(t,e,n,r)}));return o||null}function re(t,e,n,i,r,o,a){var s=me();for(var l in i){var c=i[l],h={$scope:c===a||c.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},p=c.controller;"@"===p&&(p=e[c.name]);var f=u(p,h,!0,c.controllerAs);s[c.name]=f,t.data("$"+c.name+"Controller",f.instance)}return s}function oe(t,e,n){for(var i=0,r=t.length;r>i;i++)t[i]=p(t[i],{$$isolateScope:e,$$newScope:n})}function ae(t,n,i,r,o,s,u){if(n===o)return null;var l=null;if(h.hasOwnProperty(n))for(var c,f=e.get(n+m),d=0,g=f.length;g>d;d++)if(c=f[d],(v(r)||r>c.priority)&&-1!==c.restrict.indexOf(i)){if(s&&(c=p(c,{$$start:s,$$end:u})),!c.$$bindings){var y=c.$$bindings=a(c,c.name);_(y.isolateScope)&&(c.$$isolateBindings=y.isolateScope)}t.push(c),l=c}return l}function se(t){if(h.hasOwnProperty(t))for(var n,i=e.get(t+m),r=0,o=i.length;o>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function ue(t,e){var n=e.$attr,r=t.$attr;i(t,function(i,r){"$"!==r.charAt(0)&&(e[r]&&e[r]!==i&&(i.length?i+=("style"===r?";":" ")+e[r]:i=e[r]),t.$set(r,i,!0,n[r]))}),i(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ce(t,e,n,a,s,u,l,c){var h,d,g=[],m=e[0],v=t.shift(),y=p(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),b=k(v.templateUrl)?v.templateUrl(e,n):v.templateUrl,x=v.templateNamespace;return e.empty(),o(b).then(function(r){var o,p,f,w;if(r=Ee(r),v.replace){if(f=Ce(r)?[]:$n(ge(x,ho(r))),o=f[0],1!==f.length||o.nodeType!==xo)throw aa("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,b);p={$attr:{}},_e(a,e,o);var T=Z(o,[],p);_(v.scope)&&oe(T,!0),t=T.concat(t),ue(n,p)}else o=m,e.html(r);for(t.unshift(y),h=ne(t,o,n,s,e,v,u,l,c),i(a,function(t,n){t===o&&(a[n]=e[0])}),d=q(e[0].childNodes,s);g.length;){var k=g.shift(),$=g.shift(),S=g.shift(),C=g.shift(),A=e[0];if(!k.$$destroyed){if($!==m){var I=$.className;c.hasElementTranscludeDirective&&v.replace||(A=Le(o)),_e(S,Xr($),A),K(Xr(A),I)}w=h.transcludeOnThisElement?Y(k,h.transclude,C):C,h(d,k,A,a,w)}}g=null}).catch(function(t){t instanceof Error&&r(t)}).catch(f),function(t,e,n,i,r){var o=r;e.$$destroyed||(g?g.push(e,n,i,o):(h.transcludeOnThisElement&&(o=Y(e,h.transclude,r)),h(d,e,n,i,o)))}}function pe(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function fe(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw aa("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,X(i))}function de(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&H.$$addBindingClass(e),function(t,e){var r=e.parent();n||H.$$addBindingClass(r),H.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function ge(e,n){switch(e=Fr(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function ve(t,e){if("srcdoc"===e)return g.HTML;var n=R(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return g.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return g.RESOURCE_URL}function ye(t,e,i,r,o){var a=ve(t,r),s=!o,u=T[r]||o,l=n(i,s,a,u);if(l){if("multiple"===r&&"select"===R(t))throw aa("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(t));if(S.test(r))throw aa("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=me()),c=o[r];c!==i&&(l=c&&n(c,!0,a,u),i=c),l&&(o[r]=l(t),(s[r]||(s[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||t).$watch(l,function(t,e){"class"===r&&t!==e?o.$updateClass(t,e):o.$set(r,t)}))}}}})}}function _e(e,n,i){var r,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]===a){e[r++]=i;for(var l=r,c=l+s-1,h=e.length;h>l;l++,c++)h>c?e[l]=e[c]:delete e[l];e.length-=s-1,e.context===a&&(e.context=i);break}u&&u.replaceChild(i,a);var p=t.document.createDocumentFragment();for(r=0;s>r;r++)p.appendChild(n[r]);for(Xr.hasData(a)&&(Xr.data(i,Xr.data(a)),Xr(a).off("$destroy")),Xr.cleanData(p.querySelectorAll("*")),r=1;s>r;r++)delete n[r];n[0]=i,n.length=1}function be(t,e){return l(function(){return t.apply(null,arguments)},t,e)}function xe(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(s){r(s,X(n))}}function we(t,e,r,o,a){function u(e,n,i){!k(r.$onChanges)||n===i||n!==n&&i!==i||(Te||(t.$$postDigest(N),Te=[]),c||(c={},Te.push(l)),c[e]&&(i=c[e].previousValue),c[e]=new wn(i,n))}function l(){r.$onChanges(c),c=void 0}var c,h=[],p={};return i(o,function(i,o){var l,c,d,g,m,v=i.attrName,y=i.optional,_=i.mode;switch(_){case"@":y||Hr.call(e,v)||(r[o]=e[v]=void 0),m=e.$observe(v,function(t){if(x(t)||D(t)){var e=r[o];u(o,t,e),r[o]=t}}),e.$$observers[v].$$scope=t,l=e[v],x(l)?r[o]=n(l)(t):D(l)&&(r[o]=l),p[o]=new wn(sa,r[o]),h.push(m);break;case"=":if(!Hr.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]),g=c.literal?B:function(t,e){return t===e||t!==t&&e!==e},d=c.assign||function(){throw l=r[o]=c(t),aa("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[v],v,a.name)},l=r[o]=c(t);var b=function(e){return g(e,r[o])||(g(e,l)?d(t,e=r[o]):r[o]=e),l=e};b.$stateful=!0,m=i.collection?t.$watchCollection(e[v],b):t.$watch(s(e[v],b),null,c.literal),h.push(m);break;case"<":if(!Hr.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]);var w=c.literal,T=r[o]=c(t);p[o]=new wn(sa,r[o]),m=t.$watch(c,function(t,e){if(e===t){if(e===T||w&&B(e,T))return;e=T}u(o,t,e),r[o]=t},w),h.push(m);break;case"&":if(c=e.hasOwnProperty(v)?s(e[v]):f,c===f&&y)break;r[o]=function(e){return c(t,e)}}}),{initialChanges:p,removeWatches:h.length&&function(){for(var t=0,e=h.length;e>t;++t)h[t]()}}}var Te,ke=/^\w/,$e=t.document.createElement("div"),Se=O,Ae=P,Ie=E;U.prototype={$normalize:Tn,$addClass:function(t){t&&t.length>0&&A.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&A.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=kn(t,e);n&&n.length&&A.addClass(this.$$element,n);var i=kn(e,t);i&&i.length&&A.removeClass(this.$$element,i)},$set:function(t,e,n,o){var a,s=this.$$element[0],u=Xe(s,t),l=Je(t),c=t;if(u?(this.$$element.prop(t,e),o=u):l&&(this[l]=e,c=l),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t],o||(this.$attr[t]=o=le(t,"-"))),a=R(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=L(e,"src"===t);else if("img"===a&&"srcset"===t&&y(e)){for(var h="",p=ho(e),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(p)?f:/(,)/,g=p.split(d),m=Math.floor(g.length/2),_=0;m>_;_++){var b=2*_;h+=L(ho(g[b]),!0),h+=" "+ho(g[b+1])}var x=ho(g[2*_]).split(/\s/);h+=L(ho(x[0]),!0),2===x.length&&(h+=" "+ho(x[1])),this[t]=e=h}n!==!1&&(null===e||v(e)?this.$$element.removeAttr(o):ke.test(o)?this.$$element.attr(o,e):W(this.$$element[0],o,e));var w=this.$$observers;w&&i(w[c],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=me()),r=i[t]||(i[t]=[]);return r.push(e),c.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||v(n[t])||e(n[t])}),function(){V(r,e)}}};var Me=n.startSymbol(),De=n.endSymbol(),Ee="{{"===Me&&"}}"===De?d:function(t){return t.replace(/\{\{/g,Me).replace(/}}/g,De)},Oe=/^ngAttr[A-Z]/,Pe=/^(.+)Start$/;return H.$$addBindingInfo=I?function(t,e){var n=t.data("$binding")||[];lo(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,H.$$addBindingClass=I?function(t){K(t,"ng-binding")}:f,H.$$addScopeInfo=I?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:f,H.$$addScopeClass=I?function(t,e){K(t,e?"ng-isolate-scope":"ng-scope")}:f,H.$$createComment=function(e,n){var i="";return I&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},H}]}function wn(t,e){this.previousValue=t,this.currentValue=e}function Tn(t){return t.replace(ua,"").replace(la,$e)}function kn(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function $n(t){t=Xr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];(n.nodeType===ko||n.nodeType===To&&""===n.nodeValue.trim())&&eo.call(t,e,1)}return t}function Sn(t,e){if(e&&x(e))return e;if(x(t)){var n=ha.exec(t);if(n)return n[3]}}function Cn(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){fe(e,"controller"),_(e)?l(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(t,n,i,r){if(!t||!_(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);t.$scope[n]=i}return function(e,a,s,u){var c,h,p,f;if(s=s===!0,u&&x(u)&&(f=u),x(e)){if(h=e.match(ha),!h)throw ca("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(p=h[1],f=f||h[3],e=t.hasOwnProperty(p)?t[p]:de(a.$scope,p,!0)||(n?de(r,p,!0):void 0),!e)throw ca("ctrlreg","The controller with the name '{0}' is not registered.",p);pe(e,p,!0)}if(s){var d=(lo(e)?e[e.length-1]:e).prototype;return c=Object.create(d||null),f&&o(a,f,c,p||e.name),l(function(){var t=i.invoke(e,c,a,p);return t!==c&&(_(t)||k(t))&&(c=t,f&&o(a,f,c,p||e.name)),c},{instance:c,identifier:f})}return c=i.instantiate(e,a,p),f&&o(a,f,c,p||e.name),c}}]}function An(){this.$get=["$window",function(t){return Xr(t.document)}]}function In(){this.$get=["$document","$rootScope",function(t,e){function n(){r=i.hidden}var i=t[0],r=i&&i.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return r}}]}function Mn(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function Dn(t){return _(t)?T(t)?t.toISOString():F(t):t}function En(){this.$get=function(){return function(t){if(!t)return"";var e=[];return r(t,function(t,n){null===t||v(t)||(lo(t)?i(t,function(t){e.push(ne(n)+"="+ne(Dn(t)))}):e.push(ne(n)+"="+ne(Dn(t))))}),e.join("&")}}}function On(){this.$get=function(){return function(t){function e(t,o,a){null===t||v(t)||(lo(t)?i(t,function(t,n){e(t,o+"["+(_(t)?n:"")+"]")}):_(t)&&!T(t)?r(t,function(t,n){e(t,o+(a?"":"[")+n+(a?"":"]"))}):n.push(ne(o)+"="+ne(Dn(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Pn(t,e){if(x(t)){var n=t.replace(va,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(fa)||Ln(n))&&(t=q(n))}}return t}function Ln(t){var e=t.match(ga);return e&&ma[e[0]].test(t)}function Nn(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=me();return x(t)?i(t.split("\n"),function(t){n=t.indexOf(":"),e(Fr(ho(t.substr(0,n))),ho(t.substr(n+1)))}):_(t)&&i(t,function(t,n){e(Fr(n),ho(t))}),r}function Rn(t){var e;return function(n){if(e||(e=Nn(t)),n){var i=e[Fr(n)];return void 0===i&&(i=null),i}return e}}function Un(t,e,n,r){return k(r)?r(t,e,n):(i(r,function(i){t=i(t,e,n)}),t)}function Vn(t){return t>=200&&300>t}function Wn(){var t=this.defaults={transformResponse:[Pn],transformRequest:[function(t){return!_(t)||A(t)||M(t)||I(t)?t:F(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:_e(da),put:_e(da),patch:_e(da)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return y(t)?(n=!!t,this):n};var r=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,a,s,u,c,h,p,d){function g(n){function r(t,e){for(var n=0,i=e.length;i>n;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function a(){o.$$completeOutstandingRequest(f)}function s(t,e){var n,r={};return i(t,function(t,i){k(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function u(e){var n,i,r,o=t.headers,a=l({},e.headers);o=l({},o.common,o[Fr(e.method)]);t:for(n in o){i=Fr(n);for(r in a)if(Fr(r)===i)continue t;a[n]=o[n]}return s(a,_e(e))}function c(e){var n=e.headers,r=Un(e.data,Rn(n),void 0,e.transformRequest);return v(r)&&i(n,function(t,e){"content-type"===Fr(e)&&delete n[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),w(e,r).then(g,g)}function g(t){var e=l({},t);return e.data=Un(t.data,t.headers,t.status,m.transformResponse),Vn(t.status)?e:h.reject(e)}if(!_(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!x(d.valueOf(n.url)))throw e("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var m=l({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);m.headers=u(n),m.method=qr(m.method),m.paramSerializer=x(m.paramSerializer)?p.get(m.paramSerializer):m.paramSerializer,o.$$incOutstandingRequestCount();var y=[],b=[],T=h.resolve(m);return i(C,function(t){(t.request||t.requestError)&&y.unshift(t.request,t.requestError),(t.response||t.responseError)&&b.push(t.response,t.responseError)}),T=r(T,y),T=T.then(c),T=r(T,b),T=T.finally(a)}function m(){i(arguments,function(t){g[t]=function(e,n){return g(l({},n||{},{method:t,url:e}))}})}function b(){i(arguments,function(t){g[t]=function(e,n,i){return g(l({},i||{},{method:t,url:e,data:n}))}})}function w(e,r){function o(t){if(t){var e={};return i(t,function(t,i){e[i]=function(e){function i(){t(e)}n?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),e}}function u(t,e,i,r){function o(){l(e,t,i,r)}m&&(Vn(t)?m.put(I,[t,e,Nn(i),r]):m.remove(I)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function l(t,n,i,r){n=n>=-1?n:0,(Vn(n)?w.resolve:w.reject)({data:t,status:n,headers:Rn(i),config:e,statusText:r})}function p(t){l(t.data,t.status,_e(t.headers()),t.statusText)}function f(){var t=g.pendingRequests.indexOf(e);-1!==t&&g.pendingRequests.splice(t,1)}var m,b,w=h.defer(),k=w.promise,C=e.headers,A="jsonp"===Fr(e.method),I=e.url;if(A?I=d.getTrustedResourceUrl(I):x(I)||(I=d.valueOf(I)),I=T(I,e.paramSerializer(e.params)),A&&(I=$(I,e.jsonpCallbackParam)),g.pendingRequests.push(e),k.then(f,f),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(m=_(e.cache)?e.cache:_(t.cache)?t.cache:S),m&&(b=m.get(I),y(b)?E(b)?b.then(p,p):lo(b)?l(b[1],b[0],_e(b[2]),b[3]):l(b,200,{},"OK"):m.put(I,k)),v(b)){var M=Ui(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;M&&(C[e.xsrfHeaderName||t.xsrfHeaderName]=M),a(e.method,I,r,u,C,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))}return k}function T(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function $(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw ya("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);var n=new RegExp("[&?]"+e+"=");if(n.test(t))throw ya("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var S=u("$http");t.paramSerializer=x(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var C=[];return i(r,function(t){C.unshift(x(t)?p.get(t):p.invoke(t))}),g.pendingRequests=[],m("get","delete","head","jsonp"),b("post","put","patch"),g.defaults=t,g}]}function Bn(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Kn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return jn(t,i,t.defer,e,n[0])}]}function jn(t,e,n,r,o){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=t,i.async=!0,a=function(t){i.removeEventListener("load",a),i.removeEventListener("error",a),o.body.removeChild(i),i=null;var s=-1,u="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},i.addEventListener("load",a),i.addEventListener("error",a),o.body.appendChild(i),a}return function(o,s,u,l,c,h,p,f,d,g){function m(){x&&x(),w&&w.abort()}function _(t,e,i,r,o){y($)&&n.cancel($),x=w=null,t(e,i,r,o)}if(s=s||t.url(),"jsonp"===Fr(o))var b=r.createCallback(s),x=a(s,b,function(t,e){var n=200===t&&r.getResponse(b);_(l,t,n,"",e),r.removeCallback(b)});else{var w=e(o,s);w.open(o,s,!0),i(c,function(t,e){y(t)&&w.setRequestHeader(e,t)}),w.onload=function(){var t=w.statusText||"",e="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=e?200:"file"===Ri(s).protocol?404:0),_(l,n,e,w.getAllResponseHeaders(),t)};var T=function(){_(l,-1,null,null,"")};if(w.onerror=T,w.onabort=T,w.ontimeout=T,i(d,function(t,e){w.addEventListener(e,t)}),i(g,function(t,e){w.upload.addEventListener(e,t)}),p&&(w.withCredentials=!0),f)try{w.responseType=f}catch(k){if("json"!==f)throw k}w.send(v(u)?null:u)}if(h>0)var $=n(m,h);else E(h)&&h.then(m)}}function zn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(n){return n.replace(p,t).replace(f,e)}function s(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function u(o,u,p,f){function d(t){try{return t=D(t),f&&!y(t)?t:ve(t)}catch(e){i(_a.interr(o,e))}}if(!o.length||-1===o.indexOf(t)){var m;if(!u){var _=a(o);m=g(_),m.exp=o,m.expressions=[],m.$$watchDelegate=s}return m}f=!!f;for(var b,x,w,T=0,$=[],S=[],C=o.length,A=[],I=[];C>T;){if(-1===(b=o.indexOf(t,T))||-1===(x=o.indexOf(e,b+c))){T!==C&&A.push(a(o.substring(T)));break}T!==b&&A.push(a(o.substring(T,b))),w=o.substring(b+c,x),$.push(w),S.push(n(w,d)),T=x+h,I.push(A.length),A.push("")}if(p&&A.length>1&&_a.throwNoconcat(o),!u||$.length){var M=function(t){for(var e=0,n=$.length;n>e;e++){if(f&&v(t[e]))return;A[I[e]]=t[e]}return A.join("")},D=function(t){return p?r.getTrusted(p,t):r.valueOf(t)};return l(function(t){var e=0,n=$.length,r=new Array(n);try{for(;n>e;e++)r[e]=S[e](t);return M(r)}catch(a){i(_a.interr(o,a))}},{exp:o,expressions:$,$$watchDelegate:function(t,e){var n;return t.$watchGroup(S,function(i,r){var o=M(i);k(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var c=t.length,h=e.length,p=new RegExp(t.replace(/./g,o),"g"),f=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Hn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,s,u,l){function c(){h?o.apply(null,p):o(g)}var h=arguments.length>4,p=h?j(arguments,4):[],f=e.setInterval,d=e.clearInterval,g=0,m=y(l)&&!l,v=(m?i:n).defer(),_=v.promise;return u=y(u)?u:0,_.$$intervalId=f(function(){m?r.defer(c):t.$evalAsync(c),v.notify(g++),u>0&&g>=u&&(v.resolve(g),d(_.$$intervalId),delete a[_.$$intervalId]),m||t.$apply()},s),a[_.$$intervalId]=v,_}var a={};return o.cancel=function(t){return t&&t.$$intervalId in a?(a[t.$$intervalId].promise.catch(f),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0):!1},o}]}function Fn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=ee(e[n]);return e.join("/")}function qn(t,e){var n=Ri(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||wa[n.protocol]||null}function Gn(t,e){if(ka.test(t))throw Ta("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=Ri(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=Q(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Yn(t,e){return t.slice(0,e.length)===e}function Zn(t,e){return Yn(e,t)?e.substr(t.length):void 0}function Xn(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function Jn(t){return t.replace(/(#.+)|#$/,"$1")}function Qn(t){return t.substr(0,Xn(t).lastIndexOf("/")+1)}function ti(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function ei(t,e,n){this.$$html5=!0,n=n||"",qn(t,this),this.$$parse=function(t){var n=Zn(e,t);if(!x(n))throw Ta("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Gn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=te(this.$$search),n=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Fn(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return y(o=Zn(t,i))?(a=o,s=n&&y(o=Zn(n,o))?e+(Zn("/",o)||o):t+a):y(o=Zn(e,i))?s=e+o:e===i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function ni(t,e,n){qn(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return Yn(e,n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,a=Zn(t,i)||Zn(e,i);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(t=i,this.replace())):(o=Zn(n,a),v(o)&&(o=a)),Gn(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=te(this.$$search),i=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Fn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e){return Xn(t)===Xn(e)?(this.$$parse(e),!0):!1}}function ii(t,e,n){this.$$html5=!0,ni.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t===Xn(i)?o=i:(a=Zn(e,i))?o=t+n+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=te(this.$$search),i=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Fn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function ri(t){return function(){return this[t]}}function oi(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function ai(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return D(t)?(e.enabled=t,this):_(t)?(D(t.enabled)&&(e.enabled=t.enabled),D(t.requireBase)&&(e.requireBase=t.requireBase),(D(t.rewriteLinks)||x(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=l.url(),o=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(a){throw l.url(r),l.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,c,h,p=i.baseHref(),f=i.url();if(e.enabled){if(!p&&e.requireBase)throw Ta("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=ti(f)+(p||"/"),c=r.history?ei:ii}else h=Xn(f),c=ni;var d=Qn(h);l=new c(h,d,"#"+t),l.$$parseLinkUrl(f,f),l.$$state=i.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){var r=e.rewriteLinks;if(r&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=Xr(t.target);"a"!==R(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!x(r)||!v(s.attr(r))){var u=s.prop("href"),c=s.attr("href")||s.attr("xlink:href");_(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=Ri(u.animVal).href),g.test(u)||!u||s.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(u,c)&&(t.preventDefault(),l.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Jn(l.absUrl())!==Jn(f)&&i.url(l.absUrl(),!0);var m=!0;return i.onUrlChange(function(t,e){return Yn(t,d)?(n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;t=Jn(t),l.$$parse(t),l.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,l.absUrl()===t&&(i?(l.$$parse(r),l.$$state=o,s(r,!1,o)):(m=!1,u(r,o)))}),void(n.$$phase||n.$digest())):void(a.location.href=t)}),n.$watch(function(){var t=Jn(i.url()),e=Jn(l.absUrl()),o=i.state(),a=l.$$replace,c=t!==e||l.$$html5&&r.history&&o!==l.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var e=l.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(i?(l.$$parse(t),l.$$state=o):(c&&s(e,a,o===l.$$state?null:l.$$state),u(t,o)))})),l.$$replace=!1}),l}]}function si(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||f,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var t=[];return i(arguments,function(e){t.push(r(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function ui(t){return t+""
}function li(t,e){return"undefined"!=typeof t?t:e}function ci(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function hi(t,e){var n=t(e);return!n.$stateful}function pi(t,e){var n,r,o;switch(t.type){case Da.Program:n=!0,i(t.body,function(t){pi(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Da.Literal:t.constant=!0,t.toWatch=[];break;case Da.UnaryExpression:pi(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Da.BinaryExpression:pi(t.left,e),pi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Da.LogicalExpression:pi(t.left,e),pi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Da.ConditionalExpression:pi(t.test,e),pi(t.alternate,e),pi(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Da.Identifier:t.constant=!1,t.toWatch=[t];break;case Da.MemberExpression:pi(t.object,e),t.computed&&pi(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Da.CallExpression:o=t.filter?hi(e,t.callee.name):!1,n=o,r=[],i(t.arguments,function(t){pi(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=o?r:[t];break;case Da.AssignmentExpression:pi(t.left,e),pi(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Da.ArrayExpression:n=!0,r=[],i(t.elements,function(t){pi(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Da.ObjectExpression:n=!0,r=[],i(t.properties,function(t){pi(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case Da.ThisExpression:t.constant=!1,t.toWatch=[];break;case Da.LocalsExpression:t.constant=!1,t.toWatch=[]}}function fi(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function di(t){return t.type===Da.Identifier||t.type===Da.MemberExpression}function gi(t){return 1===t.body.length&&di(t.body[0].expression)?{type:Da.AssignmentExpression,left:t.body[0].expression,right:{type:Da.NGValueParameter},operator:"="}:void 0}function mi(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Da.Literal||t.body[0].expression.type===Da.ArrayExpression||t.body[0].expression.type===Da.ObjectExpression)}function vi(t){return t.constant}function yi(t,e){this.astBuilder=t,this.$filter=e}function _i(t,e){this.astBuilder=t,this.$filter=e}function bi(t){return k(t.valueOf)?t.valueOf():Ca.call(t)}function xi(){var t,e,n=me(),r={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(o){function a(t,e){var i,r,a;switch(typeof t){case"string":if(t=t.trim(),a=t,i=n[a],!i){":"===t.charAt(0)&&":"===t.charAt(1)&&(r=!0,t=t.substring(2));var s=new Ma(g),d=new Ea(s,o,g);i=d.parse(t),i.constant?i.$$watchDelegate=h:r?i.$$watchDelegate=i.literal?c:l:i.inputs&&(i.$$watchDelegate=u),n[a]=i}return p(i,e);case"function":return p(t,e);default:return p(f,e)}}function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=bi(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function u(t,e,n,i,r){var o,a=i.inputs;if(1===a.length){var u=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,u)||(o=i(t,void 0,void 0,[e]),u=e&&bi(e)),o},e,n,r)}for(var l=[],c=[],h=0,p=a.length;p>h;h++)l[h]=s,c[h]=null;return t.$watch(function(t){for(var e=!1,n=0,r=a.length;r>n;n++){var u=a[n](t);(e||(e=!s(u,l[n])))&&(c[n]=u,l[n]=u&&bi(u))}return e&&(o=i(t,void 0,void 0,c)),o},e,n,r)}function l(t,e,n,i,r){function o(t){return i(t)}function a(t,n,i){l=t,k(e)&&e(t,n,i),y(t)&&i.$$postDigest(function(){y(l)&&s()})}var s,l;return s=i.inputs?u(t,a,n,i,r):t.$watch(o,a,n)}function c(t,e,n,r){function o(t){var e=!0;return i(t,function(t){y(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,i){s=t,k(e)&&e(t,n,i),o(t)&&i.$$postDigest(function(){o(s)&&a()})},n)}function h(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function p(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==c&&n!==l,o=r?function(n,r,o,a){var s=i&&a?a[0]:t(n,r,o,a);return e(s,n,r)}:function(n,i,r,o){var a=t(n,i,r,o),s=e(a,n,i);return y(a)?s:a};return i=!t.inputs,t.$$watchDelegate&&t.$$watchDelegate!==u?(o.$$watchDelegate=t.$$watchDelegate,o.inputs=t.inputs):e.$stateful||(o.$$watchDelegate=u,o.inputs=t.inputs?t.inputs:[t]),o}var d=fo().noUnsafeEval,g={csp:d,literals:W(r),isIdentifierStart:k(t)&&t,isIdentifierContinue:k(e)&&e};return a}]}function wi(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return ki(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return y(e)?(t=e,this):t}}function Ti(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return ki(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return y(e)?(t=e,this):t}}function ki(t,n,r){function o(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){p(t,e)},this.reject=function(e){d(t,e)},this.notify=function(e){m(t,e)}}function s(){this.$$state={status:0}}function u(e){var n,i,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var a=0,s=o.length;s>a;++a){e.pur=!0,i=o[a][0],n=o[a][e.status];try{k(n)?p(i,n(e.value)):1===e.status?p(i,e.value):d(i,e.value)}catch(u){d(i,u)}}}finally{--C,r&&0===C&&t(c)}}function c(){for(;!C&&A.length;){var t=A.shift();if(!t.pur){t.pur=!0;var e="Possibly unhandled rejection: "+xe(t.value);t.value instanceof Error?n(t.value,e):n(e)}}}function h(e){!r||e.pending||2!==e.status||e.pur||(0===C&&0===A.length&&t(c),A.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++C,t(function(){u(e)}))}function p(t,e){t.$$state.status||(e===t?g(t,S("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):f(t,e))}function f(t,e){function n(e){a||(a=!0,f(t,e))}function i(e){a||(a=!0,g(t,e))}function r(e){m(t,e)}var o,a=!1;try{(_(e)||k(e))&&(o=e.then),k(o)?(t.$$state.status=-1,o.call(e,n,i,r)):(t.$$state.value=e,t.$$state.status=1,h(t.$$state))}catch(s){i(s)}}function d(t,e){t.$$state.status||g(t,e)}function g(t,e){t.$$state.value=e,t.$$state.status=2,h(t.$$state)}function m(e,i){var r=e.$$state.pending;e.$$state.status<=0&&r&&r.length&&t(function(){for(var t,e,o=0,a=r.length;a>o;o++){e=r[o][0],t=r[o][3];try{m(e,k(t)?t(i):i)}catch(s){n(s)}}})}function y(t){var e=new s;return d(e,t),e}function b(t,e,n){var i=null;try{k(n)&&(i=n())}catch(r){return y(r)}return E(i)?i.then(function(){return e(t)},y):e(t)}function x(t,e,n,i){var r=new s;return p(r,t),r.then(e,n,i)}function w(t){var e=new s,n=0,r=lo(t)?[]:{};return i(t,function(t,i){n++,x(t).then(function(t){r[i]=t,--n||p(e,r)},function(t){d(e,t)})}),0===n&&p(e,r),e}function T(t){var e=o();return i(t,function(t){x(t).then(e.resolve,e.reject)}),e.promise}function $(t){function e(t){p(i,t)}function n(t){d(i,t)}if(!k(t))throw S("norslvr","Expected resolverFn, got '{0}'",t);var i=new s;return t(e,n),i}var S=e("$q",TypeError),C=0,A=[];l(s.prototype,{then:function(t,e,n){if(v(t)&&v(e)&&v(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&h(this.$$state),i},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return b(e,I,t)},function(e){return b(e,y,t)},e)}});var I=x;return $.prototype=s.prototype,$.defer=o,$.reject=y,$.when=x,$.resolve=I,$.all=w,$.race=T,$}function $i(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function Si(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return e.prototype=t,e}var r=10,o=e("$rootScope"),s=null,u=null;this.digestTtl=function(t){return arguments.length&&(r=t),r},this.$get=["$exceptionHandler","$parse","$browser",function(e,l,c){function h(t){t.currentScope.$$destroyed=!0}function p(t){9===Zr&&(t.$$childHead&&p(t.$$childHead),t.$$nextSibling&&p(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function d(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(t){if($.$$phase)throw o("inprog","{0} already in progress",$.$$phase);$.$$phase=t}function m(){$.$$phase=null}function y(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function b(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function x(){}function w(){for(;A.length;)try{A.shift()()}catch(t){e(t)}u=null}function T(){null===u&&(u=c.defer(function(){$.$apply(w)}))}d.prototype={constructor:d,$new:function(e,n){var i;return n=n||this,e?(i=new d,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!==this)&&i.$on("$destroy",h),i},$watch:function(t,e,n,i){var r=l(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,a=o.$$watchers,u={fn:e,last:x,get:r,exp:i||t,eq:!!n};return s=null,k(e)||(u.fn=f),a||(a=o.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(u),a.$$digestWatchIndex++,y(this,1),function(){var t=V(a,u);t>=0&&(y(o,-1),t<a.$$digestWatchIndex&&a.$$digestWatchIndex--),s=null}},$watchGroup:function(t,e){function n(){u=!1,l?(l=!1,e(o,o,s)):e(o,r,s)}var r=new Array(t.length),o=new Array(t.length),a=[],s=this,u=!1,l=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(o,o,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,i){o[0]=t,r[0]=n,e(o,t===n?o:r,i)}):(i(t,function(t,e){var i=s.$watch(t,function(t,i){o[e]=t,r[e]=i,u||(u=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function i(t){o=t;var e,i,r,s,u;if(!v(o)){if(_(o))if(n(o)){a!==f&&(a=f,m=a.length=0,h++),e=o.length,m!==e&&(h++,a.length=m=e);for(var l=0;e>l;l++)u=a[l],s=o[l],r=u!==u&&s!==s,r||u===s||(h++,a[l]=s)}else{a!==d&&(a=d={},m=0,h++),e=0;for(i in o)Hr.call(o,i)&&(e++,s=o[i],u=a[i],i in a?(r=u!==u&&s!==s,r||u===s||(h++,a[i]=s)):(m++,a[i]=s,h++));if(m>e){h++;for(i in a)Hr.call(o,i)||(m--,delete a[i])}}else a!==o&&(a=o,h++);return h}}function r(){if(g?(g=!1,e(o,o,u)):e(o,s,u),c)if(_(o))if(n(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var i in o)Hr.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,u=this,c=e.length>1,h=0,p=l(t,i),f=[],d={},g=!0,m=0;return this.$watch(p,r)},$digest:function(){var t,n,i,a,l,h,p,f,d,v,y,_=r,b=this,T=[];g("$digest"),c.$$checkUrlChange(),this===$&&null!==u&&(c.defer.cancel(u),w()),s=null;do{p=!1,d=b;for(var A=0;A<S.length;A++){try{y=S[A],y.scope.$eval(y.expression,y.locals)}catch(M){e(M)}s=null}S.length=0;t:do{if(h=d.$$watchers)for(h.$$digestWatchIndex=h.length;h.$$digestWatchIndex--;)try{if(t=h[h.$$digestWatchIndex])if(l=t.get,(n=l(d))===(i=t.last)||(t.eq?B(n,i):uo(n)&&uo(i))){if(t===s){p=!1;break t}}else p=!0,s=t,t.last=t.eq?W(n,null):n,a=t.fn,a(n,i===x?n:i,d),5>_&&(v=4-_,T[v]||(T[v]=[]),T[v].push({msg:k(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:i}))}catch(M){e(M)}if(!(f=d.$$watchersCount&&d.$$childHead||d!==b&&d.$$nextSibling))for(;d!==b&&!(f=d.$$nextSibling);)d=d.$parent}while(d=f);if((p||S.length)&&!_--)throw m(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,T)}while(p||S.length);for(m();I<C.length;)try{C[I++]()}catch(M){e(M)}C.length=I=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$&&c.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){$.$$phase||S.length||c.defer(function(){S.length&&$.$digest()}),S.push({scope:this,expression:l(t),locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{g("$apply");try{return this.$eval(t)}finally{m()}}catch(n){e(n)}finally{try{$.$digest()}catch(n){throw e(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),t=l(t),T()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,b(r,1,t))}},$emit:function(t){var n,i,r,o=[],a=this,s=!1,u={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=K([u],arguments,1);do{for(n=a.$$listeners[t]||o,u.currentScope=a,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,l)}catch(c){e(c)}else n.splice(i,1),i--,r--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(t){var n=this,i=n,r=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,u,l=K([o],arguments,1);i=r;){for(o.currentScope=i,a=i.$$listeners[t]||[],s=0,u=a.length;u>s;s++)if(a[s])try{a[s].apply(null,l)}catch(c){e(c)}else a.splice(s,1),s--,u--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return o.currentScope=null,o}};var $=new d,S=$.$$asyncQueue=[],C=$.$$postDigestQueue=[],A=$.$$applyAsyncQueue=[],I=0;return $}]}function Ci(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=Ri(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Ai(t){return t.replace(La,$e)}function Ii(t){if("self"===t)return t;if(x(t)){if(t.indexOf("***")>-1)throw Oa("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=po(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if($(t))return new RegExp("^"+t.source+"$");throw Oa("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Mi(t){var e=[];return y(t)&&i(t,function(t){e.push(Ii(t))}),e}function Di(){this.SCE_CONTEXTS=Pa;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Mi(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Mi(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Ui(e):!!t.exec(e.href)}function r(n){var r,o,a=Ri(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw Oa("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||v(e)||""===e)return e;if("string"!=typeof e)throw Oa("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof c?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||v(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Pa.RESOURCE_URL){if(r(e))return e;throw Oa("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Pa.HTML)return l(e);throw Oa("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(){throw Oa("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var c=o(),h={};return h[Pa.HTML]=o(c),h[Pa.CSS]=o(c),h[Pa.URL]=o(c),h[Pa.JS]=o(c),h[Pa.RESOURCE_URL]=o(h[Pa.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function Ei(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Zr)throw Oa("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=_e(Pa);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=d),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(Pa,function(t,e){var n=Fr(e);r[Ai("parse_as_"+n)]=function(e){return o(t,e)},r[Ai("get_trusted_"+n)]=function(e){return a(t,e)},r[Ai("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Oi(){this.$get=["$window","$document",function(t,e){var n={},i=t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),r=!i&&t.history&&t.history.pushState,o=h((/android (\d+)/.exec(Fr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=s.body&&s.body.style,l=!1,c=!1;return u&&(l=!!("transition"in u||"webkitTransition"in u),c=!!("animation"in u||"webkitAnimation"in u)),{history:!(!r||4>o||a),hasEvent:function(t){if("input"===t&&Zr)return!1;if(v(n[t])){var e=s.createElement("div");n[t]="on"+t in e}return n[t]},csp:fo(),transitions:l,animations:c,android:o}}]}function Pi(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,i,r,o){function a(s,u){function c(t){return u||(t=Na("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),r.reject(t)}a.totalPendingRequests++,(!x(s)||v(n.get(s)))&&(s=o.getTrustedResourceUrl(s));var h=i.defaults&&i.defaults.transformResponse;return lo(h)?h=h.filter(function(t){return t!==Pn}):h===Pn&&(h=null),i.get(s,l({cache:n,transformResponse:h},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},c)}return a.totalPendingRequests=0,a}]}function Li(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),o=[];return i(r,function(t){var r=ao.element(t).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+po(e)+"(\\s|\\||$)");r.test(i)&&o.push(t)}else-1!==i.indexOf(e)&&o.push(t)})}),o},r.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Ni(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,u){k(o)||(u=s,s=o,o=f);var l,c=j(arguments,3),h=y(u)&&!u,p=(h?i:n).defer(),d=p.promise;return l=e.defer(function(){try{p.resolve(o.apply(null,c))}catch(e){p.reject(e),r(e)}finally{delete a[d.$$timeoutId]}h||t.$apply()},s),d.$$timeoutId=l,a[l]=p,d}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].promise.catch(f),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Ri(t){var e=t;return Zr&&(Ra.setAttribute("href",e),e=Ra.href),Ra.setAttribute("href",e),{href:Ra.href,protocol:Ra.protocol?Ra.protocol.replace(/:$/,""):"",host:Ra.host,search:Ra.search?Ra.search.replace(/^\?/,""):"",hash:Ra.hash?Ra.hash.replace(/^#/,""):"",hostname:Ra.hostname,port:Ra.port,pathname:"/"===Ra.pathname.charAt(0)?Ra.pathname:"/"+Ra.pathname}}function Ui(t){var e=x(t)?Ri(t):t;return e.protocol===Ua.protocol&&e.host===Ua.host}function Vi(){this.$get=g(t)}function Wi(t){function e(t){try{return t.cookie||""}catch(e){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var i=t[0]||{},r={},o="";return function(){var t,a,s,u,l,c=e(i);if(c!==o)for(o=c,t=o.split("; "),r={},s=0;s<t.length;s++)a=t[s],u=a.indexOf("="),u>0&&(l=n(a.substring(0,u)),v(r[l])&&(r[l]=n(a.substring(u+1))));return r}}function Bi(){this.$get=Wi}function Ki(t){function e(r,o){if(_(r)){var a={};return i(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",qi),e("date",ur),e("filter",ji),e("json",lr),e("limitTo",cr),e("lowercase",Ha),e("number",Gi),e("orderBy",pr),e("uppercase",Fa)}function ji(){return function(t,i,r,o){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=Fi(i);switch(u){case"function":a=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=zi(i,r,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function zi(t,e,n,i){var r,o=_(t)&&n in t;return e===!0?e=B:k(e)||(e=function(t,e){return v(t)?!1:null===t||null===e?t===e:_(e)||_(t)&&!m(t)?!1:(t=Fr(""+t),e=Fr(""+e),-1!==t.indexOf(e))}),r=function(r){return o&&!_(r)?Hi(r,t[n],e,n,!1):Hi(r,t,e,n,i)}}function Hi(t,e,n,i,r,o){var a=Fi(t),s=Fi(e);if("string"===s&&"!"===e.charAt(0))return!Hi(t,e.substring(1),n,i,r);if(lo(t))return t.some(function(t){return Hi(t,e,n,i,r)});switch(a){case"object":var u;if(r){for(u in t)if("$"!==u.charAt(0)&&Hi(t[u],e,n,i,!0))return!0;return o?!1:Hi(t,e,n,i,!1)}if("object"===s){for(u in e){var l=e[u];if(!k(l)&&!v(l)){var c=u===i,h=c?t:t[u];if(!Hi(h,l,n,i,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Fi(t){return null===t?"null":typeof t}function qi(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Xi(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Gi(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Xi(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Yi(t){var e,n,i,r,o,a=0;for((n=t.indexOf(Wa))>-1&&(t=t.replace(Wa,"")),(i=t.search(/e/i))>0?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)===Ba;i++);if(i===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Ba;)o--;for(n-=i,e=[],r=0;o>=i;i++,r++)e[r]=+t.charAt(i)}return n>Va&&(e=e.splice(0,Va-1),a=n-1,n=1),{d:e,e:a,i:n}}function Zi(t,e,n,i){var r=t.d,o=r.length-t.i;e=v(e)?Math.min(Math.max(n,o),i):+e;var a=e+t.i,s=r[a];if(a>0){r.splice(Math.max(t.i,a));for(var u=a;u<r.length;u++)r[u]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,a=e+1),r[0]=0;for(var l=1;a>l;l++)r[l]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[a-1]++;for(;o<Math.max(0,e);o++)r.push(0);var h=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.i++)}function Xi(t,e,n,i,r){if(!x(t)&&!w(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",l="";if(a)l="∞";else{o=Yi(u),Zi(o,r,e.minFrac,e.maxFrac);var c=o.d,h=o.i,p=o.e,f=[];for(s=c.reduce(function(t,e){return t&&!e},!0);0>h;)c.unshift(0),h++;h>0?f=c.splice(h,c.length):(f=c,c=[0]);var d=[];for(c.length>=e.lgSize&&d.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)d.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&d.unshift(c.join("")),l=d.join(n),f.length&&(l+=i+f.join("")),p&&(l+="e+"+p)}return 0>t&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function Ji(t,e,n,i){var r="";for((0>t||i&&0>=t)&&(i?t=-t+1:(t=-t,r="-")),t=""+t;t.length<e;)t=Ba+t;return n&&(t=t.substr(t.length-e)),r+t}function Qi(t,e,n,i,r){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Ji(a,e,i,r)}}function tr(t,e,n){return function(i,r){var o=i["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),s=qr(a+t);return r[s][o]}}function er(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=Ji(Math[i>0?"floor":"ceil"](i/60),2)+Ji(Math.abs(i%60),2)}function nr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function ir(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function rr(t){return function(e){var n=nr(e.getFullYear()),i=ir(e),r=+i-+n,o=1+Math.round(r/6048e5);return Ji(o,t)}}function or(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ar(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function sr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function ur(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,a=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=h(e[9]+e[10]),o=h(e[9]+e[11])),a.call(i,h(e[1]),h(e[2])-1,h(e[3]));var u=h(e[4]||0)-r,l=h(e[5]||0)-o,c=h(e[6]||0),p=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,u,l,c,p),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,u="",l=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,x(n)&&(n=za.test(n)?h(n):e(n)),w(n)&&(n=new Date(n)),!T(n)||!isFinite(n.getTime()))return n;for(;r;)s=ja.exec(r),s?(l=K(l,s,1),r=l.pop()):(l.push(r),r=null);var c=n.getTimezoneOffset();return o&&(c=G(o,c),n=Z(n,o,!0)),i(l,function(e){a=Ka[e],u+=a?a(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function lr(){return function(t,e){return v(e)&&(e=2),F(t,e)}}function cr(){return function(t,e,i){return e=1/0===Math.abs(Number(e))?Number(e):h(e),uo(e)?t:(w(t)&&(t=t.toString()),n(t)?(i=!i||isNaN(i)?0:h(i),i=0>i?Math.max(0,t.length+i):i,e>=0?hr(t,i,i+e):0===i?hr(t,e,t.length):hr(t,Math.max(0,i+e),i)):t)}}function hr(t,e,n){return x(t)?t.slice(e,n):to.call(t,e,n)}function pr(t){function i(e){return e.map(function(e){var n=1,i=d;if(k(e))i=e;else if(x(e)&&(("+"===e.charAt(0)||"-"===e.charAt(0))&&(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var r=i();i=function(t){return t[r]}}return{get:i,descending:n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return k(t.valueOf)&&(t=t.valueOf(),r(t))?t:m(t)&&(t=t.toString(),r(t))?t:t}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,i=t.type,r=e.type;if(i===r){var o=t.value,a=e.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(_(o)&&(o=t.index),_(a)&&(a=e.index)),o!==a&&(n=a>o?-1:1)}else n=r>i?-1:1;return n}return function(t,r,o,u){function l(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:h.map(function(n){return a(n.get(t),e)})}}function c(t,e){for(var n=0,i=h.length;i>n;n++){var r=f(t.predicateValues[n],e.predicateValues[n]);if(r)return r*h[n].descending*p}return f(t.tieBreaker,e.tieBreaker)*p}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);lo(r)||(r=[r]),0===r.length&&(r=["+"]);var h=i(r),p=o?-1:1,f=k(u)?u:s,d=Array.prototype.map.call(t,l);return d.sort(c),t=d.map(function(t){return t.value})}}function fr(t){return k(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function dr(t,e){t.$name=e}function gr(t,e,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Ya,this.$$element=t,this.$$animate=i,mr(this)}function mr(t){t.$$classCache={},t.$$classCache[Os]=!(t.$$classCache[Es]=t.$$element.hasClass(Es))}function vr(t){function e(t,e,n,i){t[e]||(t[e]={}),a(t[e],n,i)}function n(t,e,n,i){t[e]&&s(t[e],n,i),yr(t[e])&&(t[e]=void 0)}function i(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function r(t,e,n){e=e?"-"+le(e,"-"):"",i(t,Es+e,n===!0),i(t,Os+e,n===!1)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,u){v(o)?e(this,"$pending",t,u):n(this,"$pending",t,u),D(o)?o?(s(this.$error,t,u),a(this.$$success,t,u)):(a(this.$error,t,u),s(this.$$success,t,u)):(s(this.$error,t,u),s(this.$$success,t,u)),this.$pending?(i(this,Za,!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,Za,!1),this.$valid=yr(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid));var l;l=this.$pending&&this.$pending[t]?void 0:this.$error[t]?!1:this.$$success[t]?!0:null,r(this,t,l),this.$$parentForm.$setValidity(t,l,this)}}function yr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function _r(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function br(t,e,n,i,r,o){xr(t,e,n,i,r,o),_r(i)}function xr(t,e,n,i,r,o){var a=Fr(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,l()})}var u,l=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var r=e.val(),l=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=ho(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,l)}};if(r.hasEvent("input"))e.on("input",l);else{var c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),hs[a]&&i.$$hasNativeValidators&&a===n.type&&e.on(cs,function(t){if(!u){var e=this[zr],n=e.badInput,i=e.typeMismatch;u=o.defer(function(){u=null,(e.badInput!==n||e.typeMismatch!==i)&&l(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function wr(t,e){if(T(t))return t;if(x(t)){ss.lastIndex=0;var n=ss.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,u=0,l=nr(i),c=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(i,0,l.getDate()+c,o,a,s,u)}}return 0/0}function Tr(t,e){return function(n,r){var o,a;if(T(n))return n;if(x(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),es.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)
}return 0/0}}function kr(t,e,n,i){return function(r,o,a,s,u,l,c){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return y(t)&&!T(t)?n(t)||void 0:t}$r(r,o,a,s),xr(r,o,a,s,u,l);var f,d=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var i=n(t,f);return d&&(i=Z(i,d)),i}return void 0}),s.$formatters.push(function(t){if(t&&!T(t))throw Ws("datefmt","Expected `{0}` to be a date",t);return h(t)?(f=t,f&&d&&(f=Z(f,d,!0)),c("date")(t,i,d)):(f=null,"")}),y(a.min)||a.ngMin){var g;s.$validators.min=function(t){return!h(t)||v(g)||n(t)>=g},a.$observe("min",function(t){g=p(t),s.$validate()})}if(y(a.max)||a.ngMax){var m;s.$validators.max=function(t){return!h(t)||v(m)||n(t)<=m},a.$observe("max",function(t){m=p(t),s.$validate()})}}}function $r(t,e,n,i){var r=e[0],o=i.$$hasNativeValidators=_(r.validity);o&&i.$parsers.push(function(t){var n=e.prop(zr)||{};return n.badInput||n.typeMismatch?void 0:t})}function Sr(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:rs.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!w(e))throw Ws("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function Cr(t){return y(t)&&!w(t)&&(t=parseFloat(t)),uo(t)?void 0:t}function Ar(t){return(0|t)===t}function Ir(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(t>-1&&1>t){var i=/e-(\d+)$/.exec(e);if(i)return Number(i[1])}return 0}return e.length-n-1}function Mr(t,e,n){var i=Number(t);if(!Ar(i)||!Ar(e)||!Ar(n)){var r=Math.max(Ir(i),Ir(e),Ir(n)),o=Math.pow(10,r);i*=o,e*=o,n*=o}return(i-e)%n===0}function Dr(t,e,n,i,r,o){$r(t,e,n,i),Sr(i),xr(t,e,n,i,r,o);var a,s;if((y(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||v(a)||t>=a},n.$observe("min",function(t){a=Cr(t),i.$validate()})),(y(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||v(s)||s>=t},n.$observe("max",function(t){s=Cr(t),i.$validate()})),y(n.step)||n.ngStep){var u;i.$validators.step=function(t,e){return i.$isEmpty(e)||v(u)||Mr(e,a||0,u)},n.$observe("step",function(t){u=Cr(t),i.$validate()})}}function Er(t,e,n,i,r,o){function a(t,i){e.attr(t,n[t]),n.$observe(t,i)}function s(t){if(h=Cr(t),!uo(i.$modelValue))if(c){var n=e.val();h>n&&(n=h,e.val(n)),i.$setViewValue(n)}else i.$validate()}function u(t){if(p=Cr(t),!uo(i.$modelValue))if(c){var n=e.val();n>p&&(e.val(p),n=h>p?h:p),i.$setViewValue(n)}else i.$validate()}function l(t){f=Cr(t),uo(i.$modelValue)||(c&&i.$viewValue!==e.val()?i.$setViewValue(e.val()):i.$validate())}$r(t,e,n,i),Sr(i),xr(t,e,n,i,r,o);var c=i.$$hasNativeValidators&&"range"===e[0].type,h=c?0:void 0,p=c?100:void 0,f=c?1:void 0,d=e[0].validity,g=y(n.min),m=y(n.max),_=y(n.step),b=i.$render;i.$render=c&&y(d.rangeUnderflow)&&y(d.rangeOverflow)?function(){b(),i.$setViewValue(e.val())}:b,g&&(i.$validators.min=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||v(h)||e>=h},a("min",s)),m&&(i.$validators.max=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||v(p)||p>=e},a("max",u)),_&&(i.$validators.step=c?function(){return!d.stepMismatch}:function(t,e){return i.$isEmpty(e)||v(f)||Mr(e,h||0,f)},a("step",l))}function Or(t,e,n,i,r,o){xr(t,e,n,i,r,o),_r(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||ns.test(n)}}function Pr(t,e,n,i,r,o){xr(t,e,n,i,r,o),_r(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||is.test(n)}}function Lr(t,e,n,i){var r=!n.ngTrim||"false"!==ho(n.ngTrim);v(n.name)&&e.attr("name",a());var o=function(t){var o;e[0].checked&&(o=n.value,r&&(o=ho(o)),i.$setViewValue(o,t&&t.type))};e.on("click",o),i.$render=function(){var t=n.value;r&&(t=ho(t)),e[0].checked=t===i.$viewValue},n.$observe("value",i.$render)}function Nr(t,e,n,i,r){var o;if(y(i)){if(o=t(i),!o.constant)throw Ws("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function Rr(t,e,n,i,r,o,a,s){var u=Nr(s,t,"ngTrueValue",n.ngTrueValue,!0),l=Nr(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return B(t,u)}),i.$parsers.push(function(t){return t?u:l})}function Ur(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r===e[o])continue t;n.push(r)}return n}function r(t){return t&&t.split(" ")}function o(t){var e=t;return lo(t)?e=t.map(o).join(" "):_(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}function a(t){var e=t;if(lo(t))e=t.map(a);else if(_(t)){var n=!1;e=Object.keys(t).filter(function(e){var i=t[e];return!n&&v(i)&&(n=!0),i}),n&&e.push(void 0)}return e}t="ngClass"+t;var s;return["$parse",function(u){return{restrict:"AC",link:function(l,c,h){function p(t){t=g(r(t),1),h.$addClass(t)}function f(t){t=g(r(t),-1),h.$removeClass(t)}function d(t,e){var i=r(t),o=r(e),a=n(i,o),s=n(o,i),u=g(a,-1),l=g(s,1);h.$addClass(l),h.$removeClass(u)}function g(t,e){var n=[];return i(t,function(t){(e>0||$[t])&&($[t]=($[t]||0)+e,$[t]===+(e>0)&&n.push(t))}),n.join(" ")}function m(t){t===e?p(_):f(_),S=t}function v(t){var e=o(t);e!==_&&y(e)}function y(t){S===e&&d(_,t),_=t}var _,b=h[t].trim(),x=":"===b.charAt(0)&&":"===b.charAt(1),w=x?a:o,T=u(b,w),k=x?v:y,$=c.data("$classCounts"),S=!0;$||($=me(),c.data("$classCounts",$)),"ngClass"!==t&&(s||(s=u("$index",function(t){return 1&t})),l.$watch(s,m)),l.$watch(T,k,x)}}}]}function Vr(t,e,n,i,r,o,a,s,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=Ya,this.$options=Bs,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,this.$$scope=t,this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=e,mr(this),Wr(this)}function Wr(t){t.$$scope.$watch(function(){var e=t.$$ngModelGet(t.$$scope);if(e!==t.$modelValue&&(t.$modelValue===t.$modelValue||e===e)){t.$modelValue=t.$$rawModelValue=e,t.$$parserValid=void 0;for(var n=t.$formatters,i=n.length,r=e;i--;)r=n[i](r);t.$viewValue!==r&&(t.$$updateEmptyClasses(r),t.$viewValue=t.$$lastCommittedViewValue=r,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,f))}return e})}function Br(t){this.$$options=t}function Kr(t,e){i(e,function(e,n){y(t[n])||(t[n]=e)})}var jr=/^\/(.+)\/([a-z]*)$/,zr="validity",Hr=Object.prototype.hasOwnProperty,Fr=function(t){return x(t)?t.toLowerCase():t},qr=function(t){return x(t)?t.toUpperCase():t},Gr=function(t){return x(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Yr=function(t){return x(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Fr=Gr,qr=Yr);var Zr,Xr,Jr,Qr,to=[].slice,eo=[].splice,no=[].push,io=Object.prototype.toString,ro=Object.getPrototypeOf,oo=e("ng"),ao=t.angular||(t.angular={}),so=0;Zr=t.document.documentMode;var uo=Number.isNaN||function(t){return t!==t};f.$inject=[],d.$inject=[];var lo=Array.isArray,co=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,ho=function(t){return x(t)?t.trim():t},po=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},fo=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!y(fo.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");fo.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else fo.rules={noUnsafeEval:e(),noInlineStyle:!1}}return fo.rules},go=function(){if(y(go.name_))return go.name_;var e,n,i,r,o=vo.length;for(n=0;o>n;++n)if(i=vo[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return go.name_=r},mo=/:/g,vo=["ng-","data-ng-","ng:","x-ng-"],yo=re(t.document),_o=/[A-Z]/g,bo=!1,xo=1,wo=2,To=3,ko=8,$o=9,So=11,Co={full:"1.6.1",major:1,minor:6,dot:1,codeName:"promise-rectification"};Pe.expando="ng339";var Ao=Pe.cache={},Io=1;Pe._data=function(t){return this.cache[t[this.expando]]||{}};var Mo=/-([a-z])/g,Do=/^-ms-/,Eo={mouseleave:"mouseout",mouseenter:"mouseover"},Oo=e("jqLite"),Po=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Lo=/<|&#?\w+;/,No=/<([\w:-]+)/,Ro=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Uo={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Uo.optgroup=Uo.option,Uo.tbody=Uo.tfoot=Uo.colgroup=Uo.caption=Uo.thead,Uo.th=Uo.td;var Vo=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Wo=Pe.prototype={ready:Ze,toString:function(){var t=[];return i(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Xr(t>=0?this[t]:this[this.length+t])},length:0,push:no,sort:[].sort,splice:[].splice},Bo={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Bo[Fr(t)]=t});var Ko={};i("input,select,option,textarea,button,form,details".split(","),function(t){Ko[t]=!0});var jo={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};i({data:We,removeData:Ue,hasData:Ie,cleanData:Me},function(t,e){Pe[e]=t}),i({data:We,inheritedData:Fe,scope:function(t){return Xr.data(t,"$scope")||Fe(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Xr.data(t,"$isolateScope")||Xr.data(t,"$isolateScopeNoTemplate")},controller:He,injector:function(t){return Fe(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Be,css:function(t,e,n){return e=ke(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i,r=t.nodeType;if(r!==To&&r!==wo&&r!==ko&&t.getAttribute){var o=Fr(e),a=Bo[o];return y(n)?void(null===n||n===!1&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)):(i=t.getAttribute(e),a&&null!==i&&(i=o),null===i?void 0:i)}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===xo||n===To?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===R(t)){var n=[];return i(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){return v(e)?t.innerHTML:(Ne(t,!0),void(t.innerHTML=e))},empty:qe},function(t,e){Pe.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==qe&&v(2===t.length&&t!==Be&&t!==He?e:n)){if(_(e)){for(i=0;o>i;i++)if(t===We)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var a=t.$dv,s=v(a)?Math.min(o,1):o,u=0;s>u;u++){var l=t(this[u],e,n);a=a?a+l:l}return a}for(i=0;o>i;i++)t(this[i],e,n);return this}}),i({removeData:Ue,on:function(t,e,n,i){if(y(i))throw Oo("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ae(t)){var r=Ve(t,!0),o=r.events,a=r.handle;a||(a=r.handle=Qe(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,l=function(e,i,r){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=i,"$destroy"===e||r||t.addEventListener(e,a)),s.push(n)};u--;)e=s[u],Eo[e]?(l(Eo[e],en),l(e,void 0,!0)):l(e)}},off:Re,one:function(t,e,n){t=Xr(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Ne(t),i(new Pe(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return i(t.childNodes,function(t){t.nodeType===xo&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===xo||n===So){e=new Pe(e);for(var i=0,r=e.length;r>i;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===xo){var n=t.firstChild;i(new Pe(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Oe(t,Xr(e).eq(0).clone()[0])},remove:Ge,detach:function(t){Ge(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i){e=new Pe(e);for(var r=0,o=e.length;o>r;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}}},addClass:je,removeClass:Ke,toggleClass:function(t,e,n){e&&i(e.split(" "),function(e){var i=n;v(i)&&(i=!Be(t,e)),(i?je:Ke)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==So?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Le,triggerHandler:function(t,e,n){var r,o,a,s=e.type||e,u=Ve(t),c=u&&u.events,h=c&&c[s];h&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:s,target:t},e.type&&(r=l(r,e)),o=_e(h),a=n?[r].concat(n):[r],i(o,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Pe.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;a>o;o++)v(r)?(r=t(this[o],e,n,i),y(r)&&(r=Xr(r))):ze(r,t(this[o],e,n,i));return y(r)?r:this}}),Pe.prototype.bind=Pe.prototype.on,Pe.prototype.unbind=Pe.prototype.off,on.prototype={put:function(t,e){this[rn(t,this.nextUid)]=e},get:function(t){return this[rn(t,this.nextUid)]},remove:function(t){var e=this[t=rn(t,this.nextUid)];return delete this[t],e}};var zo=[function(){this.$get=[function(){return on}]}],Ho=/^([^(]+?)=>/,Fo=/^[^(]*\(\s*([^)]*)\)/m,qo=/,/,Go=/^\s*(_?)(\S+?)\1\s*$/,Yo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Zo=e("$injector");cn.$$annotate=ln;var Xo=e("$animate"),Jo=1,Qo="ng-animate",ta=function(){this.$get=f},ea=function(){var t=new on,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(t,e,n){var r=!1;return e&&(e=x(e)?e.split(" "):lo(e)?e:[],i(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){i(e,function(e){var n=t.get(e);if(n){var r=dn(e.attr("class")),o="",a="";i(n,function(t,e){var n=!!r[e];t!==n&&(t?o+=(o.length?" ":"")+e:a+=(a.length?" ":"")+e)}),i(e,function(t){o&&je(t,o),a&&Ke(t,a)}),t.remove(e)}}),e.length=0}function s(n,i,s){var u=t.get(n)||{},l=o(u,i,!0),c=o(u,s,!1);(l||c)&&(t.put(n,u),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:f,on:f,off:f,pin:f,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&s(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},na=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Xo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Qo+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Xo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Qo)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=fn(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&Xr(i),r=r&&Xr(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",gn(o))},move:function(n,i,r,o){return i=i&&Xr(i),r=r&&Xr(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",gn(o))},leave:function(e,n){return t.push(e,"leave",gn(n),function(){e.remove()})},addClass:function(e,n,i){return i=gn(i),i.addClass=pn(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=gn(i),i.removeClass=pn(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=gn(r),r.addClass=pn(r.addClass,n),r.removeClass=pn(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=gn(o),o.from=o.from?l(o.from,n):n,o.to=o.to?l(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=pn(o.tempClasses,r),t.push(e,"animate",o)}}}]}],ia=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},ra=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,o){function a(t){this.setHost(t);var e=n(),i=function(t){o(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){r()?i(t):e(t)},this._state=0}var s=0,u=1,l=2;return a.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},a.all=function(t,e){function n(n){o=o&&n,++r===t.length&&e(o)}var r=0,o=!0;i(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===l?t():this._doneCallbacks.push(t)},progress:f,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==l&&(i(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=l)}},a}]},oa=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=W(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:r,end:r}}}]},aa=e("$compile"),sa=new bn;xn.$inject=["$provide","$$sanitizeUriProvider"],wn.prototype.isFirstChange=function(){return this.previousValue===sa};var ua=/^((?:x|data)[:\-_])/i,la=/[:\-_]+(.)/g,ca=e("$controller"),ha=/^(\S+)(\s+as\s+([\w$]+))?$/,pa=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Xr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},fa="application/json",da={"Content-Type":fa+";charset=utf-8"},ga=/^\[|^\{(?!\{)/,ma={"[":/]$/,"{":/}$/},va=/^\)]\}',?\n/,ya=e("$http"),_a=ao.$interpolateMinErr=e("$interpolate");_a.throwNoconcat=function(t){throw _a("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},_a.interr=function(t,e){return _a("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var ba=function(){this.$get=["$window",function(t){function e(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var n=t.angular.callbacks,i={};return{createCallback:function(){var t="_"+(n.$$counter++).toString(36),r="angular.callbacks."+t,o=e(t);return i[r]=n[t]=o,r},wasCalled:function(t){return i[t].called},getResponse:function(t){return i[t].data},removeCallback:function(t){var e=i[t];delete n[e.id],delete i[t]}}}]},xa=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,wa={http:80,https:443,ftp:21},Ta=e("$location"),ka=/^\s*[\\/]{2,}/,$a={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:ri("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=xa.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:ri("$$protocol"),host:ri("$$host"),port:ri("$$port"),path:oi("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||w(t))t=t.toString(),this.$$search=Q(t);else{if(!_(t))throw Ta("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=W(t,{}),i(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:oi("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};i([ii,ni,ei],function(t){t.prototype=Object.create($a),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==ei||!this.$$html5)throw Ta("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(e)?null:e,this}});var Sa=e("$parse"),Ca={}.constructor.prototype.valueOf,Aa=me();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Aa[t]=!0});var Ia={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ma=function(t){this.options=t};Ma.prototype={constructor:Ma,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=Aa[e],o=Aa[n],a=Aa[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&56319>=n&&i>=56320&&57343>=i?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Sa("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Fr(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Ia[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Da=function(t,e){this.lexer=t,this.options=e};Da.Program="Program",Da.ExpressionStatement="ExpressionStatement",Da.AssignmentExpression="AssignmentExpression",Da.ConditionalExpression="ConditionalExpression",Da.LogicalExpression="LogicalExpression",Da.BinaryExpression="BinaryExpression",Da.UnaryExpression="UnaryExpression",Da.CallExpression="CallExpression",Da.MemberExpression="MemberExpression",Da.Identifier="Identifier",Da.Literal="Literal",Da.ArrayExpression="ArrayExpression",Da.Property="Property",Da.ObjectExpression="ObjectExpression",Da.ThisExpression="ThisExpression",Da.LocalsExpression="LocalsExpression",Da.NGValueParameter="NGValueParameter",Da.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Da.Program,body:t}},expressionStatement:function(){return{type:Da.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!di(t))throw Sa("lval","Trying to assign a value to a non l-value");t={type:Da.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Da.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Da.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Da.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Da.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Da.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Da.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Da.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Da.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=W(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Da.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Da.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Da.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Da.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Da.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Da.Identifier,name:t.text}},constant:function(){return{type:Da.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Da.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Da.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Da.ObjectExpression,properties:e}},throwError:function(t,e){throw Sa("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Sa("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Sa("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return r?(this.tokens.shift(),r):!1},selfReferential:{"this":{type:Da.ThisExpression},$locals:{type:Da.LocalsExpression}}},yi.prototype={compile:function(t){var e=this,n=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},pi(n,e.$filter);var r,o="";if(this.stage="assign",r=gi(n)){this.state.computing="assign";var a=this.nextId();this.recurse(r,a),this.return_(a),o="fn.assign="+this.generateFunction("assign","s,v,l")}var s=fi(n.body);e.stage="inputs",i(s,function(t,n){var i="fn"+n;e.state[i]={vars:[],body:[],own:{}},e.state.computing=i;var r=e.nextId();e.recurse(t,r),e.return_(r),e.state.inputs.push(i),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(n);
var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",u)(this.$filter,ui,li,ci);return this.state=this.stage=void 0,l.literal=mi(n),l.constant=vi(n),l},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return i(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return i(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,o,a){var s,u,l,c,h,p=this;if(r=r||f,!a&&y(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,o,!0));switch(t.type){case Da.Program:i(t.body,function(e,n){p.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?p.current().body.push(u,";"):p.return_(u)});break;case Da.Literal:c=this.escape(t.value),this.assign(e,c),r(e||c);break;case Da.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),c=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,c),r(c);break;case Da.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),c="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,c),r(c);break;case Da.LogicalExpression:e=e||this.nextId(),p.recurse(t.left,e),p.if_("&&"===t.operator?e:p.not(e),p.lazyRecurse(t.right,e)),r(e);break;case Da.ConditionalExpression:e=e||this.nextId(),p.recurse(t.test,e),p.if_(e,p.lazyRecurse(t.alternate,e),p.lazyRecurse(t.consequent,e)),r(e);break;case Da.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",t.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.isNull(p.nonComputedMember("s",t.name)),p.lazyAssign(p.nonComputedMember("s",t.name),"{}")),p.assign(e,p.nonComputedMember("s",t.name))})},e&&p.lazyAssign(e,p.nonComputedMember("l",t.name))),r(e);break;case Da.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),p.recurse(t.object,s,void 0,function(){p.if_(p.notNull(s),function(){t.computed?(u=p.nextId(),p.recurse(t.property,u),p.getStringValue(u),o&&1!==o&&p.if_(p.not(p.computedMember(s,u)),p.lazyAssign(p.computedMember(s,u),"{}")),c=p.computedMember(s,u),p.assign(e,c),n&&(n.computed=!0,n.name=u)):(o&&1!==o&&p.if_(p.isNull(p.nonComputedMember(s,t.property.name)),p.lazyAssign(p.nonComputedMember(s,t.property.name),"{}")),c=p.nonComputedMember(s,t.property.name),p.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){p.assign(e,"undefined")}),r(e)},!!o);break;case Da.CallExpression:e=e||this.nextId(),t.filter?(u=p.filter(t.callee.name),l=[],i(t.arguments,function(t){var e=p.nextId();p.recurse(t,e),l.push(e)}),c=u+"("+l.join(",")+")",p.assign(e,c),r(e)):(u=p.nextId(),s={},l=[],p.recurse(t.callee,u,s,function(){p.if_(p.notNull(u),function(){i(t.arguments,function(e){p.recurse(e,t.constant?void 0:p.nextId(),void 0,function(t){l.push(t)})}),c=s.name?p.member(s.context,s.name,s.computed)+"("+l.join(",")+")":u+"("+l.join(",")+")",p.assign(e,c)},function(){p.assign(e,"undefined")}),r(e)}));break;case Da.AssignmentExpression:u=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(t.right,u),c=p.member(s.context,s.name,s.computed)+t.operator+u,p.assign(e,c),r(e||c)})},1);break;case Da.ArrayExpression:l=[],i(t.elements,function(e){p.recurse(e,t.constant?void 0:p.nextId(),void 0,function(t){l.push(t)})}),c="["+l.join(",")+"]",this.assign(e,c),r(e||c);break;case Da.ObjectExpression:l=[],h=!1,i(t.properties,function(t){t.computed&&(h=!0)}),h?(e=e||this.nextId(),this.assign(e,"{}"),i(t.properties,function(t){t.computed?(s=p.nextId(),p.recurse(t.key,s)):s=t.key.type===Da.Identifier?t.key.name:""+t.key.value,u=p.nextId(),p.recurse(t.value,u),p.assign(p.member(e,s,t.computed),u)})):(i(t.properties,function(e){p.recurse(e.value,t.constant?void 0:p.nextId(),void 0,function(t){l.push(p.escape(e.key.type===Da.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+l.join(",")+"}",this.assign(e,c)),r(e||c);break;case Da.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Da.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Da.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Sa("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},_i.prototype={compile:function(t){var e=this,n=this.astBuilder.ast(t);pi(n,e.$filter);var r,o;(r=gi(n))&&(o=this.recurse(r));var a,s=fi(n.body);s&&(a=[],i(s,function(t,n){var i=e.recurse(t);t.input=i,a.push(i),t.watchId=n}));var u=[];i(n.body,function(t){u.push(e.recurse(t.expression))});var l=0===n.body.length?f:1===n.body.length?u[0]:function(t,e){var n;return i(u,function(i){n=i(t,e)}),n};return o&&(l.assign=function(t,e,n){return o(t,n,e)}),a&&(l.inputs=a),l.literal=mi(n),l.constant=vi(n),l},recurse:function(t,e,n){var r,o,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Da.Literal:return this.value(t.value,e);case Da.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case Da.BinaryExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case Da.LogicalExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case Da.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Da.Identifier:return s.identifier(t.name,e,n);case Da.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(r,o,e,n):this.nonComputedMember(r,o,e,n);case Da.CallExpression:return a=[],i(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,i,r){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,i,r));var l=o.apply(void 0,s,r);return e?{context:void 0,name:void 0,value:l}:l}:function(t,n,i,r){var s,u=o(t,n,i,r);if(null!=u.value){for(var l=[],c=0;c<a.length;++c)l.push(a[c](t,n,i,r));s=u.value.apply(u.context,l)}return e?{value:s}:s};case Da.AssignmentExpression:return r=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,i,a){var s=r(t,n,i,a),u=o(t,n,i,a);return s.context[s.name]=u,e?{value:u}:u};case Da.ArrayExpression:return a=[],i(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case Da.ObjectExpression:return a=[],i(t.properties,function(t){a.push(t.computed?{key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}:{key:t.key.type===Da.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,i,r)]=a[s].value(t,n,i,r):o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case Da.ThisExpression:return function(t){return e?{value:t}:t};case Da.LocalsExpression:return function(t,n){return e?{value:n}:n};case Da.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,r,o){var a=!t(n,i,r,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),u=e(i,r,o,a),l=ci(s,u);return n?{value:l}:l}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),u=e(i,r,o,a),l=(y(s)?s:0)-(y(u)?u:0);return n?{value:l}:l}},"binary*":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)*e(i,r,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)/e(i,r,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)%e(i,r,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)===e(i,r,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!==e(i,r,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)==e(i,r,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!=e(i,r,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<e(i,r,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>e(i,r,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<=e(i,r,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>=e(i,r,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)&&e(i,r,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)||e(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){var u=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s);return i?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(i,r){var o=r&&t in r?r:i;n&&1!==n&&o&&null==o[t]&&(o[t]={});var a=o?o[t]:void 0;return e?{context:o,name:t,value:a}:a}},computedMember:function(t,e,n,i){return function(r,o,a,s){var u,l,c=t(r,o,a,s);return null!=c&&(u=e(r,o,a,s),u=ui(u),i&&1!==i&&c&&!c[u]&&(c[u]={}),l=c[u]),n?{context:c,name:u,value:l}:l}},nonComputedMember:function(t,e,n,i){return function(r,o,a,s){var u=t(r,o,a,s);i&&1!==i&&u&&null==u[e]&&(u[e]={});var l=null!=u?u[e]:void 0;return n?{context:u,name:e,value:l}:l}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var Ea=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Da(t,n),this.astCompiler=n.csp?new _i(this.ast,e):new yi(this.ast,e)};Ea.prototype={constructor:Ea,parse:function(t){return this.astCompiler.compile(t)}};var Oa=e("$sce"),Pa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},La=/_([a-z])/g,Na=e("$compile"),Ra=t.document.createElement("a"),Ua=Ri(t.location.href);Wi.$inject=["$document"],Ki.$inject=["$provide"];var Va=22,Wa=".",Ba="0";qi.$inject=["$locale"],Gi.$inject=["$locale"];var Ka={yyyy:Qi("FullYear",4,0,!1,!0),yy:Qi("FullYear",2,0,!0,!0),y:Qi("FullYear",1,0,!1,!0),MMMM:tr("Month"),MMM:tr("Month",!0),MM:Qi("Month",2,1),M:Qi("Month",1,1),LLLL:tr("Month",!1,!0),dd:Qi("Date",2),d:Qi("Date",1),HH:Qi("Hours",2),H:Qi("Hours",1),hh:Qi("Hours",2,-12),h:Qi("Hours",1,-12),mm:Qi("Minutes",2),m:Qi("Minutes",1),ss:Qi("Seconds",2),s:Qi("Seconds",1),sss:Qi("Milliseconds",3),EEEE:tr("Day"),EEE:tr("Day",!0),a:or,Z:er,ww:rr(2),w:rr(1),G:ar,GG:ar,GGG:ar,GGGG:sr},ja=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,za=/^-?\d+$/;ur.$inject=["$locale"];var Ha=g(Fr),Fa=g(qr);pr.$inject=["$parse"];var qa=g({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===io.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Ga={};i(Bo,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!==t){var i=Tn("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),Ga[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(jo,function(t,e){Ga[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(jr);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),i(["src","srcset","href"],function(t){var e=Tn("ng-"+t);Ga[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===io.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(a,e),void(Zr&&o&&i.prop(o,r[a]))):void("href"===t&&r.$set(a,null))})}}}});var Ya={$addControl:f,$$renameControl:dr,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},Za="ng-pending",Xa="ng-submitted";gr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],gr.prototype={$rollbackViewValue:function(){i(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){i(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){fe(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],i(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),i(this.$error,function(e,n){this.$setValidity(n,null,t)},this),i(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),V(this.$$controls,t),t.$$parentForm=Ya},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ps),this.$$animate.addClass(this.$$element,Ls),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ps,Ls+" "+Xa),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,i(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){i(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,Xa),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},vr({clazz:gr,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(V(i,n),0===i.length&&delete t[e])}});var Ja=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||f}var r={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:gr,compile:function(n,r){n.addClass(Ps).addClass(Es);var o=r.name?"name":t&&r.ngForm?"ngForm":!1;return{pre:function(t,n,r,a){var s=a[0];if(!("action"in r)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",u),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",u)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var h=o?i(s.$name):f;o&&(h(t,s),r.$observe(o,function(e){s.$name!==e&&(h(t,void 0),s.$$parentForm.$$renameControl(s,e),(h=i(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),h(t,void 0),l(s,Ya)})}}}};return r}]},Qa=Ja(),ts=Ja(!0),es=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ns=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,is=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,rs=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,os=/^(\d{4,})-(\d{2})-(\d{2})$/,as=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ss=/^(\d{4,})-W(\d\d)$/,us=/^(\d{4,})-(\d\d)$/,ls=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,cs="keydown wheel mousedown",hs=me();i("date,datetime-local,month,time,week".split(","),function(t){hs[t]=!0});var ps={text:br,date:kr("date",os,Tr(os,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":kr("datetimelocal",as,Tr(as,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:kr("time",ls,Tr(ls,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:kr("week",ss,wr,"yyyy-Www"),month:kr("month",us,Tr(us,["yyyy","MM"]),"yyyy-MM"),number:Dr,url:Or,email:Pr,radio:Lr,range:Er,checkbox:Rr,hidden:f,button:f,submit:f,reset:f,file:f},fs=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(ps[Fr(a.type)]||ps.text)(r,o,a,s[0],e,t,n,i)}}}}],ds=/^(true|false|\d+)$/,gs=function(){function t(t,e,n){t.prop("value",n),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return ds.test(n.ngValue)?function(e,n,i){var r=e.$eval(i.ngValue);t(n,i,r)}:function(e,n,i){e.$watch(i.ngValue,function(e){t(n,i,e)})}}}},ms=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=ve(t)})}}}}],vs=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=v(t)?"":t})}}}}],ys=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],_s=g({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),bs=Ur("",!0),xs=Ur("Odd",0),ws=Ur("Even",1),Ts=fr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),ks=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],$s={},Ss={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Tn("ng-"+t);$s[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};Ss[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Cs=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,u,l;n.$watch(r.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),s={clone:n},t.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=ge(s.clone),t.leave(l).done(function(t){t!==!1&&(l=null)}),s=null))})}}}],As=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ao.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,u,l,c){var h,p,f,d=0,g=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).done(function(t){t!==!1&&(p=null)}),p=f,f=null)};i.$watch(o,function(o){var u=function(t){t===!1||!y(s)||s&&!i.$eval(s)||e()},p=++d;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&p===d){var e=i.$new();l.template=t;var s=c(e,function(t){g(),n.enter(t,null,r).done(u)});h=e,f=s,h.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||p===d&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),l.template=null)})}}}}],Is=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return io.call(i[0]).match(/SVG/)?(i.empty(),void e(De(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void e(i.contents())(n))}}}],Ms=fr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ds=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var o=n.ngList||", ",a="false"!==n.ngTrim,s=a?ho(o):o,u=function(t){if(!v(t)){var e=[];return t&&i(t.split(s),function(t){t&&e.push(a?ho(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){return lo(t)?t.join(o):void 0}),r.$isEmpty=function(t){return!t||!t.length}}}},Es="ng-valid",Os="ng-invalid",Ps="ng-pristine",Ls="ng-dirty",Ns="ng-untouched",Rs="ng-touched",Us="ng-empty",Vs="ng-not-empty",Ws=e("ngModel");Vr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Vr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return k(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){k(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Ws("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,X(this.$$element))},$render:f,$isEmpty:function(t){return v(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,Vs),this.$$animate.addClass(this.$$element,Us)):(this.$$animate.removeClass(this.$$element,Us),this.$$animate.addClass(this.$$element,Vs))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ls),this.$$animate.addClass(this.$$element,Ps)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ps),this.$$animate.addClass(this.$$element,Ls),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Ns,Rs)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Rs,Ns)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!uo(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){r||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function r(){var t=c.$$parserName||"parse";return v(c.$$parserValid)?(s(t,null),!0):(c.$$parserValid||(i(c.$validators,function(t,e){s(e,null)}),i(c.$asyncValidators,function(t,e){s(e,null)})),s(t,c.$$parserValid),c.$$parserValid)}function o(){var n=!0;return i(c.$validators,function(i,r){var o=Boolean(i(t,e));n=n&&o,s(r,o)}),n?!0:(i(c.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var n=[],r=!0;i(c.$asyncValidators,function(i,o){var a=i(t,e);if(!E(a))throw Ws("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?c.$$q.all(n).then(function(){u(r)},f):u(!0)}function s(t,e){l===c.$$currentValidationRunId&&c.$setValidity(t,e)}function u(t){l===c.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var l=this.$$currentValidationRunId,c=this;return r()&&o()?void a():void u(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){i.$modelValue!==o&&i.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,i=this;if(this.$$parserValid=v(n)?void 0:!0,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(n=this.$parsers[r](n),v(n)){this.$$parserValid=!1;break}uo(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(i.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),i(this.$viewChangeListeners,function(t){try{t()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");w(e[t])?e=e[t]:w(e["default"])&&(e=e["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})}},vr({clazz:Vr,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Bs,Ks=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Vr,priority:1,compile:function(e){return e.addClass(Ps).addClass(Ns).addClass(Es),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm,a=i[2];a&&(r.$options=a.$options),r.$$initGetterSetters(),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){function o(){a.$setTouched()}var a=r[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],js=/(\s+|^)default(\s+|$)/;Br.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=l({},t),i(t,function(n,i){"$inherit"===n?"*"===i?e=!0:(t[i]=this.$$options[i],"updateOn"===i&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(t.updateOnDefault=!1,t[i]=ho(n.replace(js,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Kr(t,this.$$options)),Kr(t,Bs.$$options),new Br(t)}},Bs=new Br({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var zs=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Bs,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},Hs=fr({terminal:!0,priority:1e3}),Fs=e("ngOptions"),qs=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Gs=["$compile","$document","$parse",function(e,r,o){function a(t,e,i){function r(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function a(t){var e;if(!l&&n(t))e=t;else{e=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i)}return e}var s=t.match(qs);if(!s)throw Fs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,X(e));var u=s[5]||s[7],l=s[6],c=/ as /.test(s[0])&&s[1],h=s[9],p=o(s[2]?s[1]:u),f=c&&o(c),d=f||p,g=h&&o(h),m=h?function(t,e){return g(i,e)}:function(t){return rn(t)},v=function(t,e){return m(t,T(t,e))},y=o(s[2]||s[1]),_=o(s[3]||""),b=o(s[4]||""),x=o(s[8]),w={},T=l?function(t,e){return w[l]=e,w[u]=t,w}:function(t){return w[u]=t,w};return{trackBy:h,getTrackByValue:v,getWatchables:o(x,function(t){var e=[];t=t||[];for(var n=a(t),r=n.length,o=0;r>o;o++){var u=t===n?o:n[o],l=t[u],c=T(l,u),h=m(l,c);if(e.push(h),s[2]||s[1]){var p=y(i,c);e.push(p)}if(s[4]){var f=b(i,c);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},n=x(i)||[],o=a(n),s=o.length,u=0;s>u;u++){var l=n===o?u:o[u],c=n[l],p=T(c,l),f=d(i,p),g=m(f,p),w=y(i,p),k=_(i,p),$=b(i,p),S=new r(g,f,w,k,$);t.push(S),e[g]=S}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return h?W(t.viewValue):t.viewValue}}}}}function s(t,n,o,s){function c(t,e){var n=u.cloneNode(!1);e.appendChild(n),p(t,n)}function h(t){var e=T.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function p(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function f(){var t=T&&d.readValue();if(T)for(var e=T.items.length-1;e>=0;e--){var i=T.items[e];Ge(y(i.group)?i.element.parentNode:i.element)}T=k.getOptions();var r={};if(x&&n.prepend(d.emptyOption),T.items.forEach(function(t){var e;y(t.group)?(e=r[t.group],e||(e=l.cloneNode(!1),$.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),c(t,e)):c(t,$)}),n[0].appendChild($),g.$render(),!g.$isEmpty(t)){var o=d.readValue(),a=k.trackBy||m;(a?B(t,o):t===o)||(g.$setViewValue(o),g.$render())}}for(var d=s[0],g=s[1],m=o.multiple,v=0,_=n.children(),b=_.length;b>v;v++)if(""===_[v].value){d.hasEmptyOption=!0,d.emptyOption=_.eq(v);break}var x=!!d.emptyOption,w=Xr(u.cloneNode(!1));w.val("?");var T,k=a(o.ngOptions,n,t),$=r[0].createDocumentFragment();d.generateUnknownOptionValue=function(){return"?"},m?(d.writeValue=function(t){var e=t&&t.map(h)||[];T.items.forEach(function(t){t.element.selected&&!U(e,t)&&(t.element.selected=!1)})},d.readValue=function(){var t=n.val()||[],e=[];return i(t,function(t){var n=T.selectValueMap[t];n&&!n.disabled&&e.push(T.getViewValueFromOption(n))}),e},k.trackBy&&t.$watchCollection(function(){return lo(g.$viewValue)?g.$viewValue.map(function(t){return k.getTrackByValue(t)}):void 0},function(){g.$render()})):(d.writeValue=function(t){var e=T.selectValueMap[n.val()],i=T.getOptionFromViewValue(t);
e&&e.element.removeAttribute("selected"),i?(n[0].value!==i.selectValue&&(d.removeUnknownOption(),d.unselectEmptyOption(),n[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):x?d.selectEmptyOption():d.unknownOption.parent().length?d.updateUnknownOption(t):d.renderUnknownOption(t)},d.readValue=function(){var t=T.selectValueMap[n.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),T.getViewValueFromOption(t)):null},k.trackBy&&t.$watch(function(){return k.getTrackByValue(g.$viewValue)},function(){g.$render()})),x&&(d.emptyOption.remove(),e(d.emptyOption)(t),d.emptyOption[0].nodeType===ko?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),g.$render(),e.on("$destroy",function(){d.hasEmptyOption=!1,d.emptyOption=void 0}))}):d.emptyOption.removeClass("ng-scope")),n.empty(),f(),t.$watchCollection(k.getWatchables,f)}var u=t.document.createElement("option"),l=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=f},post:s}}}],Ys=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function l(t){s.text(t||"")}var c,h=u.count,p=u.$attr.when&&s.attr(u.$attr.when),d=u.offset||0,g=a.$eval(p)||{},m={},y=e.startSymbol(),_=e.endSymbol(),b=y+h+"-"+d+_,x=ao.noop;i(u,function(t,e){var n=o.exec(e);if(n){var i=(n[1]?"-":"")+Fr(n[2]);g[i]=s.attr(u.$attr[e])}}),i(g,function(t,n){m[n]=e(t.replace(r,b))}),a.$watch(h,function(e){var i=parseFloat(e),r=uo(i);if(r||i in g||(i=t.pluralCat(i-d)),!(i===c||r&&uo(c))){x();var o=m[i];v(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+p),x=f,l()):x=a.$watch(o,l),c=i}})}}}],Zs=["$parse","$animate","$compile",function(t,r,o){var a="$$NG_REMOVED",s=e("ngRepeat"),u=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},l=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,h){var p=h.ngRepeat,f=o.$$createComment("end ngRepeat",p),d=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=d[1],m=d[2],v=d[3],y=d[4];if(d=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!d)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var _=d[3]||d[1],b=d[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var x,w,T,k,$={$id:rn};return y?x=t(y):(T=function(t,e){return rn(e)},k=function(t){return t}),function(t,e,o,h,d){x&&(w=function(e,n,i){return b&&($[b]=e),$[_]=n,$.$index=i,x(t,$)});var g=me();t.$watchCollection(m,function(o){var h,m,y,x,$,S,C,A,I,M,D,E,O=e[0],P=me();if(v&&(t[v]=o),n(o))I=o,A=w||T;else{A=w||k,I=[];for(var L in o)Hr.call(o,L)&&"$"!==L.charAt(0)&&I.push(L)}for(x=I.length,D=new Array(x),h=0;x>h;h++)if($=o===I?h:I[h],S=o[$],C=A($,S,h),g[C])M=g[C],delete g[C],P[C]=M,D[h]=M;else{if(P[C])throw i(D,function(t){t&&t.scope&&(g[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,C,S);D[h]={id:C,scope:void 0,clone:void 0},P[C]=!0}for(var N in g){if(M=g[N],E=ge(M.clone),r.leave(E),E[0].parentNode)for(h=0,m=E.length;m>h;h++)E[h][a]=!0;M.scope.$destroy()}for(h=0;x>h;h++)if($=o===I?h:I[h],S=o[$],M=D[h],M.scope){y=O;do y=y.nextSibling;while(y&&y[a]);l(M)!==y&&r.move(ge(M.clone),null,O),O=c(M),u(M.scope,h,_,S,b,$,x)}else d(function(t,e){M.scope=e;var n=f.cloneNode(!1);t[t.length++]=n,r.enter(t,null,O),O=n,M.clone=t,P[M.id]=M,u(M.scope,h,_,S,b,$,x)});g=P})}}}}],Xs="ng-hide",Js="ng-hide-animate",Qs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,Xs,{tempClasses:Js})})}}}],tu=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,Xs,{tempClasses:Js})})}}}],eu=fr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&i(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),nu=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,u=[],l=[],c=[],h=[],p=function(t,e){return function(n){n!==!1&&t.splice(e,1)}};n.$watch(s,function(n){for(var r,o;c.length;)t.cancel(c.pop());for(r=0,o=h.length;o>r;++r){var s=ge(l[r].clone);h[r].$destroy();var f=c[r]=t.leave(s);f.done(p(c,r))}l.length=0,h.length=0,(u=a.cases["!"+n]||a.cases["?"])&&i(u,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:i};l.push(a),t.enter(i,o.parent(),o)})})})}}}],iu=fr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,o){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t});i(a,function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:o,element:e})})}}),ru=fr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),ou=e("ngTransclude"),au=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){function a(t,n){t.length&&u(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function u(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];if(i.nodeType!==To||i.nodeValue.trim())return!0}}if(!o)throw ou("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var l=i.ngTransclude||i.ngTranscludeSlot;o(a,null,l),l&&!o.isSlotFilled(l)&&s()}}}}],su=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],uu={$setViewValue:f,$render:f},lu=["$element","$scope",function(e,n){function i(){u||(u=!0,n.$$postDigest(function(){u=!1,a.ngModelCtrl.$render()}))}function r(t){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,a.ngModelCtrl.$setViewValue(a.readValue()),t&&a.ngModelCtrl.$render())}))}function o(t){t.prop("selected",!0),t.attr("selected",!0)}var a=this,s=new on;a.selectValueMap={},a.ngModelCtrl=uu,a.multiple=!1,a.unknownOption=Xr(t.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(t){var n=a.generateUnknownOptionValue(t);a.unknownOption.val(n),e.prepend(a.unknownOption),o(a.unknownOption),e.val(n)},a.updateUnknownOption=function(t){var n=a.generateUnknownOptionValue(t);a.unknownOption.val(n),o(a.unknownOption),e.val(n)},a.generateUnknownOptionValue=function(t){return"? "+rn(t)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(e.val(""),o(a.emptyOption))},a.unselectEmptyOption=function(){a.hasEmptyOption&&a.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){a.renderUnknownOption=f}),a.readValue=function(){var t=e.val(),n=t in a.selectValueMap?a.selectValueMap[t]:t;return a.hasOption(n)?n:null},a.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&n.removeAttribute("selected"),a.hasOption(t)){a.removeUnknownOption();var i=rn(t);e.val(i in a.selectValueMap?i:t);var r=e[0].options[e[0].selectedIndex];o(Xr(r))}else null==t&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(t):a.renderUnknownOption(t)},a.addOption=function(t,e){if(e[0].nodeType!==ko){fe(t,'"option value"'),""===t&&(a.hasEmptyOption=!0,a.emptyOption=e);var n=s.get(t)||0;s.put(t,n+1),i()}},a.removeOption=function(t){var e=s.get(t);e&&(1===e?(s.remove(t),""===t&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):s.put(t,e-1))},a.hasOption=function(t){return!!s.get(t)};var u=!1,l=!1;a.registerOption=function(t,e,n,i,o){if(n.$attr.ngValue){var s,u=0/0;n.$observe("value",function(t){var n,i=e.prop("selected");y(u)&&(a.removeOption(s),delete a.selectValueMap[u],n=!0),u=rn(t),s=t,a.selectValueMap[u]=t,a.addOption(t,e),e.attr("value",u),n&&i&&r()})}else i?n.$observe("value",function(t){a.readValue();var n,i=e.prop("selected");y(s)&&(a.removeOption(s),n=!0),s=t,a.addOption(t,e),n&&i&&r()}):o?t.$watch(o,function(t,i){n.$set("value",t);var o=e.prop("selected");i!==t&&a.removeOption(i),a.addOption(t,e),i&&o&&r()}):a.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(a.multiple?r(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=a.readValue(),e=n.value;a.removeOption(e),a.ngModelCtrl.$render(),(a.multiple&&t&&-1!==t.indexOf(e)||t===e)&&r(!0)})}}],cu=function(){function t(t,e,n,r){var o=r[0],a=r[1];if(!a)return void(o.registerOption=f);if(o.ngModelCtrl=a,e.on("change",function(){o.removeUnknownOption(),t.$apply(function(){a.$setViewValue(o.readValue())})}),n.multiple){o.multiple=!0,o.readValue=function(){var t=[];return i(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in o.selectValueMap?o.selectValueMap[n]:n)}}),t},o.writeValue=function(t){var n=new on(t);i(e.find("option"),function(t){t.selected=y(n.get(t.value))||y(n.get(o.selectValueMap[t.value]))})};var s,u=0/0;t.$watch(function(){u!==a.$viewValue||B(s,a.$viewValue)||(s=_e(a.$viewValue),a.$render()),u=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:lu,priority:1,link:{pre:t,post:e}}},hu=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var i,r;return y(n.ngValue)||(y(n.value)?i=t(n.value,!0):(r=t(e.text(),!0),r||n.$set("value",e.text()))),function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,i,r)}}}}],pu=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},fu=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(x(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,X(n));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||v(o)||o.test(e)}}}}},du=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=h(t);r=uo(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},gu=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(ce(),we(ao),ao.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var r=Math.pow(10,i),o=(t*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var r=0|t,o=n(t,e);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void Xr(function(){oe(t.document,ae)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.6.1
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function i(t,i){if(!n(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var r=i.split("."),a=0,s=r.length;s>a&&e.isDefined(t);a++){var u=r[a];t=null!==t?t[u]:void 0}return t}function r(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var o=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/\[[^\]]*][^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,u,l){function c(t,e){this.template=t,this.defaults=d({},n.defaults,e),this.urlParams={}}function h(t,e,b,x){function w(t,n){var r={};return n=d({},e,n),f(n,function(e,n){y(e)&&(e=e(t)),r[n]=e&&e.charAt&&"@"===e.charAt(0)?i(t,e.substr(1)):e}),r}function T(t){return t.resource}function k(t){r(t||{},this)}var $=new c(t,x);return b=d({},n.defaults.actions,b),k.prototype.toJSON=function(){var t=d({},this);return delete t.$promise,delete t.$resolved,t},f(b,function(t,e){var n=/^(POST|PUT|PATCH)$/i.test(t.method),i=t.timeout,c=v(t.cancellable)?t.cancellable:$.defaults.cancellable;i&&!_(i)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,i=null),k[e]=function(s,h,v,_){function b(t){U.catch(p),I.resolve(t)}var x,S,C,A={};switch(arguments.length){case 4:C=_,S=v;case 3:case 2:if(!y(h)){A=s,x=h,S=v;break}if(y(s)){S=s,C=h;break}S=h,C=v;case 1:y(s)?S=s:n?x=s:A=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var I,M,D=this instanceof k,E=D?x:t.isArray?[]:new k(x),O={},P=t.interceptor&&t.interceptor.response||T,L=t.interceptor&&t.interceptor.responseError||void 0,N=!!C,R=!!L;f(t,function(t,e){switch(e){default:O[e]=g(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!D&&c&&(I=u.defer(),O.timeout=I.promise,i&&(M=l(I.resolve,i))),n&&(O.data=x),$.setUrlParams(O,d({},w(x,t.params||{}),A),t.url);var U=a(O).then(function(n){var i=n.data;if(i){if(m(i)!==!!t.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",e,t.isArray?"array":"object",m(i)?"array":"object",O.method,O.url);if(t.isArray)E.length=0,f(i,function(t){E.push("object"==typeof t?new k(t):t)});else{var a=E.$promise;r(i,E),E.$promise=a}}return n.resource=E,n});return U=U["finally"](function(){E.$resolved=!0,!D&&c&&(E.$cancelRequest=p,l.cancel(M),I=M=O.timeout=null)}),U=U.then(function(t){var e=P(t);return(S||p)(e,t.headers,t.status,t.statusText),e},N||R?function(t){return N&&C(t),R?L(t):u.reject(t)}:void 0),N&&!R&&U.catch(p),D?U:(E.$promise=U,E.$resolved=!1,c&&(E.$cancelRequest=b),E)},k.prototype["$"+e]=function(t,n,i){y(t)&&(i=n,n=t,t={});var r=k[e].call(this,t,this,n,i);return r.$promise||r}}),k.bind=function(n){var i=d({},e,n);return h(t,i,b,x)},k}var p=e.noop,f=e.forEach,d=e.extend,g=e.copy,m=e.isArray,v=e.isDefined,y=e.isFunction,_=e.isNumber,b=e.$$encodeUriQuery,x=e.$$encodeUriSegment;return c.prototype={setUrlParams:function(e,n,i){var r,a,s=this,u=i||s.template,l="",c=s.urlParams=Object.create(null);f(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(c[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(u)})}),u=u.replace(/\\:/g,":"),u=u.replace(t,function(t){return l=t,""}),n=n||{},f(s.urlParams,function(t,e){r=n.hasOwnProperty(e)?n[e]:s.defaults[e],v(r)&&null!==r?(a=t.isQueryParamValue?b(r,!0):x(r),u=u.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return a+e})):u=u.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"===n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l+u.replace(/\/\\\./,"/."),f(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},h}]})}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.3.2
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return z(new(z(function(){},{prototype:t})),e)}function r(t){return j(arguments,function(e){e!==t&&j(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function a(t){if(Object.keys)return Object.keys(t);var e=[];return j(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in t&&t[i]===e)return i;return-1}function u(t,e,n,i){var r,u=o(n,i),l={},c=[];for(var h in u)if(u[h]&&u[h].params&&(r=a(u[h].params),r.length))for(var p in r)s(c,r[p])>=0||(c.push(r[p]),l[r[p]]=t[r[p]]);return z({},l,e)}function l(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return j(t,function(t){n[t]=e[t]}),n}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return j(n,function(n){n in t&&(e[n]=t[n])}),e}function p(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==s(n,i)&&(e[i]=t[i]);return e}function f(t,e){var n=K(t),i=n?[]:{};return j(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function d(t,e){var n=K(t)?[]:{};return j(t,function(t,i){n[i]=e(t,i)}),n}function g(t){return t.then(n,function(){})&&t}function m(t,e){var i=1,o=2,u={},l=[],c=u,h=z(t.when(u),{$$promises:u,$$values:u});this.study=function(u){function f(t,n){if(y[n]!==o){if(v.push(n),y[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=i,W(t))m.push(n,[function(){return e.get(t)}],l);else{var r=e.annotate(t);j(r,function(t){t!==n&&u.hasOwnProperty(t)&&f(u[t],t)}),m.push(n,t,r)}v.pop(),y[n]=o}}function d(t){return B(t)&&t.then&&t.$$promises}if(!B(u))throw new Error("'invocables' must be an object");var g=a(u||{}),m=[],v=[],y={};return j(u,f),u=v=y=null,function(i,o,a){function s(){--b||(x||r(_,o.$$values),v.$$values=_,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(_))}function u(t){v.$$failure=t,f.reject(t)}function l(n,r,o){function l(t){h.reject(t),u(t)}function c(){if(!U(v.$$failure))try{h.resolve(e.invoke(r,a,_)),h.promise.then(function(t){_[n]=t,s()},l)}catch(t){l(t)}}var h=t.defer(),p=0;j(o,function(t){y.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(p++,y[t].then(function(e){_[t]=e,--p||c()},l))}),p||c(),y[n]=h.promise}if(d(i)&&a===n&&(a=o,o=i,i=null),i){if(!B(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!d(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=h;var f=t.defer(),v=f.promise,y=v.$$promises={},_=z({},i),b=1+m.length/3,x=!1;if(U(o.$$failure))return u(o.$$failure),v;o.$$inheritedValues&&r(_,p(o.$$inheritedValues,g)),z(y,o.$$promises),o.$$values?(x=r(_,p(o.$$values,g)),v.$$inheritedValues=p(o.$$values,g),s()):(o.$$inheritedValues&&(v.$$inheritedValues=p(o.$$inheritedValues,g)),o.then(s,u));for(var w=0,T=m.length;T>w;w+=3)i.hasOwnProperty(m[w])?s():l(m[w],m[w+1],m[w+2]);return v}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function v(t,e,n){this.fromConfig=function(t,e,n){return U(t.template)?this.fromString(t.template,e):U(t.templateUrl)?this.fromUrl(t.templateUrl,e):U(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return V(t)?t(e):t},this.fromUrl=function(n,i){return V(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function y(t,e,r){function o(e,n,i,r){if(m.push(e),d[e])return d[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new q.Param(e,n,i,r),g[e]}function a(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function s(r,o){var a,s,u,l,c;return a=r[2]||r[3],c=e.params[a],u=t.substring(p,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),s&&(l=q.type(s)||i(q.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:u,type:l,cfg:c}}e=z({params:{}},B(e)?e:{});var u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",p=0,f=this.segments=[],d=r?r.params:{},g=this.params=r?r.params.$$new():new q.ParamSet,m=[];this.source=t;for(var v,y,_;(u=l.exec(t))&&(v=s(u,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),h+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),f.push(v.segment),p=l.lastIndex;_=t.substring(p);var b=_.indexOf("?");if(b>=0){var x=this.sourceSearch=_.substring(b);if(_=_.substring(0,b),this.sourcePath=t.substring(0,p+b),x.length>0)for(p=0;u=c.exec(x);)v=s(u,!0),y=o(v.id,v.type,v.cfg,"search"),p=l.lastIndex}else this.sourcePath=t,this.sourceSearch="";h+=a(_)+(e.strict===!1?"/?":"")+"$",f.push(_),this.regexp=new RegExp(h,e.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=m}function _(t){z(this,t)}function b(){function t(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}function r(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}function o(){return{strict:g,caseInsensitive:p}}function u(t){return V(t)||K(t)&&V(t[t.length-1])}function l(){for(;w.length;){var t=w.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(v[t.name],h.invoke(t.def))}}function c(t){z(this,t||{})}q=this;var h,p=!1,g=!0,m=!1,v={},x=!0,w=[],T={string:{encode:t,decode:r,is:function(t){return null==t||!U(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return U(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};b.$$getDefaultValue=function(t){if(!u(t.value))return t.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(t.value)},this.caseInsensitive=function(t){return U(t)&&(p=t),p},this.strictMode=function(t){return U(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!U(t))return m;if(t!==!0&&t!==!1&&!W(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new y(t,z(o(),e))},this.isMatcher=function(t){if(!B(t))return!1;var e=!0;return j(y.prototype,function(n,i){V(n)&&(e=e&&U(t[i])&&V(t[i]))}),e},this.type=function(t,e,n){if(!U(e))return v[t];if(v.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return v[t]=new _(z({name:t},e)),n&&(w.push({name:t,def:n}),x||l()),this},j(T,function(t,e){v[e]=new _(z({name:e},t))}),v=i(v,{}),this.$get=["$injector",function(t){return h=t,x=!1,l(),j(T,function(t,e){v[e]||(v[e]=new _(t))}),this}],this.Param=function(t,i,r,o){function l(t){var e=B(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=u(t.value)?t.value:function(){return t.value},t}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i?i:n.type?e.isString(n.type)?v[n.type]:n.type instanceof _?n.type:new _(n.type):"config"===r?v.any:v.string}function p(){var e={array:"search"===o?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return z(e,n,r).array}function g(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!U(n)||null==n)return m;if(n===!0||W(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function y(t,e,i,r){var o,a,u=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return o=K(t.replace)?t.replace:[],W(r)&&o.push({from:r,to:n}),a=d(o,function(t){return t.from}),f(u,function(t){return-1===s(a,t.from)}).concat(o)}function b(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");var t=h.invoke(r.$$fn);if(null!==t&&t!==n&&!T.type.is(t))throw new Error("Default value ("+t+") for parameter '"+T.id+"' is not an instance of Type ("+T.type.name+")");return t}function x(t){function e(t){return function(e){return e.from===t}}function n(t){var n=d(f(T.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),U(t)?T.type.$normalize(t):b()}function w(){return"{Param:"+t+" "+i+" squash: '"+S+"' optional: "+$+"}"}var T=this;r=l(r),i=c(r,i,o);var k=p();i=k?i.$asArray(k,"search"===o):i,"string"!==i.name||k||"path"!==o||r.value!==n||(r.value="");var $=r.value!==n,S=g(r,$),C=y(r,k,$,S);z(this,{id:t,type:i,location:o,array:k,squash:S,replace:C,isOptional:$,value:x,dynamic:n,config:r,toString:w})},c.prototype={$$new:function(){return i(this,z(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=a(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),j(e,function(e){j(a(e),function(e){-1===s(t,e)&&-1===s(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return j(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return j(i.$$keys(),function(r){var o=t&&t[r],a=e&&e[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var i,r,o,a,s,u=this.$$keys();for(i=0;i<u.length&&(r=this[u[i]],o=t[u[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),e.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function x(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return U(i)?i:!0}function s(i,r,o,a,s){function p(t,e,n){return"/"===m?t:e?m.slice(0,-1)+t:n?m.slice(1)+t:t}function f(t){function e(t){var e=t(o,i);return e?(W(e)&&i.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){{g&&i.url()===g}g=n;var r,a=l.length;for(r=0;a>r;r++)if(e(l[r]))return;c&&e(c)}}function d(){return u=u||r.$on("$locationChangeSuccess",f)}var g,m=a.baseHref(),v=i.url();return h||d(),{sync:function(){f()},listen:function(){return d()},update:function(t){return t?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled),a=a&&s.history;var u=n.format(r);if(o=o||{},a||null===u||(u="#"+t.hashPrefix()+u),null!==u&&r&&r["#"]&&(u+="#"+r["#"]),u=p(u,a,o.absolute),!o.absolute||!u)return u;var l=!a&&u?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,l,u].join("")}}}var u,l=[],c=null,h=!1;this.rule=function(t){if(!V(t))throw new Error("'rule' must be a function");return l.push(t),this},this.otherwise=function(t){if(W(t)){var e=t;t=function(){return e}}else if(!V(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=W(e);if(W(t)&&(t=i.compile(t)),!s&&!V(e)&&!K(e))throw new Error("invalid 'handler' in when()");var u={matcher:function(t,e){return s&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),z(function(n,i){return a(n,e,t.exec(i.path(),i.search()))},{prefix:W(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),z(function(n,i){return a(n,e,t.exec(i.path()))},{prefix:r(t)})}},l={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in l)if(l[c])return this.rule(u[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),h=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function w(t,r){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function p(t,e){if(!t)return n;var i=W(t),r=i?t:t.name,a=o(r);if(a){if(!e)throw new Error("No reference point given for path '"+r+"'");e=p(e);for(var s=r.split("."),u=0,l=s.length,c=e;l>u;u++)if(""!==s[u]||0!==u){if("^"!==s[u])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(u).join("."),r=c.name+(c.name&&s?".":"")+s}var h=S[r];return!h||!i&&(i||h!==t&&h.self!==t)?n:h}function f(t,e){C[t]||(C[t]=[]),C[t].push(e)}function m(t){for(var e=C[t]||[];e.length;)v(e.shift())}function v(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!W(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):W(e.parent)?e.parent:B(e.parent)&&W(e.parent.name)?e.parent.name:"";if(r&&!S[r])return f(r,e.self);for(var o in I)V(I[o])&&(e[o]=I[o](e,I.$delegates[o]));return S[n]=e,!e[A]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){$.$current.navigable==e&&l(t,n)||$.transitionTo(e,t,{inherit:!0,location:!1})}]),m(n),e}function y(t){return t.indexOf("*")>-1}function _(t){for(var e=t.split("."),n=$.$current.name.split("."),i=0,r=e.length;r>i;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function b(t,e){return W(t)&&!U(e)?I[t]:V(e)&&W(t)?(I[t]&&!I.$delegates[t]&&(I.$delegates[t]=I[t]),I[t]=e,this):this}function x(t,e){return B(t)?e=t:e.name=t,v(e),this}function w(t,r,o,s,h,f,m){function v(e,n,i,o){var a=t.$broadcast("$stateNotFound",e,n,i);if(a.defaultPrevented)return m.update(),I;if(!a.retry)return null;if(o.$retry)return m.update(),M;var s=$.transition=r.when(a.retry);return s.then(function(){return s!==$.transition?(t.$broadcast("$stateChangeCancel",e.to,e.toParams,n,i),w):(e.options.$retry=!0,$.transitionTo(e.to,e.toParams,e.options))},function(){return I}),m.update(),s}function b(t,n,i,a,u,l){function p(){var n=[];return j(t.views,function(i,r){var a=i.resolve&&i.resolve!==t.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:u.globals,params:f,notify:l.notify})||""}],n.push(h.resolve(a,u.globals,u.resolve,t).then(function(n){if(V(i.controllerProvider)||K(i.controllerProvider)){var o=e.extend({},a,u.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,u[r]=n}))}),r.all(n).then(function(){return u.globals})}var f=i?n:c(t.params.$$keys(),n),d={$stateParams:f};u.resolve=h.resolve(t.resolve,d,u.resolve,t);var g=[u.resolve.then(function(t){u.globals=t})];return a&&g.push(a),r.all(g).then(p).then(function(){return u})}var x=new Error("transition superseded"),w=g(r.reject(x)),C=g(r.reject(new Error("transition prevented"))),I=g(r.reject(new Error("transition aborted"))),M=g(r.reject(new Error("transition failed")));return k.locals={resolve:null,globals:{$stateParams:{}}},$={params:{},current:k.self,$current:k,transition:null},$.reload=function(t){return $.transitionTo($.current,f,{reload:t||!0,inherit:!1,notify:!0})},$.go=function(t,e,n){return $.transitionTo(t,e,z({inherit:!0,relative:$.$current},n))},$.transitionTo=function(e,n,o){n=n||{},o=z({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,l=$.$current,h=$.params,d=l.path,g=p(e,o.relative),y=n["#"];if(!U(g)){var _={to:e,toParams:n,options:o},S=v(_,l.self,h,o);if(S)return S;if(e=_.to,n=_.toParams,o=_.options,g=p(e,o.relative),!U(g)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(g[A])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=u(f,n||{},$.$current,g)),!g.params.$$validates(n))return M;n=g.params.$$values(n),e=g;var I=e.path,D=0,E=I[D],O=k.locals,P=[];if(o.reload){if(W(o.reload)||B(o.reload)){if(B(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var L=o.reload===!0?d[0]:p(o.reload);if(o.reload&&!L)throw new Error("No such reload state '"+(W(o.reload)?o.reload:o.reload.name)+"'");for(;E&&E===d[D]&&E!==L;)O=P[D]=E.locals,D++,E=I[D]}}else for(;E&&E===d[D]&&E.ownParams.$$equals(n,h);)O=P[D]=E.locals,D++,E=I[D];if(T(e,n,l,h,O,o))return y&&(n["#"]=y),$.params=n,H($.params,f),H(c(e.params.$$keys(),f),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(m.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),$.transition=null,r.when($.current);if(n=c(e.params.$$keys(),n||{}),y&&(n["#"]=y),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,l.self,h,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,h),null==$.transition&&m.update(),C;for(var N=r.when(O),R=D;R<I.length;R++,E=I[R])O=P[R]=i(O),N=b(E,n,E===e,N,O,o);var V=$.transition=N.then(function(){var i,r,a;if($.transition!==V)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,h),w;for(i=d.length-1;i>=D;i--)a=d[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=D;i<I.length;i++)r=I[i],r.locals=P[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return $.transition!==V?(t.$broadcast("$stateChangeCancel",e.self,n,l.self,h),w):($.$current=e,$.current=e.self,$.params=n,H($.params,f),$.transition=null,o.location&&e.navigable&&m.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,l.self,h),m.update(!0),$.current)}).then(null,function(i){return i===x?w:$.transition!==V?(t.$broadcast("$stateChangeCancel",e.self,n,l.self,h),w):($.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,l.self,h,i),a.defaultPrevented||m.update(),r.reject(i))});return V},$.is=function(t,e,i){i=z({relative:$.$current},i||{});var r=p(t,i.relative);return U(r)?$.$current!==r?!1:e?l(r.params.$$values(e),f):!0:n},$.includes=function(t,e,i){if(i=z({relative:$.$current},i||{}),W(t)&&y(t)){if(!_(t))return!1;t=$.$current.name}var r=p(t,i.relative);if(!U(r))return n;if(!U($.$current.includes[r.name]))return!1;if(!e)return!0;for(var o=a(e),s=0;s<o.length;s++){var u=o[s],l=r.params[u];if(l&&!l.type.equals(f[u],e[u]))return!1}return!0},$.href=function(t,e,i){i=z({lossy:!0,inherit:!0,absolute:!1,relative:$.$current},i||{});var r=p(t,i.relative);if(!U(r))return null;i.inherit&&(e=u(f,e||{},$.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},$.get=function(t,e){if(0===arguments.length)return d(a(S),function(t){return S[t].self});var n=p(t,e||$.$current);return n&&n.self?n.self:null},$}function T(t,e,n,i,r,o){function a(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),o=h.apply({},[t.params].concat(r)),a=new q.ParamSet(o);return a.$$equals(e,n)}return!o.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&a(n,i,e))?!0:void 0}var k,$,S={},C={},A="abstract",I={parent:function(t){if(U(t.parent)&&t.parent)return p(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?p(e[1]):k},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=i(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(W(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||k).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new q.ParamSet;return j(t.params||{},function(t,n){e[n]||(e[n]=new q.Param(n,null,t,"config"))}),e},params:function(t){var e=h(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?z(t.parent.params.$$new(),e):new q.ParamSet},views:function(t){var e={};return j(U(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),n.resolveAs=n.resolveAs||t.resolveAs||"$resolve",e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?z({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};k=v({name:"",url:"^",views:null,"abstract":!0}),k.navigable=null,this.decorator=b,this.state=x,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function T(){function t(t,e){return{load:function(t,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=z(r,n),n.view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function k(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function $(t,n,i,r,o){function a(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function s(t,n){var i=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(c)return{enter:function(t,n,i){e.version.minor>2?c.enter(t,null,n).then(i):c.enter(t,null,n,i)},leave:function(t,n){e.version.minor>2?c.leave(t).then(n):c.leave(t,n)}};if(l){var r=l&&l(n,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return i()}var u=a(),l=u("$animator"),c=u("$animate"),h={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,u){return function(n,a,l){function c(){if(p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f){var t=f.data("$uiViewAnim");y.leave(f,function(){t.$$animLeave.resolve(),p=null}),p=f,f=null}}function h(s){var h,p=C(n,l,a,r),_=p&&t.$current&&t.$current.locals[p];if(s||_!==g){h=n.$new(),g=t.$current.locals[p],h.$emit("$viewContentLoading",p);var b=u(h,function(t){var r=o.defer(),s=o.defer(),u={$animEnter:r.promise,$animLeave:s.promise,$$animLeave:s};t.data("$uiViewAnim",u),y.enter(t,a,function(){r.resolve(),d&&d.$emit("$viewContentAnimationEnded"),(e.isDefined(v)&&!v||n.$eval(v))&&i(t)}),c()});f=b,d=h,d.$emit("$viewContentLoaded",p),d.$eval(m)}}{var p,f,d,g,m=l.onload||"",v=l.autoscroll,y=s(l,n);a.inheritedData("$uiView")}n.$on("$stateChangeSuccess",function(){h(!1)}),h(!0)}}};return h}function S(t,n,i,r){return{restrict:"ECA",priority:-400,compile:function(o){var a=o.html();return function(o,s,u){var l=i.$current,c=C(o,u,s,r),h=l&&l.locals[c];if(h){s.data("$uiView",{name:c,state:h.$$state}),s.html(h.$template?h.$template:a);var p=e.extend({},h);o[h.$$resolveAs]=p;var f=t(s.contents());if(h.$$controller){h.$scope=o,h.$element=s;var d=n(h.$$controller,h);h.$$controllerAs&&(o[h.$$controllerAs]=d,o[h.$$controllerAs][h.$$resolveAs]=p),V(d.$onInit)&&d.$onInit(),s.data("$ngControllerController",d),s.children().data("$ngControllerController",d)}f(o)}}}}}function C(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function A(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function I(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function M(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function D(t,e,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var u=n(function(){e.go(s.state,s.params,s.options)});o.preventDefault();var l=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){l--<=0&&n.cancel(u)}}}}function E(t,e){return{relative:I(t)||e.$current,inherit:!0}}function O(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s,u=A(o.uiSref,t.current.name),l={state:u.state,href:null,params:null},c=M(r),h=a[1]||a[0],p=null;l.options=z(E(r,t),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var f=function(n){n&&(l.params=e.copy(n)),l.href=t.href(u.state,l.params,l.options),p&&p(),h&&(p=h.$$addStateInfo(u.state,l.params)),null!==l.href&&o.$set(c.attr,l.href)};u.paramExpr&&(i.$watch(u.paramExpr,function(t){t!==l.params&&f(t)},!0),l.params=e.copy(i.$eval(u.paramExpr))),f(),c.clickable&&(s=D(r,t,n,c,function(){return l}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function P(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function a(e){p.state=e[0],p.params=e[1],p.options=e[2],p.href=t.href(p.state,p.params,p.options),f&&f(),l&&(f=l.$$addStateInfo(p.state,p.params)),p.href&&r.$set(u.attr,p.href)}var s,u=M(i),l=o[1]||o[0],c=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],h="["+c.map(function(t){return t||"null"}).join(", ")+"]",p={state:null,params:null,options:null,href:null},f=null;n.$watch(h,a,!0),a(n.$eval(h)),u.clickable&&(s=D(i,t,e,u,function(){return p}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function L(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,o){function a(e,n,r){var o=t.get(e,I(i)),a=s(e,n),u={state:o||{name:e},params:n,hash:a};return g.push(u),m[a]=r,function(){var t=g.indexOf(u);-1!==t&&g.splice(t,1)}}function s(t,n){if(!W(t))throw new Error("state should be a string");return B(n)?t+F(n):(n=e.$eval(n),B(n)?t+F(n):t)}function u(){for(var t=0;t<g.length;t++)h(g[t].state,g[t].params)?l(i,m[g[t].hash]):c(i,m[g[t].hash]),p(g[t].state,g[t].params)?l(i,f):c(i,f)}function l(t,e){o(function(){t.addClass(e)})}function c(t,e){t.removeClass(e)}function h(e,n){return t.includes(e.name,n)}function p(e,n){return t.is(e.name,n)}var f,d,g=[],m={};f=n(r.uiSrefActiveEq||"",!1)(e);try{d=e.$eval(r.uiSrefActive)}catch(v){}d=d||n(r.uiSrefActive||"",!1)(e),B(d)&&j(d,function(n,i){if(W(n)){var r=A(n,t.current.name);a(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){if(!(B(d)&&g.length>0)){var n=a(t,e,d);return u(),n}},e.$on("$stateChangeSuccess",u),u()}]}}function N(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function R(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}var U=e.isDefined,V=e.isFunction,W=e.isString,B=e.isObject,K=e.isArray,j=e.forEach,z=e.extend,H=e.copy,F=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",m),v.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",v);var q;y.prototype.concat=function(t,e){var n={caseInsensitive:q.caseInsensitive(),strict:q.strictMode(),squash:q.defaultSquashPolicy()};return new y(this.sourcePath+t+this.sourceSearch,z(n,e),this)},y.prototype.toString=function(){return this.source},y.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=d(i,e);return d(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,o,a,s=this.parameters(),u=s.length,l=this.segments.length-1,c={};if(l!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var h,p;for(r=0;l>r;r++){for(a=s[r],h=this.params[a],p=i[r+1],o=0;o<h.replace.length;o++)h.replace[o].from===p&&(p=h.replace[o].to);p&&h.array===!0&&(p=n(p)),U(p)&&(p=h.type.decode(p)),c[a]=h.value(p)}for(;u>r;r++){for(a=s[r],c[a]=this.params[a].value(e[a]),h=this.params[a],p=e[a],o=0;o<h.replace.length;o++)h.replace[o].from===p&&(p=h.replace[o].to);U(p)&&(p=h.type.decode(p)),c[a]=h.value(p)}return c},y.prototype.parameters=function(t){return U(t)?this.params[t]||null:this.$$paramNames},y.prototype.validates=function(t){return this.params.$$validates(t)},y.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,u=i.length,l=n[0];for(o=0;u>o;o++){var c=s>o,h=i[o],p=r[h],f=p.value(t[h]),g=p.isOptional&&p.type.equals(p.value(),f),m=g?p.squash:!1,v=p.type.encode(f);if(c){var y=n[o+1],_=o+1===s;if(m===!1)null!=v&&(l+=K(v)?d(v,e).join("-"):encodeURIComponent(v)),l+=y;else if(m===!0){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match(b)[1]}else W(m)&&(l+=m+y);_&&p.squash===!0&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(K(v)||(v=[v]),0===v.length)continue;v=d(v,encodeURIComponent).join("&"+h+"="),l+=(a?"&":"?")+(h+"="+v),a=!0}}return l},_.prototype.is=function(){return!0},_.prototype.encode=function(t){return t},_.prototype.decode=function(t){return t},_.prototype.equals=function(t,e){return t==e},_.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},_.prototype.pattern=/.*/,_.prototype.toString=function(){return"{Type:"+this.name+"}"},_.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},_.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return K(t)?t:U(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){if(K(n)&&0===n.length)return n;n=r(n);var i=d(n,t);return e===!0?0===f(i,a).length:o(i)}}function u(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}this.encode=s(i(t,"encode")),this.decode=s(i(t,"decode")),this.is=s(i(t,"is"),!0),this.equals=u(i(t,"equals")),this.pattern=t.pattern,this.$normalize=s(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)
},e.module("ui.router.util").provider("$urlMatcherFactory",b),e.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",x),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",w).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),T.$inject=[],e.module("ui.router.state").provider("$view",T),e.module("ui.router.state").provider("$uiViewScroll",k),$.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],S.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",$),e.module("ui.router.state").directive("uiView",S),O.$inject=["$state","$timeout"],P.$inject=["$state","$timeout"],L.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",O).directive("uiSrefActive",L).directive("uiSrefActiveEq",L).directive("uiState",P),N.$inject=["$state"],R.$inject=["$state"],e.module("ui.router.state").filter("isState",N).filter("includedByState",R)}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 1.3.3 - 2016-05-22
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(t,e,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){function s(){o.hasClass("collapse")&&o.hasClass("in")||e.resolve(h(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start()["finally"](u):t.addClass(o,"in",{to:{height:o[0].scrollHeight+"px"}}).then(u)})}function u(){o.removeClass("collapsing").addClass("collapse").css({height:"auto"}),p(i)}function l(){return o.hasClass("collapse")||o.hasClass("in")?void e.resolve(f(i)).then(function(){o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:{height:"0"}}).start()["finally"](c):t.removeClass(o,"in",{to:{height:"0"}}).then(c)}):c()}function c(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse"),d(i)}var h=n(a.expanding),p=n(a.expanded),f=n(a.collapsing),d=n(a.collapsed);i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),i.$watch(a.uibCollapse,function(t){t?l():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){i.addGroup(t),t.openClass=n.openClass||"panel-open",t.panelClass=n.panelClass||"panel-default",t.$watch("isOpen",function(n){e.toggleClass(t.openClass,!!n),n&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)};var r="accordiongroup-"+t.$id+"-"+Math.floor(1e4*Math.random());t.headingId=r+"-tab",t.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("uibAccordionTransclude",function(){function t(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(e,n,i,r){e.$watch(function(){return r[i.uibAccordionTransclude]},function(e){if(e){var i=angular.element(n[0].querySelector(t()));i.html(""),i.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(t,e,n,i){t.closeable=!!e.close;var r=angular.isDefined(e.dismissOnTimeout)?n(e.dismissOnTimeout)(t.$parent):null;r&&i(function(){t.close()},parseInt(r,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(t,e){return e.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(t){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(e,n,i,r){var o=r[0],a=r[1],s=t(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,e.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var t=n.hasClass(o.activeClass);(!t||angular.isDefined(i.uncheckable))&&e.$apply(function(){a.$setViewValue(t?null:e.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&e.$watch(s,function(t){i.$set("uncheckable",t?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(t,e,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){return angular.isDefined(e)?t.$eval(e):n}var s=i[0],u=i[1];e.find("input").css({display:"none"}),u.$render=function(){e.toggleClass(s.activeClass,angular.equals(u.$modelValue,r()))},e.on(s.toggleEvent,function(){n.disabled||t.$apply(function(){u.$setViewValue(e.hasClass(s.activeClass)?o():r()),u.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(t,e,n,i,r){function o(){for(;_.length;)_.shift()}function a(t){for(var e=0;e<m.length;e++)m[e].slide.active=e===t}function s(n,i,u){if(!b){if(angular.extend(n,{direction:u}),angular.extend(m[y].slide||{},{direction:u}),r.enabled(e)&&!t.$currentTransition&&m[i].element&&g.slides.length>1){m[i].element.data(v,n.direction);var l=g.getCurrentIndex();angular.isNumber(l)&&m[l].element&&m[l].element.data(v,n.direction),t.$currentTransition=!0,r.on("addClass",m[i].element,function(e,n){if("close"===n&&(t.$currentTransition=null,r.off("addClass",e),_.length)){var i=_.pop().slide,a=i.index,u=a>g.getCurrentIndex()?"next":"prev";o(),s(i,a,u)}})}t.active=n.index,y=n.index,a(i),h()}}function u(t){for(var e=0;e<m.length;e++)if(m[e].slide===t)return e}function l(){f&&(n.cancel(f),f=null)}function c(e){e.length||(t.$currentTransition=null,o())}function h(){l();var e=+t.interval;!isNaN(e)&&e>0&&(f=n(p,e))}function p(){var e=+t.interval;d&&!isNaN(e)&&e>0&&m.length?t.next():t.pause()}var f,d,g=this,m=g.slides=t.slides=[],v="uib-slideDirection",y=t.active,_=[],b=!1;g.addSlide=function(e,n){m.push({slide:e,element:n}),m.sort(function(t,e){return+t.slide.index-+e.slide.index}),(e.index===t.active||1===m.length&&!angular.isNumber(t.active))&&(t.$currentTransition&&(t.$currentTransition=null),y=e.index,t.active=e.index,a(y),g.select(m[u(e)]),1===m.length&&t.play())},g.getCurrentIndex=function(){for(var t=0;t<m.length;t++)if(m[t].slide.index===y)return t},g.next=t.next=function(){var e=(g.getCurrentIndex()+1)%m.length;return 0===e&&t.noWrap()?void t.pause():g.select(m[e],"next")},g.prev=t.prev=function(){var e=g.getCurrentIndex()-1<0?m.length-1:g.getCurrentIndex()-1;return t.noWrap()&&e===m.length-1?void t.pause():g.select(m[e],"prev")},g.removeSlide=function(e){var n=u(e),i=_.indexOf(m[n]);-1!==i&&_.splice(i,1),m.splice(n,1),m.length>0&&y===n?n>=m.length?(y=m.length-1,t.active=y,a(y),g.select(m[m.length-1])):(y=n,t.active=y,a(y),g.select(m[n])):y>n&&(y--,t.active=y),0===m.length&&(y=null,t.active=null,o())},g.select=t.select=function(e,n){var i=u(e.slide);void 0===n&&(n=i>g.getCurrentIndex()?"next":"prev"),e.slide.index===y||t.$currentTransition?e&&e.slide.index!==y&&t.$currentTransition&&_.push(m[i]):s(e.slide,i,n)},t.indexOfSlide=function(t){return+t.slide.index},t.isActive=function(e){return t.active===e.slide.index},t.isPrevDisabled=function(){return 0===t.active&&t.noWrap()},t.isNextDisabled=function(){return t.active===m.length-1&&t.noWrap()},t.pause=function(){t.noPause||(d=!1,l())},t.play=function(){d||(d=!0,h())},t.$on("$destroy",function(){b=!0,l()}),t.$watch("noTransition",function(t){r.enabled(e,!t)}),t.$watch("interval",h),t.$watchCollection("slides",c),t.$watch("active",function(t){if(angular.isNumber(t)&&y!==t){for(var e=0;e<m.length;e++)if(m[e].slide.index===t){t=e;break}var n=m[t];n&&(a(t),g.select(m[t]),y=t)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)})}}}).animation(".item",["$animateCss",function(t){function e(t,e,n){t.removeClass(e),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),u="next"===s?"left":"right",l=e.bind(this,i,u+" "+s,o);return i.addClass(s),t(i,{addClass:u}).start().done(l),function(){a=!0}}o()},beforeRemoveClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),u="next"===s?"left":"right",l=e.bind(this,i,u,o);return t(i,{addClass:u}).start().done(l),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(t,e,n,i){function r(t,e){var n=[],r=t.split(""),o=t.indexOf("'");if(o>-1){var a=!1;t=t.split("");for(var s=o;s<t.length;s++)a?("'"===t[s]&&(s+1<t.length&&"'"===t[s+1]?(t[s+1]="$",r[s+1]=""):(r[s]="",a=!1)),t[s]="$"):"'"===t[s]&&(t[s]="$",r[s]="",a=!0);t=t.join("")}return angular.forEach(f,function(i){var o=t.indexOf(i.key);if(o>-1){t=t.split(""),r[o]="("+i.regex+")",t[o]="$";for(var a=o+1,s=o+i.key.length;s>a;a++)r[a]="",t[a]="$";t=t.join(""),n.push({index:o,key:i.key,apply:i[e],matcher:i.regex})}}),{regex:new RegExp("^"+r.join("")+"$"),map:i(n,"index")}}function o(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}function a(t){return parseInt(t,10)}function s(t,e){return t&&e?h(t,e):t}function u(t,e){return t&&e?h(t,e,!0):t}function l(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function c(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function h(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=l(e,i);return c(t,n*(r-i))}var p,f,d=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){p=e.id,this.parsers={},this.formatters={},f=[{key:"yyyy",regex:"\\d{4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(t){t=+t,this.year=69>t?t+2e3:t+1900},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(t){this.year=+t},formatter:function(t){var e=new Date;return e.setFullYear(Math.abs(t.getFullYear())),n(e,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){var e=t.getMonth();return/^[0-9]$/.test(e)?n(t,"MM"):n(t,"M")}},{key:"MMMM",regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)},formatter:function(t){return n(t,"MMMM")}},{key:"MMM",regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)},formatter:function(t){return n(t,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1},formatter:function(t){return n(t,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){var e=t.getDate();return/^[1-9]$/.test(e)?n(t,"dd"):n(t,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t},formatter:function(t){return n(t,"d")}},{key:"EEEE",regex:e.DATETIME_FORMATS.DAY.join("|"),formatter:function(t){return n(t,"EEEE")}},{key:"EEE",regex:e.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(t){return n(t,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(t){this.hours=+t},formatter:function(t){return n(t,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t},formatter:function(t){return n(t,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t},formatter:function(t){return n(t,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t},formatter:function(t){return n(t,"s")}},{key:"a",regex:e.DATETIME_FORMATS.AMPMS.join("|"),apply:function(t){12===this.hours&&(this.hours=0),"PM"===t&&(this.hours+=12)},formatter:function(t){return n(t,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(t){var e=t.match(/([+-])(\d{2})(\d{2})/),n=e[1],i=e[2],r=e[3];this.hours+=a(n+i),this.minutes+=a(n+r)},formatter:function(t){return n(t,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(t){return n(t,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(t){return n(t,"w")}},{key:"GGGG",regex:e.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(t){return n(t,"GGGG")}},{key:"GGG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GGG")}},{key:"GG",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"GG")}},{key:"G",regex:e.DATETIME_FORMATS.ERAS.join("|"),formatter:function(t){return n(t,"G")}}]},this.init(),this.filter=function(t,n){if(!angular.isDate(t)||isNaN(t)||!n)return"";n=e.DATETIME_FORMATS[n]||n,e.id!==p&&this.init(),this.formatters[n]||(this.formatters[n]=r(n,"formatter"));var i=this.formatters[n],o=i.map,a=n;return o.reduce(function(e,n,i){var r=a.match(new RegExp("(.*)"+n.key));r&&angular.isString(r[1])&&(e+=r[1],a=a.replace(r[1]+n.key,""));var s=i===o.length-1?a:"";return n.apply?e+n.apply.call(null,t)+s:e+s},"")},this.parse=function(n,i,a){if(!angular.isString(n)||!i)return n;i=e.DATETIME_FORMATS[i]||i,i=i.replace(d,"\\$&"),e.id!==p&&this.init(),this.parsers[i]||(this.parsers[i]=r(i,"apply"));var s=this.parsers[i],u=s.regex,l=s.map,c=n.match(u),h=!1;if(c&&c.length){var f,g;angular.isDate(a)&&!isNaN(a.getTime())?f={year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:(a&&t.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,v=c.length;v>m;m++){var y=l[m-1];"Z"===y.matcher&&(h=!0),y.apply&&y.apply.call(f,c[m])}var _=h?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,b=h?Date.prototype.setUTCHours:Date.prototype.setHours;return o(f.year,f.month,f.date)&&(!angular.isDate(a)||isNaN(a.getTime())||h?(g=new Date(0),_.call(g,f.year,f.month,f.date),b.call(g,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(g=new Date(a),_.call(g,f.year,f.month,f.date),b.call(g,f.hours,f.minutes,f.seconds,f.milliseconds))),g}},this.toTimezone=s,this.fromTimezone=u,this.timezoneToOffset=l,this.addDateMinutes=c,this.convertTimezoneToLocal=h}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(t){var e=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function o(t,e){u.push(t),l.push({scope:t,element:e}),d.forEach(function(e){a(e,t)}),t.$on("$destroy",s)}function a(e,i){var r=e.match(n),o=i.$eval(r[1]),a=r[2],s=c[e];if(!s){var u=function(e){var n=null;l.some(function(t){var i=t.scope.$eval(p);return i===e?(n=t,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&t.removeClass(s.lastActivated.element,o),n&&t.addClass(n.element,o),s.lastActivated=n)};c[e]=s={lastActivated:null,scope:i,watchFn:u,compareWithExp:a,watcher:i.$watch(a,u)}}s.watchFn(i.$eval(a))}function s(t){var e=t.targetScope,n=u.indexOf(e);if(u.splice(n,1),l.splice(n,1),u.length){var i=u[0];angular.forEach(c,function(t){t.scope===e&&(t.watcher=i.$watch(t.compareWithExp,t.watchFn),t.scope=i)})}else c={}}var u=[],l=[],c={},h=r.uibIsClass.match(e),p=h[2],f=h[1],d=f.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(t,e,n,i,r,o,a,s,u,l,c){function h(e){t.datepickerMode=e,t.datepickerOptions.datepickerMode=e}{var p=this,f={$setViewValue:angular.noop},d={},g=[];!!e.datepickerOptions}t.datepickerOptions||(t.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(e){switch(e){case"customClass":case"dateDisabled":t[e]=t.datepickerOptions[e]||angular.noop;break;case"datepickerMode":t.datepickerMode=angular.isDefined(t.datepickerOptions.datepickerMode)?t.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[e]=angular.isDefined(t.datepickerOptions[e])?i(t.datepickerOptions[e])(t.$parent):s[e];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[e]=angular.isDefined(t.datepickerOptions[e])?t.datepickerOptions[e]:s[e];break;case"startingDay":p.startingDay=angular.isDefined(t.datepickerOptions.startingDay)?t.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?s.startingDay:(r.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":t.$watch("datepickerOptions."+e,function(t){t?angular.isDate(t)?p[e]=c.fromTimezone(new Date(t),d.timezone):(u&&o.warn("Literal date support has been deprecated, please switch to date object usage"),p[e]=new Date(a(t,"medium"))):p[e]=s[e]?c.fromTimezone(new Date(s[e]),d.timezone):null,p.refreshView()});break;case"maxMode":case"minMode":t.datepickerOptions[e]?t.$watch(function(){return t.datepickerOptions[e]},function(n){p[e]=t[e]=angular.isDefined(n)?n:datepickerOptions[e],("minMode"===e&&p.modes.indexOf(t.datepickerOptions.datepickerMode)<p.modes.indexOf(p[e])||"maxMode"===e&&p.modes.indexOf(t.datepickerOptions.datepickerMode)>p.modes.indexOf(p[e]))&&(t.datepickerMode=p[e],t.datepickerOptions.datepickerMode=p[e])}):p[e]=t[e]=s[e]||null}}),t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),t.disabled=angular.isDefined(e.disabled)||!1,angular.isDefined(e.ngDisabled)&&g.push(t.$parent.$watch(e.ngDisabled,function(e){t.disabled=e,p.refreshView()})),t.isActive=function(e){return 0===p.compare(e.date,p.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(e){f=e,d=e.$options||s.ngModelOptions,t.datepickerOptions.initDate?(p.activeDate=c.fromTimezone(t.datepickerOptions.initDate,d.timezone)||new Date,t.$watch("datepickerOptions.initDate",function(t){t&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(p.activeDate=c.fromTimezone(t,d.timezone),p.refreshView())})):p.activeDate=new Date;var n=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(n)?c.fromTimezone(new Date,d.timezone):c.fromTimezone(n,d.timezone),f.$render=function(){p.render()}},this.render=function(){if(f.$viewValue){var t=new Date(f.$viewValue),e=!isNaN(t);e?this.activeDate=c.fromTimezone(t,d.timezone):l||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){t.selectedDt=null,this._refreshView(),t.activeDt&&(t.activeDateId=t.activeDt.uid);var e=f.$viewValue?new Date(f.$viewValue):null;e=c.fromTimezone(e,d.timezone),f.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,n){var i=f.$viewValue?new Date(f.$viewValue):null;i=c.fromTimezone(i,d.timezone);var r=new Date;r=c.fromTimezone(r,d.timezone);var o=this.compare(e,r),a={date:e,label:c.filter(e,n),selected:i&&0===this.compare(e,i),disabled:this.isDisabled(e),past:0>o,current:0===o,future:o>0,customClass:this.customClass(e)||null};return i&&0===this.compare(e,i)&&(t.selectedDt=a),p.activeDate&&0===this.compare(a.date,p.activeDate)&&(t.activeDt=a),a},this.isDisabled=function(e){return t.disabled||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0||t.dateDisabled&&t.dateDisabled({date:e,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===p.minMode){var n=f.$viewValue?c.fromTimezone(new Date(f.$viewValue),d.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n=c.toTimezone(n,d.timezone),f.$setViewValue(n),f.$render()}else p.activeDate=e,h(p.modes[p.modes.indexOf(t.datepickerMode)-1]),t.$emit("uib:datepicker.mode");t.$broadcast("uib:datepicker.focus")},t.move=function(t){var e=p.activeDate.getFullYear()+t*(p.step.years||0),n=p.activeDate.getMonth()+t*(p.step.months||0);p.activeDate.setFullYear(e,n,1),p.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===p.maxMode&&1===e||t.datepickerMode===p.minMode&&-1===e||(h(p.modes[p.modes.indexOf(t.datepickerMode)+e]),t.$emit("uib:datepicker.mode"))},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var m=function(){p.element[0].focus()};t.$on("uib:datepicker.focus",m),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey&&!t.disabled)if(e.preventDefault(),p.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;t.select(p.activeDate)}else!e.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,e),p.refreshView()):t.toggleMode("up"===n?1:-1)},t.$on("$destroy",function(){for(;g.length;)g.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(t,e,n){function i(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?o[e]:29}function r(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),t.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(t,e){for(var n,i=new Array(e),r=new Date(t),o=0;e>o;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var e=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(e,i,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,u=new Date(o);s>0&&u.setDate(-s+1);for(var l=this.getDates(u,42),c=0;42>c;c++)l[c]=angular.extend(this.createDateObject(l[c],this.formatDay),{secondary:l[c].getMonth()!==i,uid:t.uniqueId+"-"+c});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:n(l[h].date,this.formatDayHeader),full:n(l[h].date,"EEEE")};if(t.title=n(this.activeDate,this.formatDayTitle),t.rows=this.split(l,7),t.showWeeks){t.weekNumbers=[];for(var p=(11-this.startingDay)%7,f=t.rows.length,d=0;f>d;d++)t.weekNumbers.push(r(t.rows[d][p].date))}},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t){var e=this.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=this.activeDate.getMonth()+("pageup"===t?-1:1);this.activeDate.setMonth(n,1),e=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(e)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(t,e,n){this.step={years:1},this.element=e,this.init=function(t){angular.extend(t,this),t.refreshView()},this._refreshView=function(){for(var e,i=new Array(12),r=this.activeDate.getFullYear(),o=0;12>o;o++)e=new Date(this.activeDate),e.setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:t.uniqueId+"-"+o});t.title=n(this.activeDate,this.formatMonthTitle),t.rows=this.split(i,3)},this.compare=function(t,e){var n=new Date(t.getFullYear(),t.getMonth()),i=new Date(e.getFullYear(),e.getMonth());return n.setFullYear(t.getFullYear()),i.setFullYear(e.getFullYear()),n-i},this.handleKeyDown=function(t){var e=this.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=this.activeDate.getFullYear()+("pageup"===t?-1:1);this.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);this.activeDate.setMonth(e)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(t,e){function n(t){return parseInt((t-1)/r,10)*r+1}var i,r;this.element=e,this.yearpickerInit=function(){i=this.yearColumns,r=this.yearRows*i,this.step={years:r}},this._refreshView=function(){for(var e,o=new Array(r),a=0,s=n(this.activeDate.getFullYear());r>a;a++)e=new Date(this.activeDate),e.setFullYear(s+a,0,1),o[a]=angular.extend(this.createDateObject(e,this.formatYear),{uid:t.uniqueId+"-"+a});t.title=[o[0].label,o[r-1].label].join(" - "),t.rows=this.split(o,i),t.columns=i},this.compare=function(t,e){return t.getFullYear()-e.getFullYear()},this.handleKeyDown=function(t){var e=this.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=i:"right"===t?e+=1:"down"===t?e+=i:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*r:"home"===t?e=n(this.activeDate.getFullYear()):"end"===t&&(e=n(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(e)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(t,e,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(t,e){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(t){return t.nodeName?t:t[0]||t},parseStyle:function(t){return t=parseFloat(t),isFinite(t)?t:0},offsetParent:function(n){function i(t){return"static"===(e.getComputedStyle(t).position||"static")}n=this.getRawNode(n);for(var r=n.offsetParent||t[0].documentElement;r&&r!==t[0].documentElement&&i(r);)r=r.offsetParent;return r||t[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=t.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=e.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');t.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(t){t=this.getRawNode(t);var n=e.getComputedStyle(t),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(t,!1,!0),s=this.scrollbarWidth(o,a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}
},isScrollable:function(t,n){t=this.getRawNode(t);var i=n?r.hidden:r.normal,o=e.getComputedStyle(t);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=t[0].documentElement,u=e.getComputedStyle(n);if(o&&a.test(u.overflow+u.overflowY+u.overflowX))return n;var l="absolute"===u.position,c=n.parentElement||s;if(c===s||"fixed"===u.position)return s;for(;c.parentElement&&c!==s;){var h=e.getComputedStyle(c);if(l&&"static"!==h.position&&(l=!1),!l&&a.test(h.overflow+h.overflowY+h.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=e.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==t[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(e.pageYOffset||t[0].documentElement.scrollTop)),left:Math.round(i.left+(e.pageXOffset||t[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=r!==!1?!0:!1;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?t[0].documentElement:this.scrollParent(n),u=s.getBoundingClientRect();if(a.top=u.top+s.clientTop,a.left=u.left+s.clientLeft,s===t[0].documentElement&&(a.top+=e.pageYOffset,a.left+=e.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var l=e.getComputedStyle(s);a.top+=this.parseStyle(l.paddingTop),a.bottom-=this.parseStyle(l.paddingBottom),a.left+=this.parseStyle(l.paddingLeft),a.right-=this.parseStyle(l.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(t){var e=o.auto.test(t);return e&&(t=t.replace(o.auto,"")),t=t.split("-"),t[0]=t[0]||"top",o.primary.test(t[0])||(t[0]="top"),t[1]=t[1]||"center",o.secondary.test(t[1])||(t[1]="center"),t[2]=e?!0:!1,t},positionElements:function(t,n,i,r){t=this.getRawNode(t),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var u=r?this.offset(t):this.position(t),l={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(t,r),h=e.getComputedStyle(n),p={width:a+Math.round(Math.abs(this.parseStyle(h.marginLeft)+this.parseStyle(h.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(h.marginTop)+this.parseStyle(h.marginBottom)))};if(i[0]="top"===i[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===i[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===i[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===i[0]&&p.width>c.right&&p.width<=c.left?"left":i[0],i[1]="top"===i[1]&&p.height-u.height>c.bottom&&p.height-u.height<=c.top?"bottom":"bottom"===i[1]&&p.height-u.height>c.top&&p.height-u.height<=c.bottom?"top":"left"===i[1]&&p.width-u.width>c.right&&p.width-u.width<=c.left?"right":"right"===i[1]&&p.width-u.width>c.left&&p.width-u.width<=c.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var f=u.width/2-a/2;c.left+f<0&&p.width-u.width<=c.right?i[1]="left":c.right+f<0&&p.width-u.width<=c.left&&(i[1]="right")}else{var d=u.height/2-p.height/2;c.top+d<0&&p.height-u.height<=c.bottom?i[1]="top":c.bottom+d<0&&p.height-u.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":l.top=u.top-s;break;case"bottom":l.top=u.top+u.height;break;case"left":l.left=u.left-a;break;case"right":l.left=u.left+u.width}switch(i[1]){case"top":l.top=u.top;break;case"bottom":l.top=u.top+u.height-s;break;case"left":l.left=u.left;break;case"right":l.left=u.left+u.width-a;break;case"center":o.vertical.test(i[0])?l.left=u.left+u.width/2-a/2:l.top=u.top+u.height/2-s/2}return l.top=Math.round(l.top),l.left=Math.round(l.left),l.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],l},positionArrow:function(t,n){t=this.getRawNode(t);var i=t.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=t.querySelector(r?".tooltip-arrow":".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var u="border-"+n[0]+"-width",l=e.getComputedStyle(a)[u],c="border-";c+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var h=e.getComputedStyle(r?i:t)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+l;break;case"bottom":s.top=r?"0":"-"+l;break;case"left":s.right=r?"0":"-"+l;break;case"right":s.left=r?"0":"-"+l}s[n[1]]=h,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g){function m(e){var n=h.parse(e,w,t.date);if(isNaN(n))for(var i=0;i<P.length;i++)if(n=h.parse(e,P[i],t.date),!isNaN(n))return n;return n}function v(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=m(t);if(!isNaN(e))return h.toTimezone(e,L)}return D.$options&&D.$options.allowInvalid?t:void 0}function y(t,e){var i=t||e;return n.ngRequired||i?(angular.isNumber(i)&&(i=new Date(i)),i?angular.isDate(i)&&!isNaN(i)?!0:angular.isString(i)?!isNaN(m(e)):!1:!0):!0}function _(n){if(t.isOpen||!t.disabled){var i=O[0],r=e[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!t.isOpen||r||o||t.$apply(function(){t.isOpen=!1})}}function b(n){27===n.which&&t.isOpen?(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!1}),e[0].focus()):40!==n.which||t.isOpen||(n.preventDefault(),n.stopPropagation(),t.$apply(function(){t.isOpen=!0}))}function x(){if(t.isOpen){var i=angular.element(O[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:p.placement,o=l.positionElements(e,i,r,k);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}var w,T,k,$,S,C,A,I,M,D,E,O,P,L,N=!1,R=[];this.init=function(r){if(D=r,E=r.$options,T=angular.isDefined(n.closeOnDateSelection)?t.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,k=angular.isDefined(n.datepickerAppendToBody)?t.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,$=angular.isDefined(n.onOpenFocus)?t.$parent.$eval(n.onOpenFocus):p.onOpenFocus,S=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,C=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,P=angular.isDefined(n.altInputFormats)?t.$parent.$eval(n.altInputFormats):p.altInputFormats,t.showButtonBar=angular.isDefined(n.showButtonBar)?t.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(w=p.html5Types[n.type],N=!0):(w=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(t){var e=t||p.datepickerPopup;if(e!==w&&(w=e,D.$modelValue=null,!w))throw new Error("uibDatepickerPopup must have a date format specified.")})),!w)throw new Error("uibDatepickerPopup must have a date format specified.");if(N&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");A=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),E?(L=E.timezone,t.ngModelOptions=angular.copy(E),t.ngModelOptions.timezone=null,t.ngModelOptions.updateOnDefault===!0&&(t.ngModelOptions.updateOn=t.ngModelOptions.updateOn?t.ngModelOptions.updateOn+" default":"default"),A.attr("ng-model-options","ngModelOptions")):L=null,A.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":S}),I=angular.element(A.children()[0]),I.attr("template-url",C),t.datepickerOptions||(t.datepickerOptions={}),N&&"month"===n.type&&(t.datepickerOptions.datepickerMode="month",t.datepickerOptions.minMode="month"),I.attr("datepicker-options","datepickerOptions"),N?D.$formatters.push(function(e){return t.date=h.fromTimezone(e,L),e}):(D.$$parserName="date",D.$validators.date=y,D.$parsers.unshift(v),D.$formatters.push(function(e){return D.$isEmpty(e)?(t.date=e,e):(angular.isNumber(e)&&(e=new Date(e)),t.date=h.fromTimezone(e,L),h.filter(t.date,w))})),D.$viewChangeListeners.push(function(){t.date=m(D.$viewValue)}),e.on("keydown",b),O=i(A)(t),A.remove(),k?s.find("body").append(O):e.after(O),t.$on("$destroy",function(){for(t.isOpen===!0&&(u.$$phase||t.$apply(function(){t.isOpen=!1})),O.remove(),e.off("keydown",b),s.off("click",_),M&&M.off("scroll",x),angular.element(a).off("resize",x);R.length;)R.shift()()})},t.getText=function(e){return t[e+"Text"]||p[e+"Text"]},t.isDisabled=function(e){"today"===e&&(e=h.fromTimezone(new Date,L));var n={};return angular.forEach(["minDate","maxDate"],function(e){t.datepickerOptions[e]?angular.isDate(t.datepickerOptions[e])?n[e]=h.fromTimezone(new Date(t.datepickerOptions[e]),L):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[e]=new Date(c(t.datepickerOptions[e],"medium"))):n[e]=null}),t.datepickerOptions&&n.minDate&&t.compare(e,n.minDate)<0||n.maxDate&&t.compare(e,n.maxDate)>0},t.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.dateSelection=function(n){angular.isDefined(n)&&(t.date=n);var i=t.date?h.filter(t.date,w):null;e.val(i),D.$setViewValue(i),T&&(t.isOpen=!1,e[0].focus())},t.keydown=function(n){27===n.which&&(n.stopPropagation(),t.isOpen=!1,e[0].focus())},t.select=function(e,n){if(n.stopPropagation(),"today"===e){var i=new Date;angular.isDate(t.date)?(e=new Date(t.date),e.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):e=new Date(i.setHours(0,0,0,0))}t.dateSelection(e)},t.close=function(n){n.stopPropagation(),t.isOpen=!1,e[0].focus()},t.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&R.push(t.$parent.$watch(o(n.ngDisabled),function(e){t.disabled=e})),t.$watch("isOpen",function(i){i?t.disabled?t.isOpen=!1:f(function(){x(),$&&t.$broadcast("uib:datepicker.focus"),s.on("click",_);var i=n.popupPlacement?n.popupPlacement:p.placement;k||l.parsePlacement(i)[2]?(M=M||angular.element(l.scrollParent(e)),M&&M.on("scroll",x)):M=null,angular.element(a).on("resize",x)},0,!1):(s.off("click",_),M&&M.off("scroll",x),angular.element(a).off("resize",x))}),t.$on("uib:datepicker.mode",function(){f(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(t,e,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(t){return function(e,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&t.cancel(i),i=t(function(){e.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e,o){n||(t.on("click",i),o.on("keydown",r)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e,o){n===e&&(n=null,t.off("click",i),o.off("keydown",r))};var i=function(t){if(n&&!(t&&"disabled"===n.getAutoClose()||t&&3===t.which)){var i=n.getToggleElement();if(!(t&&i&&i[0].contains(t.target))){var r=n.getDropdownElement();t&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},r=function(t){27===t.which?(t.stopPropagation(),n.focusToggleElement(),i()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(t.which)&&n.isOpen&&(t.preventDefault(),t.stopPropagation(),n.focusDropdownEntry(t.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(t,e,n,i,r,o,a,s,u,l,c){var h,p,f=this,d=t.$new(),g=r.appendToOpenClass,m=r.openClass,v=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,_=!1,b=null,x=!1,w=u.find("body");e.addClass("dropdown"),this.init=function(){if(n.isOpen&&(p=i(n.isOpen),v=p.assign,t.$watch(p,function(t){d.isOpen=!!t})),angular.isDefined(n.dropdownAppendTo)){var r=i(n.dropdownAppendTo)(d);r&&(b=angular.element(r))}_=angular.isDefined(n.dropdownAppendToBody),x=angular.isDefined(n.keyboardNav),_&&!b&&(b=w),b&&f.dropdownMenu&&(b.append(f.dropdownMenu),e.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(t){return d.isOpen=arguments.length?!!t:!d.isOpen,angular.isFunction(v)&&v(d,d.isOpen),d.isOpen},this.isOpen=function(){return d.isOpen},d.getToggleElement=function(){return f.toggleElement},d.getAutoClose=function(){return n.autoClose||"always"},d.getElement=function(){return e},d.isKeynavEnabled=function(){return x},d.focusDropdownEntry=function(t){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):e.find("ul").eq(0).find("a");switch(t){case 40:f.selectedOption=angular.isNumber(f.selectedOption)?f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:0;break;case 38:f.selectedOption=angular.isNumber(f.selectedOption)?0===f.selectedOption?0:f.selectedOption-1:n.length-1}n[f.selectedOption].focus()},d.getDropdownElement=function(){return f.dropdownMenu},d.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},d.$watch("isOpen",function(n,i){if(b&&f.dropdownMenu){var r,u,p,x=s.positionElements(e,f.dropdownMenu,"bottom-left",!0);if(r={top:x.top+"px",display:n?"block":"none"},u=f.dropdownMenu.hasClass("dropdown-menu-right"),u?(r.left="auto",p=s.scrollbarWidth(!0),r.right=window.innerWidth-p-(x.left+e.prop("offsetWidth"))+"px"):(r.left=x.left+"px",r.right="auto"),!_){var w=s.offset(b);r.top=x.top-w.top+"px",u?r.right=window.innerWidth-(x.left-w.left+e.prop("offsetWidth"))+"px":r.left=x.left-w.left+"px"}f.dropdownMenu.css(r)}var T=b?b:e,k=T.hasClass(b?g:m);if(k===!n&&a[n?"addClass":"removeClass"](T,b?g:m).then(function(){angular.isDefined(n)&&n!==i&&y(t,{open:!!n})}),n)f.dropdownMenuTemplateUrl&&c(f.dropdownMenuTemplateUrl).then(function(t){h=d.$new(),l(t.trim())(h,function(t){var e=t;f.dropdownMenu.replaceWith(e),f.dropdownMenu=e})}),d.focusToggleElement(),o.open(d,e);else{if(f.dropdownMenuTemplateUrl){h&&h.$destroy();var $=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith($),f.dropdownMenu=$}o.close(d,e),f.selectedOption=null}angular.isFunction(v)&&v(t,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(t,e,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(t,e,n,i){if(i&&!angular.isDefined(n.dropdownNested)){e.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=e)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,e,n,i){if(i){e.addClass("dropdown-toggle"),i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.bind("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e===t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e===t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var t={};return{entries:function(){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},get:function(e){return t[e]},hasKey:function(e){return!!t[e]},keys:function(){return Object.keys(t)},put:function(e,n){t[e]||(t[e]=[]),t[e].push(n)},remove:function(e,n){var i=t[e];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete t[e]}}}}}}).provider("$uibResolve",function(){var t=this;this.resolver=null,this.setResolver=function(t){this.resolver=t},this.$get=["$injector","$q",function(e,n){var i=t.resolver?e.get(t.resolver):null;return{resolve:function(t,r,o,a){if(i)return i.resolve(t,r,o,a);var s=[];return angular.forEach(t,function(t){s.push(angular.isFunction(t)||angular.isArray(t)?n.resolve(e.invoke(t)):angular.isString(t)?n.resolve(e.get(t)):n.resolve(t))}),n.all(s).then(function(e){var n={},i=0;return angular.forEach(t,function(t,r){n[r]=e[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(t,e,n){function i(e,i,r){r.modalInClass&&(t.addClass(i,r.modalInClass),e.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();e.modalOptions.animation?t.removeClass(i,r.modalInClass).then(a):a()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(t,e){return t.addClass(e.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(t,e,n,i){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowClass||""),o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=e.defer();a.$observe("modalRender",function(t){"true"===t&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(t.NOW_CLOSING_EVENT,function(t,e){var i=e();n(o,{removeClass:a.modalInClass}).start().then(i)})),e.when(s).then(function(){var e=t.getTop();if(e&&t.modalRendered(e.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(t,e,n,i,r,o,a,s,u){function l(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function c(){for(var t=-1,e=x.keys(),n=0;n<e.length;n++)x.get(e[n]).value.backdrop&&(t=n);return t>-1&&k>t&&(t=k),t}function h(t,e){var n=x.get(t).value,i=n.appendTo;x.remove(t),$=x.top(),$&&(k=parseInt($.value.modalDomEl.attr("index"),10)),d(n.modalDomEl,n.modalScope,function(){var e=n.openedClass||b;w.remove(e,t);var r=w.hasKey(e);i.toggleClass(e,r),!r&&_&&_.heightOverflow&&_.scrollbarWidth&&(i.css(_.originalRight?{paddingRight:_.originalRight+"px"}:{paddingRight:""}),_=null),p(!0)},n.closedDeferred),f(),e&&e.focus?e.focus():i.focus&&i.focus()}function p(t){var e;x.length()>0&&(e=x.top().value,e.modalDomEl.toggleClass(e.windowTopClass||"",t))}function f(){if(v&&-1===c()){var t=y;d(v,y,function(){t=null}),v=void 0,y=void 0}}function d(e,n,i,r){function a(){a.done||(a.done=!0,t.leave(e).then(function(){e.remove(),r&&r.resolve()}),n.$destroy(),i&&i())}var s,u=null,l=function(){return s||(s=o.defer(),u=s.promise),function(){s.resolve()}};return n.$broadcast(T.NOW_CLOSING_EVENT,l),o.when(u).then(a)}function g(t){if(t.isDefaultPrevented())return t;var e=x.top();if(e)switch(t.which){case 27:e.value.keyboard&&(t.preventDefault(),r.$apply(function(){T.dismiss(e.key,"escape key press")}));break;case 9:var n=T.loadFocusElementList(e),i=!1;t.shiftKey?(T.isFocusInFirstItem(t,n)||T.isModalFocused(t,e))&&(i=T.focusLastFocusableElement(n)):T.isFocusInLastItem(t,n)&&(i=T.focusFirstFocusableElement(n)),i&&(t.preventDefault(),t.stopPropagation())}}function m(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var v,y,_,b="modal-open",x=s.createNew(),w=a.createNew(),T={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,$=null,S="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return r.$watch(c,function(t){y&&(y.index=t)}),n.on("keydown",g),r.$on("$destroy",function(){n.off("keydown",g)}),T.open=function(e,o){var a=n[0].activeElement,s=o.openedClass||b;p(!1),$=x.top(),x.add(e,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),w.put(s,e);var l=o.appendTo,h=c();if(!l.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");h>=0&&!v&&(y=r.$new(!0),y.modalOptions=o,y.index=h,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr("backdrop-class",o.backdropClass),o.animation&&v.attr("modal-animation","true"),i(v)(y),t.enter(v,l),_=u.scrollbarPadding(l),_.heightOverflow&&_.scrollbarWidth&&l.css({paddingRight:_.right+"px"})),k=$?parseInt($.value.modalDomEl.attr("index"),10)+1:0;var f=angular.element('<div uib-modal-window="modal-window"></div>');f.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,"window-top-class":o.windowTopClass,size:o.size,index:k,animate:"animate"}).html(o.content),o.animation&&f.attr("modal-animation","true"),l.addClass(s),t.enter(i(f)(o.scope),l),x.top().value.modalDomEl=f,x.top().value.modalOpener=a},T.close=function(t,e){var n=x.get(t);return n&&m(n,e,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(e),h(t,n.value.modalOpener),!0):!n},T.dismiss=function(t,e){var n=x.get(t);return n&&m(n,e,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(e),h(t,n.value.modalOpener),!0):!n},T.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},T.getTop=function(){return x.top()},T.modalRendered=function(t){var e=x.get(t);e&&e.value.renderDeferred.resolve()},T.focusFirstFocusableElement=function(t){return t.length>0?(t[0].focus(),!0):!1},T.focusLastFocusableElement=function(t){return t.length>0?(t[t.length-1].focus(),!0):!1},T.isModalFocused=function(t,e){if(t&&e){var n=e.value.modalDomEl;if(n&&n.length)return(t.target||t.srcElement)===n[0]}return!1},T.isFocusInFirstItem=function(t,e){return e.length>0?(t.target||t.srcElement)===e[0]:!1},T.isFocusInLastItem=function(t,e){return e.length>0?(t.target||t.srcElement)===e[e.length-1]:!1},T.loadFocusElementList=function(t){if(t){var e=t.value.modalDomEl;if(e&&e.length){var n=e[0].querySelectorAll(S);return n?Array.prototype.filter.call(n,function(t){return l(t)}):n}}},T}]).provider("$uibModal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(e,n,i,r,o,a,s){function u(t){return t.template?n.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}var l={},c=null;return l.getPromiseChain=function(){return c},l.open=function(r){function l(){return v}var h=n.defer(),p=n.defer(),f=n.defer(),d=n.defer(),g={result:h.promise,opened:p.promise,closed:f.promise,rendered:d.promise,close:function(t){return s.close(g,t)},dismiss:function(t){return s.dismiss(g,t)}};if(r=angular.extend({},t.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.template&&!r.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,v=n.all([u(r),a.resolve(r.resolve,{},null,null)]);return m=c=n.all([c]).then(l,l).then(function(t){var n=r.scope||e,i=n.$new();i.$close=g.close,i.$dismiss=g.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var a,u,l={};r.controller&&(l.$scope=i,l.$scope.$resolve={},l.$uibModalInstance=g,angular.forEach(t[1],function(t,e){l[e]=t,l.$scope.$resolve[e]=t}),u=o(r.controller,l,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(a=u.instance,a.$close=i.$close,a.$dismiss=i.$dismiss,angular.extend(a,{$resolve:l.$scope.$resolve},n)),a=u(),angular.isFunction(a.$onInit)&&a.$onInit()),s.open(g,{scope:i,deferred:h,renderDeferred:d,closedDeferred:f,content:t[0],animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo}),p.resolve(!0)},function(t){p.reject(t),h.reject(t)})["finally"](function(){c===m&&(c=null)}),g},l}]};return t}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(t){return{create:function(e,n,i){e.setNumPages=i.numPages?t(i.numPages).assign:angular.noop,e.ngModelCtrl={$setViewValue:angular.noop},e._watchers=[],e.init=function(t,r){e.ngModelCtrl=t,e.config=r,t.$render=function(){e.render()},i.itemsPerPage?e._watchers.push(n.$parent.$watch(i.itemsPerPage,function(t){e.itemsPerPage=parseInt(t,10),n.totalPages=e.calculateTotalPages(),e.updatePage()})):e.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(t,i){(angular.isDefined(t)||t!==i)&&(n.totalPages=e.calculateTotalPages(),e.updatePage())})},e.calculateTotalPages=function(){var t=e.itemsPerPage<1?1:Math.ceil(n.totalItems/e.itemsPerPage);return Math.max(t||0,1)},e.render=function(){n.page=parseInt(e.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(t,i){i&&i.preventDefault();var r=!n.ngDisabled||!i;r&&n.page!==t&&t>0&&t<=n.totalPages&&(i&&i.target&&i.target.blur(),e.ngModelCtrl.$setViewValue(t),e.ngModelCtrl.$render())},n.getText=function(t){return n[t+"Text"]||e.config[t+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},e.updatePage=function(){e.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):e.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;e._watchers.length;)e._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(t,e,n,i){t.align=angular.isDefined(e.align)?t.$parent.$eval(e.align):i.align,n.create(this,t,e)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(t){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(t,e){return e.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(e,n,i,r){var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(t,e,n,i,r){function o(t,e,n){return{number:t,text:e,active:n}}function a(t,e){var n=[],i=1,r=e,a=angular.isDefined(u)&&e>u;a&&(l?(i=Math.max(t-Math.floor(u/2),1),r=i+u-1,r>e&&(r=e,i=r-u+1)):(i=(Math.ceil(t/u)-1)*u+1,r=Math.min(i+u-1,e)));for(var s=i;r>=s;s++){var f=o(s,p(s),s===t);n.push(f)}if(a&&u>0&&(!l||c||h)){if(i>1){if(!h||i>3){var d=o(i-1,"...",!1);n.unshift(d)}if(h){if(3===i){var g=o(2,"2",!1);n.unshift(g)}var m=o(1,"1",!1);n.unshift(m)}}if(e>r){if(!h||e-2>r){var v=o(r+1,"...",!1);n.push(v)}if(h){if(r===e-2){var y=o(e-1,e-1,!1);n.push(y)}var _=o(e,e,!1);n.push(_)}}}return n}var s=this,u=angular.isDefined(e.maxSize)?t.$parent.$eval(e.maxSize):r.maxSize,l=angular.isDefined(e.rotate)?t.$parent.$eval(e.rotate):r.rotate,c=angular.isDefined(e.forceEllipses)?t.$parent.$eval(e.forceEllipses):r.forceEllipses,h=angular.isDefined(e.boundaryLinkNumbers)?t.$parent.$eval(e.boundaryLinkNumbers):r.boundaryLinkNumbers,p=angular.isDefined(e.pageLabel)?function(n){return t.$parent.$eval(e.pageLabel,{$page:n})}:angular.identity;t.boundaryLinks=angular.isDefined(e.boundaryLinks)?t.$parent.$eval(e.boundaryLinks):r.boundaryLinks,t.directionLinks=angular.isDefined(e.directionLinks)?t.$parent.$eval(e.directionLinks):r.directionLinks,i.create(this,t,e),e.maxSize&&s._watchers.push(t.$parent.$watch(n(e.maxSize),function(t){u=parseInt(t,10),s.render()}));var f=this.render;this.render=function(){f(),t.page>0&&t.page<=t.totalPages&&(t.pages=a(t.page,t.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(t,e){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(t,e){return e.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(t,n,i,r){var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,o,a,s,u,l,c,h,p){function f(t){if(27===t.which){var e=d.top();e&&(e.value.close(),d.removeTop(),e=null)}}var d=p.createNew();return s.on("keypress",f),c.$on("$destroy",function(){s.off("keypress",f)}),function(r,c,p,f){function g(t){var e=(t||f.trigger||p).split(" "),i=e.map(function(t){return n[t]||t});return{show:e,hide:i}}f=angular.extend({},e,i,f);var m=t(r),v=l.startSymbol(),y=l.endSymbol(),_="<div "+m+'-popup uib-title="'+v+"title"+y+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+y+'" ')+'placement="'+v+"placement"+y+'" popup-class="'+v+"popupClass"+y+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';
return{compile:function(){var t=o(_);return function(e,n,i){function o(){U.isOpen?p():l()}function l(){(!R||e.$eval(i[c+"Enable"]))&&(_(),w(),U.popupDelay?D||(D=a(m,U.popupDelay,!1)):m())}function p(){v(),U.popupCloseDelay?E||(E=a(y,U.popupCloseDelay,!1)):y()}function m(){return v(),_(),U.content?(b(),void U.$evalAsync(function(){U.isOpen=!0,T(!0),j()})):angular.noop}function v(){D&&(a.cancel(D),D=null),O&&(a.cancel(O),O=null)}function y(){U&&U.$evalAsync(function(){U&&(U.isOpen=!1,T(!1),U.animation?M||(M=a(x,150,!1)):x())})}function _(){E&&(a.cancel(E),E=null),M&&(a.cancel(M),M=null)}function b(){A||(I=U.$new(),A=t(I,function(t){L?s.find("body").append(t):n.after(t)}),k())}function x(){v(),_(),$(),A&&(A.remove(),A=null),I&&(I.$destroy(),I=null)}function w(){U.title=i[c+"Title"],U.content=B?B(e):i[r],U.popupClass=i[c+"Class"],U.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:f.placement;var t=u.parsePlacement(U.placement);P=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[c+"PopupDelay"],10),o=parseInt(i[c+"PopupCloseDelay"],10);U.popupDelay=isNaN(n)?f.popupDelay:n,U.popupCloseDelay=isNaN(o)?f.popupCloseDelay:o}function T(t){W&&angular.isFunction(W.assign)&&W.assign(e,t)}function k(){K.length=0,B?(K.push(e.$watch(B,function(t){U.content=t,!t&&U.isOpen&&y()})),K.push(I.$watch(function(){V||(V=!0,I.$$postDigest(function(){V=!1,U&&U.isOpen&&j()}))}))):K.push(i.$observe(r,function(t){U.content=t,!t&&U.isOpen?y():j()})),K.push(i.$observe(c+"Title",function(t){U.title=t,U.isOpen&&j()})),K.push(i.$observe(c+"Placement",function(t){U.placement=t?t:f.placement,U.isOpen&&j()}))}function $(){K.length&&(angular.forEach(K,function(t){t()}),K.length=0)}function S(t){U&&U.isOpen&&A&&(n[0].contains(t.target)||A[0].contains(t.target)||p())}function C(){var t=i[c+"Trigger"];z(),N=g(t),"none"!==N.show&&N.show.forEach(function(t,e){"outsideClick"===t?(n.on("click",o),s.on("click",S)):t===N.hide[e]?n.on(t,o):t&&(n.on(t,l),n.on(N.hide[e],p)),n.on("keypress",function(t){27===t.which&&p()})})}var A,I,M,D,E,O,P,L=angular.isDefined(f.appendToBody)?f.appendToBody:!1,N=g(void 0),R=angular.isDefined(i[c+"Enable"]),U=e.$new(!0),V=!1,W=angular.isDefined(i[c+"IsOpen"])?h(i[c+"IsOpen"]):!1,B=f.useContentExp?h(i[r]):!1,K=[],j=function(){A&&A.html()&&(O||(O=a(function(){var t=u.positionElements(n,A,U.placement,L);A.css({top:t.top+"px",left:t.left+"px"}),A.hasClass(t.placement.split("-")[0])||(A.removeClass(P.split("-")[0]),A.addClass(t.placement.split("-")[0])),A.hasClass(f.placementClassPrefix+t.placement)||(A.removeClass(f.placementClassPrefix+P),A.addClass(f.placementClassPrefix+t.placement)),A.hasClass("uib-position-measure")?(u.positionArrow(A,t.placement),A.removeClass("uib-position-measure")):P!==t.placement&&u.positionArrow(A,t.placement),P=t.placement,O=null},0,!1)))};U.origScope=e,U.isOpen=!1,d.add(U,{close:y}),U.contentExp=function(){return U.content},i.$observe("disabled",function(t){t&&v(),t&&U.isOpen&&y()}),W&&e.$watch(W,function(t){U&&!t===U.isOpen&&o()});var z=function(){N.show.forEach(function(t){"outsideClick"===t?n.off("click",o):(n.off(t,l),n.off(t,o))}),N.hide.forEach(function(t){"outsideClick"===t?s.off("click",S):n.off(t,p)})};C();var H=e.$eval(i[c+"Animation"]);U.animation=angular.isDefined(H)?!!H:f.animation;var F,q=c+"AppendToBody";F=q in i&&void 0===i[q]?!0:e.$eval(i[q]),L=angular.isDefined(F)?F:L,e.$on("$destroy",function(){z(),x(),d.remove(U),U=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,o,a){var s,u,l,c=r.$eval(a.tooltipTemplateTranscludeScope),h=0,p=function(){u&&(u.remove(),u=null),s&&(s.$destroy(),s=null),l&&(t.leave(l).then(function(){u=null}),u=l,l=null)};r.$watch(e.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(e){var a=++h;e?(i(e,!0).then(function(i){if(a===h){var r=c.$new(),u=i,f=n(u)(r,function(e){p(),t.enter(e,o)});s=r,l=f,s.$emit("$includeContentLoaded",e)}},function(){a===h&&(p(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):p()}),r.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(t){return{restrict:"A",link:function(e,n,i){if(e.placement){var r=t.parsePlacement(e.placement);n.addClass(r[0])}e.popupClass&&n.addClass(e.popupClass),e.animation()&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(t){return t("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(t){return t("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(t){return t("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(t){return t("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(t){return t("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(t){return t("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(t,e,n){function i(){return angular.isDefined(t.maxParam)?t.maxParam:n.max}var r=this,o=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=i(),this.addBar=function(t,e,n){o||e.css({transition:"none"}),this.bars.push(t),t.max=i(),t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=r.bars.reduce(function(t,e){return e.percent=+(100*e.value/e.max).toFixed(2),t+e.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,r.removeBar(t)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1),this.bars.forEach(function(t){t.recalculatePercentage()})},t.$watch("maxParam",function(){r.bars.forEach(function(t){t.max=i(),t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,e,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff,this.enableReset=angular.isDefined(e.enableReset)?t.$parent.$eval(e.enableReset):n.enableReset;var o=angular.isDefined(e.titles)?t.$parent.$eval(e.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(e)},t[e]);return t},this.getTitle=function(t){return t>=this.titles.length?t+1:this.titles[t]},t.rate=function(e){if(!t.readonly&&e>=0&&e<=t.range.length){var n=r.enableReset&&i.$viewValue===e?0:e;i.$setViewValue(n),i.$render()}},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue,t.title=r.getTitle(t.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(t){function e(t){for(var e=0;e<i.tabs.length;e++)if(i.tabs[e].index===t)return e}var n,i=this;i.tabs=[],i.select=function(t,o){if(!r){var a=e(n),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:t}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var u=i.tabs[t];u?(u.tab.onSelect({$event:o}),u.tab.active=!0,i.active=u.index,n=u.index):!u&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(t){if(i.tabs.push({tab:t,index:t.index}),i.tabs.sort(function(t,e){return t.index>e.index?1:t.index<e.index?-1:0}),t.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=e(t.index);i.select(n)}},i.removeTab=function(t){for(var e,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===t){e=n;break}if(i.tabs[e].index===i.active){var r=e===i.tabs.length-1?e-1:e+1%i.tabs.length;i.select(r)}i.tabs.splice(e,1)},t.$watch("tabset.active",function(t){angular.isDefined(t)&&t!==n&&i.select(e(t))});var r;t.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tabset.html"},link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(t){return{require:"^uibTabset",replace:!0,templateUrl:function(t,e){return e.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(e,n,i,r,o){e.disabled=!1,i.disable&&e.$parent.$watch(t(i.disable),function(t){e.disabled=!!t}),angular.isUndefined(i.index)&&(e.index=r.tabs&&r.tabs.length?Math.max.apply(null,r.tabs.map(function(t){return t.index}))+1:0),angular.isUndefined(i.classes)&&(e.classes=""),e.select=function(t){if(!e.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===e){n=i;break}r.select(n,t)}},r.addTab(e),e.$on("$destroy",function(){r.removeTab(e)}),e.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}).directive("uibTabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase()||"uib:tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(e,n,i){var r=e.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(t,e,n,i,r,o,a){function s(){var e=+t.hours,n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n&&""!==t.hours?(t.showMeridian&&(12===e&&(e=0),t.meridian===x[1]&&(e+=12)),e):void 0}function u(){var e=+t.minutes,n=e>=0&&60>e;return n&&""!==t.minutes?e:void 0}function l(){var e=+t.seconds;return e>=0&&60>e?e:void 0}function c(t,e){return null===t?"":angular.isDefined(t)&&t.toString().length<2&&!e?"0"+t:t.toString()}function h(t){p(),b.$setViewValue(new Date(y)),f(t)}function p(){b.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1,t.invalidSeconds=!1}function f(e){if(b.$modelValue){var n=y.getHours(),i=y.getMinutes(),r=y.getSeconds();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:c(n,!w),"m"!==e&&(t.minutes=c(i)),t.meridian=y.getHours()<12?x[0]:x[1],"s"!==e&&(t.seconds=c(r)),t.meridian=y.getHours()<12?x[0]:x[1]}else t.hours=null,t.minutes=null,t.seconds=null,t.meridian=x[0]}function d(t){y=m(y,t),h()}function g(t,e){return m(t,60*e)}function m(t,e){var n=new Date(t.getTime()+1e3*e),i=new Date(t);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return!(null!==t.hours&&""!==t.hours||null!==t.minutes&&""!==t.minutes||t.showSeconds&&(!t.showSeconds||null!==t.seconds&&""!==t.seconds))}var y=new Date,_=[],b={$setViewValue:angular.noop},x=angular.isDefined(n.meridians)?t.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,w=angular.isDefined(n.padHours)?t.$parent.$eval(n.padHours):!0;t.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,i){b=e,b.$render=this.render,b.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),o=i.eq(1),s=i.eq(2),u=angular.isDefined(n.mousewheel)?t.$parent.$eval(n.mousewheel):a.mousewheel;u&&this.setupMousewheelEvents(r,o,s);var l=angular.isDefined(n.arrowkeys)?t.$parent.$eval(n.arrowkeys):a.arrowkeys;l&&this.setupArrowkeyEvents(r,o,s),t.readonlyInput=angular.isDefined(n.readonlyInput)?t.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var T=a.hourStep;n.hourStep&&_.push(t.$parent.$watch(i(n.hourStep),function(t){T=+t}));var k=a.minuteStep;n.minuteStep&&_.push(t.$parent.$watch(i(n.minuteStep),function(t){k=+t}));var $;_.push(t.$parent.$watch(i(n.min),function(t){var e=new Date(t);$=isNaN(e)?void 0:e}));var S;_.push(t.$parent.$watch(i(n.max),function(t){var e=new Date(t);S=isNaN(e)?void 0:e}));var C=!1;n.ngDisabled&&_.push(t.$parent.$watch(i(n.ngDisabled),function(t){C=t})),t.noIncrementHours=function(){var t=g(y,60*T);return C||t>S||y>t&&$>t},t.noDecrementHours=function(){var t=g(y,60*-T);return C||$>t||t>y&&t>S},t.noIncrementMinutes=function(){var t=g(y,k);return C||t>S||y>t&&$>t},t.noDecrementMinutes=function(){var t=g(y,-k);return C||$>t||t>y&&t>S},t.noIncrementSeconds=function(){var t=m(y,A);return C||t>S||y>t&&$>t},t.noDecrementSeconds=function(){var t=m(y,-A);return C||$>t||t>y&&t>S},t.noToggleMeridian=function(){return y.getHours()<12?C||g(y,720)>S:C||g(y,-720)<$};var A=a.secondStep;n.secondStep&&_.push(t.$parent.$watch(i(n.secondStep),function(t){A=+t})),t.showSeconds=a.showSeconds,n.showSeconds&&_.push(t.$parent.$watch(i(n.showSeconds),function(e){t.showSeconds=!!e})),t.showMeridian=a.showMeridian,n.showMeridian&&_.push(t.$parent.$watch(i(n.showMeridian),function(e){if(t.showMeridian=!!e,b.$error.time){var n=s(),i=u();angular.isDefined(n)&&angular.isDefined(i)&&(y.setHours(n),h())}else f()})),this.setupMousewheelEvents=function(e,n,i){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){C||t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){C||t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()}),i.bind("mousewheel wheel",function(e){C||t.$apply(r(e)?t.incrementSeconds():t.decrementSeconds()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n,i){e.bind("keydown",function(e){C||(38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply()))}),n.bind("keydown",function(e){C||(38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply()))}),i.bind("keydown",function(e){C||(38===e.which?(e.preventDefault(),t.incrementSeconds(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementSeconds(),t.$apply()))})},this.setupInputEvents=function(e,n,i){if(t.readonlyInput)return t.updateHours=angular.noop,t.updateMinutes=angular.noop,void(t.updateSeconds=angular.noop);var r=function(e,n,i){b.$setViewValue(null),b.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n),angular.isDefined(i)&&(t.invalidSeconds=i)};t.updateHours=function(){var t=s(),e=u();b.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(y.setHours(t),y.setMinutes(e),$>y||y>S?r(!0):h("h")):r(!0)},e.bind("blur",function(){b.$setTouched(),v()?p():null===t.hours||""===t.hours?r(!0):!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=c(t.hours,!w)})}),t.updateMinutes=function(){var t=u(),e=s();b.$setDirty(),angular.isDefined(t)&&angular.isDefined(e)?(y.setHours(e),y.setMinutes(t),$>y||y>S?r(void 0,!0):h("m")):r(void 0,!0)},n.bind("blur",function(){b.$setTouched(),v()?p():null===t.minutes?r(void 0,!0):!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=c(t.minutes)})}),t.updateSeconds=function(){var t=l();b.$setDirty(),angular.isDefined(t)?(y.setSeconds(t),h("s")):r(void 0,void 0,!0)},i.bind("blur",function(){v()?p():!t.invalidSeconds&&t.seconds<10&&t.$apply(function(){t.seconds=c(t.seconds)})})},this.render=function(){var e=b.$viewValue;isNaN(e)?(b.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(y=e),$>y||y>S?(b.$setValidity("time",!1),t.invalidHours=!0,t.invalidMinutes=!0):p(),f())},t.showSpinners=angular.isDefined(n.showSpinners)?t.$parent.$eval(n.showSpinners):a.showSpinners,t.incrementHours=function(){t.noIncrementHours()||d(60*T*60)},t.decrementHours=function(){t.noDecrementHours()||d(60*-T*60)},t.incrementMinutes=function(){t.noIncrementMinutes()||d(60*k)},t.decrementMinutes=function(){t.noDecrementMinutes()||d(60*-k)},t.incrementSeconds=function(){t.noIncrementSeconds()||d(A)},t.decrementSeconds=function(){t.noDecrementSeconds()||d(-A)},t.toggleMeridian=function(){var e=u(),n=s();t.noToggleMeridian()||(angular.isDefined(e)&&angular.isDefined(n)?d(720*(y.getHours()<12?60:-60)):t.meridian=t.meridian===x[0]?x[1]:x[0])},t.blur=function(){b.$setTouched()},t.$on("$destroy",function(){for(;_.length;)_.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(t){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,n){return n.templateUrl||t.templateUrl},link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(t,e,n,i,r,o,a,s,u,l,c,h,p){function f(){W.moveInProgress||(W.moveInProgress=!0,W.$digest()),X()}function d(){W.position=M?h.offset(e):h.position(e),W.position.top+=e.prop("offsetHeight")}var g,m,v=[9,13,27,38,40],y=200,_=t.$eval(n.typeaheadMinLength);_||0===_||(_=1),t.$watch(n.typeaheadMinLength,function(t){_=t||0===t?t:1});var b=t.$eval(n.typeaheadWaitMs)||0,x=t.$eval(n.typeaheadEditable)!==!1;t.$watch(n.typeaheadEditable,function(t){x=t!==!1});var w,T,k=r(n.typeaheadLoading).assign||angular.noop,$=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(t,e){var n=e.$event;return 13===n.which||9===n.which},S=r(n.typeaheadOnSelect),C=angular.isDefined(n.typeaheadSelectOnBlur)?t.$eval(n.typeaheadSelectOnBlur):!1,A=r(n.typeaheadNoResults).assign||angular.noop,I=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,M=n.typeaheadAppendToBody?t.$eval(n.typeaheadAppendToBody):!1,D=n.typeaheadAppendTo?t.$eval(n.typeaheadAppendTo):null,E=t.$eval(n.typeaheadFocusFirst)!==!1,O=n.typeaheadSelectOnExact?t.$eval(n.typeaheadSelectOnExact):!1,P=r(n.typeaheadIsOpen).assign||angular.noop,L=t.$eval(n.typeaheadShowHint)||!1,N=r(n.ngModel),R=r(n.ngModel+"($$$p)"),U=function(e,n){return angular.isFunction(N(t))&&m&&m.$options&&m.$options.getterSetter?R(e,{$$$p:n}):N.assign(e,n)},V=p.parse(n.uibTypeahead),W=t.$new(),B=t.$on("$destroy",function(){W.$destroy()});W.$on("$destroy",B);var K="typeahead-"+W.$id+"-"+Math.floor(1e4*Math.random());e.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":K});var j,z;L&&(j=angular.element("<div></div>"),j.css("position","relative"),e.after(j),z=e.clone(),z.attr("placeholder",""),z.attr("tabindex","-1"),z.val(""),z.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),e.css({position:"relative","vertical-align":"top","background-color":"transparent"}),j.append(z),z.after(e));var H=angular.element("<div uib-typeahead-popup></div>");H.attr({id:K,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&H.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var F=function(){L&&z.val("")},q=function(){W.matches=[],W.activeIdx=-1,e.attr("aria-expanded",!1),F()},G=function(t){return K+"-option-"+t};W.$watch("activeIdx",function(t){0>t?e.removeAttr("aria-activedescendant"):e.attr("aria-activedescendant",G(t))});var Y=function(t,e){return W.matches.length>e&&t?t.toUpperCase()===W.matches[e].label.toUpperCase():!1},Z=function(n,i){var r={$viewValue:n};k(t,!0),A(t,!1),o.when(V.source(t,r)).then(function(o){var a=n===g.$viewValue;if(a&&w)if(o&&o.length>0){W.activeIdx=E?0:-1,A(t,!1),W.matches.length=0;for(var s=0;s<o.length;s++)r[V.itemName]=o[s],W.matches.push({id:G(s),label:V.viewMapper(W,r),model:o[s]});if(W.query=n,d(),e.attr("aria-expanded",!0),O&&1===W.matches.length&&Y(n,0)&&(angular.isNumber(W.debounceUpdate)||angular.isObject(W.debounceUpdate)?c(function(){W.select(0,i)},angular.isNumber(W.debounceUpdate)?W.debounceUpdate:W.debounceUpdate["default"]):W.select(0,i)),L){var u=W.matches[0].label;z.val(angular.isString(n)&&n.length>0&&u.slice(0,n.length).toUpperCase()===n.toUpperCase()?n+u.slice(n.length):"")}}else q(),A(t,!0);a&&k(t,!1)},function(){q(),k(t,!1),A(t,!0)})};M&&(angular.element(u).on("resize",f),s.find("body").on("scroll",f));var X=c(function(){W.matches.length&&d(),W.moveInProgress=!1},y);W.moveInProgress=!1,W.query=void 0;var J,Q=function(t){J=a(function(){Z(t)},b)},te=function(){J&&a.cancel(J)};q(),W.assignIsOpen=function(e){P(t,e)},W.select=function(i,r){var o,s,u={};T=!0,u[V.itemName]=s=W.matches[i].model,o=V.modelMapper(t,u),U(t,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),S(t,{$item:s,$model:o,$label:V.viewMapper(t,u),$event:r}),q(),W.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){e[0].focus()},0,!1)},e.on("keydown",function(e){if(0!==W.matches.length&&-1!==v.indexOf(e.which)){var n=$(t,{$event:e});if(-1===W.activeIdx&&n||9===e.which&&e.shiftKey)return q(),void W.$digest();e.preventDefault();var i;switch(e.which){case 27:e.stopPropagation(),q(),t.$digest();break;case 38:W.activeIdx=(W.activeIdx>0?W.activeIdx:W.matches.length)-1,W.$digest(),i=H.find("li")[W.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:W.activeIdx=(W.activeIdx+1)%W.matches.length,W.$digest(),i=H.find("li")[W.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&W.$apply(function(){angular.isNumber(W.debounceUpdate)||angular.isObject(W.debounceUpdate)?c(function(){W.select(W.activeIdx,e)},angular.isNumber(W.debounceUpdate)?W.debounceUpdate:W.debounceUpdate["default"]):W.select(W.activeIdx,e)})}}}),e.bind("focus",function(t){w=!0,0!==_||g.$viewValue||a(function(){Z(g.$viewValue,t)},0)}),e.bind("blur",function(t){C&&W.matches.length&&-1!==W.activeIdx&&!T&&(T=!0,W.$apply(function(){angular.isObject(W.debounceUpdate)&&angular.isNumber(W.debounceUpdate.blur)?c(function(){W.select(W.activeIdx,t)},W.debounceUpdate.blur):W.select(W.activeIdx,t)})),!x&&g.$error.editable&&(g.$setViewValue(),g.$setValidity("editable",!0),g.$setValidity("parse",!0),e.val("")),w=!1,T=!1});var ee=function(n){e[0]!==n.target&&3!==n.which&&0!==W.matches.length&&(q(),l.$$phase||t.$digest())};s.on("click",ee),t.$on("$destroy",function(){s.off("click",ee),(M||D)&&ne.remove(),M&&(angular.element(u).off("resize",f),s.find("body").off("scroll",f)),H.remove(),L&&j.remove()});var ne=i(H)(W);M?s.find("body").append(ne):D?angular.element(D).eq(0).append(ne):e.after(ne),this.init=function(e,n){g=e,m=n,W.debounceUpdate=g.$options&&r(g.$options.debounce)(t),g.$parsers.unshift(function(e){return w=!0,0===_||e&&e.length>=_?b>0?(te(),Q(e)):Z(e):(k(t,!1),te(),q()),x?e:e?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(e){var n,i,r={};return x||g.$setValidity("editable",!0),I?(r.$model=e,I(t,r)):(r[V.itemName]=e,n=V.viewMapper(t,r),r[V.itemName]=void 0,i=V.viewMapper(t,r),n!==i?n:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(t,e,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(t){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(t,e){return e.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(e,n,i){e.templateUrl=i.templateUrl,e.isOpen=function(){var t=e.matches.length>0;return e.assignIsOpen({isOpen:t}),t},e.isActive=function(t){return e.active===t},e.selectActive=function(t){e.active=t},e.selectMatch=function(n,i){var r=e.debounce();angular.isNumber(r)||angular.isObject(r)?t(function(){e.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r["default"]):e.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";t(a).then(function(t){var n=angular.element(t.trim());r.replaceWith(n),e(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(t,e,n){function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(t){return/<.*>/g.test(t)}var o;return o=e.has("$sanitize"),function(e,a){return!o&&r(e)&&n.warn("Unsafe use of typeahead please use ngSanitize"),e=a?(""+e).replace(new RegExp(i(a),"gi"),"<strong>$&</strong>"):e,o||(e=t.trustAsHtml(e)),e}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')
}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/datepickerPopup/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(t){t.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(t){t.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),"undefined"==typeof jQuery&&"object"==typeof process&&"object"==typeof process.versions)var XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest;!function(){var t=function(){Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");var o=[];for(var a in r)t.call(r,a)&&o.push(a);if(e)for(var s=0;i>s;s++)t.call(r,n[s])&&o.push(n[s]);return o}}()),/**@license MIT-promiscuous library-©2013 Ruben Verborgh*/
"undefined"==typeof Promise&&/**@license MIT-promiscuous-©Ruben Verborgh*/
!function(t,e){function n(t,e){return(typeof e)[0]==t}function i(o,a){return a=function s(u,l,c,h,p,f){function d(t){return function(e){p&&(p=0,s(n,t,e))}}if(h=s.q,u!=n)return i(function(t,e){h.push({p:this,r:t,j:e,1:u,0:l})});if(c&&n(t,c)|n(e,c))try{p=c.then}catch(g){l=0,c=g}if(n(t,p))try{p.call(c,d(1),l=d(0))}catch(g){l(g)}else for(a=function(e,a){return n(t,e=l?e:a)?i(function(t,n){r(this,t,n,c,e)}):o},f=0;f<h.length;)p=h[f++],n(t,u=p[l])?r(p.p,p.r,p.j,c,u):(l?p.r:p.j)(c)},a.q=[],o.call(o={then:function(t,e){return a(t,e)},"catch":function(t){return a(0,t)}},function(t){a(n,1,t)},function(t){a(n,0,t)}),o}function r(i,r,o,a,s){setTimeout(function(){try{a=s(a),s=a&&n(e,a)|n(t,a)&&a.then,n(t,s)?a==i?o(TypeError()):s.call(a,r,o):r(a)}catch(u){o(u)}})}function o(t){return i(function(e){e(t)})}Promise=i,i.resolve=o,i.reject=function(t){return i(function(e,n){n(t)})},i.all=function(t){return i(function(e,n,i,r){r=[],i=t.length||e(r),t.map(function(t,a){o(t).then(function(t){r[a]=t,--i||e(r)},n)})})}}("f","o");var t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m,v=function(t,e){return function(){return t.apply(e,arguments)}},y={}.hasOwnProperty,_=function(t,e){function n(){this.constructor=t}for(var i in e)y.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};return f="undefined"!=typeof exports&&null!==exports?new Object:this,f.KiiSocialNetworkName={FACEBOOK:1,TWITTER:2,QQ:3,GOOGLEPLUS:4,RENREN:5},f.KiiSite={US:"https://api.kii.com/api",JP:"https://api-jp.kii.com/api",CN:"https://api-cn2.kii.com/api",SG:"https://api-sg.kii.com/api",CN3:"https://api-cn3.kii.com/api",EU:"https://api-eu.kii.com/api"},f.Kii=function(){function t(){}var e,n;return n=null,e=null,t.getBuildNumber=function(){return"1"},t.getSDKVersion=function(){return"2.4.8"},t.getBaseURL=function(){return n._baseURL},t.getAppID=function(){return n._appID},t.getAdditionalHeaders=function(){return e},t.setAdditionalHeaders=function(t){return e=t},t.getAppKey=function(){return n._appKey},t.isLogging=function(){return n._logging},t.setLogging=function(t){return n._logging=t,f.Kii.logger("Setting logging: "+t),f.Kii.logger("Base URL: "+n._baseURL)},t.setAccessTokenExpiration=function(t){if(!n)throw new f.IllegalStateException("Kii is not initialized");if(isNaN(parseInt(t,10)))throw new f.InvalidArgumentException("expiresIn should be a number");if(0>t)throw new f.InvalidArgumentException("expiresIn should not negative number");return n?n._expiresIn=t:void 0},t.getAccessTokenExpiration=function(){if(!n)throw new f.IllegalStateException("Kii is not initialized");return n._expiresIn},t.initializeWithSite=function(t,e,i,r){return n=new d(t,e,i),f.Kii.logger("Initialized "+t+", "+e+", "+i),"object"===l._type(r)?f.KiiAnalytics._initializeWithSite(t,e,i,r.deviceId):void 0},t.initialize=function(t,e,n){return f.Kii.initializeWithSite(t,e,f.KiiSite.US,n)},t.logger=function(t){return n._logging?console.log(t):void 0},t.bucketWithName=function(t){var e;return e=new f.KiiBucket(t,null)},t.encryptedBucketWithName=function(t){var e;return e=new f.KiiEncryptedBucket(t,null)},t.groupWithName=function(t){return new f.Kii.groupWithNameAndMembers(t,null)},t.groupWithNameAndMembers=function(t,e){return new f.KiiGroup.groupWithNameAndMembers(t,e)},t.logOut=function(){return n._currentUser=null,f.KiiSocialConnect.logOutAll()},t.loggedIn=function(){return null!=n._currentUser},t.getCurrentUser=function(){var t;return null!=n._currentUser?(t=new f.KiiUser,t._uuid=n._currentUser._uuid,t._username=n._currentUser._username,t._displayName=n._currentUser._displayName,t._password=n._currentUser._password,t._emailAddress=n._currentUser._emailAddress,t._phoneNumber=n._currentUser._phoneNumber,t._country=n._currentUser._country,t._created=n._currentUser._created,t._modified=n._currentUser._modified,t._emailVerified=n._currentUser._emailVerified,t._phoneVerified=n._currentUser._phoneVerified,t._accessToken=n._currentUser._accessToken,t._customInfo=n._currentUser._customInfo,t._expiresAt=n._currentUser._expiresAt,t._thirdPartyAccounts=n._currentUser._thirdPartyAccounts,t._disabled=n._currentUser._disabled,f.Kii.logger("my instance:"),f.Kii.logger(t),t):null},t.setCurrentUser=function(t){return n._currentUser=new f.KiiUser,n._currentUser._uuid=t._uuid,n._currentUser._username=t._username,n._currentUser._displayName=t._displayName,n._currentUser._password=t._password,n._currentUser._emailAddress=t._emailAddress,n._currentUser._phoneNumber=t._phoneNumber,n._currentUser._country=t._country,n._currentUser._created=t._created,n._currentUser._modified=t._modified,n._currentUser._emailVerified=t._emailVerified,n._currentUser._phoneVerified=t._phoneVerified,n._currentUser._accessToken=t._accessToken,n._currentUser._customInfo=t._customInfo,n._currentUser._expiresAt=t._expiresAt,n._currentUser._thirdPartyAccounts=t._thirdPartyAccounts,n._currentUser._disabled=t._disabled,f.Kii.logger("my instance:"),f.Kii.logger(n._currentUser)},t.authenticateAsAppAdmin=function(t,e,n){return new Promise(function(i){return function(r,o){var a;return a={success:function(){return null!=n&&n.success.apply(n,arguments),r(arguments[0])},failure:function(){return null!=n&&n.failure.apply(n,arguments),o(l._Error(arguments[0]))}},i._authenticateAsAppAdminUsingCallbacks(t,e,a)}}(this))},t._authenticateAsAppAdminUsingCallbacks=function(t,e,n){var i,r;return r=new a("/oauth2/token",!1),r.setAnonymous(!0),r.setMethod("POST"),r.setData({client_id:t,client_secret:e}),i={success:function(){return function(t){var e,i,r;return r=t.access_token,i=t.id,f.Kii.logger("token: "+r),f.Kii.logger("id: "+i),e=new f.KiiAppAdminContext({token:r,id:i}),null!=n?n.success(e):void 0}}(this),failure:function(){return function(t,e){return f.Kii.logger("error: "+t),f.Kii.logger("statusCode: "+e),null!=n?n.failure(t,e):void 0}}(this)},r.execute(i,!1)},t.authenticateAsAdminWithToken=function(t){return new f.KiiAppAdminContext({token:t})},t.serverCodeEntry=function(t){if(!l._validateServerCodeEntryName(t))throw new f.InvalidArgumentException("entryName is invalid");return new f.KiiServerCodeEntry(t)},t.serverCodeEntryWithVersion=function(t,e){if(!l._validateServerCodeEntryName(t))throw new f.InvalidArgumentException("entryName is invalid");if(!l._validateServerCodeEnryVersion(e))throw new f.InvalidArgumentException("version is invalid");return new f.KiiServerCodeEntry(t,e)},t._setHttpRequestType=function(t){return f.Kii.logger("Set http request as "+t),n._httpRequestType=t},t._getHttpRequestType=function(){return n._httpRequestType},t._getKiiUtilities=function(){return l},t.topicWithName=function(t){var e;if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");return e=""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID(),new f.KiiTopic(e,t)},t.listTopics=function(e,n){return t._listTopics(e,n)},t._listTopics=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=e&&e.success.apply(e,arguments),r(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),o(arguments[0])}},t._listTopicsUsingCallbacks(a,n,i)})},t._listTopicsUsingCallbacks=function(e,n,i){var r,o,a;return o=""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/topics","string"==typeof n&&""!==n&&(o=o+"?paginationKey="+encodeURIComponent(n)),a=h.createXHRWrapper("GET",o),a.setKiiHeaders(),null!=i?a.setAuthToken(i._getToken()):a.setCurrentUserToken(),r={success:function(){var n,i,r,o,s,u;for(n=JSON.parse(a.xhr.responseText),r=[],u=n.topics,o=0,s=u.length;s>o;o++)i=u[o],r.push(t.topicWithName(i.topicID));return null!=e?e.success(r,void 0===n.paginationKey?null:n.paginationKey):void 0},failure:function(){var n,i;return i=a.getErrorString("list topics"),n=l._Error(i,t),null!=e?e.failure(n):void 0}},a.send(r)},t.authenticateAsThing=function(t,e,n){return new Promise(function(){return function(i,r){var o,a,s;return l._isNonEmptyString(t)&&l._isNonEmptyString(e)?(s=h.createXHRWrapper("POST",""+f.Kii.getBaseURL()+"/oauth2/token"),s.setKiiHeaders(),s.setContentType("application/vnd.kii.OauthTokenRequest+json"),a={success:function(){var e,a,u,c,h;return u=JSON.parse(decodeURIComponent(s.xhr.responseText)),h=u.id,e=u.access_token,null!=h&&null!=e?(c=new f.KiiThingContext({thingId:h,token:e,vendorThingID:t}),null!=n&&n.success(c),i(c)):(a=s.getErrorString("invalid format response when authenticate thing "),o=l._Error(a),null!=n&&n.failure(o),r(o))},failure:function(){var t;return t=s.getErrorString("authenticate as thing"),o=l._Error(t),null!=n&&n.failure(o),r(o)}},s.sendData(JSON.stringify({username:"VENDOR_THING_ID:"+t,password:e}),a)):(o=l._Error("vendorThingID or password is invalid"),null!=n&&n.failure(o),void r(o))}}(this))},t.authenticateAsThingWithToken=function(t,e,n){return new Promise(function(){return function(i,r){var o,a;return l._isNonEmptyString(t)&&l._isNonEmptyString(e)?(a=new f.KiiThingContext({thingId:t,token:e}),null!=n&&n.success(a),i(a)):(o=l._Error("thingID or token is invalid"),null!=n&&n.failure(o),r(o))}}(this))},t}(),f._KiiHttpRequestType={jQuery:"jQuery",XMLHttpRequest:"XMLHttpRequest",Titanium:"Titanium"},d=function(){function t(t,e,n){this._appKey=e,this._appID=t,this._baseURL=n,this._expiresIn=0}return t.prototype._logging=!1,t.prototype._baseURL=null,t.prototype._currentUser=null,t.prototype._httpRequestType=null,t}(),f.KiiACL=function(){function t(){this._thingWithID=v(this._thingWithID,this),this._userWithID=v(this._userWithID,this),this._groupWithID=v(this._groupWithID,this),this._getRequest=v(this._getRequest,this),this._saveItr=v(this._saveItr,this),this._saveUsingCallbacks=v(this._saveUsingCallbacks,this),this.save=v(this.save,this),this._getKeyOfEntry=v(this._getKeyOfEntry,this),this.removeACLEntry=v(this.removeACLEntry,this),this.putACLEntry=v(this.putACLEntry,this),this._listACLEntriesUsingCallbacks=v(this._listACLEntriesUsingCallbacks,this),this.listACLEntries=v(this.listACLEntries,this),this.aclPath=v(this.aclPath,this),this._setParent=v(this._setParent,this),this._entriesMap={}}return t.prototype._setParent=function(t){this._parent=t},t.prototype.aclPath=function(){var t,e,n,i,r,o,a,s,u,l;return this._parent instanceof f.KiiObject?(i=this._parent,null!=i.getBucket().getUser()?l=i.getBucket().getUser():null!=i.getBucket().getGroup()?n=i.getBucket().getGroup():null!=i.getBucket().getThing()&&(s=i.getBucket().getThing()),e=i.getBucket()._getQualifiedBucketName(),r=i.getUUID()):this._parent instanceof f.KiiBucket?(t=this._parent,null!=t.getUser()?l=t.getUser():null!=t.getGroup()?n=t.getGroup():null!=t.getThing()&&(s=t.getThing()),e=t._getQualifiedBucketName()):this._parent instanceof f.KiiTopic?u=this._parent:f.Kii.logger("Invalid ACL parent. Must belong to a KiiObject"),o="/",null!=n?o+="groups/"+n.getUUID()+"/":null!=l?o+="users/"+l.getUUID()+"/":null!=s&&(o+="things/"+s.getThingID()+"/"),u?(a=""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/",0!==u._uri.indexOf(a)?o=null:o+=u._uri.substr(a.length)+"/acl"):o+=null!=r?"buckets/"+e+"/objects/"+r+"/acl":"buckets/"+e+"/acl",o},t.prototype.listACLEntries=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._listACLEntriesUsingCallbacks(r)}}(this))},t.prototype._listACLEntriesUsingCallbacks=function(t){var e,n;return f.Kii.logger("Listing ACL entries"),n=this._getRequest({path:this.aclPath(),withApp:!0}),e={success:function(e){return function(n,i){var r,o,a,s,u,l,c,h;if(300>i&&i>=200){s=[];for(a in n){if(l=n[a],"WRITE_EXISTING_OBJECT"===a)r=f.KiiACLAction.KiiACLObjectActionWrite;else if("READ_EXISTING_OBJECT"===a)r=f.KiiACLAction.KiiACLObjectActionRead;else if("QUERY_OBJECTS_IN_BUCKET"===a)r=f.KiiACLAction.KiiACLBucketActionQueryObjects;else if("CREATE_OBJECTS_IN_BUCKET"===a)r=f.KiiACLAction.KiiACLBucketActionCreateObjects;else if("DROP_BUCKET_WITH_ALL_CONTENT"===a)r=f.KiiACLAction.KiiACLBucketActionDropBucket;else if("READ_OBJECTS_IN_BUCKET"===a)r=f.KiiACLAction.KiiACLBucketActionReadObjects;else if("SUBSCRIBE_TO_TOPIC"===a)r=f.KiiACLAction.KiiACLSubscribeToTopic;else{if("SEND_MESSAGE_TO_TOPIC"!==a)continue;r=f.KiiACLAction.KiiACLSendMessageToTopic}for(c=0,h=l.length;h>c;c++){if(o=l[c],null!=o.groupID)u=e._groupWithID(o.groupID);else if(null!=o.userID)u=e._userWithID(o.userID);else{if(null==o.thingID)continue;u=e._thingWithID(o.thingID)}s.push(f.KiiACLEntry.entryWithSubject(u,r))}}return t.success(e,s)}return t.failure(e,"Unable to retrieve ACL list")}}(this),failure:function(e){return function(n){return t.failure(e,n)}}(this)},n.execute(e,!1)},t.prototype.putACLEntry=function(t){var e;if(!(t instanceof f.KiiACLEntry))throw new f.InvalidArgumentException("invalid entry");return e=this._getKeyOfEntry(t),this._entriesMap[e]=t},t.prototype.removeACLEntry=function(t){var e;if(!(t instanceof f.KiiACLEntry))throw new f.InvalidArgumentException("invalid entry");return e=this._getKeyOfEntry(t),delete this._entriesMap[e]},t.prototype._getKeyOfEntry=function(t){var e,n,i;return e=t.getActionString(),n=t.getEntityString(),i=t.getGrant(),""+e+"/"+n+":"+i},t.prototype.save=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._saveUsingCallbacks(r)}}(this))},t.prototype._saveUsingCallbacks=function(t){var e;return f.Kii.logger("SAving acl"),this._entriesMap?(e=Object.keys(this._entriesMap),f.Kii.logger("Saving total entries : "+e.length),e.length<1?void t.failure(this,"There is no entry to save."):this._saveItr(e,0,t)):void t.failure(this,"There is no entry to save.")},t.prototype._saveItr=function(t,e,n){var i,r,o,a;return i=this._entriesMap[t[e]],r=""+this.aclPath()+"/"+i.getActionString()+"/"+i.getEntityString(),f.Kii.logger("Saving single @path: "+r),f.Kii.logger("Saving  entries index : "+e),o=this._getRequest({path:r,withApp:!0}),o.setMethod(i.getGrant()===!0?"PUT":"DELETE"),a=null,o.execute({success:function(r){return function(){return r.removeACLEntry(i),e<t.length-1?r._saveItr(t,e+1,n):n.success(r)}}(this),failure:function(t){return function(e){return n.failure(t,e)}}(this)},!1)},t.aclWithParent=function(t){var e;return e=new f.KiiACL,e._setParent(t),e},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.prototype._groupWithID=function(t){var e;return e=f.KiiGroup.groupWithID(t)},t.prototype._userWithID=function(t){return"ANONYMOUS_USER"===t?new f.KiiAnonymousUser:"ANY_AUTHENTICATED_USER"===t?new f.KiiAnyAuthenticatedUser:f.KiiUser.userWithID(t)},t.prototype._thingWithID=function(t){return f.KiiThing.thingWithID(t)},t}(),f.KiiACLAction={KiiACLActionStart:-1,KiiACLBucketActionCreateObjects:0,KiiACLBucketActionQueryObjects:1,KiiACLBucketActionDropBucket:2,KiiACLBucketActionReadObjects:3,KiiACLObjectActionRead:4,KiiACLObjectActionWrite:5,KiiACLSubscribeToTopic:6,KiiACLSendMessageToTopic:7,KiiACLActionEnd:8},f.KiiACLEntry=function(){function t(){this.getEntityString=v(this.getEntityString,this),this.getActionString=v(this.getActionString,this),this.getGrant=v(this.getGrant,this),this.setGrant=v(this.setGrant,this),this.getSubject=v(this.getSubject,this),this.setSubject=v(this.setSubject,this),this.getAction=v(this.getAction,this),this.setAction=v(this.setAction,this),this._action=-1,this._grant=!0}return t.prototype.setAction=function(t){if(t>f.KiiACLAction.KiiACLActionStart&&t<f.KiiACLAction.KiiACLActionEnd)return this._action=t;throw new f.InvalidACLAction},t.prototype.getAction=function(){return this._action},t.prototype.setSubject=function(t){if(t instanceof f.KiiGroup&&null!=t.getID()||t instanceof f.KiiUser&&null!=t.getID()||t instanceof f.KiiAnyAuthenticatedUser||t instanceof f.KiiAnonymousUser||t instanceof f.KiiThing&&null!=t.getThingID())return this._subject=t;throw new f.InvalidACLSubject},t.prototype.getSubject=function(){return this._subject},t.prototype.setGrant=function(t){if(t===!0||t===!1)return this._grant=t;throw new f.InvalidACLGrant},t.prototype.getGrant=function(){return this._grant},t.entryWithSubject=function(t,e){var n;return f.Kii.logger("EWS: "+t+", "+e),n=new f.KiiACLEntry,n.setSubject(t),n.setAction(e),n},t.prototype.getActionString=function(){var t;switch(f.Kii.logger("Action: "+this.action),this._action){case f.KiiACLAction.KiiACLBucketActionCreateObjects:t="CREATE_OBJECTS_IN_BUCKET";break;case f.KiiACLAction.KiiACLBucketActionQueryObjects:t="QUERY_OBJECTS_IN_BUCKET";break;case f.KiiACLAction.KiiACLBucketActionDropBucket:t="DROP_BUCKET_WITH_ALL_CONTENT";break;case f.KiiACLAction.KiiACLBucketActionReadObjects:t="READ_OBJECTS_IN_BUCKET";break;case f.KiiACLAction.KiiACLObjectActionRead:t="READ_EXISTING_OBJECT";break;case f.KiiACLAction.KiiACLObjectActionWrite:t="WRITE_EXISTING_OBJECT";break;case f.KiiACLAction.KiiACLSubscribeToTopic:t="SUBSCRIBE_TO_TOPIC";break;case f.KiiACLAction.KiiACLSendMessageToTopic:t="SEND_MESSAGE_TO_TOPIC";break;default:return t}return t},t.prototype.getEntityString=function(){var t,e;return this._subject instanceof f.KiiGroup?(t=this._subject.getUUID(),e="GroupID"):this._subject instanceof f.KiiUser?(t=this._subject.getUUID(),e="UserID"):this._subject instanceof f.KiiAnyAuthenticatedUser?(e="UserID",t="ANY_AUTHENTICATED_USER"):this._subject instanceof f.KiiAnonymousUser?(e="UserID",t="ANONYMOUS_USER"):this._subject instanceof f.KiiThing&&(e="ThingID",t=this._subject.getThingID()),""+e+":"+t},t}(),f.KiiBucket=function(){function t(t,e){if(this.objectWithJSON=v(this.objectWithJSON,this),this._getHttpUri=v(this._getHttpUri,this),this._generatePath=v(this._generatePath,this),this._getRequest=v(this._getRequest,this),this._deleteUsingCallbacks=v(this._deleteUsingCallbacks,this),this["delete"]=v(this["delete"],this),this.count=v(this.count,this),this._countWithQueryUsingCallbacks=v(this._countWithQueryUsingCallbacks,this),this.countWithQuery=v(this.countWithQuery,this),this._executeQueryUsingCallbacks=v(this._executeQueryUsingCallbacks,this),this.executeQuery=v(this.executeQuery,this),this.acl=v(this.acl,this),this.createObjectWithID=v(this.createObjectWithID,this),this.createObjectWithType=v(this.createObjectWithType,this),this.createObject=v(this.createObject,this),this._getQualifiedBucketName=v(this._getQualifiedBucketName,this),this._setBucketName=v(this._setBucketName,this),this.getBucketName=v(this.getBucketName,this),this.getThing=v(this.getThing,this),this.getGroup=v(this.getGroup,this),this.getUser=v(this.getUser,this),!l._isNonEmptyString(t))throw f.InvalidArgumentException("Specified bucket name is null or empty.");this._bucketName=t,null!=e&&(e instanceof f.KiiGroup?this._group=e:e instanceof f.KiiUser?this._user=e:e instanceof f.KiiThing&&(this._thing=e))}return t.prototype._className="KiiBucket",t.prototype.getUser=function(){return this._user},t.prototype.getGroup=function(){return this._group},t.prototype.getThing=function(){return this._thing},t.prototype.getBucketName=function(){return this._bucketName},t.prototype._setBucketName=function(t){this._bucketName=t},t.prototype._getQualifiedBucketName=function(){return this._bucketName},t.prototype.createObject=function(){return f.KiiObject.objectWithBucket(this,null)},t.prototype.createObjectWithType=function(t){return f.KiiObject.objectWithBucket(this,t)},t.prototype.createObjectWithID=function(t){if(!f.KiiObject.isValidObjectID(t))throw f.InvalidArgumentException("Specified obejctID is invalid.");return f.KiiObject.objectWithID(this,t)},t.prototype.acl=function(){return f.KiiACL.aclWithParent(this)},t.prototype.executeQuery=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._executeQueryUsingCallbacks(t,o)}}(this))},t.prototype._executeQueryUsingCallbacks=function(t,e){var n,i,r,o;return r=this._generatePath()+"/query",n={},null!=t?n=t._dictValue():n.bucketQuery={clause:f.KiiQuery._emptyDictValue()},o=this._getRequest({path:r,withApp:!0}),o.setMethod("POST"),o.setContentType("application/vnd.kii.QueryRequest+json"),o.setData(n),i={success:function(n){return function(i,r){var o,a,s,u,l,c;if(300>r&&r>=200){for(s=[],c=i.results,u=0,l=c.length;l>u;u++)a=c[u],s.push(n.objectWithJSON(a));if(null!=i.nextPaginationKey?(o=new f.KiiQuery(t),o.setPaginationKey(i.nextPaginationKey)):o=null,null!=e)return e.success(t,s,o)}else if(null!=e)return e.failure(n,"Unable to parse response")}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},o.execute(i,!1)},t.prototype.countWithQuery=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._countWithQueryUsingCallbacks(t,o)}}(this))},t.prototype._countWithQueryUsingCallbacks=function(t,e){var n,i,r,o;return r=this._generatePath()+"/query",n={},null!=t?n=t._dictValue():(n.bucketQuery={clause:f.KiiQuery._emptyDictValue()},t=f.KiiQuery.queryWithClause()),n.bucketQuery.aggregations=[{type:"COUNT",putAggregationInto:"count_field"}],o=this._getRequest({path:r,withApp:!0}),o.setMethod("POST"),o.setContentType("application/vnd.kii.QueryRequest+json"),o.setData(n),i={success:function(n){return function(i,r){var o;if(300>r&&r>=200){if(o=i.aggregations.count_field,null!=e)return e.success(n,t,o)}else if(null!=e)return e.failure(n,"Unable to parse response")}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},o.execute(i,!1)},t.prototype.count=function(t){var e;return e=f.KiiQuery.queryWithClause(),this.countWithQuery(e,t)},t.prototype["delete"]=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteUsingCallbacks(r)}}(this))},t.prototype._deleteUsingCallbacks=function(t){var e,n;return n=this._getRequest({path:this._generatePath(),withApp:!0}),n.setMethod("DELETE"),e={success:function(e){return function(){return null!=t?t.success(e):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!0)},t._bucketWithName=function(t,e){var n;return n=new f.KiiBucket(t,e)},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.prototype._generatePath=function(){var t;return t=null!=this._user?"/users/"+this._user.getUUID()+"/buckets/"+this._getQualifiedBucketName():null!=this._group?"/groups/"+this._group.getUUID()+"/buckets/"+this._getQualifiedBucketName():null!=this._thing?"/things/"+this._thing.getThingID()+"/buckets/"+this._getQualifiedBucketName():"/buckets/"+this._getQualifiedBucketName()},t.prototype._getHttpUri=function(){return""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/"+this._generatePath()},t.prototype.objectWithJSON=function(t){var e;return e=this.createObject(),e._updateWithJSON(t),e},t}(),f.KiiEncryptedBucket=function(t){function e(t,n){if(this._getQualifiedBucketName=v(this._getQualifiedBucketName,this),!l._isNonEmptyString(t))throw f.InvalidArgumentException("Specified bucket name is null or empty.");f.KiiEncryptedBucket._isEncrypted(t)?e.__super__.constructor.call(this,t.replace("CRYPTO:",""),n):e.__super__.constructor.call(this,t,n)}return _(e,t),e.prototype._getQualifiedBucketName=function(){return"CRYPTO:"+this._bucketName},e._bucketWithName=function(t,e){var n;return n=new f.KiiEncryptedBucket(t,e)},e._isEncrypted=function(t){var e;return e=0===t.indexOf("CRYPTO:")},e}(f.KiiBucket),f.KiiEncryptedBucketWithToken=function(t){function e(t,n,i){this.acl=v(this.acl,this),this.createObjectWithID=v(this.createObjectWithID,this),this.createObjectWithType=v(this.createObjectWithType,this),this.createObject=v(this.createObject,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this,t,n),this._authToken=i}return _(e,t),e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype.createObject=function(){return f.KiiObjectWithToken.objectWithBucket(this,null,this._authToken)},e.prototype.createObjectWithType=function(t){return f.KiiObjectWithToken.objectWithBucket(this,t,this._authToken)},e.prototype.createObjectWithID=function(t){return f.KiiObjectWithToken.objectWithID(this,t,this._authToken)},e.prototype.acl=function(){var t;return t=new f.KiiACLWithToken(this,this._authToken)},e}(f.KiiEncryptedBucket),f.KiiBucketWithToken=function(t){function e(t,n,i){this.acl=v(this.acl,this),this.createObjectWithID=v(this.createObjectWithID,this),this.createObjectWithType=v(this.createObjectWithType,this),this.createObject=v(this.createObject,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this,t,n),this._authToken=i}return _(e,t),e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype.createObject=function(){return f.KiiObjectWithToken.objectWithBucket(this,null,this._authToken)},e.prototype.createObjectWithType=function(t){return f.KiiObjectWithToken.objectWithBucket(this,t,this._authToken)},e.prototype.createObjectWithID=function(t){return f.KiiObjectWithToken.objectWithID(this,t,this._authToken)},e.prototype.acl=function(){var t;return t=new f.KiiACLWithToken(this,this._authToken)},e}(f.KiiBucket),f.KiiGroup=function(){function t(){this._setAuthToken=v(this._setAuthToken,this),this._getHttpURI=v(this._getHttpURI,this),this._listTopicsUsingCallbacks=v(this._listTopicsUsingCallbacks,this),this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this._setOwnerFromContext=v(this._setOwnerFromContext,this),this._userWithID=v(this._userWithID,this),this._getRequest=v(this._getRequest,this),this._updateWithJSON=v(this._updateWithJSON,this),this._getOwnerUsingCallbacks=v(this._getOwnerUsingCallbacks,this),this.getOwner=v(this.getOwner,this),this._deleteUsingCallbacks=v(this._deleteUsingCallbacks,this),this["delete"]=v(this["delete"],this),this._refreshUsingCallbacks=v(this._refreshUsingCallbacks,this),this.refresh=v(this.refresh,this),this._saveWithOwnerUsingCallbacks=v(this._saveWithOwnerUsingCallbacks,this),this.saveWithOwner=v(this.saveWithOwner,this),this._saveUsingCallbacks=v(this._saveUsingCallbacks,this),this.save=v(this.save,this),this._changeGroupNameUsingCallbacks=v(this._changeGroupNameUsingCallbacks,this),this.changeGroupName=v(this.changeGroupName,this),this._changeOwner=v(this._changeOwner,this),this._saveMembers=v(this._saveMembers,this),this._getMemberListUsingCallbacks=v(this._getMemberListUsingCallbacks,this),this.getMemberList=v(this.getMemberList,this),this._removeMember=v(this._removeMember,this),this._addMember=v(this._addMember,this),this.removeUser=v(this.removeUser,this),this.addUser=v(this.addUser,this),this.encryptedBucketWithName=v(this.encryptedBucketWithName,this),this.bucketWithName=v(this.bucketWithName,this),this.objectURI=v(this.objectURI,this),this._setOwner=v(this._setOwner,this),this.getCachedOwner=v(this.getCachedOwner,this),this._setName=v(this._setName,this),this.getName=v(this.getName,this),this.getID=v(this.getID,this),this._setUUID=v(this._setUUID,this),this.getUUID=v(this.getUUID,this),this._setAddMembers=v(this._setAddMembers,this),this._getRemoveMembers=v(this._getRemoveMembers,this),this._getAddMembers=v(this._getAddMembers,this),this._addMembers={},this._removeMembers={}}return t.prototype._getAddMembers=function(){return this._addMembers},t.prototype._getRemoveMembers=function(){return this._removeMembers},t.prototype._setAddMembers=function(t){var e,n,i,r;if(null!=t){for(r=[],n=0,i=t.length;i>n;n++)e=t[n],r.push(this.addUser(e));return r}},t.prototype.getUUID=function(){return this._uuid},t.prototype._setUUID=function(t){this._uuid=t},t.prototype.getID=function(){return this._uuid},t.prototype.getName=function(){return this._groupName},t.prototype._setName=function(t){this._groupName=t},t.prototype.getCachedOwner=function(){return this._owner},t.prototype._setOwner=function(t){this._owner=t},t.prototype.objectURI=function(){return null!=this._uuid?"kiicloud://groups/"+this._uuid:null},t.registerGroupWithID=function(e,n,i,r){return new Promise(function(o,a){var s,u,c;return s={success:function(){return null!=r&&r.success.apply(r,arguments),o(arguments[0])},failure:function(){var t;return null!=r&&r.failure.apply(r,arguments),t=l._Error(arguments[1],arguments[0]),t.addMembersArray=arguments[2],t.removeMembersArray=arguments[3],a(t)}},t._registerGroupWithIDUsingCallbacks(null!=(u=f.KiiUser.getCurrentUser())?u.getAccessToken():void 0,e,n,null!=(c=f.Kii.getCurrentUser())?c.getID():void 0,i,s)})},t._registerGroupWithIDUsingCallbacks=function(e,n,i,r,o,a){var s,u,c,p,d,g,m,v,y,_;if(!l._isNonEmptyString(n))return void a.failure(null,"groupID is null or empty",o,null);if(!l._validateGroupID(n))return void a.failure(null,"invalid groupID : "+n,o,null);if(!l._isNonEmptyString(i))return void a.failure(null,"groupName is null or empty",o,null);if(null==r)return void a.failure(null,"owner is null",o,null);if(g=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/groups/"+n,m=h.createXHRWrapper("PUT",g),v=m.xhr,m.setKiiHeaders(),m.setAuthToken(e),m.setContentType("application/vnd.kii.GroupCreationRequest+json"),s={},s.name=i,s.owner=r,null!=o&&o.length>0){for(p=[],u=y=0,_=o.length;_>y;u=++y)c=o[u],p.push(c.getID());s.members=p}return d={success:function(){var e;try{return e=t.groupWithNameAndMembers(i,o),e._setUUID(n),a.success(e)}catch(r){return a.failure(null,m.getErrorString("failed to register group."))}},failure:function(){var t;return t=m.getErrorString("failed to register group."),a.failure(null,t,o,null)}},m.sendData(JSON.stringify(s),d)},t.prototype.bucketWithName=function(t){var e;return e=new f.KiiBucket(t,this)},t.prototype.encryptedBucketWithName=function(t){var e;return e=new f.KiiEncryptedBucket(t,this)},t.prototype.addUser=function(t){var e;return null==t?void f.Kii.logger("Passed member is null"):null==t.getUUID()?void f.Kii.logger("Passed member ID is null"):(e=t.getUUID(),e in this._addMembers||(this._addMembers[e]=t),e in this._removeMembers?delete this._removeMembers[e]:void 0)},t.prototype.removeUser=function(t){var e;return null==t?void f.Kii.logger("Passed member is null"):null==t.getUUID()?void f.Kii.logger("Passed member uuid is null"):(e=t.getUUID(),e in this._removeMembers||(this._removeMembers[e]=t),e in this._addMembers?delete this._addMembers[e]:void 0)},t.prototype._addMember=function(t,e){var n,i;return f.Kii.logger("Adding member "+t.getUUID()+" to group "+this._groupName),i=this._getRequest({path:"/groups/"+this._uuid+"/members/"+t.getUUID(),withApp:!0}),i.setMethod("PUT"),n={success:function(n){return function(){return delete n._addMembers[t.getUUID()],n._saveMembers(e)}}(this),failure:function(n){return function(i){var r,o,a;return r=function(){var e,n;e=this._addMembers,n=[];for(a in e)t=e[a],n.push(t);return n}.call(n),o=function(){var e,n;e=this._removeMembers,n=[];for(a in e)t=e[a],n.push(t);return n}.call(n),e.failure(n,i,r,o)}}(this)},i.execute(n,!1)},t.prototype._removeMember=function(t,e){var n,i;return f.Kii.logger("Removing member "+t.getUUID()+" to group "+this._groupName),i=this._getRequest({path:"/groups/"+this._uuid+"/members/"+t.getUUID(),withApp:!0}),i.setMethod("DELETE"),n={success:function(n){return function(){return delete n._getRemoveMembers()[t.getUUID()],n._saveMembers(e)}}(this),failure:function(n){return function(i){var r,o,a;
return r=function(){var e,n;e=this._addMembers,n=[];for(a in e)t=e[a],n.push(t);return n}.call(n),o=function(){var e,n;e=this._removeMembers,n=[];for(a in e)t=e[a],n.push(t);return n}.call(n),e.failure(n,i,r,o)}}(this)},i.execute(n,!1)},t.prototype.getMemberList=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._getMemberListUsingCallbacks(r)}}(this))},t.prototype._getMemberListUsingCallbacks=function(t){var e,n;return f.Kii.logger("Getting member list for group "+this._groupName),n=this._getRequest({path:"/groups/"+this._uuid+"/members",withApp:!0}),n.setAccept("application/vnd.kii.MembersRetrievalResponse+json"),e={success:function(e){return function(n,i){var r,o,a,s,u;if(300>i&&i>=200){for(o=[],a=n.members,s=0,u=a.length;u>s;s++)r=a[s],o.push(e._userWithID(r.userID));if(null!=t)return t.success(e,o)}else if(null!=t)return t.failure(e,"Unable to get member list of group")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!1)},t.prototype._saveMembers=function(t){var e,n;return e=Object.keys(this._addMembers),n=Object.keys(this._removeMembers),0===e.length&&0===n.length&&t.success(this),e.length>0?void this._addMember(this._addMembers[e[0]],t):void(n.length>0&&this._removeMember(this._removeMembers[n[0]],t))},t.prototype._changeOwner=function(t,e){var n,i,r;return i=this._getRequest({path:"/groups/"+this._uuid+"/owner",withApp:!0}),i.setContentType("application/vnd.kii.GroupOwnerChangeRequest+json"),i.setMethod("PUT"),n={},n.owner=t,i.setData(n),r={success:function(t){return function(n,i){return 300>i&&i>=200?e.success(t):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},i.execute(r,!1)},t.prototype.changeGroupName=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._changeGroupNameUsingCallbacks(t,o)}}(this))},t.prototype._changeGroupNameUsingCallbacks=function(t,e){var n,i;return f.Kii.logger("Saving group: "+this.name),null!=this._uuid?(n=this._getRequest({path:"/groups/"+this._uuid+"/name",withApp:!0}),n.setContentType("text/plain"),n.setMethod("PUT"),n.setData(t),i={success:function(n){return function(i,r){if(300>r&&r>=200){if(n._setName(t),null!=e)return e.success(n)}else if(null!=e)return e.failure(n,"Unable to change group name - invalid response")}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},n.execute(i,!0)):e.failure(this,"Invalid group. Save the group on the server before updating the name.")},t.prototype.save=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){var n;return null!=t&&t.failure.apply(t,arguments),n=l._Error(arguments[1],e),n.addMembersArray=arguments[2],n.removeMembersArray=arguments[3],i(n)}},e._saveUsingCallbacks(r)}}(this))},t.prototype._saveUsingCallbacks=function(t){var e,n,i;return f.Kii.logger("Saving group: "+this.name),null==this._uuid?(n=this._getRequest({path:"/groups",withApp:!0}),n.setContentType("application/vnd.kii.GroupCreationRequest+json"),n.setMethod("POST"),e={},null!=this._groupName&&(e.name=this._groupName),this._setOwnerFromContext(e),n.setData(e),i={success:function(e){return function(n,i){return 300>i&&i>=200?(e._setUUID(n.groupID),e._saveMembers(t)):void 0}}(this),failure:function(e){return function(n){var i,r,o,a;return null!=t?(i=function(){var t,e;t=this._addMembers,e=[];for(a in t)r=t[a],e.push(r);return e}.call(e),o=function(){var t,e;t=this._removeMembers,e=[];for(a in t)r=t[a],e.push(r);return e}.call(e),t.failure(e,n,i,o)):void 0}}(this)},n.execute(i,!1)):this._saveMembers(t)},t.prototype.saveWithOwner=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){var t;return null!=e&&e.failure.apply(e,arguments),t=l._Error(arguments[1],n),t.addMembersArray=arguments[2],t.removeMembersArray=arguments[3],r(t)}},n._saveWithOwnerUsingCallbacks(t,o)}}(this))},t.prototype._saveWithOwnerUsingCallbacks=function(t,e){var n,i,r,o;return null==this._uuid?(i=this._getRequest({path:"/groups",withApp:!0}),i.setContentType("application/vnd.kii.GroupCreationRequest+json"),i.setMethod("POST"),n={},null!=this._groupName&&(n.name=this._groupName),n.owner=t,i.setData(n),r={success:function(t){return function(n,i){return 300>i&&i>=200?(t._setUUID(n.groupID),t._saveMembers(e)):void 0}}(this),failure:function(t){return function(n){var i,r,o,a;return null!=e?(i=function(){var t,e;t=this._addMembers,e=[];for(a in t)r=t[a],e.push(r);return e}.call(t),o=function(){var t,e;t=this._removeMembers,e=[];for(a in t)r=t[a],e.push(r);return e}.call(t),e.failure(t,n,i,o)):void 0}}(this)},i.execute(r,!1)):(o={success:function(n){return function(){return n._changeOwner(t,e)}}(this),failure:function(t){return function(n,i){var r,o,a,s;return r=function(){var t,e;t=this._addMembers,e=[];for(s in t)o=t[s],e.push(o);return e}.call(t),a=function(){var t,e;t=this._removeMembers,e=[];for(s in t)o=t[s],e.push(o);return e}.call(t),e.failure(t,i,r,a)}}(this)},this._saveMembers(o))},t.prototype.refresh=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._refreshUsingCallbacks(r)}}(this))},t.prototype._refreshUsingCallbacks=function(t){var e,n;return f.Kii.logger("Refreshing group: "+this._groupName),n=new this._getRequest({path:"/groups/"+this._uuid,withApp:!0}),n.setAccept("application/vnd.kii.GroupRetrievalResponse+json"),e={success:function(e){return function(n){return e._updateWithJSON(n),null!=t?t.success(e):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!1)},t.prototype["delete"]=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteUsingCallbacks(r)}}(this))},t.prototype._deleteUsingCallbacks=function(t){var e,n;return f.Kii.logger("Deleting group: "+this._groupName),n=this._getRequest({path:"/groups/"+this._uuid,withApp:!0}),n.setMethod("DELETE"),e={success:function(e){return function(n,i){return 300>i&&i>=200&&null!=t?t.success(e):null!=t?t.failure(e,"Unable to parse response"):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!0)},t.prototype.getOwner=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._getOwnerUsingCallbacks(r)}}(this))},t.prototype._getOwnerUsingCallbacks=function(t){return f.Kii.logger("Getting owner of group "+this._groupName),this.refresh({success:function(){return function(e){return null!=t?t.success(e,e.getCachedOwner()):void 0}}(this),failure:function(){return function(e,n){return null!=t?t.failure(e,n):void 0}}(this)})},t.groupWithName=function(t){return f.KiiGroup.groupWithNameAndMembers(t,null)},t.groupWithNameAndMembers=function(t,e){var n;return n=new f.KiiGroup,n._setName(t),n._setAddMembers(e),n},t.groupWithID=function(t){var e;if(null==t||""===t)throw new f.InvalidArgumentException("groupID should not null or empty");return e=new f.KiiGroup,e._setUUID(t),e},t.groupWithURI=function(t){var e,n,i,r;if(i=null,r=t.substr("kiicloud://".length),n=r.split("/"),e=n.length,!(e>0))throw new f.InvalidURIException;return i=new f.KiiGroup,i._setUUID(n[e-1]),i},t._groupWithJSON=function(t){var e;return e=new f.KiiGroup,null!=t.groupID&&e._setUUID(t.groupID),null!=t.name&&e._setName(t.name),null!=t.owner&&e._setOwner(f.KiiUser.userWithID(t.owner)),e},t.prototype._updateWithJSON=function(t){return null!=t.groupID&&this._setUUID(t.groupID),this._setName(null!=t.name?t.name:null),this._setOwner(null!=t.owner?this._userWithID(t.owner):null)},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.prototype._userWithID=function(t){var e;return e=f.KiiUser.userWithID(t)},t.prototype._setOwnerFromContext=function(t){return null!=f.Kii.getCurrentUser()?(this._owner=f.Kii.getCurrentUser(),t.owner=this._owner.getUUID()):void 0},t.prototype.topicWithName=function(t){var e,n;if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");if(e=this.getID(),!e)throw"can not instantiate topic from instance which doesn't have ID";return n=this._getHttpURI(),new f.KiiTopic(n,t)},t.prototype.listTopics=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(arguments[0])}},n._listTopicsUsingCallbacks(o,e)}}(this))},t.prototype._listTopicsUsingCallbacks=function(t,e){var n,i,r;return i=""+this._getHttpURI()+"/topics","string"==typeof e&&""!==e&&(i=i+"?paginationKey="+encodeURIComponent(e)),r=h.createXHRWrapper("GET",i),r.setKiiHeaders(),this._setAuthToken(r),n={success:function(e){return function(){var n,i,o,a,s,u;for(n=JSON.parse(r.xhr.responseText),o=[],u=n.topics,a=0,s=u.length;s>a;a++)i=u[a],o.push(e.topicWithName(i.topicID));return null!=t?t.success(o,void 0===n.paginationKey?null:n.paginationKey):void 0}}(this),failure:function(e){return function(){var n,i;return i=r.getErrorString("list topics"),n=l._Error(i,e),null!=t?t.failure(n):void 0}}(this)},r.send(n)},t.prototype._getHttpURI=function(){return""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/groups/"+this.getID()},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t}(),f.KiiObject=function(){function t(){this._deleteBodyUsingCallbacks=v(this._deleteBodyUsingCallbacks,this),this.deleteBody=v(this.deleteBody,this),this._publishBodyExpiresInUsingCallbacks=v(this._publishBodyExpiresInUsingCallbacks,this),this.publishBodyExpiresIn=v(this.publishBodyExpiresIn,this),this._publishBodyExpiresAtUsingCallbacks=v(this._publishBodyExpiresAtUsingCallbacks,this),this.publishBodyExpiresAt=v(this.publishBodyExpiresAt,this),this._publishBodyUsingCallbacks=v(this._publishBodyUsingCallbacks,this),this.publishBody=v(this.publishBody,this),this._downloadBodyUsingCallbacks=v(this._downloadBodyUsingCallbacks,this),this.downloadBody=v(this.downloadBody,this),this._uploadBodyUsingCallbacks=v(this._uploadBodyUsingCallbacks,this),this.uploadBody=v(this.uploadBody,this),this._moveBodyUsingCallbacks=v(this._moveBodyUsingCallbacks,this),this.moveBody=v(this.moveBody,this),this._parseObjectUri=v(this._parseObjectUri,this),this._userWithID=v(this._userWithID,this),this._setAuthorizationHeader=v(this._setAuthorizationHeader,this),this._getToken=v(this._getToken,this),this._getRequest=v(this._getRequest,this),this._setETag=v(this._setETag,this),this._deleteUsingCallbacks=v(this._deleteUsingCallbacks,this),this["delete"]=v(this["delete"],this),this._refreshUsingCallbacks=v(this._refreshUsingCallbacks,this),this.refresh=v(this.refresh,this),this._saveUsingCallbacks=v(this._saveUsingCallbacks,this),this.save=v(this.save,this),this._saveAllFieldsUsingCallbacks=v(this._saveAllFieldsUsingCallbacks,this),this.saveAllFields=v(this.saveAllFields,this),this._performUpdate=v(this._performUpdate,this),this._performSave=v(this._performSave,this),this._updateWithJSON=v(this._updateWithJSON,this),this._convertToObjectType=v(this._convertToObjectType,this),this.objectURI=v(this.objectURI,this),this.objectACL=v(this.objectACL,this),this.getGeoPoint=v(this.getGeoPoint,this),this.setGeoPoint=v(this.setGeoPoint,this),this.get=v(this.get,this),this.set=v(this.set,this),this._getPath=v(this._getPath,this),this._setBodyContentType=v(this._setBodyContentType,this),this.getBodyContentType=v(this.getBodyContentType,this),this._setBucket=v(this._setBucket,this),this.getBucket=v(this.getBucket,this),this._setObjectType=v(this._setObjectType,this),this.getObjectType=v(this.getObjectType,this),this._setModified=v(this._setModified,this),this.getModified=v(this.getModified,this),this._setCreated=v(this._setCreated,this),this.getCreated=v(this.getCreated,this),this.getID=v(this.getID,this),this._setUUID=v(this._setUUID,this),this.getUUID=v(this.getUUID,this),this._customInfo={},this._alteredFields=[]}return t.prototype.getUUID=function(){return this._uuid},t.prototype._setUUID=function(t){this._uuid=t},t.prototype.getID=function(){return this._uuid},t.prototype.getCreated=function(){return this._created},t.prototype._setCreated=function(t){this._created=t},t.prototype.getModified=function(){return this._modified},t.prototype._setModified=function(t){this._modified=t},t.prototype.getObjectType=function(){return this._objectType},t.prototype._setObjectType=function(t){this._objectType=t},t.prototype.getBucket=function(){return f.Kii.logger("GEtting bucket "+this._bucket),this._bucket},t.prototype._setBucket=function(t){this._bucket=t},t.prototype.getBodyContentType=function(){return this._bodyContentType},t.prototype._setBodyContentType=function(t){this._bodyContentType=t},t.prototype._getPath=function(){var t;return t=null!=this._bucket.getUser()?"/users/"+this._bucket.getUser().getUUID()+"/buckets/"+this._bucket._getQualifiedBucketName()+"/objects/":null!=this._bucket.getGroup()?"/groups/"+this._bucket.getGroup().getUUID()+"/buckets/"+this._bucket._getQualifiedBucketName()+"/objects/":null!=this._bucket.getThing()?"/things/"+this._bucket.getThing().getThingID()+"/buckets/"+this._bucket._getQualifiedBucketName()+"/objects/":"/buckets/"+this._bucket._getQualifiedBucketName()+"/objects/",null!=this._uuid&&(t+=this._uuid),t},t.prototype.set=function(t,e){return l._isNonEmptyString(t)&&0!==t.indexOf("_")?(this._customInfo[t]=e,this._alteredFields.push(t)):void f.Kii.logger("[WARN] Reserved key is used for custom field. key="+t)},t.prototype.get=function(t){return this._customInfo[t]},t.prototype.setGeoPoint=function(t,e){if(!(e instanceof f.KiiGeoPoint))throw f.InvalidArgumentException("Specified kiiGeoPoint is not an instance of KiiGeoPoint");return this._customInfo[t]=e._toDict(),this._alteredFields.push(t)},t.prototype.getGeoPoint=function(t){var e,n,i;return i=this._customInfo[t],e=i.lat,n=i.lon,f.KiiGeoPoint.geoPoint(e,n)},t.prototype.objectACL=function(){return f.KiiACL.aclWithParent(this)},t.prototype.objectURI=function(){var t,e;return t="kiicloud://",null!=this._bucket&&null!=this._uuid&&(e=t,null!=this._bucket.getGroup()?e+="groups/"+this._bucket.getGroup().getUUID()+"/":null!=this._bucket.getUser()?e+="users/"+this._bucket.getUser().getUUID()+"/":null!=this._bucket.getThing()&&(e+="things/"+this._bucket.getThing().getThingID()+"/"),e+="buckets/"+this._bucket._getQualifiedBucketName()+"/objects/"+this._uuid),e},t.prototype._convertToObjectType=function(t){var e;return"application/json"===t?{success:!0,type:null}:(e=t.match(RegExp("$application/vnd\\."+f.Kii.getAppID()+"\\.([^\\.])+\\+json")),null!=e?{success:!0,type:e}:{success:!1,type:null})},t.prototype._updateWithJSON=function(t){var e,n,i;i=[];for(e in t)n=t[e],"_id"===e?null==this._uuid?(f.Kii.logger("Setting uuid: "+n),i.push(this._uuid=n)):i.push(void 0):i.push("_created"===e?this._created=n:"_modified"===e?this._modified=n:"_owner"===e?this._owner=this._userWithID(n):"_dataType"===e?this._objectType=n:"_calculated"===e?this._customInfo[e]=n:"_"!==e[0]?this._customInfo[e]=n:"_version"===e?this._etag=n:void 0);return i},t.prototype._performSave=function(t){var e,n,i,r;return n=this._getPath(),n=n.slice(0,+(n.length-2)+1||9e9),i=new this._getRequest({path:n,withApp:!0}),i.setMethod("POST"),e=this._customInfo,i.setData(e),null!=this._objectType&&i.setContentType("application/vnd."+f.Kii.getAppID()+"."+this._objectType+"+json"),r={success:function(e){return function(n,i,r){var o;if(300>i&&i>=200){if(e._etag=r.etag,null==n.objectID)return t.failure(e,"No objectID response");if(e._uuid=n.objectID,null!=n.createdAt&&(e._created=n.createdAt),null!=n.dataType&&(o=e._convertToObjectType(n.dataType),o.success&&(e._objectType=o.type)),e._modified=e._created,e._alteredFields=[],null!=t)return t.success(e)}else if(null!=t)return t.failure(e,"Unable to parse response")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(r,!1)},t.prototype._performUpdate=function(t,e,n){var i,r,o,a,s,u,l,c,h;if(a=this._getPath(),s=new this._getRequest({path:a,withApp:!0}),i={},t)for(s.addHeader("X-HTTP-Method-Override","PATCH"),s.setMethod("POST"),h=this._alteredFields,l=0,c=h.length;c>l;l++)o=h[l],i[o]=this._customInfo[o];else s.setMethod("PUT"),i=this._customInfo;if(s.setData(i),r=this._created>0,!n)if(r){if(null==this._etag)return void e.failure(this,"IllegalState! Call KiiObject#refresh() prior call this method.");s.addHeader("If-Match",this._etag)}else{if(t&&null==this._etag)return void e.failure(this,"IllegalState! Call KiiObject#refresh() prior call this method.");s.addHeader("If-None-Match","*")}return null!=this._objectType&&s.setContentType("application/vnd."+f.Kii.getAppID()+"."+this._objectType+"+json"),u={success:function(n){return function(i,r,o){if(300>r&&r>=200){if(n._etag=o.etag,t?n._updateWithJSON(i):(null!=i.createdAt&&(n._created=i.createdAt),null!=i.modifiedAt&&(n._modified=i.modifiedAt)),n._alteredFields=[],null!=e)return e.success(n)}else if(null!=e)return e.failure(n,"Unable to parse response")}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},s.execute(u,!1)},t.prototype.saveAllFields=function(t,e){return null==e&&(e=!0),new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(l._Error(arguments[1],n))}},n._saveAllFieldsUsingCallbacks(o,e)}}(this))},t.prototype._saveAllFieldsUsingCallbacks=function(t,e){return null==e&&(e=!0),null!=this._uuid?this._performUpdate(!1,t,e):this._performSave(t)},t.prototype.save=function(t,e){return null==e&&(e=!0),new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(l._Error(arguments[1],n))}},n._saveUsingCallbacks(o,e)}}(this))},t.prototype._saveUsingCallbacks=function(t,e){return null==e&&(e=!0),null!=this._uuid?this._performUpdate(!0,t,e):this._performSave(t)},t.prototype.refresh=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._refreshUsingCallbacks(r)}}(this))},t.prototype._refreshUsingCallbacks=function(t){var e,n,i;return e=this._getPath(),i=new this._getRequest({path:e,withApp:!0}),n={success:function(e){return function(n,i,r){if(300>i&&i>=200){if(e._etag=r.etag,e._updateWithJSON(n),null!=t)return t.success(e)}else if(null!=t)return t.failure(e,"Unable to parse response")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(n,!1)},t.prototype["delete"]=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteUsingCallbacks(r)}}(this))},t.prototype._deleteUsingCallbacks=function(t){var e,n,i;return e=this._getPath(),i=new this._getRequest({path:e,withApp:!0}),i.setMethod("DELETE"),n={success:function(e){return function(n,i){return 300>i&&i>=200&&null!=t?t.success(e):null!=t?t.failure(e,"Unable to parse response"):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(n,!0)},t.objectWithBucket=function(t,e){var n;return f.Kii.logger("Creating object w type: "+e),n=new f.KiiObject,n._setBucket(t),n._setObjectType(e),f.Kii.logger(n),n},t.objectWithID=function(t,e){var n;return f.Kii.logger("Creating object with id: "+e),n=new f.KiiObject,n._setBucket(t),n._setUUID(e),f.Kii.logger(n),n},t.prototype._setETag=function(t){this._etag=t},t.objectWithURI=function(t){var e,n,i,r,o,a,s,u;if(a=t.substr("kiicloud://".length),o=a.split("/"),r=o.length,f.Kii.logger(o),!(r>=4))throw new f.InvalidURIException;return n=4===r?1:3,i=o[n],u=null,"groups"===o[0]?u=new f.KiiGroup.groupWithID(o[1]):"users"===o[0]?u=f.KiiUser.userWithID(o[1]):"things"===o[0]&&(u=f.KiiThing.thingWithID(o[1])),e=null,e=f.KiiEncryptedBucket._isEncrypted(i)?new f.KiiEncryptedBucket._bucketWithName(i,u):new f.KiiBucket._bucketWithName(i,u),f.Kii.logger(e),s=e.createObject(),s._setUUID(o[r-1]),f.Kii.logger(s),s},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.prototype._getToken=function(){var t,e;return t=f.KiiUser.getCurrentUser(),e=t?t.getAccessToken():null,e?e:null},t.prototype._setAuthorizationHeader=function(t){var e;return e=this._getToken(),e?t.setRequestHeader("Authorization","Bearer "+e):void 0},t.prototype._userWithID=function(t){var e;return e=f.KiiUser.userWithID(t)},t.prototype._parseObjectUri=function(t){var e,n,i,r;if(i=t.replace(/^kiicloud:\/\//g,"").split("/"),r=i[0],"users"===r)n={appID:f.Kii.getAppID(),userID:i[1],type:"APP_AND_USER"},e=f.KiiEncryptedBucket._isEncrypted(i[3])?{targetObjectScope:n,targetBucketType:"crypto",targetBucketID:i[3].replace("CRYPTO:",""),targetObjectID:i[5]}:{targetObjectScope:n,targetBucketID:i[3],targetObjectID:i[5]};else if("groups"===r)n={appID:f.Kii.getAppID(),groupID:i[1],type:"APP_AND_GROUP"},e=f.KiiEncryptedBucket._isEncrypted(i[3])?{targetObjectScope:n,targetBucketType:"crypto",targetBucketID:i[3].replace("CRYPTO:",""),targetObjectID:i[5]}:{targetObjectScope:n,targetBucketID:i[3],targetObjectID:i[5]};else{if("things"===r)throw new f.InvalidURIException;n={appID:f.Kii.getAppID(),type:"APP"},e=f.KiiEncryptedBucket._isEncrypted(i[1])?{targetObjectScope:n,targetBucketType:"crypto",targetBucketID:i[1].replace("CRYPTO:",""),targetObjectID:i[3]}:{targetObjectScope:n,targetBucketID:i[1],targetObjectID:i[3]}}return e},t.prototype.moveBody=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){var t;return null!=e&&e.failure.apply(e,arguments),t=l._Error(arguments[2],n),t.targetObjectUri=arguments[1],r(t)}},n._moveBodyUsingCallbacks(t,o)}}(this))},t.prototype._moveBodyUsingCallbacks=function(t,e){var n,i,r,o;if(null==t)return e.failure(this,null,f.InvalidArgumentException("targetObjectUri is required"));if(null==this.getUUID())return e.failure(this,t,f.InvalidArgumentException("Source object is not saved on the cloud"));r=this._getPath()+"/body/move",o=new this._getRequest({path:r,withApp:!0}),o.setMethod("POST"),o.setContentType("application/vnd.kii.ObjectBodyMoveRequest+json");try{o.setData(this._parseObjectUri(t))}catch(a){return n=a,e.failure(this,t,"Not support to move body of thing scope object.")}return i={success:function(n){return function(i,r){return 300>r&&r>=200&&null!=e?e.success(n,t):null!=e?e.failure(n,t,"Unable to parse response"):void 0}}(this),failure:function(n){return function(i){return null!=e?e.failure(n,t,i):void 0}}(this)},o.execute(i,!0)},t.prototype.uploadBody=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){var t;return null!=e&&null!=(t=e.success)&&t.apply(e,arguments),i(arguments[0])},failure:function(){var t;return null!=e&&null!=(t=e.failure)&&t.apply(e,arguments),r(l._Error(arguments[1],n))},progress:function(){var t;return null!=e&&null!=(t=e.progress)?t.apply(e,arguments):void 0}},n._uploadBodyUsingCallbacks(t,o)}}(this))},t.prototype._uploadBodyUsingCallbacks=function(t,e){var n,i,r,o,a;return t&&t instanceof Blob?(r=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+this._getPath()+"/body",n="application/octet-stream",t.type&&(n=t.type),o=h.createXHRWrapper("PUT",r),a=o.xhr,a.setRequestHeader("Content-Type",n),a.setRequestHeader("x-kii-appid",f.Kii.getAppID()),a.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),a.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),this._setAuthorizationHeader(a),i={success:function(t){return function(){var i;return i=JSON.parse(a.responseText),null!=i.modifiedAt&&(t._modified=i.modifiedAt),t._setBodyContentType(n),null!=e?e.success(t):void 0}}(this),failure:function(t){return function(){var n,i;if(n="failed to upload body. statusCode: "+a.status,null!=e)try{if(i=JSON.parse(decodeURIComponent(a.responseText)),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" message: "+i.message}catch(r){}finally{f.Kii.logger("Failure: "+n),f.Kii.logger(a.responseText),e.failure(t,n)}}}(this),progress:function(){return function(t){return e&&e.progress?e.progress(t):void 0}}(this)},o.sendData(t,i)):void e.failure(this,"Invalid parameter")},t.prototype.downloadBody=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){var e;return null!=t&&null!=(e=t.success)&&e.apply(t,arguments),n(arguments)},failure:function(){var n;return null!=t&&null!=(n=t.failure)&&n.apply(t,arguments),i(l._Error(arguments[1],e))},progress:function(){var e;return null!=t&&null!=(e=t.progress)?e.apply(t,arguments):void 0}},e._downloadBodyUsingCallbacks(r)}}(this))},t.prototype._downloadBodyUsingCallbacks=function(t){var e,n,i,r;return n=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+this._getPath()+"/body",i=h.createXHRWrapper("GET",n),r=i.xhr,r.setRequestHeader("x-kii-appid",f.Kii.getAppID()),r.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),r.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),this._setAuthorizationHeader(r),r.responseType="blob",e={success:function(e){return function(){var n;return n=r.status,e._setBodyContentType(r.getResponseHeader("content-type")),null!=t?t.success(e,r.response):void 0}}(this),failure:function(e){return function(){var n,i,o,a;return null!=t?(n="failed to download body. statusCode: "+r.status,i=new FileReader,a=null,o=e,i.onload=function(){var e;a=this.result;try{if(e=JSON.parse(decodeURIComponent(a)),null!=e.errorCode&&(n+=" error code: "+e.errorCode),null!=e.message)return n+=" message: "+e.message}catch(i){}finally{f.Kii.logger("Failure: "+n),f.Kii.logger(r.response),t.failure(o,n)}},i.readAsText(r.response)):void 0}}(this),progress:function(){return function(e){return t&&t.progress?t.progress(e):void 0}}(this)},i.send(e)},t.prototype.publishBody=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._publishBodyUsingCallbacks(r)}}(this))},t.prototype._publishBodyUsingCallbacks=function(t){var e,n,i,r,o,a;return r=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+this._getPath()+"/body/publish",o=h.createXHRWrapper("POST",r),a=o.xhr,a.setRequestHeader("x-kii-appid",f.Kii.getAppID()),a.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),a.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),a.setRequestHeader("Content-Type","application/vnd.kii.ObjectBodyPublicationRequest+json"),this._setAuthorizationHeader(a),i={success:function(e){return function(){var n;if(null!=t)try{return n=JSON.parse(a.responseText),n.url?t.success(e,n.url):t.failure(e,"failed to parse response")}catch(i){return t.failure(e,"failed to parse response")}}}(this),failure:function(e){return function(){var n,i;if(null!=t){n="failed to publish body. statusCode: "+a.status;try{if(i=JSON.parse(a.responseText),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" error message: "+i.message}catch(r){}finally{t.failure(e,n)}}}}(this)},n={},e=JSON.stringify(n),o.sendData(e,i)},t.prototype.publishBodyExpiresAt=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._publishBodyExpiresAtUsingCallbacks(t,o)}}(this))},t.prototype._publishBodyExpiresAtUsingCallbacks=function(t,e){var n,i,r,o,a,s;return o=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+this._getPath()+"/body/publish",a=h.createXHRWrapper("POST",o),s=a.xhr,s.setRequestHeader("x-kii-appid",f.Kii.getAppID()),s.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),s.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),s.setRequestHeader("Content-Type","application/vnd.kii.ObjectBodyPublicationRequest+json"),this._setAuthorizationHeader(s),r={success:function(t){return function(){var n;if(null!=e)try{return n=JSON.parse(s.responseText),n.url?e.success(t,n.url):e.failure(t,"failed to parse response")}catch(i){return e.failure(t,"failed to parse response")}}}(this),failure:function(t){return function(){var n,i;if(null!=e){n="failed to publish body. statusCode: "+s.status,null==s.responseText&&e.failure(t,n);try{if(i=JSON.parse(s.responseText),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" error message: "+i.message}catch(r){}finally{e.failure(t,n)}}}}(this)},i={},i.expiresAt=t,n=JSON.stringify(i),a.sendData(n,r)},t.prototype.publishBodyExpiresIn=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._publishBodyExpiresInUsingCallbacks(t,o)}}(this))},t.prototype._publishBodyExpiresInUsingCallbacks=function(t,e){var n,i,r,o,a,s;return o=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+this._getPath()+"/body/publish",a=h.createXHRWrapper("POST",o),s=a.xhr,s.setRequestHeader("x-kii-appid",f.Kii.getAppID()),s.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),s.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),s.setRequestHeader("Content-Type","application/vnd.kii.ObjectBodyPublicationRequest+json"),this._setAuthorizationHeader(s),r={success:function(t){return function(){var n;try{return n=JSON.parse(s.responseText),n.url?e.success(t,n.url):e.failure(t,"failed to parse response")}catch(i){return e.failure(t,"failed to parse response")}}}(this),failure:function(t){return function(){var n,i;n="failed to publish body. statusCode: "+s.status;try{if(i=JSON.parse(s.responseText),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" error message: "+i.message}catch(r){}finally{e.failure(t,n)}}}(this)},i={},i.expiresIn=t,n=JSON.stringify(i),a.sendData(n,r)},t.prototype.deleteBody=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteBodyUsingCallbacks(r)}}(this))},t.prototype._deleteBodyUsingCallbacks=function(t){var e,n,i,r;
return n=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+this._getPath()+"/body",i=h.createXHRWrapper("DELETE",n),r=i.xhr,r.setRequestHeader("x-kii-appid",f.Kii.getAppID()),r.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),r.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),this._setAuthorizationHeader(r),e={success:function(e){return function(){return e._setBodyContentType(null),null!=t?t.success(e):void 0}}(this),failure:function(e){return function(){var n,i;if(null!=t){n="failed to delete body. statusCode: "+r.status;try{if(i=JSON.parse(r.responseText),null!=i.errorCode&&(n+=" error code: "+i.errorCode),null!=i.message)return n+=" error message: "+i.message}catch(o){}finally{t.failure(e,n)}}}}(this)},i.send(e)},t.isValidObjectID=function(t){var e;return e=/^[a-zA-Z0-9-_.]{2,100}$/i,"string"!==(typeof t).toLowerCase()?!1:null!==t.match(e)?!0:!1},t}(),f.KiiQuery=function(){function t(t){return this._dictValue=v(this._dictValue,this),this.sortByAsc=v(this.sortByAsc,this),this.sortByDesc=v(this.sortByDesc,this),this.setLimit=v(this.setLimit,this),this.getLimit=v(this.getLimit,this),this._setClause=v(this._setClause,this),this.setPaginationKey=v(this.setPaginationKey,this),this.getPaginationKey=v(this.getPaginationKey,this),this._clone=v(this._clone,this),this._clone(t)}return t.prototype._clone=function(t){var e,n;if(null==t||"object"!=typeof t)return t;n=new t.constructor;for(e in t)n[e]=this._clone(t[e]);return n},t.prototype.getPaginationKey=function(){return this._paginationKey},t.prototype.setPaginationKey=function(t){this._paginationKey=t},t.prototype._setClause=function(t){this._clause=t},t.prototype.getLimit=function(){return this._limit},t.prototype.setLimit=function(t){if(t>0)return this._limit=t;throw new f.InvalidLimitException},t.queryWithClause=function(t){var e;return e=new f.KiiQuery,e._setClause(t),e},t.prototype.sortByDesc=function(t){return this._sortField=t,this._sortDescending=!0},t.prototype.sortByAsc=function(t){return this._sortField=t,this._sortDescending=!1},t._emptyDictValue=function(){return{type:"all"}},t.prototype._dictValue=function(){var t,e;return e={},e.bestEffortLimit=this._limit,null!=this._paginationKey&&(e.paginationKey=this._paginationKey),t={descending:this._sortDescending},t.clause=null!=this._clause?this._clause._getDictValue():f.KiiQuery._emptyDictValue(),null!=this._sortField&&(t.orderBy=this._sortField),e.bucketQuery=t,e},t}(),f.KiiClause=function(){function t(){this._getDictValue=v(this._getDictValue,this),this._setDictValue=v(this._setDictValue,this),this._setWhereClauses=v(this._setWhereClauses,this),this._setWhereType=v(this._setWhereType,this)}return t.constructor=function(){return t._whereClauses=[],t._dictExpression={}},t.prototype._setWhereType=function(t){this._whereType=t},t.prototype._setWhereClauses=function(t){this._whereClauses=t},t.prototype._setDictValue=function(t){this._dictExpression=t},t.prototype._getDictValue=function(){var t,e,n,i,r,o;if(n={},null!=this._whereClauses&&null!=this._whereType)if(e=[],1===this._whereClauses.length)t=this._whereClauses[0],n="not"===this._whereType?{type:this._whereType,clause:t._getDictValue()}:t._getDictValue();else{for(o=this._whereClauses,i=0,r=o.length;r>i;i++)t=o[i],e.push(t._getDictValue());n={type:this._whereType,clauses:e}}else null!=this._whereClauses?this._whereClauses.length>0&&(n=this._whereClauses[0]._getDictValue()):null!=this._dictExpression&&(n=this._dictExpression);return null==n&&(n=f.KiiQuery.emptyDictValue()),n},t.createWithWhere=function(t,e){var n;return n=new f.KiiClause,n._setWhereType(t),n._setWhereClauses(e),n},t.create=function(t,e,n){var i,r;return i=new f.KiiClause,r={},"="===t?(r.type="eq",r.field=e,r.value=n):"<"===t?(r.type="range",r.field=e,r.upperLimit=n,r.upperIncluded=!1):"<="===t?(r.type="range",r.field=e,r.upperLimit=n,r.upperIncluded=!0):">"===t?(r.type="range",r.field=e,r.lowerLimit=n,r.lowerIncluded=!1):">="===t?(r.type="range",r.field=e,r.lowerLimit=n,r.lowerIncluded=!0):"in"===t?(r.type="in",r.field=e,r.values=n):"prefix"===t&&(r.type="prefix",r.field=e,r.prefix=n),i._setDictValue(r),i},t.and=function(){return t.createWithWhere("and",arguments)},t.or=function(){return t.createWithWhere("or",arguments)},t.equals=function(t,e){return null!=e._className&&(e=e.objectURI),f.KiiClause.create("=",t,e)},t.notEquals=function(t,e){return null!=e._className&&(e=e.objectURI),f.KiiClause.createWithWhere("not",[f.KiiClause.equals(t,e)])},t.greaterThan=function(t,e){return f.KiiClause.create(">",t,e)},t.greaterThanOrEqual=function(t,e){return f.KiiClause.create(">=",t,e)},t.lessThan=function(t,e){return f.KiiClause.create("<",t,e)},t.lessThanOrEqual=function(t,e){return f.KiiClause.create("<=",t,e)},t["in"]=function(t,e){return f.KiiClause.create("in",t,e)},t.inClause=function(t,e){return f.KiiClause.create("in",t,e)},t.startsWith=function(t,e){return f.KiiClause.create("prefix",t,e)},t.geoDistance=function(t,e,n,i){var r,o,a,s,u;if(a=function(t){return"string"==typeof t&&t.length>0},o=function(t){return null==t?!1:t instanceof f.KiiGeoPoint},!a(t))throw f.InvalidArgumentException("Specified key is not a string or is an empty string.");if(!o(e))throw f.InvalidArgumentException("center is not a reference of KiiGeoPoint.");if(s="^[a-zA-Z_][a-zA-Z0-9_]*$",null!=i&&!i.match(s))throw f.InvalidArgumentException("putDistanceInto is invalid.");if(0>=n||n>2e7||isNaN(n))throw f.InvalidArgumentException("radius is invalid.");return r=new f.KiiClause,u={},u.type="geodistance",u.field=t,e=e._toDict(),u.center=e,u.radius=n,u.putDistanceInto=i,r._setDictValue(u),r},t.geoBox=function(t,e,n){var i,r,o,a,s,u;if(o=function(t){return"string"==typeof t&&t.length>0},r=function(t){return null==t?!1:t instanceof f.KiiGeoPoint},!o(t))throw f.InvalidArgumentException("Specified key is not a string or is an empty string.");if(!r(e)||!r(n))throw f.InvalidArgumentException("northEast or southWest is not a reference of KiiGeoPoint.");return i=new f.KiiClause,u={},u.type="geobox",u.field=t,a=e._toDict(),s=n._toDict(),u.box={ne:a,sw:s},i._setDictValue(u),i},t}(),a=function(){function t(t,e){this.execute=v(this.execute,this),this.setAdminToken=v(this.setAdminToken,this),this.addHeader=v(this.addHeader,this),this.setAccept=v(this.setAccept,this),this.getAccept=v(this.getAccept,this),this.setAnonymous=v(this.setAnonymous,this),this.isAnonymous=v(this.isAnonymous,this),this.setContentType=v(this.setContentType,this),this.getContentType=v(this.getContentType,this),this.setData=v(this.setData,this),this.getData=v(this.getData,this),this.setHeaders=v(this.setHeaders,this),this.getHeaders=v(this.getHeaders,this),this.setMethod=v(this.setMethod,this),this.getMethod=v(this.getMethod,this),this.setPath=v(this.setPath,this),this.getPath=v(this.getPath,this),this._path=e?"/apps/"+f.Kii.getAppID()+t:t,this._method="GET",this._headers={accept:"*/*"},this._contentType="application/json",this._anonymous=!1,this._success=function(){return function(){}}(this),this._failure=function(){return function(){}}(this),this._httpRequest=null}return t.prototype.getPath=function(){return this._path},t.prototype.setPath=function(t){this._path=t},t.prototype.getMethod=function(){return this._method},t.prototype.setMethod=function(t){this._method=t},t.prototype.getHeaders=function(){return this._headers},t.prototype.setHeaders=function(t){this._headers=t},t.prototype.getData=function(){return this._data},t.prototype.setData=function(t){this._data=t},t.prototype.getContentType=function(){return this._contentType},t.prototype.setContentType=function(t){this._contentType=t},t.prototype.isAnonymous=function(){return this._anonymous},t.prototype.setAnonymous=function(t){this._anonymous=t},t.prototype.getAccept=function(){return this._accept},t.prototype.setAccept=function(t){this._accept=t},t.prototype.addHeader=function(t,e){return this._headers[t]=e},t.prototype.setAdminToken=function(t){return this._adminToken=t},t.prototype.execute=function(t,e){var n,i,r,o,a,s,u;if(this._success=null!=t.success?t.success:this._success,this._failure=null!=t.failure?t.failure:this._failure,this._ignoreBody=e,a=f.Kii.getBaseURL()+this._path,f.Kii.logger("POSTING: "),f.Kii.logger(JSON.stringify(this._data)),o=l._isJSONType(this._contentType)?JSON.stringify(this._data):this._data,f.Kii.logger("Making request["+this._method+"] to "+a+" with data: "+o),n=f.Kii.getAdditionalHeaders(),null!=n)for(r in n)s=n[r],this._headers[r]=s;this._headers["x-kii-appid"]=f.Kii.getAppID(),this._headers["x-kii-appkey"]=f.Kii.getAppKey(),this._headers["x-kii-sdk"]=f.KiiSDKClientInfo.getSDKClientInfo(),null!=this._accept&&(this._headers.accept=this._accept),this._anonymous||null==f.KiiUser.getCurrentUser()||(this._headers.Authorization="Bearer "+f.KiiUser.getCurrentUser().getAccessToken()),null!=this._adminToken&&(this._headers.Authorization="Bearer "+this._adminToken),null!=this._contentType&&(this._headers["Content-Type"]=this._contentType),f.Kii.logger("Headers: "),f.Kii.logger(JSON.stringify(this._headers)),t={onComplete:function(t){return function(){var e,n,i,r,o,a,s;if(a=t._httpRequest.xhr,4===a.readyState){if(200<=(s=a.status)&&400>s){if(f.Kii.logger("Completed Request["+a.status+"]"),f.Kii.logger(a.responseText),o=t._parseResponseHeaders(a.getAllResponseHeaders()),t._ignoreBody)return t._success(null,a.status);try{r=JSON.parse(a.responseText)}catch(u){e=u,r=null}return null!=r?null!=r.errorCode?(n=r.errorCode,null!=r.message&&(n+=": "+r.message),t._failure(n,a.status,r.errorCode)):t._success(r,a.status,o):t._success(null,a.status,null)}f.Kii.logger("Error loading data..."),n=a.status+" : "+f.Kii.getBaseURL()+t._path;try{r=JSON.parse(decodeURIComponent(a.responseText))}catch(u){i=u,r=null}return null!=r&&null!=r.errorCode&&(n=r.errorCode,null!=r.message&&(n+=": "+r.message)),f.Kii.logger("Failure: "+n),f.Kii.logger(a.responseText),t._failure(n,a.status)}}}(this),onError:function(t){return function(){var e,n,i,r;r=t._httpRequest.xhr,f.Kii.logger("Error loading data..."),e=r.status+" : "+f.Kii.getBaseURL()+t._path;try{i=JSON.parse(decodeURIComponent(r.responseText))}catch(o){n=o,i=null}return null!=i&&null!=i.errorCode&&(e=i.errorCode,null!=i.message&&(e+=": "+i.message)),f.Kii.logger("Failure: "+e),f.Kii.logger(r.responseText),t._failure(e,r.status)}}(this)},this._httpRequest=this._createHttpRequest(this._method,a,t),null==this._httpRequest.xhr&&this._failure("Cross-Origin Resource Sharing is not supported by the browser.",0),u=this._headers;for(i in u)s=u[i],this._httpRequest.xhr.setRequestHeader(i,s);return"GET"!==this._method&&"DELETE"!==this._method?this._httpRequest.xhr.send(o):this._httpRequest.xhr.send()},t.prototype._createHttpRequest=function(t,e,n){var i;return i=null,null===f.Kii._getHttpRequestType()?"undefined"!=typeof jQuery?(f.Kii.logger("Use jQuery"),i=new o(t,e,n)):"undefined"!=typeof XMLHttpRequest?(f.Kii.logger("Use XMLHttpRequest"),i=new p(t,e,n)):"undefined"!=typeof Titanium&&(f.Kii.logger("Use Titanium"),i=new u(t,e,n)):(f.Kii.logger("Use http request backdoor"),f.Kii._getHttpRequestType()===f._KiiHttpRequestType.jQuery?(f.Kii.logger("Use jQuery"),i=new o(t,e,n)):f.Kii._getHttpRequestType()===f._KiiHttpRequestType.XMLHttpRequest?(f.Kii.logger("Use XMLHttpRequest"),i=new p(t,e,n)):f.Kii._getHttpRequestType()===f._KiiHttpRequestType.Titanium&&(f.Kii.logger("Use Titanium"),i=new u(t,e,n))),i},t.prototype._parseResponseHeaders=function(t){var e,n,i,r,o,a,s;if(i={},!t)return i;for(n=t.split("\r\n"),r=0;r<n.length;)e=n[r],o=e.indexOf(": "),o>0&&(a=e.substring(0,o).toLowerCase(),s=e.substring(o+2),i[a]=s),r++;return i},t}(),f.KiiUser=function(){function t(){this._setAuthToken=v(this._setAuthToken,this),this._getHttpURI=v(this._getHttpURI,this),this._clone=v(this._clone,this),this._getSubscriberPath=v(this._getSubscriberPath,this),this.pushInstallation=v(this.pushInstallation,this),this.pushSubscription=v(this.pushSubscription,this),this._listTopicsUsingCallbacks=v(this._listTopicsUsingCallbacks,this),this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this._groupWithJSON=v(this._groupWithJSON,this),this._setAuthHeader=v(this._setAuthHeader,this),this._getXhrWrapper=v(this._getXhrWrapper,this),this._getRequest=v(this._getRequest,this),this._updateWithJSON=v(this._updateWithJSON,this),this._validateLocalPhoneNumber=v(this._validateLocalPhoneNumber,this),this._validateIdentityData=v(this._validateIdentityData,this),this._updateWithUserFields=v(this._updateWithUserFields,this),this._updateWithIdentityData=v(this._updateWithIdentityData,this),this._deleteUsingCallbacks=v(this._deleteUsingCallbacks,this),this["delete"]=v(this["delete"],this),this._refreshUsingCallbacks=v(this._refreshUsingCallbacks,this),this.refresh=v(this.refresh,this),this._saveUsingCallbacks=v(this._saveUsingCallbacks,this),this.save=v(this.save,this),this._changeEmailUsingCallbacks=v(this._changeEmailUsingCallbacks,this),this.changeEmail=v(this.changeEmail,this),this._changePhoneUsingCallbacks=v(this._changePhoneUsingCallbacks,this),this.changePhone=v(this.changePhone,this),this._ownerOfGroupsUsingCallbacks=v(this._ownerOfGroupsUsingCallbacks,this),this.ownerOfGroups=v(this.ownerOfGroups,this),this._memberOfGroupsUsingCallbacks=v(this._memberOfGroupsUsingCallbacks,this),this.memberOfGroups=v(this.memberOfGroups,this),this.resendPhoneNumberVerification=v(this.resendPhoneNumberVerification,this),this.resendEmailVerification=v(this.resendEmailVerification,this),this._resendVerificationUsingCallbacks=v(this._resendVerificationUsingCallbacks,this),this.resendVerification=v(this.resendVerification,this),this.verifyPhoneNumber=v(this.verifyPhoneNumber,this),this._verifyCredentialsUsingCallbacks=v(this._verifyCredentialsUsingCallbacks,this),this.verifyCredentials=v(this.verifyCredentials,this),this._updatePasswordUsingCallbacks=v(this._updatePasswordUsingCallbacks,this),this.updatePassword=v(this.updatePassword,this),this._updateUsingCallbacks=v(this._updateUsingCallbacks,this),this.update=v(this.update,this),this._putIdentityUsingCallbacks=v(this._putIdentityUsingCallbacks,this),this.putIdentity=v(this.putIdentity,this),this._registerUsingCallbacks=v(this._registerUsingCallbacks,this),this.register=v(this.register,this),this._authenticateWithToken=v(this._authenticateWithToken,this),this._authenticate=v(this._authenticate,this),this.encryptedBucketWithName=v(this.encryptedBucketWithName,this),this.bucketWithName=v(this.bucketWithName,this),this.get=v(this.get,this),this.set=v(this.set,this),this.objectURI=v(this.objectURI,this),this.getAccessTokenObject=v(this.getAccessTokenObject,this),this._setExpiresAt=v(this._setExpiresAt,this),this._setAccessToken=v(this._setAccessToken,this),this.getAccessToken=v(this.getAccessToken,this),this.getLinkedSocialAccounts=v(this.getLinkedSocialAccounts,this),this._setPhoneVerified=v(this._setPhoneVerified,this),this.getPhoneVerified=v(this.getPhoneVerified,this),this._setEmailVerified=v(this._setEmailVerified,this),this.getEmailVerified=v(this.getEmailVerified,this),this._setModified=v(this._setModified,this),this.getModified=v(this.getModified,this),this._setCreated=v(this._setCreated,this),this.getCreated=v(this.getCreated,this),this.setLocale=v(this.setLocale,this),this.getLocale=v(this.getLocale,this),this.setCountry=v(this.setCountry,this),this.getCountry=v(this.getCountry,this),this._clearPassword=v(this._clearPassword,this),this._setPassword=v(this._setPassword,this),this._setLocalPhone=v(this._setLocalPhone,this),this.getPendingPhoneNumber=v(this.getPendingPhoneNumber,this),this._setPhoneNumber=v(this._setPhoneNumber,this),this.getPhoneNumber=v(this.getPhoneNumber,this),this.getPendingEmailAddress=v(this.getPendingEmailAddress,this),this._setEmailAddress=v(this._setEmailAddress,this),this.getEmailAddress=v(this.getEmailAddress,this),this.isPseudoUser=v(this.isPseudoUser,this),this.setDisplayName=v(this.setDisplayName,this),this.getDisplayName=v(this.getDisplayName,this),this._setDisabled=v(this._setDisabled,this),this.disabled=v(this.disabled,this),this._setUsername=v(this._setUsername,this),this.getUsername=v(this.getUsername,this),this.getID=v(this.getID,this),this._setUUID=v(this._setUUID,this),this.getUUID=v(this.getUUID,this),this._customInfo={}}return t.prototype.getUUID=function(){return this._uuid},t.prototype._setUUID=function(t){this._uuid=t},t.prototype.getID=function(){return this._uuid},t.prototype.getUsername=function(){return this._username},t.prototype._setUsername=function(t){var e;if(e=l._trim(t),f.Kii.logger("Setting username: "+e),l._validateUsername(e))return this._username=e;throw new f.InvalidUsernameException},t.prototype.disabled=function(){return this._disabled},t.prototype._setDisabled=function(t){this._disabled=t},t.prototype.getDisplayName=function(){return this._displayName},t.prototype.setDisplayName=function(t){if(!l._validateDisplayName(t))throw new f.InvalidDisplayNameException;return this._displayName=t},t.prototype.isPseudoUser=function(){return null!=this._hasPassword?!this._hasPassword:!this._username&&!this._emailAddress&&!this._phoneNumber},t.prototype.getEmailAddress=function(){return this._emailAddress},t.prototype._setEmailAddress=function(t){var e;if(e=l._trim(t),f.Kii.logger("Setting email: "+e),l._validateEmail(e))return this._emailAddress=e;throw new f.InvalidEmailException},t.prototype.getPendingEmailAddress=function(){return this._emailAddressPending},t.prototype.getPhoneNumber=function(){return this._phoneNumber},t.prototype._setPhoneNumber=function(t){if(f.Kii.logger("Setting phone number: "+t),l._validatePhoneNumber(t))return this._phoneNumber=t;throw new f.InvalidPhoneNumberException},t.prototype.getPendingPhoneNumber=function(){return this._phoneNumberPending},t.prototype._setLocalPhone=function(t,e){if(f.Kii.logger("Setting local phone number: "+t+", country: "+e),!l._validateLocalPhone(t))throw new f.InvalidPhoneNumberException;if(!l._validateCountryCode(e))throw new f.InvalidCountryException;return this._phoneNumber=t,this._country=e},t.prototype._setPassword=function(t){if(l._validatePassword(t))return this._password=t;throw new f.InvalidPasswordException},t.prototype._clearPassword=function(){return this._password=null},t.prototype.getCountry=function(){return this._country},t.prototype.setCountry=function(t){if(l._validateCountryCode(t))return this._country=t;throw new f.InvalidCountryException},t.prototype.getLocale=function(){return this._locale},t.prototype.setLocale=function(t){return this._locale=t},t.prototype.getCreated=function(){return this._created},t.prototype._setCreated=function(t){this._created=t},t.prototype.getModified=function(){return this._modified},t.prototype._setModified=function(t){this._modified=t},t.prototype.getEmailVerified=function(){return this._emailVerified},t.prototype._setEmailVerified=function(t){this._emailVerified=t},t.prototype.getPhoneVerified=function(){return this._phoneVerified},t.prototype._setPhoneVerified=function(t){this._phoneVerified=t},t.prototype.getLinkedSocialAccounts=function(){return f.Kii.logger("third party accounts: "+this._thirdPartyAccounts),null!=this._thirdPartyAccounts?this._thirdPartyAccounts:this._thirdPartyAccounts={}},t.prototype.getAccessToken=function(){return f.Kii.logger("Getting access token: "+this._accessToken),this._accessToken},t.prototype._setAccessToken=function(t){return this._accessToken=t,f.Kii.logger("Setting access token: "+this._accessToken)},t.prototype._setExpiresAt=function(t){return this._expiresAt=t,f.Kii.logger("Setting expires at: "+this._expiresAt)},t.prototype.getAccessTokenObject=function(){var t;return t=null,null!=this._accessToken&&(t={access_token:this._accessToken,expires_at:this._expiresAt}),t},t.prototype.objectURI=function(){var t;return t=null,null!=this._uuid&&(t="kiicloud://users/"+this._uuid),t},t.prototype.set=function(t,e){return l._isNonEmptyString(t)&&0!==t.indexOf("_")?(f.Kii.logger(this),f.Kii.logger(this._customInfo),this._customInfo[t]=e):void f.Kii.logger("[WARN] Reserved key is used for custom field. key="+t)},t.prototype.get=function(t){return this._customInfo[t]},t.getCurrentUser=function(){return f.Kii.getCurrentUser()},t.userWithUsername=function(t,e){var n;return n=new f.KiiUser,n._setUsername(t),n._setPassword(e),n},t._userWithEmailAddress=function(t,e){var n;return n=new f.KiiUser,n._setEmailAddress(t),n._setPassword(e),n},t._userWithPhoneNumber=function(t,e){var n;return n=new f.KiiUser,n._setPhoneNumber(t),n._setPassword(e),n},t.userWithPhoneNumber=function(e,n){return t._userWithPhoneNumber(e,n)},t.userWithPhoneNumberAndUsername=function(t,e,n){var i;return i=new f.KiiUser,i._setPhoneNumber(t),i._setUsername(e),i._setPassword(n),i},t.userWithEmailAddress=function(e,n){return t._userWithEmailAddress(e,n)},t.userWithEmailAddressAndUsername=function(t,e,n){var i;return i=new f.KiiUser,i._setEmailAddress(t),i._setUsername(e),i._setPassword(n),i},t.userWithEmailAddressAndPhoneNumber=function(t,e,n){var i;return i=new f.KiiUser,i._setEmailAddress(t),i._setPhoneNumber(e),i._setPassword(n),i},t.userWithCredentials=function(t,e,n,i){var r;return r=new f.KiiUser,r._setEmailAddress(t),r._setPhoneNumber(e),r._setUsername(n),r._setPassword(i),r},t._validateURI=function(t){var e,n,i;return t=l._trim(t),n=/^kiicloud:\/\/users\/(.*$)/i,"string"===(typeof t).toLowerCase()&&(e=t.match(n),null!=e&&(i=e[1])),i},t.userWithID=function(t){var e;if(null==t||""===t)throw new f.InvalidArgumentException("userID should not null or empty");return e=new f.KiiUser,e._setUUID(t),e},t.userWithURI=function(t){var e,n;if(f.Kii.logger("About to extract from: "+t),n=f.KiiUser._validateURI(t),f.Kii.logger("Extracted uuid from uri: "+n),null==n)throw new f.InvalidURIException;return e=new f.KiiUser,e._setUUID(n),e},t.prototype.bucketWithName=function(t){var e;return e=new f.KiiBucket(t,this)},t.prototype.encryptedBucketWithName=function(t){var e;return e=new f.KiiEncryptedBucket(t,this)},t.prototype._authenticate=function(t){var e,n,i,r,o,a;return f.Kii.logger("Authenticating user:"),f.Kii.logger(this),f.Kii.logger("Email verified: "+this._emailVerified),f.Kii.logger("Phone verified: "+this._phoneVerified),null!=this._username?a=this._username:null!=this._emailAddress&&this._emailVerified===!0?a=this._emailAddress:null!=this._phoneNumber&&this._phoneVerified===!0?a=this._phoneNumber:null!=this._emailAddress?a=this._emailAddress:null!=this._phoneNumber&&(a=this._phoneNumber),i={username:a,password:this._password},r=new Date,n=r.getTime(),f.Kii.getAccessTokenExpiration()>0&&(i.expiresAt=l._safeCalculateExpiresAtAsNumber(f.Kii.getAccessTokenExpiration(),n)),o=this._getRequest({path:"/oauth2/token",withApp:!1}),o.setAnonymous(!0),o.setMethod("POST"),o.setData(i),e={success:function(e){return function(i){return e._setUUID(i.id),e._clearPassword(),e._setAccessToken(i.access_token),null!=i.expires_in&&(r=new Date,n=r.getTime(),e._expiresAt=l._safeCalculateExpiresAtAsDate(i.expires_in,n)),f.Kii.setCurrentUser(e),null!=t?t.success(f.Kii.getCurrentUser()):void 0}}(this),failure:function(e){return function(n){return e._clearPassword(),null!=t?t.failure(e,n):void 0}}(this)},o.execute(e,!1)},t.prototype._authenticateWithToken=function(t,e,n){var i,r;return f.Kii.logger("Authenticating user "+this),f.Kii.logger(e),r=this._getRequest({path:"/users/me",withApp:!0}),r.setAnonymous(!0),r.addHeader("Authorization","Bearer "+t),i={success:function(i){return function(r){return i._updateWithJSON(r),i._setAccessToken(t),i._setExpiresAt("undefined"==typeof n?new Date(l.MAX_DATE_IN_MILLIS):n),f.Kii.setCurrentUser(i),null!=e?e.success(f.Kii.getCurrentUser()):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},r.execute(i,!1)},t.authenticate=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=i&&i.success.apply(i,arguments),r(arguments[0])},failure:function(){var t;return null!=i&&i.failure.apply(i,arguments),t=l._Error(arguments[1]),t.target=arguments[0],o(t)}},t._authenticateUsingCallbacks(e,n,a)})},t._authenticateUsingCallbacks=function(t,e,n){var i,r;try{if(f.Kii.logger("UserIdentifier: "+t),!l._validatePassword(e))throw new f.InvalidPasswordException;if(l._validateEmail(t))r=f.KiiUser._userWithEmailAddress(t,e);else if(l._validatePhoneNumber(t))r=f.KiiUser._userWithPhoneNumber(t,e);else{if(!l._validateUsername(t))throw new f.InvalidUserIdentifierException;r=f.KiiUser.userWithUsername(t,e)}return r._authenticate(n)}catch(o){if(i=o,null!=r&&r._clearPassword(),null!=n)return n.failure(null,i.message)}},t.authenticateWithToken=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=n&&n.success.apply(n,arguments),r(arguments[0])},failure:function(){var t;return null!=n&&n.failure.apply(n,arguments),t=l._Error(arguments[1]),t.target=arguments[0],o(t)}},t._authenticateWithTokenUsingCallbacks(e,a,i)})},t._authenticateWithTokenUsingCallbacks=function(t,e,n){var i,r;return i=l._type(n),"undefined"!==i&&"date"!==i?e.failure(null,f.InvalidArgumentException("Specified expiresAt must be a Date")):(r=new f.KiiUser,r._authenticateWithToken(t,e,n))},t.prototype.register=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._registerUsingCallbacks(r)}}(this))},t.prototype._registerUsingCallbacks=function(t){var e,n,i,r,o,a;if(f.Kii.logger("Registering user "+this),e={password:this._password},null!=this._username&&(e.loginName=this._username),null!=this._displayName&&(e.displayName=this._displayName),null!=this._emailAddress&&(e.emailAddress=this._emailAddress),null!=this._phoneNumber&&(e.phoneNumber=this._phoneNumber),!this._validateLocalPhoneNumber(this._phoneNumber,this._country))return void t.failure(this,"needs to provide country for the local phone number");null!=this._country&&(e.country=this._country),null!=this._locale&&(e.locale=this._locale),f.Kii.logger("CINFO"),f.Kii.logger(JSON.stringify(this._customInfo)),a=this._customInfo;for(n in a)o=a[n],f.Kii.logger("Key/val: "+n+"/"+o),e[n]=o;return r=this._getRequest({path:"/users",withApp:!0}),r.setMethod("POST"),r.setData(e),r.setAnonymous(!0),r.setContentType("application/vnd.kii.RegistrationRequest+json"),i={success:function(e){return function(n){return f.Kii.logger("Succreg"),e._updateWithJSON(n),e._authenticate(t)}}(this),failure:function(e){return function(n){return f.Kii.logger("Failreg"),e._clearPassword(),null!=t?t.failure(e,n):void 0}}(this)},r.execute(i,!1)},t.registerAsPseudoUser=function(e,n){return new Promise(function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1]))}},t._registerAsPseudoUserUsingCallbacks(o,n)})},t._registerAsPseudoUserUsingCallbacks=function(t,e){var n,i,r,o,a;return r=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/users",o=h.createXHRWrapper("POST",r),a=o.xhr,a.setRequestHeader("x-kii-appid",f.Kii.getAppID()),a.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),a.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),a.setRequestHeader("Content-Type","application/vnd.kii.RegistrationAndAuthorizationRequest+json"),i={success:function(){var e,n,i,o;try{return a.status<300&&a.status>=200?(i=JSON.parse(a.responseText),e=i._accessToken,o=new f.KiiUser,o._updateWithJSON(i),o._setAccessToken(e),o._setExpiresAt(new Date(l.MAX_DATE_IN_MILLIS)),f.Kii.setCurrentUser(o),t.success(o)):(n=a.status+" : "+r,t.failure(null,n))}catch(s){return t.failure(null,"failed to parse response")}},failure:function(){var e,n;e="failed to register pseudo user. statusCode: "+a.status;try{if(n=JSON.parse(a.responseText),null!=n.errorCode&&(e+=" error code: "+n.errorCode),null!=n.message)return e+=" error message: "+n.message}catch(i){}finally{t.failure(null,e)}}},null==e&&(e={}),n=JSON.stringify(e),o.sendData(n,i)},t.prototype.putIdentity=function(t,e,n,i,r){return new Promise(function(o){return function(a,s){var u;return u={success:function(){return null!=n&&n.success.apply(n,arguments),a(arguments[0])},failure:function(){return null!=n&&n.failure.apply(n,arguments),s(l._Error(arguments[1],o))}},o._putIdentityUsingCallbacks(t,e,u,i,r)}}(this))},t.prototype._putIdentityUsingCallbacks=function(t,e,n,i,r){var o,a,s,u;if(f.Kii.logger("Put identity user: "+this._uuid+", data: "+JSON.stringify(t)),a={},!this.isPseudoUser())return void(null!=n&&n.failure(this,"This user has the identity already"));if(null==t)return void(null!=n&&n.failure(this,"identityData is null"));try{this._validateIdentityData(t)}catch(c){return s=c,void(null!=n&&n.failure(this,s))}return u=!1,null!=t.emailAddress&&(u=!0),null!=t.phoneNumber&&(u=!0),null!=t.username&&(u=!0),u?null==e?void(null!=n&&n.failure(this,"password is null")):l._validatePassword(e)?(o=null!=i?i.country:null,null==t.phoneNumber||this._validateLocalPhoneNumber(t.phoneNumber,o)?this.refresh({failure:function(t){return function(e,i){return f.Kii.logger("Failreg"),null!=n?n.failure(t,i):void 0}}(this),success:function(o){return function(s){var u,l,c,h,p,d,g,m,v,y;if(!s.isPseudoUser())return void(null!=n&&n.failure(s,"This user has the identity already"));if(a=o._clone(s._customInfo),null!=t.emailAddress&&(a.emailAddress=t.emailAddress),null!=t.phoneNumber&&(a.phoneNumber=t.phoneNumber),null!=t.username&&(a.loginName=t.username),a.password=e,null!=i)for(l in i)d=i[l],a[l]=d;if(null!=r)for(v=0,y=r.length;y>v;v++)c=r[v],delete a[c];return p=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+("/users/"+o._uuid),g=o._getXhrWrapper("POST",p),m=g.xhr,o._setAuthHeader(m),m.setRequestHeader("Content-Type","application/vnd.kii.UserUpdateRequest+json"),h={success:function(){var e,a;try{return a=JSON.parse(m.responseText),m.status<300&&m.status>=200?(s._setModified(a.modifiedAt),s._updateWithIdentityData(t),s._updateWithUserFields(i,r),o._hasPassword=!0,n.success(s)):(e=m.status+" : "+p,n.failure(o,e))}catch(u){return n.failure(o,"failed to parse response")}},failure:function(){var t,e;t="failed to put identity data. statusCode: "+m.status;try{if(e=JSON.parse(m.responseText),null!=e.errorCode&&(t+=" error code: "+e.errorCode),null!=e.message)return t+=" error message: "+e.message}catch(i){}finally{n.failure(o,t)}}},u=JSON.stringify(a),g.sendData(u,h)}}(this)}):void n.failure(this,"needs to provide country for the local phone number")):void(null!=n&&n.failure(this,"invalid password")):void(null!=n&&n.failure(this,"needs to provide at least one of login name, email address or phone number"))},t.prototype.update=function(t,e,n,i){return new Promise(function(r){return function(o,a){var s;return s={success:function(){return null!=e&&e.success.apply(e,arguments),o(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),a(l._Error(arguments[1],r))}},r._updateUsingCallbacks(t,s,n,i)}}(this))},t.prototype._updateUsingCallbacks=function(t,e,n,i){var r,o,a,s,u,l,c,h,p,d,g;if(f.Kii.logger("update user: "+this._uuid),o={},s=!1,l=!1,u=!1,null!=t){try{this._validateIdentityData(t)}catch(m){return a=m,void(null!=e&&e.failure(this,a))}null!=t.emailAddress&&(s=!0),null!=t.phoneNumber&&(s=!0),null!=t.username&&(s=!0)}if(null!=n)for(c in n){p=n[c],l=!0;break}if(null!=i)for(d=0,g=i.length;g>d;d++){h=i[d],u=!0;break}return s||l||u?(r=null!=n?n.country:null,null==t||null==t.phoneNumber||this._validateLocalPhoneNumber(t.phoneNumber,r)?this.refresh({failure:function(t){return function(n,i){return f.Kii.logger("Failreg"),null!=e?e.failure(t,i):void 0}}(this),success:function(r){return function(a){var u,l,d,g,m,v,y;if(a.isPseudoUser()&&s)return void(null!=e&&e.failure(a,"Pseudo user must use putIdentity()"));if(o=r._clone(a._customInfo),null!=t&&(null!=t.emailAddress&&(o.emailAddress=t.emailAddress),null!=t.phoneNumber&&(o.phoneNumber=t.phoneNumber),null!=t.username&&(o.loginName=t.username)),null!=n)for(c in n)p=n[c],o[c]=p;
if(null!=i)for(v=0,y=i.length;y>v;v++)h=i[v],delete o[h];return d=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+("/users/"+r._uuid),g=r._getXhrWrapper("POST",d,!1),m=g.xhr,r._setAuthHeader(m),m.setRequestHeader("Content-Type","application/vnd.kii.UserUpdateRequest+json"),l={success:function(){var s,u;try{return u=JSON.parse(m.responseText),m.status<300&&m.status>=200?(a._setModified(o.modifiedAt),a._updateWithIdentityData(t),a._updateWithUserFields(n,i),e.success(a)):(s=m.status+" : "+d,e.failure(r,s))}catch(l){return e.failure(r,"failed to parse response")}},failure:function(){var t,n;t="failed to update user. statusCode: "+m.status;try{if(n=JSON.parse(m.responseText),null!=n.errorCode&&(t+=" error code: "+n.errorCode),null!=n.message)return t+=" error message: "+n.message}catch(i){}finally{e.failure(r,t)}}},u=JSON.stringify(o),g.sendData(u,l)}}(this)}):void e.failure(this,"needs to provide country for the local phone number")):void e.failure(this,"all arguments are null or empty")},t.prototype.updatePassword=function(t,e,n){return new Promise(function(i){return function(r,o){var a;return a={success:function(){return null!=n&&n.success.apply(n,arguments),r(arguments[0])},failure:function(){return null!=n&&n.failure.apply(n,arguments),o(l._Error(arguments[1],i))}},i._updatePasswordUsingCallbacks(t,e,a)}}(this))},t.prototype._updatePasswordUsingCallbacks=function(t,e,n){var i,r,o,a;return f.Kii.logger("Updating password from "+t+" to "+e),l._validatePassword(e)?(i={oldPassword:t,newPassword:e},r="/users/"+this._uuid+"/password",o=this._getRequest({path:r,withApp:!0}),o.setMethod("PUT"),o.setData(i),o.setContentType("application/vnd.kii.ChangePasswordRequest+json"),a={success:function(t){return function(e,i){if(t._clearPassword,300>i&&i>=200){if(null!=n)return n.success(t)}else if(null!=n)return n.failure(t,"Unable to change password")}}(this),failure:function(t){return function(e){return t._clearPassword,null!=n?n.failure(t,e):void 0}}(this)},o.execute(a,!0)):null!=n?n.failure(this,(new f.InvalidPasswordException).message):void 0},t.resetPassword=function(e,n){return new Promise(function(i,r){var o;return o={success:function(){return null!=n&&n.success(),i()},failure:function(){return null!=n&&n.failure(arguments[0]),r(l._Error(arguments[0]))}},t._resetPasswordUsingCallbacks(e,o)})},t._resetPasswordUsingCallbacks=function(t,e){var n,i,r,o;if(f.Kii.logger("Resetting password with identifier: "+t),l._validateEmail(t))n="EMAIL";else if(null!=e)return void e.failure("Invalid user identifier. Must be a valid email address");return null!=n?(i="/users/"+n+":"+t+"/password/request-reset",r=new a(i,!0),r.setMethod("POST"),r.setAnonymous(!0),o={success:function(t,n){return 300>n&&n>=200&&null!=e?e.success():null!=e?e.failure("Unable to reset password"):void 0},failure:function(t){return null!=e?e.failure(t):void 0}},r.execute(o,!0)):void 0},t.resetPasswordWithNotificationMethod=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=i&&i.success(),r()},failure:function(){return null!=i&&i.failure(arguments[0]),o(l._Error(arguments[0]))}},t._resetPasswordWithNotificationMethodUsingCallbacks(e,n,a)})},t._resetPasswordWithNotificationMethodUsingCallbacks=function(t,e,n){var i,r,o,a,s,u;return"string"!=typeof t?void(null!=n&&n.failure("given userIdentifier is not string")):""===t?void(null!=n&&n.failure("given userIdentifier is empty")):"EMAIL"!==e&&"SMS"!==e&&"SMS_PIN"!==e?void(null!=n&&n.failure("notificationMethod should be 'EMAIL' or 'SMS' or 'SMS_PIN'")):(r=l._validateEmail(t)?"EMAIL:"+t:l._isGlobalPhoneNumber(t)?"PHONE:"+t:t,r=encodeURIComponent(r),i={notificationMethod:e},"SMS_PIN"===e&&(i.notificationMethod="SMS",i.smsResetMethod="PIN"),a=""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/users/"+r+"/password/request-reset",s=h.createXHRWrapper("POST",a),u=s.xhr,u.setRequestHeader("x-kii-appid",f.Kii.getAppID()),u.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),u.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),u.setRequestHeader("Content-Type","application/vnd.kii.ResetPasswordRequest+json"),o={success:function(){return null!=n?n.success():void 0},failure:function(){var t,e;t="failed to reset password. statusCode: "+u.status;try{if(e=JSON.parse(u.responseText),null!=e.errorCode&&(t+=" error code: "+e.errorCode),null!=e.message)return t+=" error message: "+e.message}catch(i){}finally{null!=n&&n.failure(t)}}},s.sendData(JSON.stringify(i),o))},t.completeResetPassword=function(e,n,i,r){return new Promise(function(o,a){var s;return s={success:function(){return null!=r&&r.success(),o()},failure:function(){return null!=r&&r.failure(arguments[0]),a(l._Error(arguments[0]))}},t._completeResetPasswordUsingCallbacks(e,n,i,s)})},t._completeResetPasswordUsingCallbacks=function(t,e,n,i){var r,o,a,s,u,c;return l._isNonEmptyString(t)?l._isNonEmptyString(e)?(o=l._validateEmail(t)?"EMAIL:"+t:l._isGlobalPhoneNumber(t)?"PHONE:"+t:t,o=encodeURIComponent(o),r={pinCode:e},l._isNonEmptyString(n)&&(r.newPassword=n),s=""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/users/"+o+"/password/complete-reset",u=h.createXHRWrapper("POST",s),c=u.xhr,c.setRequestHeader("x-kii-appid",f.Kii.getAppID()),c.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),c.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),c.setRequestHeader("Content-Type","application/vnd.kii.CompletePasswordResetRequest+json"),a={success:function(){return null!=i?i.success():void 0},failure:function(){var t,e;t="failed to reset password. statusCode: "+c.status;try{if(e=JSON.parse(c.responseText),null!=e.errorCode&&(t+=" error code: "+e.errorCode),null!=e.message)return t+=" error message: "+e.message}catch(n){}finally{null!=i&&i.failure(t)}}},u.sendData(JSON.stringify(r),a)):void(null!=i&&i.failure("given pinCode is null or empty")):void(null!=i&&i.failure("given userIdentifier is null or empty"))},t.prototype.verifyCredentials=function(t,e,n){return new Promise(function(i){return function(r,o){var a;return a={success:function(){return null!=n&&n.success.apply(n,arguments),r(arguments[0])},failure:function(){return null!=n&&n.failure.apply(n,arguments),o(l._Error(arguments[1],i))}},i._verifyCredentialsUsingCallbacks(t,e,a)}}(this))},t.prototype._verifyCredentialsUsingCallbacks=function(t,e,n){var i,r,o;return f.Kii.logger("Verifying "+t+" with code: "+e),i="/users/me/"+t+"/verify",r=this._getRequest({path:i,withApp:!0}),r.setMethod("POST"),r.setData({verificationCode:e}),r.setContentType("application/vnd.kii.AddressVerificationRequest+json"),o={success:function(e){return function(i,r){if(300>r&&r>=200){if("email-address"===t?e._setEmailVerified(!0):"phone-number"===t&&e._setPhoneVerified(!0),null!=n)return n.success(e)}else if(null!=n)return n.failure(e,"Unable to verify "+t)}}(this),failure:function(t){return function(e){return null!=n?n.failure(t,e):void 0}}(this)},r.execute(o,!0)},t.prototype.verifyPhoneNumber=function(t,e){return this.verifyCredentials("phone-number",t,e)},t.prototype.resendVerification=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._resendVerificationUsingCallbacks(t,o)}}(this))},t.prototype._resendVerificationUsingCallbacks=function(t,e){var n,i,r,o;return f.Kii.logger("Resending verification "+t),n=this.getID(),i="/users/"+n+"/"+t+"/resend-verification",r=this._getRequest({path:i,withApp:!0}),r.setMethod("POST"),o={success:function(n){return function(i,r){return 300>r&&r>=200&&null!=e?e.success(n):null!=e?e.failure(n,"Unable to resend "+t+" verification"):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},r.execute(o,!0)},t.prototype.resendEmailVerification=function(t){return this.resendVerification("email-address",t)},t.prototype.resendPhoneNumberVerification=function(t){return this.resendVerification("phone-number",t)},t.prototype.memberOfGroups=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._memberOfGroupsUsingCallbacks(r)}}(this))},t.prototype._memberOfGroupsUsingCallbacks=function(t){var e,n,i;return f.Kii.logger("Getting groups for member "+this._uuid),n="/groups/?is_member="+this._uuid,i=this._getRequest({path:n,withApp:!0}),i.setAccept("application/vnd.kii.GroupsRetrievalResponse+json"),e={success:function(e){return function(n,i){var r,o,a,s,u;if(300>i&&i>=200){for(o=[],u=n.groups,a=0,s=u.length;s>a;a++)r=u[a],o.push(e._groupWithJSON(r));if(null!=t)return t.success(e,o)}else if(null!=t)return t.failure(e,"Unable to retrieve groups")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(e,!1)},t.prototype.ownerOfGroups=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._ownerOfGroupsUsingCallbacks(r)}}(this))},t.prototype._ownerOfGroupsUsingCallbacks=function(t){var e,n,i;return f.Kii.logger("Getting groups owned by the user "+this._uuid),n="/groups/?owner="+this._uuid,i=this._getRequest({path:n,withApp:!0}),i.setAccept("application/vnd.kii.GroupsRetrievalResponse+json"),e={success:function(e){return function(n,i){var r,o,a,s,u;if(300>i&&i>=200){for(o=[],u=n.groups,a=0,s=u.length;s>a;a++)r=u[a],o.push(e._groupWithJSON(r));if(null!=t)return t.success(e,o)}else if(null!=t)return t.failure(e,"Unable to retrieve groups")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(e,!1)},t.prototype.changePhone=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._changePhoneUsingCallbacks(t,o)}}(this))},t.prototype._changePhoneUsingCallbacks=function(t,e){var n,i,r;return f.Kii.logger("Updating phone number to "+t),n="/users/"+this._uuid+"/phone-number",i=this._getRequest({path:n,withApp:!0}),i.setMethod("PUT"),i.setContentType("application/vnd.kii.PhoneNumberModificationRequest+json"),i.setData({phoneNumber:t}),r={success:function(t){return function(n,i){return 300>i&&i>=200&&null!=e?e.success(t):null!=e?e.failure(t,"Unable to update phone number"):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},i.execute(r,!0)},t.prototype.changeEmail=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments[0])},failure:function(){return null!=e&&e.failure.apply(e,arguments),r(l._Error(arguments[1],n))}},n._changeEmailUsingCallbacks(t,o)}}(this))},t.prototype._changeEmailUsingCallbacks=function(t,e){var n,i,r;return f.Kii.logger("Updating email address to: "+t),l._validateEmail(t)?(n="/users/"+this._uuid+"/email-address",i=this._getRequest({path:n,withApp:!0}),i.setMethod("PUT"),i.setContentType("application/vnd.kii.EmailAddressModificationRequest+json"),i.setData({emailAddress:t}),r={success:function(t){return function(n,i){return 300>i&&i>=200&&null!=e?e.success(t):null!=e?e.failure(t,"Unable to update email address"):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(t,n):void 0}}(this)},i.execute(r,!0)):e.failure(this,"Invalid email address format")},t.prototype.save=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._saveUsingCallbacks(r)}}(this))},t.prototype._saveUsingCallbacks=function(t){var e,n,i,r;return f.Kii.logger("Saving user: "+this._uuid),n="/users/"+this._uuid,f.Kii.logger("CUSTOMINFO: "),f.Kii.logger(this._customInfo),i=this._getRequest({path:n,withApp:!0}),i.setMethod("POST"),i.setContentType("application/vnd.kii.UserUpdateRequest+json"),e=this._customInfo,null!=this._country&&(e.country=this._country),null!=this._locale&&(e.locale=this._locale),null!=this._displayName&&(e.displayName=this._displayName),i.setData(e),r={success:function(e){return function(n,i){if(300>i&&i>=200){if(e._setModified(n.modifiedAt),null!=t)return t.success(e)}else if(null!=t)return t.failure(e,"Unable to parse response")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},i.execute(r,!1)},t.prototype.refresh=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._refreshUsingCallbacks(r)}}(this))},t.prototype._refreshUsingCallbacks=function(t){var e,n;return f.Kii.logger("Refreshing user: "+this._uuid),n=this._getRequest({path:"/users/"+this._uuid,withApp:!0}),e={success:function(e){return function(n,i){if(300>i&&i>=200){if(e._phoneNumberPending=null,e._emailAddressPending=null,e._updateWithJSON(n),null!=t)return t.success(e)}else if(null!=t)return t.failure(e,"Unable to parse response")}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!1)},t.prototype["delete"]=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(){return null!=t&&t.success.apply(t,arguments),n(arguments[0])},failure:function(){return null!=t&&t.failure.apply(t,arguments),i(l._Error(arguments[1],e))}},e._deleteUsingCallbacks(r)}}(this))},t.prototype._deleteUsingCallbacks=function(t){var e,n;return f.Kii.logger("Deleting user..."),n=this._getRequest({path:"/users/"+this._uuid,withApp:!0}),n.setMethod("DELETE"),e={success:function(e){return function(n,i){return 300>i&&i>=200&&null!=t?t.success(e):null!=t?t.failure(e,"Unable to parse response"):void 0}}(this),failure:function(e){return function(n){return null!=t?t.failure(e,n):void 0}}(this)},n.execute(e,!0)},t.logOut=function(){return f.Kii.logOut()},t.loggedIn=function(){return f.Kii.loggedIn()},t.prototype._updateWithIdentityData=function(t){return null!=t&&(null!=t.username&&(this._username=t.username),null!=t.emailAddress&&(this._emailAddress=t.emailAddress),null!=t.phoneNumber)?this._phoneNumber=t.phoneNumber:void 0},t.prototype._updateWithUserFields=function(t,e){var n,i,r,o,a,s;if(null!=t)for(n in t)r=t[n],"displayName"===n?this._displayName=r:"country"===n?this._country=r:"locale"===n?this._locale=r:""===n?(f.Kii.logger("Setting empty to custom info"),this._customInfo[n]=r):"_"!==n.substring(0,1)&&(f.Kii.logger("Setting to custom info"),this._customInfo[n]=r);if(null!=e){for(s=[],o=0,a=e.length;a>o;o++)i=e[o],s.push(delete this._customInfo[i]);return s}},t.prototype._validateIdentityData=function(t){if(null!=t){if(null!=t.emailAddress&&!l._validateEmail(t.emailAddress))throw"invalid email";if(null!=t.phoneNumber&&!l._validatePhoneNumber(t.phoneNumber))throw"invalid phone number";if(null!=t.username&&!l._validateUsername(t.username))throw"invalid username"}},t.prototype._validateLocalPhoneNumber=function(t,e){return null==t||l._isGlobalPhoneNumber(t)?!0:null!=e?l._validateCountryCode(e):!1},t.prototype._updateWithJSON=function(t){var e,n,i,r;f.Kii.logger("Updating with:"),f.Kii.logger(t),this._thirdPartyAccounts={},r=[];for(e in t)i=t[e],f.Kii.logger("key/val => "+e+"/"+i),f.Kii.logger("Substr "+e.substring(0,1)),"userID"===e||"id"===e?r.push(this._uuid=i):"created"===e||"createdAt"===e||"_created"===e?r.push(this._created=i):"modified"===e||"modifiedAt"===e||"_modified"===e?r.push(this._modified=i):"loginName"===e?r.push(this._username=i):"displayName"===e?r.push(this._displayName=i):"country"===e?(f.Kii.logger("Is setting country"),r.push(this._country=i)):"locale"===e?r.push(this._locale=i):"emailAddress"===e?r.push(this._emailAddress=i):"_emailAddressPending"===e?r.push(this._emailAddressPending=i):"phoneNumber"===e?r.push(this._phoneNumber=i):"_phoneNumberPending"===e?r.push(this._phoneNumberPending=i):"emailAddressVerified"===e?(f.Kii.logger("Email verified: "+i),r.push(this._emailVerified=i)):"phoneNumberVerified"===e?(f.Kii.logger("Phone verified: "+i),r.push(this._phoneVerified=i)):"_hasPassword"===e?(f.Kii.logger("_hasPassword: "+i),r.push(this._hasPassword=i)):"_thirdPartyAccounts"===e?(null!=i.hotmail&&(n=i.hotmail,n.type="live",i.live=n,delete i.hotmail),f.Kii.logger("_thirdPartyAccounts: "+i),r.push(this._thirdPartyAccounts=i)):"_disabled"===e?(f.Kii.logger("disabled: "+i),r.push(this._disabled=i)):""===e?(f.Kii.logger("Setting empty to custom info"),r.push(this._customInfo[e]=i)):e.substring(0,!0)?(f.Kii.logger("Setting to custom info"),r.push(this._customInfo[e]=i)):r.push(f.Kii.logger("Doing nothing"));return r},t.prototype._getRequest=function(t){var e,n,i;return e=t.path,i=t.withApp,n=new a(e,i)},t.findUserByEmail=function(e,n){var i,r;return null==f.KiiUser.getCurrentUser()||null==f.KiiUser.getCurrentUser().getAccessToken()?(r=f.IllegalStateException("User is not logged in"),i=l._Error(r),null!=n&&"function"==typeof n.failure&&n.failure(r),Promise.reject(i)):t._findUserByEmail(e,n)},t._findUserByEmail=function(e,n,i){var r,o,a;return null==e||""===e?(o=f.InvalidArgumentException("email should not null or empty"),r=l._Error(o),null!=i?(null!=n&&"function"==typeof n.failure&&n.failure(i,o),r.target=i):null!=n&&"function"==typeof n.failure&&n.failure(o),Promise.reject(r)):(a=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+("/users/EMAIL:"+e),t._findUserRequestImpl(a,n,i))},t.findUserByPhone=function(e,n){var i,r;return null==f.KiiUser.getCurrentUser()||null==f.KiiUser.getCurrentUser().getAccessToken()?(r=f.IllegalStateException("User is not logged in"),i=l._Error(r),null!=n&&"function"==typeof n.failure&&n.failure(r),Promise.reject(i)):t._findUserByPhone(e,n)},t._findUserByPhone=function(e,n,i){var r,o,a;return null==e||""===e?(o=f.InvalidArgumentException("phone should not null or empty"),r=l._Error(o),null!=i?(null!=n&&"function"==typeof n.failure&&n.failure(i,o),r.target=i):null!=n&&"function"==typeof n.failure&&n.failure(o),Promise.reject(r)):(a=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+("/users/PHONE:"+e),t._findUserRequestImpl(a,n,i))},t.findUserByUsername=function(e,n){var i,r;return null==f.KiiUser.getCurrentUser()||null==f.KiiUser.getCurrentUser().getAccessToken()?(r=f.IllegalStateException("User is not logged in"),i=l._Error(r),null!=n&&"function"==typeof n.failure&&n.failure(r),Promise.reject(i)):t._findUserByUsername(e,n)},t._findUserByUsername=function(e,n,i){var r,o,a;return null==e||""===e?(o=f.InvalidArgumentException("username should not null or empty"),r=l._Error(o),null!=i?(null!=n&&"function"==typeof n.failure&&n.failure(i,o),r.target=i):null!=n&&"function"==typeof n.failure&&n.failure(o),Promise.reject(r)):(a=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+("/users/LOGIN_NAME:"+e),t._findUserRequestImpl(a,n,i))},t._findUserRequestImpl=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){var t;return null!=n&&null!=(t=n.success)&&t.apply(n,arguments),r(null!=i?arguments:arguments[0])},failure:function(){var t;return null!=n&&null!=(t=n.failure)&&t.apply(n,arguments),o(null!=i?l._Error(arguments[1],arguments[0]):l._Error(arguments[0]))}},t._findUserRequestImplUsingCallbacks(e,a,i)})},t._findUserRequestImplUsingCallbacks=function(t,e,n){var i,r,o;return r=h.createXHRWrapper("GET",t),o=r.xhr,o.setRequestHeader("x-kii-appid",f.Kii.getAppID()),o.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),o.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),null!=n?o.setRequestHeader("Authorization","Bearer "+n._getToken()):o.setRequestHeader("Authorization","Bearer "+f.KiiUser.getCurrentUser().getAccessToken()),i={success:function(){var t,i;if(null!=e)try{return t=JSON.parse(o.responseText),null!=n?(i=new f.KiiUserWithToken(n._getToken()),i._updateWithJSON(t),e.success(n,i)):(i=new f.KiiUser,i._updateWithJSON(t),e.success(i))}catch(r){return null!=n?e.failure(n,"Unable to parse response"):e.failure("Unable to parse response")}},failure:function(){var t,i;if(null!=e){t="Failed to find user. statusCode: "+o.status;try{if(i=JSON.parse(o.responseText),null!=i.errorCode&&(t+=" error code: "+i.errorCode),null!=i.message)return t+=" error message: "+i.message}finally{null!=n?e.failure(n,t):e.failure(t)}}}},r.send(i)},t.prototype._getXhrWrapper=function(t,e){var n,i;return n=h.createXHRWrapper(t,e),i=n.xhr,i.setRequestHeader("x-kii-appid",f.Kii.getAppID()),i.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),i.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),n},t.prototype._setAuthHeader=function(t){var e;return e=f.KiiUser.getCurrentUser(),null!=e?t.setRequestHeader("Authorization","Bearer "+e.getAccessToken()):void 0},t.prototype._groupWithJSON=function(t){return f.KiiGroup._groupWithJSON(t)},t.prototype.topicWithName=function(t){var e,n;if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");if(e=this.getID(),!e)throw"can not instantiate topic from instance which doesn't have ID";return n=this._getHttpURI(),new f.KiiTopic(n,t)},t.prototype.listTopics=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(arguments[0])}},n._listTopicsUsingCallbacks(o,e)}}(this))},t.prototype._listTopicsUsingCallbacks=function(t,e){var n,i,r;return i=""+this._getHttpURI()+"/topics","string"==typeof e&&""!==e&&(i=i+"?paginationKey="+encodeURIComponent(e)),r=h.createXHRWrapper("GET",i),r.setKiiHeaders(),this._setAuthToken(r),n={success:function(e){return function(){var n,i,o,a,s,u;for(n=JSON.parse(r.xhr.responseText),o=[],u=n.topics,a=0,s=u.length;s>a;a++)i=u[a],o.push(e.topicWithName(i.topicID));return null!=t?t.success(o,void 0===n.paginationKey?null:n.paginationKey):void 0}}(this),failure:function(e){return function(){var n,i;return i=r.getErrorString("list topics"),n=l._Error(i,e),null!=t?t.failure(n):void 0}}(this)},r.send(n)},t.prototype.pushSubscription=function(){return new f.KiiPushSubscription(this)},t.prototype.pushInstallation=function(){return new f.KiiPushInstallation(this)},t.prototype._getSubscriberPath=function(){return"users/"+this.getID()},t.prototype._clone=function(t){var e,n;if(null==t||"object"!=typeof t)return t;n=new t.constructor;for(e in t)n[e]=this._clone(t[e]);return n},t.prototype._getHttpURI=function(){return""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/users/"+this.getID()},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t}(),l=function(){function t(){}return t.MAX_DATE_IN_MILLIS=864e13,t.MIN_DATE_IN_MILLIS=-864e13,t._validateEmail=function(e){var n;return e=t._trim(e),n=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i,"string"!==(typeof e).toLowerCase()?(f.Kii.logger("Not string"),!1):e.match(n)?!0:!1},t._validatePhoneNumber=function(e){var n;return e=t._trim(e),n=/^[\\+]?[0-9]{10,}$/i,"string"!==(typeof e).toLowerCase()?(f.Kii.logger("Not string"),!1):e.match(n)?!0:!1},t._isGlobalPhoneNumber=function(e){var n;return e=t._trim(e),n=/^[\\+]{1}[0-9]{2}/,"string"!==(typeof e).toLowerCase()?(f.Kii.logger("Not string"),!1):e.match(n)?!0:!1},t._validateLocalPhone=function(e){var n;return e=t._trim(e),n=/^\d+$/,"string"!==(typeof e).toLowerCase()?(f.Kii.logger("Not string"),!1):e.match(n)?!0:(f.Kii.logger("Invalid format"),!1)},t._assertLocalPhoneIsValid=function(e){if(!t._validateLocalPhone(e))throw new f.InvalidLocalPhoneNumberException},t._validateCountryCode=function(e){var n;return e=t._trim(e),n=/^[a-z]{2}$/i,"string"!==(typeof e).toLowerCase()?(f.Kii.logger("Not string"),!1):e.match(n)?(f.Kii.logger("Is true"),!0):!1},t._assertCountryCodeIsValid=function(e){if(!t._validateCountryCode(e))throw new f.InvalidCountryException},t._validatePassword=function(t){var e;return f.Kii.logger("Validating password: "+t),e=/^[\x20-\x7E]{4,50}$/,"string"!==(typeof t).toLowerCase()?(f.Kii.logger("not string"),!1):t.match(e)?(f.Kii.logger("matched"),!0):(f.Kii.logger("other exception"),!1)},t._assertPasswordIsValid=function(e){if(!t._validatePassword(e))throw new f.InvalidPasswordException},t._validateUsername=function(t){var e;return e=/^[a-zA-Z0-9-_\\.]{3,64}$/i,"string"!==(typeof t).toLowerCase()?!1:t.match(e)?!0:!1},t._validateGroupID=function(t){var e;return e=/^[a-z0-9-_.]{1,30}$/,"string"!==(typeof t).toLowerCase()?!1:t.match(e)?!0:!1},t._validateDisplayName=function(e){var n;return"string"===t._type(e)&&1<=(n=e.length)&&50>=n},t._trim=function(t){var e;return e=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,(t||"").replace(e,"")},t._safeAddTicks=function(e,n){if(isNaN(parseInt(e,10))||isNaN(parseInt(n,10)))throw new f.InvalidArgumentException("Parameters should be a number");if(Math.abs(e+n)>t.MAX_DATE_IN_MILLIS)throw new f.ArithmeticException("Addition of "+e+" and "+n+" result in long overflow");return e+n},t._safeMultiplyTicks=function(e,n){if(isNaN(parseInt(e,10))||isNaN(parseInt(n,10)))throw new f.InvalidArgumentException("Parameters should be a number");if(Math.abs(e*n)>t.MAX_DATE_IN_MILLIS)throw new f.ArithmeticException("Multiplication of "+e+" and "+n+" result in long overflow");return e*n},t._safeCalculateExpiresAtAsNumber=function(e,n){var i,r,o;o=0;try{r=t._safeMultiplyTicks(e,1e3),o=t._safeAddTicks(n,r)}catch(a){if(i=a,!(i instanceof f.ArithmeticException))throw i;o=t.MAX_DATE_IN_MILLIS}return o},t._safeCalculateExpiresAtAsDate=function(e,n){var i,r,o;o=0;try{r=t._safeMultiplyTicks(e,1e3),o=t._safeAddTicks(n,r)}catch(a){if(i=a,!(i instanceof f.ArithmeticException))throw i;o=t.MAX_DATE_IN_MILLIS}return new Date(o)},t._isJSONType=function(t){var e;return e=/\+?json(;.*)?$/i,t.match(e)},t._type=function(t){var e;return void 0===t||null===t?String(t):(e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},e[Object.prototype.toString.call(t)])},t._disableCacheURL=function(t){return t+=-1!==t.indexOf("?")?"&disable_cache=":"?disable_cache=",t+=(new Date).getTime()},t._validateServerCodeEntryName=function(e){var n;return n=/^[a-zA-Z][_a-zA-Z0-9]*$/i,"string"===t._type(e)&&e.match(n)},t._validateServerCodeEntryArgument=function(e){return"null"===t._type(e)||"object"===t._type(e)&&Object.keys(e).length>0},t._validateServerCodeEnryVersion=function(e){return"string"===t._type(e)&&""!==e},t._isNonEmptyString=function(t){return"string"!=typeof t?!1:t.length>0},t._Error=function(t,e){var n;return n=Error(t),n.target=e,n},t}(),f.KiiSocialConnect=function(){function t(){}var e;return e=null,t.setupNetwork=function(){},t.logIn=function(n,i,r){return null==e&&(e=new m),new Promise(function(e,o){var a,s,u;u={success:function(){return null!=r&&r.success.apply(r,arguments),e(arguments)},failure:function(){var t;return null!=r&&r.failure.apply(r,arguments),t=l._Error(arguments[2]),t.network=n,o(t)}};try{return t._logInUsingCallbacks(n,i,u)}catch(c){return s=c,null!=r&&"function"==typeof r.failure&&r.failure(null,n,s),a=l._Error(s),a.network=n,o(a)}})},t._logInUsingCallbacks=function(t,n,i){var r;return r=!1,null!=e&&(f.Kii.logger("And manager: "),f.Kii.logger(e._getManager(t)),e._getManager(t)&&(e._getManager(t)._logIn(n,i),r=!0)),f.Kii.logger("Callbacks"),f.Kii.logger(i),r||null==i?void 0:i.failure(f.KiiUser.getCurrentUser(),t,"Unable to get network. Please ensure the network name is one of the supported KiiSocialNetworkName values")},t.linkCurrentUserWithNetwork=function(n,i,r){return null==e&&(e=new m),new Promise(function(e,o){var a,s,u,c;c={success:function(){return null!=r&&r.success.apply(r,arguments),e(arguments)},failure:function(){var t;return null!=r&&r.failure.apply(r,arguments),t=l._Error(arguments[2]),t.target=arguments[0],t.network=n,o(t)}};try{return t._linkCurrentUserWithNetworkUsingCallbacks(n,i,c)}catch(h){return u=h,a=f.KiiUser.getCurrentUser(),null!=r&&"function"==typeof r.failure&&r.failure(a,n,u),s=l._Error(u),s.target=a,s.network=n,o(s)}})},t._linkCurrentUserWithNetworkUsingCallbacks=function(t,n,i){var r;return f.Kii.logger("Trying with instance"),f.Kii.logger(e),r=!1,null!=e&&(f.Kii.logger("And manager: "),f.Kii.logger(e._getManager(t)),e._getManager(t)&&(e._getManager(t)._linkWithCurrentUser(n,i),r=!0)),f.Kii.logger("Callbacks"),f.Kii.logger(i),r||null==i?void 0:i.failure(f.KiiUser.getCurrentUser(),t,"Unable to get network. Please ensure the network name is one of the supported KiiSocialNetworkName values")},t.unLinkCurrentUserFromNetwork=function(n,i){return null==e&&(e=new m),new Promise(function(e,r){var o;return o={success:function(){return null!=i&&i.success.apply(i,arguments),e(arguments)},failure:function(){var t;return null!=i&&i.failure.apply(i,arguments),t=l._Error(arguments[2]),t.target=arguments[0],t.network=n,r(t)}},t._unLinkCurrentUserWithNetworkUsingCallbacks(n,o)})},t._unLinkCurrentUserWithNetworkUsingCallbacks=function(t,n){if(f.Kii.logger("Trying with instance"),f.Kii.logger(e),null!=e){if(f.Kii.logger("And manager: "),f.Kii.logger(e._getManager(t)),e._getManager(t))return e._getManager(t)._unlinkFromCurrentUser(n)}else if(null!=n)return n.failure(f.KiiUser.getCurrentUser(),t,"Unable to get network. Please ensure the network name is one of the supported KiiSocialNetworkName values")},t.getAccessTokenForNetwork=function(t){return null!=e?e._getManager(t)._getToken():void 0},t.getAccessTokenExpirationForNetwork=function(t){return null!=e?e._getManager(t)._getTokenExpiration():void 0},t.getAccessTokenObjectForNetwork=function(t){return null!=e?e._getManager(t)._getTokenObject():void 0},t.logOutAll=function(){var t,n,i,r,o;return null!=e&&(t=e._getManager(f.KiiSocialNetworkName.FACEBOOK),null!=t&&t._logOut(),o=e._getManager(f.KiiSocialNetworkName.TWITTER),null!=o&&o._logOut(),i=e._getManager(f.KiiSocialNetworkName.QQ),null!=i&&i._logOut(),n=e._getManager(f.KiiSocialNetworkName.GOOGLEPLUS),null!=n&&n._logOut(),r=e._getManager(f.KiiSocialNetworkName.RENREN),null!=r)?r._logOut():void 0},t}(),m=function(){function t(){this._getManager=v(this._getManager,this)}return t.prototype._getManager=function(t){return t===f.KiiSocialNetworkName.FACEBOOK?null!=this._facebookManager?this._facebookManager:this._facebookManager=new f.KiiSCNFacebook:t===f.KiiSocialNetworkName.TWITTER?null!=this._twitterManager?this._twitterManager:this._twitterManager=new f.KiiSCNTwitter:t===f.KiiSocialNetworkName.QQ?null!=this._qqManager?this._qqManager:this._qqManager=new f.KiiSCNQQ:t===f.KiiSocialNetworkName.GOOGLEPLUS?null!=this._googleManager?this._googleManager:this._googleManager=new f.KiiSCNGoogle:t===f.KiiSocialNetworkName.RENREN?null!=this._renrenManager?this._renrenManager:this._renrenManager=new f.KiiSCNRenRen:void 0},t}(),f.KiiSocialConnectNetwork=function(){function t(t){this._network=t,this._unlink=v(this._unlink,this),this._link=v(this._link,this),this._register=v(this._register,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._isAuthenticated=v(this._isAuthenticated,this),this._getTokenObject=v(this._getTokenObject,this),this._setTokenObject=v(this._setTokenObject,this),this._getTokenExpiration=v(this._getTokenExpiration,this),this._setTokenExpiration=v(this._setTokenExpiration,this),this._getToken=v(this._getToken,this),this._setToken=v(this._setToken,this),this._getNetwork=v(this._getNetwork,this),this._setNetwork=v(this._setNetwork,this),this._tokenExpiration=null,this._token=null
}return t.prototype._className="KiiSocialConnectNetwork",t.prototype._setNetwork=function(t){this._network=t},t.prototype._getNetwork=function(){return this._network},t.prototype._setToken=function(t){this._token=t},t.prototype._getToken=function(){return this._token},t.prototype._setTokenExpiration=function(t){this._tokenExpiration=t},t.prototype._getTokenExpiration=function(){return this._tokenExpiration},t.prototype._setTokenObject=function(t){this._tokenObject=t},t.prototype._getTokenObject=function(){return this._tokenObject},t.prototype._isAuthenticated=function(){return null!=this._tokenObject},t.prototype._logIn=function(){},t.prototype._logOut=function(){return this._token=null,this._tokenExpiration=null,this._tokenObject=null},t.prototype._linkWithCurrentUser=function(){},t.prototype._unlinkFromCurrentUser=function(){},t.prototype._createTokenObject=function(){},t.prototype._getAccessToken=function(){},t.prototype._register=function(t,e,n,i,r){var o,s,u,c,h;return f.Kii.getAccessTokenExpiration()>0&&(s=new Date,o=s.getTime(),n.expiresAt=l._safeCalculateExpiresAtAsNumber(f.Kii.getAccessTokenExpiration(),o)),c=new a("/integration/"+t,!0),c.setMethod("POST"),c.setData(n),c.setAnonymous(!0),c.setContentType(e),h=this._getAccessToken(i),u={success:function(t){return function(e){var n,a,u,c;return t._setToken(h),a=t._createTokenObject(i,e),t._setTokenObject(a),u=new f.KiiUser,u._updateWithJSON(e),u._setAccessToken(e.access_token),null!=e.expires_in&&(s=new Date,o=s.getTime(),c=l._safeCalculateExpiresAtAsDate(e.expires_in,o),u._setExpiresAt(c)),f.Kii.setCurrentUser(u),n={success:function(e){return null!=r?r.success(e,t._network):void 0},failure:function(e,n){return null!=r?r.failure(e,t._network,n):void 0}},u.refresh(n)}}(this),failure:function(t){return function(e){return null!=r?r.failure(null,t._network,e):void 0}}(this)},c.execute(u,!1)},t.prototype._link=function(t,e,n,i,r){var o,s,u;return s=new a("/users/me/"+t+"/link",!0),s.setMethod("POST"),s.setData(n),s.setContentType(e),u=this._getAccessToken(i),o={success:function(t){return function(e){var n,o;return t._setToken(u),o=t._createTokenObject(i,e),t._setTokenObject(o),n={success:function(e){return null!=r?r.success(e,t._network):void 0},failure:function(e,n){return null!=r?r.failure(e,t._network,n):void 0}},f.KiiUser.getCurrentUser().refresh(n)}}(this),failure:function(t){return function(e){return null!=r?r.failure(f.KiiUser.getCurrentUser(),t._network,e):void 0}}(this)},s.execute(o,!0)},t.prototype._unlink=function(t,e){var n,i;return n=new a("/users/me/"+t+"/unlink",!0),n.setMethod("POST"),i={success:function(t){return function(){return t._setToken(null),t._setTokenExpiration(null),t._setTokenObject(null),null!=e?e.success(f.KiiUser.getCurrentUser(),t._network):void 0}}(this),failure:function(t){return function(n){return null!=e?e.failure(f.KiiUser.getCurrentUser(),t._network,n):void 0}}(this)},n.execute(i,!0)},t}(),f.KiiSCNFacebook=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,f.KiiSocialNetworkName.FACEBOOK)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={access_token:t.access_token},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.access_token},e.prototype._logIn=function(t,e){var n;if(f.Kii.logger("should auth fb"),f.Kii.logger("Checking options"),null==t||!t.access_token)throw f.InvalidArgumentException("options.access_token is required");return null!=f.KiiUser.getCurrentUser()&&f.KiiUser.logOut(),n={accessToken:t.access_token},this._register("facebook","application/vnd.kii.AuthTokenFacebookRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),f.Kii.logger("Log out fb")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null!=f.KiiUser.getCurrentUser()){if(null==t||!t.access_token)throw f.InvalidArgumentException("options.access_token is required");return n={accessToken:t.access_token},this._link("facebook","application/vnd.kii.LinkFacebookRequest+json",n,t,e)}return null!=e?e.failure(null,this._network,"A KiiUser must be logged in before linking to Facebook"):void 0},e.prototype._unlinkFromCurrentUser=function(t){return null!=f.KiiUser.getCurrentUser()?this._unlink("facebook",t):null!=t?t.failure("A KiiUser must be logged in before unlinking from Facebook"):void 0},e}(f.KiiSocialConnectNetwork),f.InvalidDisplayNameException=function(){return this.message="Unable to set displayName. Must be between 1-50 characters."},f.InvalidPasswordException=function(){return this.message="Unable to set password. Must be between 4-50 characters composed with ascii (exclude control character)"},f.InvalidUsernameException=function(){return this.message="Unable to set username. Must be between 3 and 64 characters, which can include alphanumeric characters as well as underscores '_' and periods '.'"},f.InvalidUserIdentifierException=function(){return this.message="User identifier should be one of user name, phone number or email"},f.InvalidEmailException=function(){return this.message="Unable to set email address. Must be a valid email"},f.InvalidPhoneNumberException=function(){return this.message="Unable to set phone number. Must begin with a '+' and be at least 10 digits"},f.InvalidLocalPhoneNumberException=function(){return this.message="Unable to set phone number. Must be a sequence of numbers"},f.InvalidCountryException=function(){return this.message="Unable to set country code. Must be 2 alphabetic characters. Ex: US, JP, CN"},f.InvalidURIException=function(){return this.message="Unable to set URI. Must be of the form kiicloud://some/path/to/object/or/entity"},f.InvalidACLAction=function(){return this.message="Unable to set ACL action. Must be one of the permitted values in KiiACLAction"},f.InvalidACLSubject=function(){return this.message="Unable to set ACL subject. Must be of type KiiUser or KiiGroup"},f.InvalidACLGrant=function(){return this.message="Unable to set ACL grant. Must be a boolean type"},f.InvalidLimitException=function(){return this.message="Unable to set query limit. Must be an integer > 0"},f.InvalidArgumentException=function(t){return this.message="InvalidArgument: "+t},f.IllegalStateException=function(t){return this.message="IllegalState: "+t},f.ArithmeticException=function(t){return this.message="ArithmeticException: "+t},f.UnsupportedOperationException=function(t){return this.message="UnsupportedOperationException: "+t},f.KiiAppAdminContext=function(){function t(t){this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this.loadThingWithThingID=v(this.loadThingWithThingID,this),this.loadThingWithVendorThingID=v(this.loadThingWithVendorThingID,this),this.registerOwnerWithVendorThingID=v(this.registerOwnerWithVendorThingID,this),this.registerOwnerWithThingID=v(this.registerOwnerWithThingID,this),this.thingWithID=v(this.thingWithID,this),this.registerThing=v(this.registerThing,this),this.registerGroupWithOwnerAndID=v(this.registerGroupWithOwnerAndID,this),this._getToken=v(this._getToken,this),this._getId=v(this._getId,this),this._objectWithURI=v(this._objectWithURI,this),this._token=t.token,this._id=t.id}return t.prototype.bucketWithName=function(t){var e;return e=new f.KiiBucketWithToken(t,null,this._token)},t.prototype.encryptedBucketWithName=function(t){var e;return e=new f.KiiEncryptedBucketWithToken(t,null,this._token)},t.prototype.groupWithName=function(t){var e;return e=f.KiiGroupWithToken._groupWithName(t,this._token)},t.prototype.userWithID=function(t){var e;return e=f.KiiUserWithToken._userWithID(t,this._token)},t.prototype.objectWithURI=function(t){var e;return e=this._objectWithURI(t)},t.prototype._userWithLoginName=function(t,e){var n,i,r;return r=new f.KiiUserWithToken(this._token),i=r._getRequest({path:"/users/LOGIN_NAME:"+t,withApp:!0}),i.setAdminToken(this._token),n={success:function(){return function(t,n){if(300>n&&n>=200){if(r._updateWithJSON(t),null!=e)return e.success(r)}else if(null!=e)return e.failure("Unable to parse response")}}(this),failure:function(){return function(t){return null!=e?e.failure(t):void 0}}(this)},i.execute(n,!1)},t.prototype._objectWithURI=function(t){var e,n,i,r,o,a,s,u,l;if(!t)throw new f.InvalidURIException;if(l=0===t.indexOf("kiicloud://"),a=t.substr("kiicloud://".length),o=a.split("/"),r=o.length,!(r>=4&&l))throw new f.InvalidURIException;if(n=4===r?1:3,i=o[n],u=null,"groups"===o[0]&&6===r)u=new f.KiiGroupWithToken._groupWithID(o[1],this._token);else if("users"===o[0]&&6===r)u=f.KiiUserWithToken._userWithID(o[1],this._token);else if("things"===o[0]&&6===r)u=f.KiiThingWithToken.thingWithID(o[1],this._token);else if(4!==r)throw new f.InvalidURIException;return e=new f.KiiBucketWithToken(i,u,this._token),s=e.createObject(),s._setUUID(o[r-1]),s},t.prototype._getId=function(){return this._id},t.prototype._getToken=function(){return this._token},t.prototype.groupWithID=function(t){var e;if(null==t||""===t)throw new f.InvalidArgumentException("groupID should not null or empty");return e=f.KiiGroupWithToken._groupWithID(t,this._token)},t.prototype.registerGroupWithOwnerAndID=function(t,e,n,i,r){return new Promise(function(o){return function(a,s){var u;return u={success:function(){return null!=r&&r.success.apply(r,arguments),a(arguments[0])},failure:function(){var t;return null!=r&&r.failure.apply(r,arguments),t=l._Error(arguments[1],arguments[0]),t.addMembersArray=arguments[2],t.removeMembersArray=arguments[3],s(t)}},f.KiiGroup._registerGroupWithIDUsingCallbacks(o._token,t,e,n,i,u)}}(this))},t.prototype.groupWithURI=function(t){var e,n,i;if(null==t)throw new f.InvalidURIException;if(0!==t.indexOf("kiicloud://"))throw new f.InvalidURIException;if(i=t.substr("kiicloud://".length),e=i.split("/"),2!==e.length||"groups"!==e[0])throw new f.InvalidURIException;return n=f.KiiGroupWithToken._groupWithID(e[1],this._token)},t.prototype.findUserByEmail=function(t,e){return f.KiiUser._findUserByEmail(t,e,this)},t.prototype.findUserByPhone=function(t,e){return f.KiiUser._findUserByPhone(t,e,this)},t.prototype.findUserByUsername=function(t,e){return f.KiiUser._findUserByUsername(t,e,this)},t.prototype.registerThing=function(t,e){return f.KiiThingWithToken.register(t,e,this._token)},t.prototype.thingWithID=function(t){return f.KiiThingWithToken.thingWithID(t,this._token)},t.prototype.registerOwnerWithThingID=function(t,e,n){return f.KiiThingWithToken.registerOwnerWithThingID(t,e,n,this._token)},t.prototype.registerOwnerWithVendorThingID=function(t,e,n){return f.KiiThingWithToken.registerOwnerWithVendorThingID(t,e,n,this._token)},t.prototype.thingWithID=function(t){return f.KiiThingWithToken.thingWithID(t,this._token)},t.prototype.loadThingWithVendorThingID=function(t,e){return f.KiiThingWithToken.loadWithVendorThingID(t,e,this._token)},t.prototype.loadThingWithThingID=function(t,e){return f.KiiThingWithToken.loadWithThingID(t,e,this._token)},t.prototype.topicWithName=function(t){if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");return new f.KiiTopicWithToken(""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID(),t,this._token)},t.prototype.listTopics=function(t,e){return f.Kii._listTopics(t,e,this)},t}(),f.KiiACLWithToken=function(t){function e(t,n){this._userWithID=v(this._userWithID,this),this._groupWithID=v(this._groupWithID,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this),this._setParent(t),this._authToken=n}return _(e,t),e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype._groupWithID=function(t){var e;return e=f.KiiGroupWithToken._groupWithID(t,this._authToken)},e.prototype._userWithID=function(t){var e;return e=f.KiiUserWithToken._userWithID(t,this._authToken)},e}(f.KiiACL),f.KiiGroupWithToken=function(t){function e(t){this.topicWithName=v(this.topicWithName,this),this._setAuthToken=v(this._setAuthToken,this),this._setOwnerFromContext=v(this._setOwnerFromContext,this),this._userWithID=v(this._userWithID,this),this.bucketWithName=v(this.bucketWithName,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this),this._authToken=t}return _(e,t),e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e._groupWithName=function(t,e){return f.KiiGroupWithToken._groupWithNameAndMembers(t,null,e)},e._groupWithNameAndMembers=function(t,e,n){var i;return i=new f.KiiGroupWithToken(n),i._setName(t),i._setAddMembers(e),i},e._groupWithID=function(t,e){var n;return n=new f.KiiGroupWithToken(e),n._setUUID(t),n},e.prototype.bucketWithName=function(t){var e;return e=new f.KiiBucketWithToken(t,this,this._authToken)},e.prototype.encryptedBucketWithName=function(t){var e;return e=new f.KiiEncryptedBucketWithToken(t,this,this._authToken)},e.prototype._userWithID=function(t){var e;return e=f.KiiUserWithToken._userWithID(t,this._authToken)},e.prototype._setOwnerFromContext=function(){},e._groupWithJSON=function(t,e){var n;return n=new f.KiiGroupWithToken(e),null!=t.groupID&&n._setUUID(t.groupID),null!=t.name&&n._setName(t.name),null!=t.owner&&n._setOwner(f.KiiUserWithToken._userWithID(t.owner,e)),n},e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e.prototype.topicWithName=function(t){var e,n;if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");if(e=this.getID(),!e)throw"can not instantiate topic from instance which doesn't have ID";return n=this._getHttpURI(),new f.KiiTopicWithToken(n,t,this._authToken)},e}(f.KiiGroup),f.KiiObjectWithToken=function(t){function e(t){this._userWithID=v(this._userWithID,this),this.objectACL=v(this.objectACL,this),this._getToken=v(this._getToken,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this),this._authToken=t}return _(e,t),e.prototype._getRequest=function(t){var n;return f.Kii.logger("admin req: "+this._authToken),n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype._getToken=function(){return this._authToken?this._authToken:null},e.objectWithBucket=function(t,e,n){var i;return f.Kii.logger("Creating object w type: "+e),i=new f.KiiObjectWithToken(n),i._setBucket(t),i._setObjectType(e),f.Kii.logger(i),i},e.objectWithID=function(t,e,n){var i;return f.Kii.logger("Creating object w id: "+e),i=new f.KiiObjectWithToken(n),i._setBucket(t),i._setUUID(e),f.Kii.logger(i),i},e.prototype.objectACL=function(){var t;return t=new f.KiiACLWithToken(this,this._authToken)},e.prototype._userWithID=function(t){var e;return e=f.KiiUserWithToken._userWithID(t,this._authToken)},e}(f.KiiObject),f.KiiUserWithToken=function(t){function e(t){this.pushInstallation=v(this.pushInstallation,this),this.topicWithName=v(this.topicWithName,this),this.pushSubscription=v(this.pushSubscription,this),this._groupWithJSON=v(this._groupWithJSON,this),this.bucketWithName=v(this.bucketWithName,this),this._setAuthHeader=v(this._setAuthHeader,this),this._setAuthToken=v(this._setAuthToken,this),this._getRequest=v(this._getRequest,this),e.__super__.constructor.call(this),this._authToken=t}return _(e,t),e._userWithID=function(t,e){var n;return n=new f.KiiUserWithToken(e),n._setUUID(t),n},e.prototype._getRequest=function(t){var n;return n=e.__super__._getRequest.call(this,t),n.setAdminToken(this._authToken),n},e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e.prototype._setAuthHeader=function(t){return t.setRequestHeader("Authorization","Bearer "+this._authToken)},e.prototype.bucketWithName=function(t){var e;return e=new f.KiiBucketWithToken(t,this,this._authToken)},e.prototype.encryptedBucketWithName=function(t){var e;return e=new f.KiiEncryptedBucketWithToken(t,this,this._authToken)},e.prototype._groupWithJSON=function(t){var e;return e=new f.KiiGroupWithToken._groupWithJSON(t,this._authToken)},e.prototype.pushSubscription=function(){return new f.KiiPushSubscriptionWithToken(this,this._authToken)},e.prototype.topicWithName=function(t){var e;if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");if(e=this.getID(),!e)throw"can not instantiate topic from instance which doesn't have ID";return new f.KiiTopicWithToken(this._getHttpURI(),t,this._authToken)},e.prototype.pushInstallation=function(){throw new f.UnsupportedOperationException("Push installation is not supported by admin context")},e}(f.KiiUser),f.KiiAnonymousUser=function(){function t(){this.getID=v(this.getID,this)}return t.prototype.getID=function(){return"ANONYMOUS_USER"},t}(),f.KiiAnyAuthenticatedUser=function(){function t(){this.getID=v(this.getID,this)}return t.prototype.getID=function(){return"ANY_AUTHENTICATED_USER"},t}(),f.KiiSDKClientInfo=function(){function t(){}return t.getSDKClientInfo=function(){return null==t._clientInfo&&(t._clientInfo="sn=jss;sv="+f.Kii.getSDKVersion()),t._clientInfo},t}(),f.KiiSCNTwitter=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,f.KiiSocialNetworkName.TWITTER)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={oauth_token:t.oauth_token,oauth_token_secret:t.oauth_token_secret},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.oauth_token},e.prototype._logIn=function(t,e){var n;if(f.Kii.logger("Checking options"),f.Kii.logger(t),null==t||!t.oauth_token&&!t.oauth_token_secret)throw f.InvalidArgumentException("Both options.oauth_token and options.oauth_token_secret are required");if(!t.oauth_token)throw f.InvalidArgumentException("options.oauth_token is required");if(!t.oauth_token_secret)throw f.InvalidArgumentException("options.oauth_token_secret is required");return null!=f.KiiUser.getCurrentUser()&&f.KiiUser.logOut(),n={accessToken:t.oauth_token,accessTokenSecret:t.oauth_token_secret},this._register("twitter","application/vnd.kii.AuthTokenTwitterRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),f.Kii.logger("Log out twitter")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null==f.KiiUser.getCurrentUser())return void e.failure(null,this._network,"No user logged in");if(null==t||!t.oauth_token&&!t.oauth_token_secret)throw f.InvalidArgumentException("Both options.oauth_token and options.oauth_token_secret are required");if(!t.oauth_token)throw f.InvalidArgumentException("options.oauth_token is required");if(!t.oauth_token_secret)throw f.InvalidArgumentException("options.oauth_token_secret is required");return n={accessToken:t.oauth_token,accessTokenSecret:t.oauth_token_secret},this._link("twitter","application/vnd.kii.LinkTwitterRequest+json",n,t,e)},e.prototype._unlinkFromCurrentUser=function(t){return null==f.KiiUser.getCurrentUser()?void t.failure(null,this._network,"No user logged in"):this._unlink("twitter",t)},e}(f.KiiSocialConnectNetwork),f.KiiGeoPoint=function(){function t(t,e){var n;if(this._latitude=t,this._longitude=e,this._toDict=v(this._toDict,this),this.getLongitude=v(this.getLongitude,this),this.getLatitude=v(this.getLatitude,this),n=function(t,e,n){return n>t&&e>n&&!isNaN(n)},!n(-90,90,this._latitude)||!n(-180,180,this._longitude))throw f.InvalidArgumentException("Specified latitide or longitude is invalid")}return t.prototype.getLatitude=function(){return this._latitude},t.prototype.getLongitude=function(){return this._longitude},t.geoPoint=function(t,e){return new f.KiiGeoPoint(t,e)},t.prototype._toDict=function(){var t;return t={_type:"point",lat:this._latitude,lon:this._longitude}},t}(),o=function(){function t(t,e,n){this.xhr=$.ajaxSettings.xhr(),e=l._disableCacheURL(e),this.xhr.open(t,e,!0),this.xhr.onreadystatechange=n.onComplete}return t}(),p=function(){function t(t,e,n){e=l._disableCacheURL(e),this.xhr=new XMLHttpRequest,"withCredentials"in this.xhr?(this.xhr.open(t,e,!0),this.xhr.onreadystatechange=n.onComplete):this.xhr=null}return t}(),u=function(){function t(t,e,n){this.xhr=Ti.Network.createHTTPClient(),e=l._disableCacheURL(e),this.xhr.open(t,e,!0),this.xhr.onload=n.onComplete,this.xhr.onerror=n.onError}return t}(),h=function(){function t(){}return t.createXHRWrapper=function(t,e){var n;return n=null,null===f.Kii._getHttpRequestType()?"undefined"!=typeof jQuery?(f.Kii.logger("Use jQuery"),n=new r(t,e)):"undefined"!=typeof XMLHttpRequest?(f.Kii.logger("Use XMLHttpRequest"),n=new c(t,e)):"undefined"!=typeof Titanium&&(f.Kii.logger("Use Titanium"),n=new s(t,e)):(f.Kii.logger("Use http request backdoor"),f.Kii._getHttpRequestType()===f._KiiHttpRequestType.jQuery?(f.Kii.logger("Use jQuery"),n=new r(t,e)):f.Kii._getHttpRequestType()===f._KiiHttpRequestType.XMLHttpRequest?(f.Kii.logger("Use XMLHttpRequest"),n=new c(t,e)):f.Kii._getHttpRequestType()===f._KiiHttpRequestType.Titanium&&(f.Kii.logger("Use Titanium"),n=new s(t,e))),n},t}(),c=function(){function t(t,e){this.setAuthToken=v(this.setAuthToken,this),this.setAdminOrUserToken=v(this.setAdminOrUserToken,this),this.setCurrentUserToken=v(this.setCurrentUserToken,this),this.setContentType=v(this.setContentType,this),this.setKiiHeaders=v(this.setKiiHeaders,this),this.getErrorCode=v(this.getErrorCode,this),this.getErrorString=v(this.getErrorString,this),this.sendData=v(this.sendData,this),this.send=v(this.send,this),this._setUpCallbacks=v(this._setUpCallbacks,this);var n,i,r;if(e=l._disableCacheURL(e),this.xhr=new XMLHttpRequest,this.method=t,"withCredentials"in this.xhr){if(this.xhr.open(t,e,!0),n=f.Kii.getAdditionalHeaders(),null!=n)for(i in n)r=n[i],this.xhr.setRequestHeader(i,r)}else this.xhr=null}return t.prototype.getAppID=function(){return f.Kii.getAppID()},t.prototype.getAppKey=function(){return f.Kii.getAppKey()},t.prototype.getLogger=function(){return f.Kii.logger()},t.prototype._setUpCallbacks=function(t){return t&&t.progress?"PUT"===this.method?this.xhr.upload.addEventListener("progress",t.progress,!1):this.xhr.addEventListener("progress",t.progress,!1):void 0},t.prototype.send=function(t){var e;return this._setUpCallbacks(t),e={onComplete:function(e){return function(){var n;if(4===e.xhr.readyState)if(200<=(n=e.xhr.status)&&400>n){if(e.getLogger("Completed Request["+e.xhr.status+"]"),null!=t)return t.success()}else if(e.getLogger("Error loading data..."),e.getLogger("callback : "+t),null!=t)return t.failure()}}(this)},this.xhr.onreadystatechange=e.onComplete,this.xhr.send()},t.prototype.sendData=function(t,e){var n;return this._setUpCallbacks(e),n={onComplete:function(t){return function(){var n;if(4===t.xhr.readyState)if(200<=(n=t.xhr.status)&&400>n){if(t.getLogger("Completed Request["+t.xhr.status+"]"),null!=e)return e.success()}else if(t.getLogger("Error loading data..."),null!=e)return e.failure()}}(this)},this.xhr.onreadystatechange=n.onComplete,this.xhr.send(t)},t.prototype.getErrorString=function(t){var e,n;e=""+t+" failed. statusCode: "+this.xhr.status;try{return n=JSON.parse(decodeURIComponent(this.xhr.responseText)),null!=n.errorCode&&(e+=" error code: "+n.errorCode),null!=n.message&&(e+=" message: "+n.message),e}catch(i){return e}},t.prototype.getErrorCode=function(){var t;try{return t=JSON.parse(decodeURIComponent(this.xhr.responseText)),t.errorCode}catch(e){return null}},t.prototype.setKiiHeaders=function(){return this.xhr.setRequestHeader("x-kii-appid",this.getAppID()),this.xhr.setRequestHeader("x-kii-appkey",this.getAppKey()),this.xhr.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo())},t.prototype.setContentType=function(t){return this.xhr.setRequestHeader("Content-Type",t)},t.prototype.setCurrentUserToken=function(){var t,e;return t=null!=(e=this.getCurrentUser())?e.getAccessToken():void 0,null!=t?(this.xhr.setRequestHeader("authorization","bearer "+t),!0):!1},t.prototype.setAdminOrUserToken=function(t){var e,n;return e=null!=t?t._getToken():null!=(n=this.getCurrentUser())?n.getAccessToken():void 0,null!=e?(this.xhr.setRequestHeader("authorization","bearer "+e),!0):!1},t.prototype.setAuthToken=function(t){return null!=t?this.xhr.setRequestHeader("authorization","bearer "+t):void 0},t.prototype.getCurrentUser=function(){return f.KiiUser.getCurrentUser()},t}(),s=function(t){function e(t,e){this.sendData=v(this.sendData,this),this.send=v(this.send,this);var n,i,r;if(e=l._disableCacheURL(e),this.xhr=Ti.Network.createHTTPClient(),this.method=t,this.xhr.open(t,e,!0),n=f.Kii.getAdditionalHeaders(),null!=n)for(i in n)r=n[i],this.xhr.setRequestHeader(i,r)}return _(e,t),e.prototype.send=function(t){var e;return this._setUpCallbacks(t),e={onComplete:function(e){return function(){var n;if(4===e.xhr.readyState)if(200<=(n=e.xhr.status)&&400>n){if(f.Kii.logger("Completed Request["+e.xhr.status+"]"),null!=t)return t.success()}else if(f.Kii.logger("Error loading data..."),f.Kii.logger("callback : "+t),null!=t)return t.failure()}}(this),onError:function(){return function(){return f.Kii.logger("Error loading data..."),f.Kii.logger("callback : "+t),null!=t?t.failure():void 0}}(this)},this.xhr.onload=e.onComplete,this.xhr.onerror=e.onError,this.xhr.send()},e.prototype.sendData=function(t,e){var n;return this._setUpCallbacks(e),n={onComplete:function(t){return function(){var n;if(4===t.xhr.readyState)if(200<=(n=t.xhr.status)&&400>n){if(f.Kii.logger("Completed Request["+t.xhr.status+"]"),null!=e)return e.success()}else if(f.Kii.logger("Error loading data..."),null!=e)return e.failure()}}(this),onError:function(){return function(){return f.Kii.logger("Error loading data..."),f.Kii.logger("callback : "+e),null!=e?e.failure():void 0}}(this)},this.xhr.onload=n.onComplete,this.xhr.onerror=n.onError,this.xhr.send(t)},e}(c),r=function(t){function e(t,e){var n,i,r;if(e=l._disableCacheURL(e),this.xhr=$.ajaxSettings.xhr(),this.xhr.open(t,e,!0),this.method=t,n=f.Kii.getAdditionalHeaders(),null!=n)for(i in n)r=n[i],this.xhr.setRequestHeader(i,r)}return _(e,t),e}(c),f.KiiSCNQQ=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,f.KiiSocialNetworkName.QQ)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={access_token:t.access_token,openID:t.openID},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.access_token},e.prototype._logIn=function(t,e){var n;if(f.Kii.logger("Checking options"),f.Kii.logger(t),null==t||!t.access_token&&!t.openID)throw f.InvalidArgumentException("Both options.access_token and options.openID are required");if(!t.access_token)throw f.InvalidArgumentException("options.access_token is required");if(!t.openID)throw f.InvalidArgumentException("options.openID is required");return null!=f.KiiUser.getCurrentUser()&&f.KiiUser.logOut(),n={accessToken:t.access_token,openID:t.openID},this._register("qq","application/vnd.kii.AuthTokenQQRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),f.Kii.logger("Log out qq")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null==f.KiiUser.getCurrentUser())return void e.failure(null,this._network,"No user logged in");if(null==t||!t.access_token&&!t.openID)throw f.InvalidArgumentException("Both options.access_token and options.openID are required");if(!t.access_token)throw f.InvalidArgumentException("options.access_token is required");if(!t.openID)throw f.InvalidArgumentException("options.openID is required");return n={accessToken:t.access_token,openID:t.openID},this._link("qq","application/vnd.kii.LinkQQRequest+json",n,t,e)},e.prototype._unlinkFromCurrentUser=function(t){return null==f.KiiUser.getCurrentUser()?void t.failure(null,this._network,"No user logged in"):this._unlink("qq",t)},e}(f.KiiSocialConnectNetwork),f.KiiServerCodeEntry=function(){function t(t,e){this.entryName=t,this.version=e}return t.prototype.execute=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=e&&e.success.apply(e,arguments),i(arguments)},failure:function(){var t;return null!=e&&e.failure.apply(e,arguments),t=l._Error(arguments[3],n),t.argument=arguments[1],r(t)}},n._executeUsingCallbacks(t,o)}}(this))},t.prototype._executeUsingCallbacks=function(t,e){var n,i,r,o,a,s,u,c;return l._validateServerCodeEntryArgument(t)?(i=null!=t?t:{},a=null!=(c=this.version)?c:"current",n=JSON.stringify(i),o=f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+("/server-code/versions/"+a+"/"+this.entryName),s=h.createXHRWrapper("POST",o),u=s.xhr,u.setRequestHeader("x-kii-appid",f.Kii.getAppID()),u.setRequestHeader("x-kii-appkey",f.Kii.getAppKey()),u.setRequestHeader("x-kii-sdk",f.KiiSDKClientInfo.getSDKClientInfo()),u.setRequestHeader("Content-Type","application/json"),null!=f.KiiUser.getCurrentUser()&&u.setRequestHeader("Authorization","Bearer "+f.KiiUser.getCurrentUser().getAccessToken()),r={success:function(n){return function(){var i,r,o,a;a=u.getResponseHeader("x-step-count");try{if(o=JSON.parse(u.responseText),r=new f.KiiServerCodeExecResult(o,a),null!=e)return e.success(n,t,r)}catch(s){if(null!=e)return i="fail to parse response. statusCode: "+u.status+" executedSteps: "+a+" error code: failed_to_parse_response response: "+u.responseText,e.failure(n,t,null,i)}}}(this),failure:function(n){return function(){var i,r,o,a;a=u.getResponseHeader("x-step-count"),i={statusCode:u.status,executedSteps:a},r="fail to execute server code. statusCode: "+u.status+" executedSteps: "+a;try{if(o=JSON.parse(u.responseText),null!=o.errorCode&&(r+=" error code: "+o.errorCode),null!=o.message&&(r+=" message: "+o.message),null!=o.details&&null!=o.details.message)return r+=" detailMessage: "+o.details.message}catch(s){return r+=" error code: failed_to_parse_response message: "+u.responseText}finally{null!=e&&e.failure(n,t,null,r)}}}(this)},s.sendData(n,r)):e.failure(this,t,null,f.InvalidArgumentException("arugment is invalid"))},t.prototype.getEntryName=function(){return this.entryName},t}(),f.KiiServerCodeExecResult=function(){function t(t,e){this.returnObject=t,this.exeSteps=e}return t.prototype.getExecutedSteps=function(){return this.exeSteps},t.prototype.getReturnedValue=function(){return this.returnObject},t}(),f.KiiThing=function(){function t(t){this.fields=t,this._getSubscriberPath=v(this._getSubscriberPath,this),this._setAuthToken=v(this._setAuthToken,this),this._getHttpURI=v(this._getHttpURI,this),this.pushSubscription=v(this.pushSubscription,this),this._listTopicsUsingCallbacks=v(this._listTopicsUsingCallbacks,this),this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this.encryptedBucketWithName=v(this.encryptedBucketWithName,this),this.bucketWithName=v(this.bucketWithName,this),this._changeStatus=v(this._changeStatus,this),this.enable=v(this.enable,this),this.disable=v(this.disable,this),this.unregisterOwner=v(this.unregisterOwner,this),this._getOwnerURL=v(this._getOwnerURL,this),this.registerOwner=v(this.registerOwner,this),this.isOwner=v(this.isOwner,this),this.deleteThing=v(this.deleteThing,this),this.update=v(this.update,this),this._refresh=v(this._refresh,this),this.refresh=v(this.refresh,this),this.getOnlineStatusModifiedAt=v(this.getOnlineStatusModifiedAt,this),this.isOnline=v(this.isOnline,this),this.getDisabled=v(this.getDisabled,this),this.getCreated=v(this.getCreated,this),this.getAccessToken=v(this.getAccessToken,this),this.getVendorThingID=v(this.getVendorThingID,this),this.getThingID=v(this.getThingID,this),this._renewThingFields=v(this._renewThingFields,this),null!=this.fields&&this._renewThingFields(this.fields)
}return t.prototype._renewThingFields=function(t){return this._online=null,this._onlineStatusModifiedAt=null,this.fields=t,this._thingID=t._thingID,this._vendorThingID=t._vendorThingID,this._accessToken=t._accessToken,this._created=new Date(t._created),this._disabled=t._disabled,null!=t._online&&(this._online=t._online),null!=t._onlineStatusModifiedAt&&(this._onlineStatusModifiedAt=new Date(t._onlineStatusModifiedAt)),delete this.fields._thingID,delete this.fields._vendorThingID,delete this.fields._accessToken,delete this.fields._created,delete this.fields._disabled},t.prototype.getThingID=function(){return this._thingID},t.prototype.getVendorThingID=function(){return this._vendorThingID},t.prototype.getAccessToken=function(){return this._accessToken},t.prototype.getCreated=function(){return this._created},t.prototype.getDisabled=function(){return this._disabled},t.prototype.isOnline=function(){return this._online},t.prototype.getOnlineStatusModifiedAt=function(){return this._onlineStatusModifiedAt},t.register=function(t,e){return new Promise(function(n,i){var r,o;return o=h.createXHRWrapper("POST",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things"),o.setKiiHeaders(),o.setContentType("application/vnd.kii.ThingRegistrationAndAuthorizationRequest+json"),r={success:function(){var t,i;return t=JSON.parse(decodeURIComponent(o.xhr.responseText)),i=new f.KiiThing(t),null!=e&&e.success(i),n(i)},failure:function(){var t,n;return n=o.getErrorString("register thing"),t=l._Error(n),null!=e&&e.failure(t),i(t)}},o.sendData(JSON.stringify(t),r)})},t.prototype.refresh=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(i){return e._renewThingFields(i),null!=t&&t.success(e),n(e)},failure:function(n){var r;return r=l._Error(n,e),null!=t&&t.failure(r),i(r)}},e._refresh(r)}}(this))},t.prototype._refresh=function(t){var e,n,i;return e=null!=this._thingID?this._thingID:"VENDOR_THING_ID:"+this._vendorThingID,i=h.createXHRWrapper("GET",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things/"+e),i.setKiiHeaders(),this._setAuthToken(i),n={success:function(){return function(){var e;return e=JSON.parse(decodeURIComponent(i.xhr.responseText)),t.success(e)}}(this),failure:function(){return function(){var e;return e=i.getErrorString("refresh thing"),t.failure(e)}}(this)},i.send(n)},t.prototype.update=function(t){return new Promise(function(e){return function(n,i){var r;return r={success:function(r){var o,a,s,u,c;c=e.fields;for(o in c)s=c[o],r[o]=s;return e.fields=r,u=h.createXHRWrapper("PATCH",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things/"+e._thingID),u.setKiiHeaders(),u.setContentType("application/vnd.kii.ThingUpdateRequest+json"),e._setAuthToken(u),a={success:function(){return null!=t&&t.success(e),n(e)},failure:function(){var n,r;return r=u.getErrorString("update thing"),n=l._Error(r,e),null!=t&&t.failure(n),i(n)}},u.sendData(JSON.stringify(e.fields),a),"function"==typeof e._testOnUpdateRequest?e._testOnUpdateRequest():void 0},failure:function(n){var r;return r=l._Error(n,e),null!=t&&t.failure(r),i(r)}},e._refresh(r)}}(this))},t.prototype.deleteThing=function(t){return new Promise(function(e){return function(n,i){var r,o;return o=h.createXHRWrapper("DELETE",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things/"+e._thingID),o.setKiiHeaders(),e._setAuthToken(o),r={success:function(){return null!=t&&t.success(e),n(e)},failure:function(){var n,r;return r=o.getErrorString("delete thing"),n=l._Error(r,e),null!=t&&t.failure(n),i(n)}},o.send(r)}}(this))},t.prototype.isOwner=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s,u,c;try{s=n._getOwnerURL(n._thingID,t)}catch(p){return a=p,o=l._Error(a,n),null!=e&&e.failure(o),void r(o)}return c=h.createXHRWrapper("HEAD",s),c.setKiiHeaders(),n._setAuthToken(c),u={success:function(){return null!=e&&e.success(n,t,!0),i([n,t,!0])},failure:function(){var a;return 404===c.xhr.status?(null!=e&&e.success(n,t,!1),void i([n,t,!1])):(a=c.getErrorString("register owner"),o=l._Error(a,n),null!=e&&e.failure(o),r(o))}},c.send(u)}}(this))},t.prototype.registerOwner=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s,u,c;try{s=n._getOwnerURL(n._thingID,t)}catch(p){return a=p,o=l._Error(a,n),null!=e&&e.failure(o),void r(o)}return c=h.createXHRWrapper("PUT",s),c.setKiiHeaders(),n._setAuthToken(c),u={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t;return t=c.getErrorString("register owner"),o=l._Error(t,n),null!=e&&e.failure(o),r(o)}},c.send(u)}}(this))},t.registerOwnerWithThingID=function(t,e,n){return f.KiiThing._registerOwnerWithIdentifier(t,e,n)},t.registerOwnerWithVendorThingID=function(t,e,n){return l._isNonEmptyString(t)?f.KiiThing._registerOwnerWithIdentifier("VENDOR_THING_ID:"+t,e,n):f.KiiThing._registerOwnerWithIdentifier(null,e,n)},t._registerOwnerWithIdentifier=function(t,e,n){return new Promise(function(i,r){var o,a,s,u,c;if(!l._isNonEmptyString(t))return o=l._Error("identifier is null or empty"),null!=n&&n.failure(o),void r(o);if(null==e)return o=l._Error("owner is null"),null!=n&&n.failure(o),void r(o);try{s=f.KiiThing.prototype._getOwnerURL(t,e)}catch(p){return a=p,o=l._Error(a),null!=n&&n.failure(o),void r(o)}return c=h.createXHRWrapper("PUT",s),c.setKiiHeaders(),f.KiiThing.prototype._setAuthToken(c),u={success:function(){return null!=n&&n.success(e),i([e])},failure:function(){var t;return t=c.getErrorString("register owner"),o=l._Error(t),null!=n&&n.failure(o),r(o)}},c.send(u)})},t.prototype._getOwnerURL=function(t,e){var n,i;if(e instanceof f.KiiUser)n=e.getID(),i="user";else{if(!(e instanceof f.KiiGroup))throw"owner should be instance of user or group";n=e.getID(),i="group"}if(null==n)throw"owner instance does not have id";return""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things/"+t+"/ownership/"+i+":"+n},t.prototype.unregisterOwner=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s,u,c;try{s=n._getOwnerURL(n._thingID,t)}catch(p){return a=p,o=l._Error(a,n),null!=e&&e.failure(o),void r(o)}return c=h.createXHRWrapper("DELETE",s),c.setKiiHeaders(),n._setAuthToken(c),u={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t;return t=c.getErrorString("unregister owner"),o=l._Error(t,n),null!=e&&e.failure(o),r(o)}},c.send(u)}}(this))},t.prototype.disable=function(t){return this._changeStatus(!0,t)},t.prototype.enable=function(t){return this._changeStatus(!1,t)},t.prototype._changeStatus=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return s=h.createXHRWrapper("PUT",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things/"+n._thingID+"/status"),s.setKiiHeaders(),n._setAuthToken(s),s.setContentType("application/vnd.kii.ThingStatusUpdateRequest+json"),a={success:function(){return n._disabled=t,null!=e&&e.success(n),i(n)},failure:function(){var i,o;return o=s.getErrorString("disable thing "+t),i=l._Error(o,n),null!=e&&e.failure(i),r(i)}},o={disabled:t},s.sendData(JSON.stringify(o),a)}}(this))},t.loadWithVendorThingID=function(t,e){var n;return n="VENDOR_THING_ID:"+t,f.KiiThing._load(n,e)},t.loadWithThingID=function(t,e){return f.KiiThing._load(t,e)},t._load=function(t,e){return new Promise(function(n,i){var r,o;return o=h.createXHRWrapper("GET",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things/"+t),o.setKiiHeaders(),f.KiiThing.prototype._setAuthToken(o),r={success:function(){var t,i;return t=JSON.parse(decodeURIComponent(o.xhr.responseText)),i=new f.KiiThing(t),null!=e&&e.success(i),n(i)},failure:function(){var t,n;return n=o.getErrorString("load thing"),t=l._Error(n),null!=e&&e.failure(t),i(t)}},o.send(r)})},t.prototype.bucketWithName=function(t){return new f.KiiBucket._bucketWithName(t,this)},t.prototype.encryptedBucketWithName=function(t){return new f.KiiEncryptedBucket(t,this)},t.prototype.topicWithName=function(t){if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");return new f.KiiTopic(this._getHttpURI(),t)},t.prototype.listTopics=function(t,e){return new Promise(function(n){return function(i,r){var o;return o={success:function(){return null!=t&&t.success.apply(t,arguments),i(arguments)},failure:function(){return null!=t&&t.failure.apply(t,arguments),r(arguments[0])}},n._listTopicsUsingCallbacks(o,e)}}(this))},t.prototype._listTopicsUsingCallbacks=function(t,e){var n,i,r;return i=""+this._getHttpURI()+"/topics","string"==typeof e&&""!==e&&(i=i+"?paginationKey="+encodeURIComponent(e)),r=h.createXHRWrapper("GET",i),r.setKiiHeaders(),this._setAuthToken(r),n={success:function(e){return function(){var n,i,o,a,s,u;for(n=JSON.parse(r.xhr.responseText),o=[],u=n.topics,a=0,s=u.length;s>a;a++)i=u[a],o.push(e.topicWithName(i.topicID));return null!=t?t.success(o,void 0===n.paginationKey?null:n.paginationKey):void 0}}(this),failure:function(e){return function(){var n,i;return i=r.getErrorString("list topics"),n=l._Error(i,e),null!=t?t.failure(n):void 0}}(this)},r.send(n)},t.prototype.pushSubscription=function(){return new f.KiiPushSubscription(this)},t.prototype._getHttpURI=function(){return""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things/"+this.getThingID()},t.thingWithID=function(t){var e;if(null==t||""===t)throw new f.InvalidArgumentException("thingID should not null or empty");return e=new f.KiiThing,e._thingID=t,e},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t.prototype._getSubscriberPath=function(){return"things/"+this.getThingID()},t}(),f.KiiTopic=function(){function t(t,e){this._getHttpUri=v(this._getHttpUri,this),this._setAuthToken=v(this._setAuthToken,this),this.acl=v(this.acl,this),this.deleteTopic=v(this.deleteTopic,this),this.sendMessage=v(this.sendMessage,this),this.save=v(this.save,this),this.exists=v(this.exists,this),this.getName=v(this.getName,this),this._uri=""+t+"/topics/"+e,this._name=e}return t.prototype.getName=function(){return this._name},t.prototype.exists=function(t){return new Promise(function(e){return function(n,i){var r,o;return o=h.createXHRWrapper("HEAD",e._uri),o.setKiiHeaders(),e._setAuthToken(o),r={success:function(){return null!=t&&t.success(!0),n(!0)},failure:function(){var r,a;return 404===o.xhr.status?(null!=t&&t.success(!1),void n(!1)):(a=o.getErrorString("check topic"),r=l._Error(a,e),null!=t&&t.failure(r),i(r))}},o.send(r)}}(this))},t.prototype.save=function(t){return new Promise(function(e){return function(n,i){var r,o;return o=h.createXHRWrapper("PUT",e._uri),o.setKiiHeaders(),e._setAuthToken(o),r={success:function(){return null!=t&&t.success(e),n(e)},failure:function(){var n,r;return r=o.getErrorString("save topic"),n=l._Error(r,e),null!=t&&t.failure(n),i(n)}},o.send(r)}}(this))},t.prototype.sendMessage=function(t,e){return new Promise(function(n){return function(i,r){var o,a;return a=h.createXHRWrapper("POST",""+n._uri+"/push/messages"),a.setKiiHeaders(),n._setAuthToken(a),a.setContentType("application/vnd.kii.SendPushMessageRequest+json"),o={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t,i;return i=a.getErrorString("send messages"),t=l._Error(i,n),null!=e&&e.failure(t),r(t)}},a.sendData(JSON.stringify(t),o)}}(this))},t.prototype.deleteTopic=function(t){return new Promise(function(e){return function(n,i){var r,o;return o=h.createXHRWrapper("DELETE",e._uri),o.setKiiHeaders(),e._setAuthToken(o),r={success:function(){return null!=t&&t.success(e),n(e)},failure:function(){var n,r;return r=o.getErrorString("delete topic"),n=l._Error(r,e),null!=t&&t.failure(n),i(n)}},o.send(r)}}(this))},t.prototype.acl=function(){return f.KiiACL.aclWithParent(this)},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t.prototype._getHttpUri=function(){return this._uri},t}(),f.KiiPushMessageBuilder=function(){function t(t){this.data=t,this.mqttData=v(this.mqttData,this),this.jpushData=v(this.jpushData,this),this.apnsCategory=v(this.apnsCategory,this),this.apnsContentAvailable=v(this.apnsContentAvailable,this),this.apnsBadge=v(this.apnsBadge,this),this.apnsSound=v(this.apnsSound,this),this.apnsAlert=v(this.apnsAlert,this),this.apnsData=v(this.apnsData,this),this.gcmRestrictedPackageName=v(this.gcmRestrictedPackageName,this),this.gcmTimeToLive=v(this.gcmTimeToLive,this),this.gcmDelayWhileIdle=v(this.gcmDelayWhileIdle,this),this.gcmCollapseKey=v(this.gcmCollapseKey,this),this.gcmData=v(this.gcmData,this),this.enableMqtt=v(this.enableMqtt,this),this.enableJpush=v(this.enableJpush,this),this.enableApns=v(this.enableApns,this),this.enableGcm=v(this.enableGcm,this),this.setSendToProduction=v(this.setSendToProduction,this),this.setSendToDevelopment=v(this.setSendToDevelopment,this),this.build=v(this.build,this),this.gcm={},this.apns={},this.jpush={},this.mqtt={},this.gcm.enabled=!0,this.apns.enabled=!0,this.jpush.enabled=!0,this.mqtt.enabled=!0}return t.prototype.build=function(){var t;return t={},t.data=this.data,t.gcm=this.gcm,t.apns=this.apns,t.jpush=this.jpush,t.mqtt=this.mqtt,null!=this.sendToDevelopment&&(t.sendToDevelopment=this.sendToDevelopment),null!=this.sendToProduction&&(t.sendToProduction=this.sendToProduction),t},t.prototype.setSendToDevelopment=function(t){return this.sendToDevelopment=t,this},t.prototype.setSendToProduction=function(t){return this.sendToProduction=t,this},t.prototype.enableGcm=function(t){return this.gcm.enabled=t,this},t.prototype.enableApns=function(t){return this.apns.enabled=t,this},t.prototype.enableJpush=function(t){return this.jpush.enabled=t,this},t.prototype.enableMqtt=function(t){return this.mqtt.enabled=t,this},t.prototype.gcmData=function(t){return this.gcm.data=t,this},t.prototype.gcmCollapseKey=function(t){return this.gcm.collapseKey=t,this},t.prototype.gcmDelayWhileIdle=function(t){return this.gcm.delayWhileIdle=t,this},t.prototype.gcmTimeToLive=function(t){return this.gcm.timeToLive=t,this},t.prototype.gcmRestrictedPackageName=function(t){return this.gcm.restrictedPackageName=t,this},t.prototype.apnsData=function(t){return this.apns.data=t,this},t.prototype.apnsAlert=function(t){return this.apns.alert=t,this},t.prototype.apnsSound=function(t){return this.apns.sound=t,this},t.prototype.apnsBadge=function(t){return this.apns.badge=t,this},t.prototype.apnsContentAvailable=function(t){return 0!==t&&(this.apns.contentAvailable=!0),this},t.prototype.apnsCategory=function(t){return this.apns.category=t,this},t.prototype.jpushData=function(t){return this.jpush.data=t,this},t.prototype.mqttData=function(t){return this.mqtt.data=t,this},t}(),f.KiiPushSubscription=function(){function t(t){this._subscriber=t,this._setAuthToken=v(this._setAuthToken,this),this._getRequestHTTPURI=v(this._getRequestHTTPURI,this),this._validateTarget=v(this._validateTarget,this),this.isSubscribed=v(this.isSubscribed,this),this.unsubscribe=v(this.unsubscribe,this),this.subscribe=v(this.subscribe,this)}return t.prototype.getSubscriber=function(){return this._subscriber},t.prototype.subscribe=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return n._validateTarget(t)?(o=n._getRequestHTTPURI(t),s=h.createXHRWrapper("PUT",o),s.setKiiHeaders(),n._setAuthToken(s),a={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t,i;return i=s.getErrorString("subscribe"),t=l._Error(i,n),null!=e&&e.failure(t),r(t)}},s.send(a)):(null!=e&&e.failure(f.InvalidArgumentException("target is invalid")),void r(l._Error(f.InvalidArgumentException("target is invalid"),n)))}}(this))},t.prototype.unsubscribe=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return n._validateTarget(t)?(o=n._getRequestHTTPURI(t),s=h.createXHRWrapper("DELETE",o),s.setKiiHeaders(),n._setAuthToken(s),a={success:function(){return null!=e&&e.success(n,t),i([n,t])},failure:function(){var t,i;return i=s.getErrorString("unsubscribe"),t=l._Error(i,n),null!=e&&e.failure(t),r(t)}},s.send(a)):(null!=e&&e.failure(f.InvalidArgumentException("target is invalid")),void r(l._Error(f.InvalidArgumentException("target is invalid"),n)))}}(this))},t.prototype.isSubscribed=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return n._validateTarget(t)?(o=n._getRequestHTTPURI(t),s=h.createXHRWrapper("GET",o),s.setKiiHeaders(),n._setAuthToken(s),a={success:function(){return null!=e&&e.success(n,t,!0),i([n,t,!0])},failure:function(){var o,a,u;return u=s.getErrorCode(),"FILTER_NOT_FOUND"===u||"PUSH_SUBSCRIPTION_NOT_FOUND"===u?(null!=e&&e.success(n,t,!1),i([n,t,!1])):(a=s.getErrorString("Check is subscribed"),o=l._Error(a,n),null!=e&&e.failure(o),r(o))}},s.send(a)):(null!=e&&e.failure(f.InvalidArgumentException("target is invalid")),void r(l._Error(f.InvalidArgumentException("target is invalid"),n)))}}(this))},t.prototype._validateTarget=function(t){return null!=t&&(t instanceof f.KiiBucket||t instanceof f.KiiTopic)},t.prototype._getRequestHTTPURI=function(t){var e;return t instanceof f.KiiBucket?e=""+t._getHttpUri()+"/filters/all/push/subscriptions/"+this._subscriber._getSubscriberPath():t instanceof f.KiiTopic?e=""+t._getHttpUri()+"/push/subscriptions/"+this._subscriber._getSubscriberPath():void 0},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t}(),f.KiiThingWithToken=function(t){function e(t,n,i,r){this._adminToken=r,this.topicWithName=v(this.topicWithName,this),this.bucketWithName=v(this.bucketWithName,this),this.pushSubscription=v(this.pushSubscription,this),this._setAuthToken=v(this._setAuthToken,this),e.__super__.constructor.call(this,t),null!=n&&(this._thingID=n),null!=i&&(this._vendorThingID=i)}return _(e,t),e.register=function(t,e,n){return new Promise(function(i,r){var o,a;return a=h.createXHRWrapper("POST",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things"),a.setKiiHeaders(),a.setContentType("application/vnd.kii.ThingRegistrationAndAuthorizationRequest+json"),a.setAuthToken(n),o={success:function(){var t,r;return t=JSON.parse(decodeURIComponent(a.xhr.responseText)),r=new f.KiiThingWithToken(t,null,null,n),null!=e&&e.success(r),i(r)},failure:function(){var t,n;return n=a.getErrorString("register thing"),t=l._Error(n),null!=e&&e.failure(t),r(t)}},a.sendData(JSON.stringify(t),o)})},e.registerOwnerWithThingID=function(t,e,n,i){return f.KiiThingWithToken._registerOwnerWithIdentifier(t,e,n,i)},e.registerOwnerWithVendorThingID=function(t,e,n,i){return f.KiiThingWithToken._registerOwnerWithIdentifier("VENDOR_THING_ID:"+t,e,n,i)},e._registerOwnerWithIdentifier=function(t,e,n,i){return new Promise(function(r,o){var a,s,u,c;if(e instanceof f.KiiUser)a=e.getID(),u="user";else{if(!(e instanceof f.KiiGroup))throw"owner should be instance of user or group";a=e.getID(),u="group"}if(null==a)throw"owner instance does not have id";return c=h.createXHRWrapper("PUT",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/things/"+t+"/ownership/"+u+":"+a),c.setKiiHeaders(),c.setAuthToken(i),s={success:function(){return null!=n&&n.success(e),r([e])},failure:function(){var t,e;return e=c.getErrorString("register owner"),t=l._Error(e),null!=n&&n.failure(t),o(t)}},c.send(s)})},e.loadWithVendorThingID=function(t,e,n){var i;return i=new f.KiiThingWithToken(null,null,t,n),i.refresh(e)},e.loadWithThingID=function(t,e,n){var i;return i=new f.KiiThingWithToken(null,t,null,n),i.refresh(e)},e.prototype._setAuthToken=function(t){return t.setAuthToken(this._adminToken)},e.prototype.pushSubscription=function(){return new f.KiiPushSubscriptionWithToken(this,this._adminToken)},e.prototype.bucketWithName=function(t){return new f.KiiBucketWithToken(t,this,this._adminToken)},e.prototype.encryptedBucketWithName=function(t){return new f.KiiEncryptedBucketWithToken(t,this,this._adminToken)},e.prototype.topicWithName=function(t){if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");return new f.KiiTopicWithToken(this._getHttpURI(),t,this._adminToken)},e.thingWithID=function(t,e){var n;return n=new f.KiiThingWithToken(null,t,null,e)},e}(f.KiiThing),f.KiiTopicWithToken=function(t){function e(t,n,i){this._authToken=i,this.acl=v(this.acl,this),this._setAuthToken=v(this._setAuthToken,this),e.__super__.constructor.call(this,t,n)}return _(e,t),e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e.prototype.acl=function(){return new f.KiiACLWithToken(this,this._authToken)},e}(f.KiiTopic),f.KiiPushSubscriptionWithToken=function(t){function e(t,n){this._authToken=n,this._setAuthToken=v(this._setAuthToken,this),e.__super__.constructor.call(this,t)}return _(e,t),e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e}(f.KiiPushSubscription),f.KiiAnalyticsSite={US:"https://api.kii.com/api",JP:"https://api-jp.kii.com/api",CN:"https://api-cn2.kii.com/api",SG:"https://api-sg.kii.com/api",CN3:"https://api-cn3.kii.com/api"},f.KiiAnalytics=function(){function t(){}var e;return e=null,t.getBaseURL=function(){return e._baseURL},t.getAppID=function(){return e._appID},t.getAppKey=function(){return e._appKey},t.getAppKey=function(){return e._appKey},t.getDeviceId=function(){return e._deviceId},t.isLogging=function(){return e._logging},t.setLogging=function(t){return f.KiiAnalytics.logger("Setting logging: "+t),e._logging=t},t.initializeWithSite=function(t,e,n,i){return f.KiiAnalytics._initializeWithSite(t,e,n,i)},t.initialize=function(t,e,n){return f.KiiAnalytics._initializeWithSite(t,e,f.KiiAnalyticsSite.US,n)},t._initializeWithSite=function(t,n,i,r){return e=new g(t,n,i,r),(null!=r?r.length:void 0)>0&&e._deviceId!==r&&(e._deviceId=r),f.KiiAnalytics.logger("Initialized "+t+", "+n+", "+i)},t.error=function(t){return console.log("KiiAnalytics SDK Error => "+t)},t.logger=function(t){return e._logging?console.log("KiiAnalytics => "+t):void 0},t.trackEvent=function(t){return f.KiiAnalytics.trackEventWithExtras(t,null)},t.trackEventWithExtras=function(t,e){return f.KiiAnalytics.trackEventWithExtrasAndCallbacks(t,e,null)},t.trackEventWithExtrasAndCallbacks=function(e,n,i){return new Promise(function(r,o){var a;return a={success:function(){return null!=i&&i.success(),r()},failure:function(){return null!=i&&i.failure.apply(i,arguments),o(l._Error(arguments[0]))}},t._trackEventWithExtrasAndCallbacks(e,n,a)})},t._trackEventWithExtrasAndCallbacks=function(n,r,o){var a,s,u,l,c,h,p,d,g,m,v;h=Math.round((new Date).getTime()),c="^[a-zA-Z][a-zA-Z0-9_]{0,63}$",f.KiiAnalytics.logger("deviceId = "+e._deviceId),p={_triggeredAt:h,_uploadedAt:h,_deviceID:e._deviceId,_type:n},s=function(t){return null!=t&&null!=t.match(c)},a=function(t){var e,n,i,r;for(i=0,r=t.length;r>i;i++){if(n=t[i],e=typeof n,"string"!==e&&"boolean"!==e&&"number"!==e)return!1;if("string"===e){if(n.length<=0)return!1}else if("number"===e&&(!isFinite(n)||isNaN(n)))return!1}return!0},u=function(t){var e;return e=typeof t,"string"===e?t.length>0:"number"===e?isFinite(t)&&!isNaN(t):"object"===e?t instanceof Array&&t.length>0&&a(t):"boolean"===e?!0:!1};for(l in r)m=r[l],s(l)&&u(m)?p[l]=m:f.KiiAnalytics.logger("ignoring invalid key/value pair, key:"+l+" value:"+m);return g=""+t.getBaseURL()+"/apps/"+t.getAppID()+"/event",v=i.createXHRWrapper("POST",g),v.setKiiHeaders(),v.setContentType("application/vnd.kii.Event+json"),d={success:function(){return null!=o?o.success():void 0},failure:function(){var t;return t=v.getErrorString("track event"),null!=o?o.failure(t,v.xhr.status):void 0}},v.sendData(JSON.stringify(p),d)},t.setBaseURL=function(t){return f.KiiAnalytics.logger("Setting base URL: "+t),e._baseURL=t},t.getSDKVersion=function(){return f.Kii.getSDKVersion()},t._setHttpRequestType=function(t){return f.KiiAnalytics.logger("Set http request as "+t),e._httpRequestType=t},t._getHttpRequestType=function(){return e._httpRequestType},t}(),g=function(){function t(e,n,i,r){null==i&&(i=f.KiiAnalyticsSite.US),r||(r=t.generateDeviceId()),this._appKey=n,this._appID=e,this._baseURL=i,this._deviceId=r}return t.prototype._httpRequestType=null,t.generateDeviceId=function(){var t;return t=function(t){var e;return e=(Math.random().toString(16)+"000000000").substr(2,8),t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e},t()+t(!0)+t(!0)+t()},t}(),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _(e,t),e.prototype.getAppID=function(){return f.KiiAnalytics.getAppID()},e.prototype.getAppKey=function(){return f.KiiAnalytics.getAppKey()},e.prototype.getLogger=function(){return f.KiiAnalytics.logger()},e.prototype.getCurrentUser=function(){return null},e}(c),t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _(e,t),e.prototype.getAppID=function(){return f.KiiAnalytics.getAppID()},e.prototype.getAppKey=function(){return f.KiiAnalytics.getAppKey()},e.prototype.getLogger=function(){return f.KiiAnalytics.logger()},e.prototype.getCurrentUser=function(){return null},e}(r),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _(e,t),e.prototype.getAppID=function(){return f.KiiAnalytics.getAppID()},e.prototype.getAppKey=function(){return f.KiiAnalytics.getAppKey()},e.prototype.getLogger=function(){return f.KiiAnalytics.logger()},e.prototype.getCurrentUser=function(){return null},e}(s),i=function(){function i(){}return i.createXHRWrapper=function(i,r){var o;return o=null,null===f.KiiAnalytics._getHttpRequestType()?"undefined"!=typeof jQuery?(f.KiiAnalytics.logger("Use jQuery"),o=new t(i,r)):"undefined"!=typeof XMLHttpRequest?(f.KiiAnalytics.logger("Use XMLHttpRequest"),o=new n(i,r)):"undefined"!=typeof Titanium&&(f.KiiAnalytics.logger("Use Titanium"),o=new e(i,r)):(f.KiiAnalytics.logger("Use http request backdoor"),f.KiiAnalytics._getHttpRequestType()===f._KiiHttpRequestType.jQuery?(f.KiiAnalytics.logger("Use jQuery"),o=new t(i,r)):f.KiiAnalytics._getHttpRequestType()===f._KiiHttpRequestType.XMLHttpRequest?(f.Kii.logger("Use XMLHttpRequest"),o=new n(i,r)):f.KiiAnalytics._getHttpRequestType()===f._KiiHttpRequestType.Titanium&&(f.Kii.logger("Use Titanium"),o=new e(i,r))),o},i}(),f.KiiSCNGoogle=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,f.KiiSocialNetworkName.GOOGLEPLUS)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={access_token:t.access_token},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.access_token},e.prototype._logIn=function(t,e){var n;if(f.Kii.logger("should auth google"),f.Kii.logger("Checking options"),null==t||!t.access_token)throw f.InvalidArgumentException("options.access_token is required");return null!=f.KiiUser.getCurrentUser()&&f.KiiUser.logOut(),n={accessToken:t.access_token},this._register("google","application/vnd.kii.AuthTokenGoogleRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),f.Kii.logger("Log out google")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null!=f.KiiUser.getCurrentUser()){if(null==t||!t.access_token)throw f.InvalidArgumentException("options.access_token is required");return n={accessToken:t.access_token},this._link("google","application/vnd.kii.LinkGoogleRequest+json",n,t,e)}return null!=e?e.failure(null,this._network,"A KiiUser must be logged in before linking to Google"):void 0},e.prototype._unlinkFromCurrentUser=function(t){return null!=f.KiiUser.getCurrentUser()?this._unlink("google",t):null!=t?t.failure("A KiiUser must be logged in before unlinking from Google"):void 0},e}(f.KiiSocialConnectNetwork),f.KiiSCNRenRen=function(t){function e(){this._unlinkFromCurrentUser=v(this._unlinkFromCurrentUser,this),this._linkWithCurrentUser=v(this._linkWithCurrentUser,this),this._logOut=v(this._logOut,this),this._logIn=v(this._logIn,this),this._getAccessToken=v(this._getAccessToken,this),this._createTokenObject=v(this._createTokenObject,this),this._setup=v(this._setup,this),e.__super__.constructor.call(this,f.KiiSocialNetworkName.RENREN)}return _(e,t),e.prototype._setup=function(t,n,i){return this._key=t,this._secret=n,this._extras=i,e.__super__._setup.call(this,this._key,this._secret,this._extras)},e.prototype._createTokenObject=function(t,e){var n;return n={access_token:t.access_token},null!=e&&null!=e.new_user_created&&(n.kii_new_user=e.new_user_created),n},e.prototype._getAccessToken=function(t){return t.access_token},e.prototype._logIn=function(t,e){var n;if(f.Kii.logger("should auth renren"),f.Kii.logger("Checking options"),null==t||!t.access_token)throw f.InvalidArgumentException("options.access_token is required");return null!=f.KiiUser.getCurrentUser()&&f.KiiUser.logOut(),n={accessToken:t.access_token},this._register("renren","application/vnd.kii.AuthTokenRenRenRequest+json",n,t,e)},e.prototype._logOut=function(){return e.__super__._logOut.apply(this,arguments),f.Kii.logger("Log out renren")},e.prototype._linkWithCurrentUser=function(t,e){var n;if(null!=f.KiiUser.getCurrentUser()){if(null==t||!t.access_token)throw f.InvalidArgumentException("options.access_token is required");return n={accessToken:t.access_token},this._link("renren","application/vnd.kii.LinkRenRenRequest+json",n,t,e)}return null!=e?e.failure(null,this._network,"A KiiUser must be logged in before linking to RenRen"):void 0},e.prototype._unlinkFromCurrentUser=function(t){return null!=f.KiiUser.getCurrentUser()?this._unlink("renren",t):null!=t?t.failure("A KiiUser must be logged in before unlinking from RenRen"):void 0},e}(f.KiiSocialConnectNetwork),f.KiiThingContext=function(){function t(t){this._objectWithURI=v(this._objectWithURI,this),this._getToken=v(this._getToken,this),this.pushInstallation=v(this.pushInstallation,this),this.getAuthenticatedThing=v(this.getAuthenticatedThing,this),this.listTopics=v(this.listTopics,this),this.topicWithName=v(this.topicWithName,this),this._token=t.token,this._thingId=t.thingId,null!=t.vendorThingID&&(this._vendorThingID=t.vendorThingID)}return t.prototype.bucketWithName=function(t){var e;return e=new f.KiiBucketWithToken(t,null,this._token)},t.prototype.encryptedBucketWithName=function(t){var e;return e=new f.KiiEncryptedBucketWithToken(t,null,this._token)},t.prototype.objectWithURI=function(t){var e;return e=this._objectWithURI(t)},t.prototype.topicWithName=function(t){if("string"!=typeof t||""===t)throw new f.InvalidArgumentException("topicName should not null or empty");return new f.KiiTopicWithToken(""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID(),t,this._token)},t.prototype.listTopics=function(t,e){return f.Kii._listTopics(t,e,this)},t.prototype.getAuthenticatedThing=function(){var t;return t=f.KiiThingWithToken.thingWithID(this._thingId,this._token),t._accessToken=this._token,t._vendorThingID=this._vendorThingID,t},t.prototype.pushInstallation=function(){return new f.KiiPushInstallationWithToken(this._token)},t.prototype._getToken=function(){return this._token},t.prototype._objectWithURI=function(t){var e,n,i,r,o,a,s,u,l;if(!t)throw new f.InvalidURIException;if(l=0===t.indexOf("kiicloud://"),a=t.substr("kiicloud://".length),o=a.split("/"),r=o.length,!(r>=4&&l))throw new f.InvalidURIException;if(n=4===r?1:3,i=o[n],u=null,"groups"===o[0]&&6===r)u=new f.KiiGroupWithToken._groupWithID(o[1],this._token);else if("users"===o[0]&&6===r)u=f.KiiUserWithToken._userWithID(o[1],this._token);else if("things"===o[0]&&6===r)u=f.KiiThingWithToken.thingWithID(o[1],this._token);else if(4!==r)throw new f.InvalidURIException;return e=new f.KiiBucketWithToken(i,u,this._token),s=e.createObject(),s._setUUID(o[r-1]),s},t}(),f.KiiUserBuilder=function(){function t(){this._password=null,this._username=null,this._emailAddress=null,this._phoneNumber=null,this._country=null
}return t.builderWithIdentifier=function(t,e){var n,i;if(null==t)throw new f.InvalidArgumentException("Identifier must not be null or undefined");if(!l._validatePassword(e))throw new f.InvalidPasswordException;if(n=new f.KiiUserBuilder,n._password=e,l._validatePhoneNumber(t))n._phoneNumber=t;else if(i=l._trim(t),l._validateEmail(i))n._emailAddress=i;else{if(!l._validateUsername(i))throw new f.InvalidArgumentException;n._username=i}return n},t.builderWithEmailAddress=function(t,e){var n;if(!l._validateEmail(t))throw new f.InvalidEmailException;if(!l._validatePassword(e))throw new f.InvalidPasswordException;return n=new f.KiiUserBuilder,n._emailAddress=l._trim(t),n._password=e,n},t.builderWithGlobalPhoneNumber=function(t,e){var n;if(!l._validatePhoneNumber(t))throw new f.InvalidPhoneNumberException;if(!l._isGlobalPhoneNumber(t))throw new f.InvalidPhoneNumberException;if(!l._validatePassword(e))throw new f.InvalidPasswordException;return n=new f.KiiUserBuilder,n._phoneNumber=t,n._password=e,n},t.builderWithLocalPhoneNumber=function(t,e,n){var i;if(!l._validateLocalPhone(t))throw new f.InvalidPhoneNumberException;if(!l._validateCountryCode(e))throw new f.InvalidCountryException;if(!l._validatePassword(n))throw new f.InvalidPasswordException;return i=new f.KiiUserBuilder,i._phoneNumber=t,i._country=e,i._password=n,i},t.builderWithUsername=function(t,e){var n,i;if(i=l._trim(t),!l._validateUsername(i))throw new f.InvalidUsernameException;if(!l._validatePassword(e))throw new f.InvalidPasswordException;return n=new f.KiiUserBuilder,n._username=i,n._password=e,n},t.prototype.setUsername=function(t){var e;if(null!=t){if(e=l._trim(t),!l._validateUsername(e))throw new f.InvalidUsernameException;this._username=e}return this},t.prototype.setEmailAddress=function(t){var e;if(null!=t){if(e=l._trim(t),!l._validateEmail(e))throw new f.InvalidEmailException;this._emailAddress=e}return this},t.prototype.setGlobalPhoneNumber=function(t){if(null!=t){if(!l._validatePhoneNumber(t))throw new f.InvalidPhoneNumberException;this._phoneNumber=t,this._country=null}return this},t.prototype.setLocalPhoneNumber=function(t,e){if(null!=t&&!l._validateLocalPhone(t))throw new f.InvalidPhoneNumberException;if(null!=e&&!l._validateCountryCode(e))throw new f.InvalidCountryException;return null!=t&&(this._phoneNumber=t),null!=e&&(this._country=e),this},t.prototype.build=function(){var t;return t=new f.KiiUser,null!=this._username&&t._setUsername(this._username),null!=this._emailAddress&&t._setEmailAddress(this._emailAddress),null!=this._country?t._setLocalPhone(this._phoneNumber,this._country):null!=this._phoneNumber&&t._setPhoneNumber(this._phoneNumber),t._setPassword(this._password),t},t}(),f.KiiPushInstallation=function(){function t(t){this._setAuthToken=v(this._setAuthToken,this),this.uninstallByInstallationID=v(this.uninstallByInstallationID,this),this.uninstall=v(this.uninstall,this),this._getMqttEndpoint=v(this._getMqttEndpoint,this),this.getMqttEndpoint=v(this.getMqttEndpoint,this),this._install=v(this._install,this),this.installMqtt=v(this.installMqtt,this),this.installGcm=v(this.installGcm,this),this._user=t}return t.prototype.installGcm=function(t,e,n){return l._isNonEmptyString(t)?this._install(t,"ANDROID",e,n):new Promise(function(t){return function(e,i){var r;return r=l._Error("installationRegistrationID must not be null or empty.",t),null!=n&&n.failure(r),i(r)}}(this))},t.prototype.installMqtt=function(t,e){return this._install(null,"MQTT",t,e)},t.prototype._install=function(t,e,n,i){return new Promise(function(r){return function(o,a){var s,u,c,p;return"boolean"!=typeof n&&(s=l._Error("type of development must be boolean.",r),null!=i&&i.failure(s),a(s)),p=h.createXHRWrapper("POST",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/installations"),p.setKiiHeaders(),r._setAuthToken(p),p.setContentType("application/vnd.kii.InstallationCreationRequest+json"),u={deviceType:e,development:n},null!=t&&(u.installationRegistrationID=t),c={success:function(){var t;return t=JSON.parse(decodeURIComponent(p.xhr.responseText)),null!=i&&i.success(t),o(t)},failure:function(){var t;return t=p.getErrorString("install push"),s=l._Error(t,r),null!=i&&i.failure(s),a(s)}},p.sendData(JSON.stringify(u),c)}}(this))},t.prototype.getMqttEndpoint=function(t,e){return new Promise(function(n){return function(i,r){var o,a;return l._isNonEmptyString(t)||(o=l._Error("installationID must not be null or empty.",n),null!=e&&e.failure(o),r(o)),a={success:function(t){return null!=e&&e.success(t),i(t)},failure:function(t){return null!=e&&e.failure(t),r(t)}},n._getMqttEndpoint(t,3,a)}}(this))},t.prototype._getMqttEndpoint=function(t,e,n){var i,r,o;return i=this,o=h.createXHRWrapper("GET",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/installations/"+t+"/mqtt-endpoint"),o.setKiiHeaders(),this._setAuthToken(o),r={success:function(){return function(){var t;return t=JSON.parse(decodeURIComponent(o.xhr.responseText)),n.success(t)}}(this),failure:function(){return function(){var r,a;return 503===o.xhr.status?(e--,0>=e?(a=o.getErrorString("get mqtt endpoint"),r=l._Error(a,i),n.failure(r)):setTimeout(function(){return i._getMqttEndpoint(t,e,n)},1e3)):(a=o.getErrorString("get mqtt endpoint"),r=l._Error(a,i),n.failure(r))}}(this)},o.send(r)},t.prototype.uninstall=function(t,e,n){return new Promise(function(i){return function(r,o){var a,s,u;return l._isNonEmptyString(t)||(a=l._Error("installationRegistrationID must not be null or empty.",i),null!=n&&n.failure(a),o(a)),f.KiiPushInstallation._validateDeviceType(e)||(a=l._Error("Unsupported deviceType "+e,i),null!=n&&n.failure(a),o(a)),u=h.createXHRWrapper("DELETE",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/installations/"+e+":"+t),u.setKiiHeaders(),i._setAuthToken(u),s={success:function(){return null!=n&&n.success(),r()},failure:function(){var t;return t=u.getErrorString("uninstall push"),a=l._Error(t,i),null!=n&&n.failure(a),o(a)}},u.send(s)}}(this))},t.prototype.uninstallByInstallationID=function(t,e){return new Promise(function(n){return function(i,r){var o,a,s;return l._isNonEmptyString(t)||(o=l._Error("installationID must not be null or empty.",n),null!=e&&e.failure(o),r(o)),s=h.createXHRWrapper("DELETE",""+f.Kii.getBaseURL()+"/apps/"+f.Kii.getAppID()+"/installations/"+t),s.setKiiHeaders(),n._setAuthToken(s),a={success:function(){return null!=e&&e.success(),i()},failure:function(){var t;return t=s.getErrorString("uninstall push"),o=l._Error(t,n),null!=e&&e.failure(o),r(o)}},s.send(a)}}(this))},t._validateDeviceType=function(t){return"ANDROID"===t||"MQTT"===t},t.prototype._setAuthToken=function(t){return t.setCurrentUserToken()},t}(),f.KiiPushInstallationWithToken=function(t){function e(t){this._authToken=t,this._setAuthToken=v(this._setAuthToken,this)}return _(e,t),e.prototype._setAuthToken=function(t){return t.setAuthToken(this._authToken)},e}(f.KiiPushInstallation),f.KiiErrorParser=function(){function t(){}var e,n,i,r,o,a,s;return s={APP_NOT_FOUND:404,APP_DISABLED:403,UNAUTHORIZED:401,USER_NOT_FOUND:404,THING_NOT_FOUND:404,THING_DISABLED:401,THING_ALREADY_EXISTS:409,THING_TYPE_NOT_FOUND:404,FIRMWARE_VERSION_NOT_FOUND:404,WRONG_TOKEN:403,WRONG_REFRESH_TOKEN:403,INVALID_BUCKET:400,OPERATION_NOT_ALLOWED:409,OPERATION_NOT_SUPPORTED:403,AUTHENTICATION_FAILED:401,USER_DISABLED:401,INVALID_DATA_TYPE:400,INVALID_INPUT_DATA:400,INVALID_JSON:400,INVALID_JSON_SCHEMA:400,MISSING_DATA:400,RESOURCE_TEMPORARILY_UNAVAILABLE:503,WRONG_PASSWORD:401,OAUTH2_ERROR:400,THING_END_NODE_DOES_NOT_BELONG_TO_GATEWAY:404,THING_END_NODE_ALREADY_BELONGS_TO_GATEWAY:409,UNDEFINED_ERROR:500,OPERATION_NOT_IMPLEMENTED:501,LOCK_FAILED:503,QUERY_NOT_SUPPORTED:400,QUERY_TIMEOUT:503,TEMPORARY_UNAVAILABLE_ERROR:503,APP_ALREADY_EXISTS:409,BUCKET_ALREADY_EXISTS:409,BUCKET_NOT_FOUND:404,FILTER_NOT_FOUND:404,INVALID_ACCOUNT_STATUS:400,INVALID_OBJECT_ID:400,INVALID_VERIFICATION_CODE:403,OBJECT_NOT_FOUND:404,OBJECT_VERSION_IS_STALE:409,OBJECT_ALREADY_EXISTS:409,OBJECT_CONFLICT:409,PUBLICATION_NOT_FOUND:404,PUBLICATION_EXPIRED:410,USER_ALREADY_EXISTS:409,USER_ADDRESS_NOT_FOUND:404,VERIFICATION_CODE_NOT_FOUND:404,ACCOUNT_TYPE_NOT_SUPPORTED:400,OBJECT_BODY_NOT_FOUND:404,OBJECT_BODY_RANGE_NOT_SATISFIABLE:416,OBJECT_BODY_INTEGRITY_NOT_ASSURED:412,OBJECT_BODY_UPLOAD_NOT_FOUND:404,OBJECT_BODY_UPLOAD_ALREADY_EXISTS:409,BUCKET_TYPE_NOT_SUPPORTED:400,GROUP_NOT_FOUND:404,GROUP_ALREADY_EXISTS:409,INSTALLATION_NOT_FOUND:404,INSTALLATION_ALREADY_EXISTS:409,ACL_NOT_FOUND:404,ACL_ALREADY_EXISTS:409,VERSIONED_UPDATES_NOT_SUPPORTED:400,NO_ACCOUNT_PROVIDED:400,FACEBOOK_USER_ALREADY_LINKED:409,QQ_USER_ALREADY_LINKED:409,GOOGLE_USER_ALREADY_LINKED:409,USER_ALREADY_LINKED:409,USER_NOT_LINKED:409,UNIQUE_CONSTRAINT_VIOLATED:409,GCMKEY_ALREADY_EXISTS:409,GCMKEY_NOT_FOUND:404,APNSKEY_NOT_FOUND:404,JSON_WEB_KEY_NOT_FOUND:404,JPUSHKEY_NOT_FOUND:404,PUSH_SUBSCRIPTION_ALREADY_EXISTS:409,PUSH_SUBSCRIPTION_NOT_FOUND:404,TOPIC_ALREADY_EXISTS:409,TOPIC_NOT_FOUND:404,USER_LOCALE_NOT_FOUND:404,TEMPLATE_NOT_FOUND:404,USER_COUNTRY_NOT_FOUND:404,USER_DISPLAY_NAME_NOT_FOUND:404,SERVER_CODE_VERSION_NOT_FOUND:404,SERVER_CODE_HOOK_VERSION_NOT_FOUND:404,SCHEDULE_EXECUTION_NOT_FOUND:404,ENDPOINT_INVOCATION_ERROR:400,SERVER_CODE_VERIFICATION_ERROR:400,PAYLOAD_ID_NOT_FOUND:404,REPLACEMENT_SQL_QUERY_NOT_FOUND:404,APP_CONFIG_PARAMETER_NOT_FOUND:404,TRANSACTION_ID_NOT_FOUND:404,TRANSACTION_ID_ALREADY_EXISTS:409,CLIENT_CREDENTIALS_NOT_FOUND:404,ACCESS_CODE_NOT_FOUND:404,THING_OWNERSHIP_NOT_FOUND:404,THING_OWNERSHIP_ALREADY_EXISTS:409,INVALID_THING_OWNERSHIP_CODE:409,MQTT_ENDPOINT_NOT_FOUND:404,TASK_NOT_FOUND:404,TASK_NOT_RECURRENT:400,INVALID_STATUS:409,PHONE_NUMBER_VERIFICATION_CODE_EXPIRED:410,PIN_CODE_EXPIRED:410,ADDRESS_VERIFICATION_CODE_NOT_FOUND:404,MQTT_ENDPOINT_NOT_READY:503,INDEX_FAILED:500},n=new RegExp("(^[A-Z_]+): (.*)"),a=new RegExp(" statusCode: (\\d{3}) error code: ([A-Z_]+) message: (.*)$"),o=new RegExp(" statusCode: (\\d{3}) error code: ([A-Z_]+) error message: (.*)$"),i=new RegExp(" statusCode: (\\d{3}) executedSteps: \\d+ error code: ([A-Z_]+) message: (.*) detailMessage: (.*)$"),r=new RegExp(" statusCode: (\\d{3}) executedSteps: null error code: ([A-Z_]+) message: (.*)$"),e=new RegExp("statusCode: (\\d{1,3})$"),t.parse=function(t){var u,l,c,h,p,f,d,g,m;if(c="string"===(typeof t).toLowerCase()?t:t.message,!c)return null;if(0===c.indexOf("0 : http"))return{status:0,code:null,message:"Network Error"};if(0===c.indexOf("429 : http"))return{status:429,code:"TOO_MANY_REQUESTS",message:"Number of requests exceeds the limit."};if(0===c.indexOf("fail to execute server code. statusCode: 0"))return{status:0,code:null,message:"Network Error"};if(u=e.exec(c))return f=Number(u[1]),429===f?{status:429,code:"TOO_MANY_REQUESTS",message:"Number of requests exceeds the limit."}:{status:0,code:null,message:"Network Error"};if(u=n.exec(c))return l=u[1],h=u[2],f=s[l],f||(f=-2),{status:f,code:l,message:h};for(m=[a,o,i,r],d=0,g=m.length;g>d;d++)if(p=m[d],u=p.exec(c))return f=Number(u[1]),l=u[2],h=u[3],{status:f,code:l,message:h};return{status:-1,code:null,message:c}},t}(),f};!function(){var e="undefined"!=typeof module&&null!==module;e&&module.exports?module.exports={exportedClasses:["ForTest","Kii","KiiACL","KiiACLEntry","KiiACLWithToken","KiiAnalytics","KiiAnonymousUser","KiiAnyAuthenticatedUser","KiiAppAdminContext","KiiBucket","KiiBucketWithToken","KiiClause","KiiEncryptedBucket","KiiEncryptedBucketWithToken","KiiErrorParser","KiiGeoPoint","KiiGroup","KiiGroupWithToken","KiiObject","KiiObjectWithToken","KiiPushInstallation","KiiPushInstallationWithToken","KiiPushSubscription","KiiPushSubscriptionWithToken","KiiQuery","KiiSCNFacebook","KiiSCNGoogle","KiiSCNQQ","KiiSCNRenRen","KiiSCNTwitter","KiiSDKClientInfo","KiiServerCodeEntry","KiiServerCodeExecResult","KiiSocialConnect","KiiSocialConnectNetwork","KiiThing","KiiThingContext","KiiThingWithToken","KiiTopic","KiiPushMessageBuilder","KiiTopicWithToken","KiiUser","KiiUserBuilder","KiiUserWithToken","KiiSocialNetworkName","KiiSite","_KiiHttpRequestType","KiiACLAction","KiiAnalyticsSite","InvalidDisplayNameException","InvalidPasswordException","InvalidUsernameException","InvalidUserIdentifierException","InvalidEmailException","InvalidPhoneNumberException","InvalidLocalPhoneNumberException","InvalidCountryException","InvalidURIException","InvalidACLAction","InvalidACLSubject","InvalidACLGrant","InvalidLimitException","InvalidArgumentException","IllegalStateException","ArithmeticException","UnsupportedOperationException"],create:function(){return t.call(this)}}:t()}()}(),/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.6 - 2016-03-16
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(t,e){var n=e.isDefined,i=e.isUndefined,r=e.isNumber,o=e.isObject,a=e.isArray,s=e.extend,u=e.toJson;e.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setStorageCookie=function(t,e){return this.cookie.expiry=t,this.cookie.path=e,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse",function(t,e,l,c){var h,p=this,f=p.prefix,d=p.cookie,g=p.notify,m=p.storageType;l?l[0]&&(l=l[0]):l=document,"."!==f.substr(-1)&&(f=f?f+".":"");var v=function(t){return f+t},y=function(){try{var n=m in e&&null!==e[m],i=v("__"+Math.round(1e7*Math.random()));return n&&(h=e[m],h.setItem(i,""),h.removeItem(i)),n}catch(r){return m="cookie",t.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),_=function(e,n){if(n=i(n)?null:u(n),!y||"cookie"===p.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),$(e,n);try{h&&h.setItem(v(e),n),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:p.storageType})}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),$(e,n)}return!0},b=function(e){if(!y||"cookie"===p.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),S(e);var n=h?h.getItem(v(e)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(i){return n}},x=function(){var e,n;for(e=0;e<arguments.length;e++)if(n=arguments[e],y&&"cookie"!==p.storageType)try{h.removeItem(v(n)),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:p.storageType})}catch(i){t.$broadcast("LocalStorageModule.notification.error",i.message),C(n)}else y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),C(n)},w=function(){if(!y)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var e=f.length,n=[];for(var i in h)if(i.substr(0,e)===f)try{n.push(i.substr(e))}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.Description),[]}return n},T=function(e){var n=f?new RegExp("^"+f):new RegExp,i=e?new RegExp(e):new RegExp;if(!y||"cookie"===p.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),A();var r=f.length;for(var o in h)if(n.test(o)&&i.test(o.substr(r)))try{x(o.substr(r))}catch(a){return t.$broadcast("LocalStorageModule.notification.error",a.message),A()}return!0},k=function(){try{return e.navigator.cookieEnabled||"cookie"in l&&(l.cookie.length>0||(l.cookie="test").indexOf.call(l.cookie,"test")>-1)}catch(n){return t.$broadcast("LocalStorageModule.notification.error",n.message),!1}}(),$=function(e,n,s){if(i(n))return!1;if((a(n)||o(n))&&(n=u(n)),!k)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",h=new Date,p="";if(null===n?(h.setTime(h.getTime()+-864e5),c="; expires="+h.toGMTString(),n=""):r(s)&&0!==s?(h.setTime(h.getTime()+24*s*60*60*1e3),c="; expires="+h.toGMTString()):0!==d.expiry&&(h.setTime(h.getTime()+24*d.expiry*60*60*1e3),c="; expires="+h.toGMTString()),e){var f="; path="+d.path;d.domain&&(p="; domain="+d.domain),l.cookie=v(e)+"="+encodeURIComponent(n)+c+f+p}}catch(g){return t.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},S=function(e){if(!k)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=l.cookie&&l.cookie.split(";")||[],i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(v(e)+"=")){var o=decodeURIComponent(r.substring(f.length+e.length+1,r.length));try{return JSON.parse(o)}catch(a){return o}}}return null},C=function(t){$(t,null)},A=function(){for(var t=null,e=f.length,n=l.cookie.split(";"),i=0;i<n.length;i++){for(t=n[i];" "===t.charAt(0);)t=t.substring(1,t.length);var r=t.substring(e,t.indexOf("="));C(r)}},I=function(){return m},M=function(t,e,i,r){r=r||e;var a=b(r);return null===a&&n(i)?a=i:o(a)&&o(i)&&(a=s(a,i)),c(e).assign(t,a),t.$watch(e,function(t){_(r,t)},o(t[e]))},D=function(){for(var t=0,n=e[m],i=0;i<n.length;i++)0===n.key(i).indexOf(f)&&t++;return t};return{isSupported:y,getStorageType:I,set:_,add:_,get:b,keys:w,remove:x,clearAll:T,bind:M,deriveKey:v,length:D,cookie:{isSupported:k,set:$,add:$,get:S,remove:C,clearAll:A}}}]})}(window,window.angular),/**
 * @license AngularJS v1.6.1
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t,e,n){if(!t)throw ge("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(Y(t)&&(t=t.join(" ")),Y(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function r(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var i="";return t=Y(t)?t:t&&te(t)&&t.length?t.split(/\s+/):[],G(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function s(t){if(t instanceof ne)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===R)return t;break;default:return ne(u(t))}return t.nodeType===R?ne(t):void 0}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===R)return n}}function l(t,e,n){G(e,function(e){t.addClass(e,n)})}function c(t,e,n){G(e,function(e){t.removeClass(e,n)})}function h(t){return function(e,n){n.addClass&&(l(t,e,n.addClass),n.addClass=null),n.removeClass&&(c(t,e,n.removeClass),n.removeClass=null)}}function p(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||ie;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=ie},t.$$prepared=!0}return t}function f(t,e){d(t,e),g(t,e)}function d(t,e){e.from&&(t.css(e.from),e.from=null)}function g(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=v(t.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=k(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var u=i.domOperation!==ie?i.domOperation:null;return q(i,r),u&&(i.domOperation=u),i.addClass=s.addClass?s.addClass:null,i.removeClass=s.removeClass?s.removeClass:null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function v(t,e,n){function i(t){te(t)&&(t=t.split(" "));var e={};return G(t,function(t){t.length&&(e[t]=!0)}),e}var r=1,o=-1,a={};t=i(t),e=i(e),G(e,function(t,e){a[e]=r}),n=i(n),G(n,function(t,e){a[e]=a[e]===r?null:o});var s={addClass:"",removeClass:""};return G(a,function(e,n){var i,a;e===r?(i="addClass",a=!t[n]||t[n+V]):e===o&&(i="removeClass",a=t[n]||t[n+U]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function y(t){return t instanceof ne?t[0]:t}function _(t,e,n){var i="";e&&(i=o(e,W,!0)),n.addClass&&(i=k(i,o(n.addClass,U))),n.removeClass&&(i=k(i,o(n.removeClass,V))),i.length&&(n.preparationClasses=i,t.addClass(i))}function b(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function x(t,e){var n=e?"-"+e+"s":"";return T(t,[fe,n]),[fe,n]}function w(t,e){var n=e?"paused":"",i=L+le;return T(t,[i,n]),[i,n]}function T(t,e){var n=e[0],i=e[1];t.style[n]=i}function k(t,e){return t?e?t+" "+e:t:e}function $(t){return[pe,t+"s"]}function S(t,e){var n=e?he:fe;return[n,t+"s"]}function C(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return G(n,function(t,e){var n=r[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=A(n)),0===n&&(n=null),i[e]=n}}),i}function A(t){var e=0,n=t.split(/\s*,\s*/);return G(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function I(t){return 0===t||null!=t}function M(t,e){var n=O,i=t+"s";return e?n+=re:i+=" linear all",[n,i]}function D(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function E(t,e,n){G(n,function(n){t[n]=Z(t[n])?t[n]:e.style.getPropertyValue(n)})}var O,P,L,N,R=1,U="-add",V="-remove",W="ng-",B="-active",K="-prepare",j="ng-animate",z="$$ngAnimateChildren",H="";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(H="-webkit-",O="WebkitTransition",P="webkitTransitionEnd transitionend"):(O="transition",P="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(H="-webkit-",L="WebkitAnimation",N="webkitAnimationEnd animationend"):(L="animation",N="animationend");var F,q,G,Y,Z,X,J,Q,te,ee,ne,ie,re="Duration",oe="Property",ae="Delay",se="TimingFunction",ue="IterationCount",le="PlayState",ce=9999,he=L+ae,pe=L+re,fe=O+ae,de=O+re,ge=e.$$minErr("ng"),me=["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),o=0;o<e.length;o++)e[o]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],ve=["$interpolate",function(t){return{link:function(e,n,i){function r(t){t="on"===t||"true"===t,n.data(z,t)}var o=i.ngAnimateChildren;te(o)&&0===o.length?n.data(z,!0):(r(t(o)(e)),i.$observe("ngAnimateChildren",r))}}}],ye="$$animateCss",_e=1e3,be=3,xe=1.5,we={transitionDuration:de,transitionDelay:fe,transitionProperty:O+oe,animationDuration:pe,animationDelay:he,animationIterationCount:L+ue},Te={transitionDuration:de,transitionDelay:fe,animationDuration:pe,animationDelay:he},ke=["$animateProvider",function(){var t=D(),e=D();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(n,i,s,u,l,c,m,v){function _(t,e){var n="$$ngAnimateParentKey",i=t.parentNode,r=i[n]||(i[n]=++K);return r+"-"+t.getAttribute("class")+"-"+e}function b(e,i,r,o){var a=t.get(r);return a||(a=C(n,e,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(r,a),a}function k(r,a,s,u){var l;if(t.count(s)>0&&(l=e.get(s),!l)){var c=o(a,"-stagger");i.addClass(r,c),l=C(n,r,u),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),i.removeClass(r,c),e.put(s,l)}return l||{}}function A(n){j.push(n),m.waitUntilQuiet(function(){t.flush(),e.flush();for(var n=l(),i=0;i<j.length;i++)j[i](n);j.length=0})}function D(t,e,n){var i=b(t,e,n,we),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var R=h(i),K=0,j=[];return function(e,n){function l(){m()}function h(){m(!0)}function m(t){if(!(Z||J&&X)){Z=!0,X=!1,z.$$skipPreparationClasses||i.removeClass(e,we),i.removeClass(e,$e),w(q,!1),x(q,!1),G(le,function(t){q.style[t[0]]=""}),R(e,z),f(e,z),Object.keys(H).length&&G(H,function(t,e){t?q.style.setProperty(e,t):q.style.removeProperty(e)}),z.onDone&&z.onDone(),fe&&fe.length&&e.off(fe.join(" "),K);var n=e.data(ye);n&&(u.cancel(n[0].timer),e.removeData(ye)),Q&&Q.complete(!t)}}function b(t){Ve.blockTransition&&x(q,t),Ve.blockKeyframeAnimation&&w(q,!!t)}function C(){return Q=new s({end:l,cancel:h}),A(ie),m(),{$$willAnimate:!1,start:function(){return Q},end:l}}function K(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(be));Math.max(n-ue,0)>=ne&&i>=re&&(J=!0,m())}function j(){function t(){if(!Z){if(b(!1),G(le,function(t){var e=t[0],n=t[1];q.style[e]=n}),R(e,z),i.addClass(e,$e),Ve.recalculateTimingStyles){if(ke=q.getAttribute("class")+" "+we,Ae=_(q,ke),Re=D(q,ke,Ae),Ue=Re.maxDelay,ee=Math.max(Ue,0),re=Re.maxDuration,0===re)return void m();Ve.hasTransitions=Re.transitionDuration>0,Ve.hasAnimations=Re.animationDuration>0}if(Ve.applyAnimationDelay&&(Ue="boolean"!=typeof z.delay&&I(z.delay)?parseFloat(z.delay):Ue,ee=Math.max(Ue,0),Re.animationDelay=Ue,We=S(Ue,!0),le.push(We),q.style[We[0]]=We[1]),ne=ee*_e,ae=re*_e,z.easing){var t,r=z.easing;Ve.hasTransitions&&(t=O+se,le.push([t,r]),q.style[t]=r),Ve.hasAnimations&&(t=L+se,le.push([t,r]),q.style[t]=r)}Re.transitionDuration&&fe.push(P),Re.animationDuration&&fe.push(N),ue=Date.now();var o=ne+xe*ae,a=ue+o,s=e.data(ye)||[],l=!0;if(s.length){var c=s[0];l=a>c.expectedEndTime,l?u.cancel(c.timer):s.push(m)}if(l){var h=u(n,o,!1);s[0]={timer:h,expectedEndTime:a},s.push(m),e.data(ye,s)}fe.length&&e.on(fe.join(" "),K),z.to&&(z.cleanupStyles&&E(H,q,Object.keys(z.to)),g(e,z))}}function n(){var t=e.data(ye);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(ye)}}if(!Z){if(!q.parentNode)return void m();var r=function(t){if(J)X&&t&&(X=!1,m());else if(X=!t,Re.animationDuration){var e=w(q,X);X?le.push(e):a(le,e)}},o=Le>0&&(Re.transitionDuration&&0===Ie.transitionDuration||Re.animationDuration&&0===Ie.animationDuration)&&Math.max(Ie.animationDelay,Ie.transitionDelay);o?u(t,Math.floor(o*Le*_e),!1):t(),te.resume=function(){r(!0)},te.pause=function(){r(!1)}}}var z=n||{};z.$$prepared||(z=p(F(z)));var H={},q=y(e);if(!q||!q.parentNode||!v.enabled())return C();var Z,X,J,Q,te,ee,ne,re,ae,ue,le=[],he=e.attr("class"),pe=r(z),fe=[];if(0===z.duration||!c.animations&&!c.transitions)return C();var de=z.event&&Y(z.event)?z.event.join(" "):z.event,ge=de&&z.structural,me="",ve="";ge?me=o(de,W,!0):de&&(me=de),z.addClass&&(ve+=o(z.addClass,U)),z.removeClass&&(ve.length&&(ve+=" "),ve+=o(z.removeClass,V)),z.applyClassesEarly&&ve.length&&R(e,z);var we=[me,ve].join(" ").trim(),ke=he+" "+we,$e=o(we,B),Se=pe.to&&Object.keys(pe.to).length>0,Ce=(z.keyframeStyle||"").length>0;if(!Ce&&!Se&&!we)return C();var Ae,Ie;if(z.stagger>0){var Me=parseFloat(z.stagger);Ie={transitionDelay:Me,animationDelay:Me,transitionDuration:0,animationDuration:0}}else Ae=_(q,ke),Ie=k(q,we,Ae,Te);z.$$skipPreparationClasses||i.addClass(e,we);var De;if(z.transitionStyle){var Ee=[O,z.transitionStyle];T(q,Ee),le.push(Ee)}if(z.duration>=0){De=q.style[O].length>0;var Oe=M(z.duration,De);T(q,Oe),le.push(Oe)}if(z.keyframeStyle){var Pe=[L,z.keyframeStyle];T(q,Pe),le.push(Pe)}var Le=Ie?z.staggerIndex>=0?z.staggerIndex:t.count(Ae):0,Ne=0===Le;Ne&&!z.skipBlocking&&x(q,ce);var Re=D(q,ke,Ae),Ue=Re.maxDelay;ee=Math.max(Ue,0),re=Re.maxDuration;var Ve={};if(Ve.hasTransitions=Re.transitionDuration>0,Ve.hasAnimations=Re.animationDuration>0,Ve.hasTransitionAll=Ve.hasTransitions&&"all"===Re.transitionProperty,Ve.applyTransitionDuration=Se&&(Ve.hasTransitions&&!Ve.hasTransitionAll||Ve.hasAnimations&&!Ve.hasTransitions),Ve.applyAnimationDuration=z.duration&&Ve.hasAnimations,Ve.applyTransitionDelay=I(z.delay)&&(Ve.applyTransitionDuration||Ve.hasTransitions),Ve.applyAnimationDelay=I(z.delay)&&Ve.hasAnimations,Ve.recalculateTimingStyles=ve.length>0,(Ve.applyTransitionDuration||Ve.applyAnimationDuration)&&(re=z.duration?parseFloat(z.duration):re,Ve.applyTransitionDuration&&(Ve.hasTransitions=!0,Re.transitionDuration=re,De=q.style[O+oe].length>0,le.push(M(re,De))),Ve.applyAnimationDuration&&(Ve.hasAnimations=!0,Re.animationDuration=re,le.push($(re)))),0===re&&!Ve.recalculateTimingStyles)return C();if(null!=z.delay){var We;"boolean"!=typeof z.delay&&(We=parseFloat(z.delay),ee=Math.max(We,0)),Ve.applyTransitionDelay&&le.push(S(We)),Ve.applyAnimationDelay&&le.push(S(We,!0))}return null==z.duration&&Re.transitionDuration>0&&(Ve.recalculateTimingStyles=Ve.recalculateTimingStyles||Ne),ne=ee*_e,ae=re*_e,z.skipBlocking||(Ve.blockTransition=Re.transitionDuration>0,Ve.blockKeyframeAnimation=Re.animationDuration>0&&Ie.animationDelay>0&&0===Ie.animationDuration),z.from&&(z.cleanupStyles&&E(H,q,Object.keys(z.from)),d(e,z)),Ve.blockTransition||Ve.blockKeyframeAnimation?b(re):z.skipBlocking||x(q,!1),{$$willAnimate:!0,end:l,start:function(){return Z?void 0:(te={end:l,cancel:h,resume:null,pause:null},Q=new s(te),A(j),Q)}}}}]}],$e=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,a,s,u,l,c,h){function p(t){return t.replace(/\bng-\S+\b/g,"")}function f(t,e){return te(t)&&(t=t.split(" ")),te(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function d(e,a,u){function l(t){var e={},n=y(t).getBoundingClientRect();return G(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=v.scrollTop;break;case"left":i+=v.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function c(){var e=t(m,{addClass:r,delay:!0,from:l(a)});return e.$$willAnimate?e:null}function h(t){return t.attr("class")||""}function d(){var e=p(h(u)),n=f(e,_),i=f(_,e),a=t(m,{to:l(u),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function g(){m.remove(),a.removeClass(n),u.removeClass(n)}var m=ne(y(a).cloneNode(!0)),_=p(h(m));a.addClass(n),u.addClass(n),m.addClass(i),b.append(m);var x,w=c();if(!w&&(x=d(),!x))return g();var T=w||x;return{start:function(){function t(){n&&n.end()}var e,n=T.start();return n.done(function(){return n=null,!x&&(x=d())?(n=x.start(),n.done(function(){n=null,g(),e.complete()}),n):(g(),void e.complete())}),e=new s({end:t,cancel:t})}}}function g(t,e,n,i){var r=m(t,ie),o=m(e,ie),a=[];return G(i,function(t){var e=t.out,i=t["in"],r=d(n,e,i);r&&a.push(r)}),r||o||0!==a.length?{start:function(){function t(){G(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),o&&e.push(o.start()),G(a,function(t){e.push(t.start())});var n=new s({end:t,cancel:t});return s.all(e,function(t){n.complete(t)}),n}}:void 0}function m(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=k(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!l.animations&&!l.transitions)return ie;var v=h[0].body,_=y(u),b=ne(e(_)||v.contains(_)?_:v);return function(t){return t.from&&t.to?g(t.from,t.to,t.classes,t.anchors):m(t)}}]}],Se=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=Y(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!r[a]&&(i.push(e.get(s)),r[a]=!0)}return i}var o=h(i);return function(t,e,i,a){function s(){a.domOperation(),o(t,a)}function u(){d=!0,s(),f(t,a)}function l(t,e,i,r,o){var a;switch(i){case"animate":a=[e,r.from,r.to,o];break;case"setClass":a=[e,v,y,o];break;case"addClass":a=[e,v,o];break;case"removeClass":a=[e,y,o];break;default:a=[e,o]}a.push(r);var s=t.apply(t,a);if(s)if(J(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(J(s))return s;return ie}function c(t,e,i,r,o){var a=[];return G(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,u=function(t){a||(a=!0,(o||ie)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,t,e,i,function(t){var e=t===!1;u(e)}),r})}),a}function h(t,e,i,r,o){var a=c(t,e,i,r,o);if(0===a.length){var s,u;"beforeSetClass"===o?(s=c(t,"removeClass",i,r,"beforeRemoveClass"),u=c(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(t,"removeClass",i,r,"removeClass"),u=c(t,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),u&&(a=a.concat(u))}if(0!==a.length)return function(t){var e=[];return a.length&&G(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){G(e,function(e){t?e.cancel():e.end()})}}}var d=!1;3===arguments.length&&Q(i)&&(a=i,i=null),a=p(a),i||(i=t.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var g,m,v=a.addClass,y=a.removeClass,_=r(i);if(_.length){var b,x;"leave"===e?(x="leave",b="afterLeave"):(x="before"+e.charAt(0).toUpperCase()+e.substr(1),b=e),"enter"!==e&&"move"!==e&&(g=h(t,e,a,_,x)),m=h(t,e,a,_,b)}if(g||m){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(u(),w=new n,w.complete(!0)),w},start:function(){function t(t){u(t),w.complete(t)}function e(e){d||((i||ie)(e),t(e))}if(w)return w;w=new n;var i,r=[];return g&&r.push(function(t){i=g(t)}),r.length?r.push(function(t){s(),t(!0)}):s(),m&&r.push(function(t){i=m(t)}),w.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(r,t),w}}}}}]}],Ce=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){G(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],Ae="data-ng-animate",Ie="$ngAnimatePin",Me=["$animateProvider",function(e){function i(t){if(!t)return null;var e=t.split(d),n=Object.create(null);return G(e,function(t){n[t]=!0}),n}function r(t,e){if(t&&e){var n=i(e);return t.split(d).some(function(t){return n[t]})}}function o(t,e,n,i){return g[t].some(function(t){return t(e,n,i)})}function a(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var l=1,c=2,d=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(t,e){return!e.structural&&a(e)}),g.skip.push(function(t,e){return!e.structural&&!a(e)}),g.skip.push(function(t,e,n){return"leave"===n.event&&e.structural}),g.skip.push(function(t,e,n){return n.structural&&n.state===c&&!e.structural}),g.cancel.push(function(t,e,n){return n.structural&&e.structural}),g.cancel.push(function(t,e,n){return n.state===c&&e.structural}),g.cancel.push(function(t,e,n){if(n.structural)return!1;var i=e.addClass,o=e.removeClass,a=n.addClass,s=n.removeClass;return ee(i)&&ee(o)||ee(a)&&ee(s)?!1:r(i,s)||r(o,a)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,d,g,v,x,w,T,k,$,S){function C(){var t=!1;return function(e){t?e():r.$$postDigest(function(){t=!0,e()})}}function A(t,e){return m(t,e,{})}function I(t,e,n){var i=y(e),r=y(t),o=[],a=j[n];return a&&G(a,function(t){re.call(t.node,i)?o.push(t.callback):"leave"===n&&re.call(t.node,r)&&o.push(t.callback)}),o}function M(t,e,n){var i=u(e);return t.filter(function(t){var e=t.node===i&&(!n||t.callback===n);return!e})}function D(t,e){"close"!==t||e[0].parentNode||oe.off(e)}function E(t,e,n){function u(e,n,r,o){k(function(){var e=I(g,t,n);e.length?i(function(){G(e,function(e){e(t,r,o)}),D(r,t)}):D(r,t)}),e.progress(n,r,o)}function h(e){b(t,v),ie(t,v),f(t,v),v.domOperation(),T.complete(!e)}var d,g,v=F(n);t=s(t),t&&(d=y(t),g=t.parent()),v=p(v);var T=new w,k=C();if(Y(v.addClass)&&(v.addClass=v.addClass.join(" ")),v.addClass&&!te(v.addClass)&&(v.addClass=null),Y(v.removeClass)&&(v.removeClass=v.removeClass.join(" ")),v.removeClass&&!te(v.removeClass)&&(v.removeClass=null),v.from&&!Q(v.from)&&(v.from=null),v.to&&!Q(v.to)&&(v.to=null),!d)return h(),T;var $=[d.getAttribute("class"),v.addClass,v.removeClass].join(" ");if(!J($))return h(),T;var M=["enter","move","leave"].indexOf(e)>=0,E=S(),L=!B||E||W.get(d),R=!L&&V.get(d)||{},K=!!R.state;if(L||K&&R.state===l||(L=!N(t,g,e)),L)return E&&u(T,e,"start"),h(),E&&u(T,e,"close"),T;M&&O(t);var j={structural:M,element:t,event:e,addClass:v.addClass,removeClass:v.removeClass,close:h,options:v,runner:T};if(K){var z=o("skip",t,j,R);if(z)return R.state===c?(h(),T):(m(t,R,j),R.runner);var H=o("cancel",t,j,R);if(H)if(R.state===c)R.runner.end();else{if(!R.structural)return m(t,R,j),R.runner;R.close()}else{var q=o("join",t,j,R);if(q){if(R.state!==c)return _(t,M?e:null,v),e=j.event=R.event,v=m(t,R,j),R.runner;A(t,j)}}}else A(t,j);var Z=j.structural;if(Z||(Z="animate"===j.event&&Object.keys(j.options.to||{}).length>0||a(j)),!Z)return h(),P(t),T;var X=(R.counter||0)+1;return j.counter=X,U(t,l,j),r.$$postDigest(function(){var n=V.get(d),i=!n;n=n||{};var r=t.parent()||[],o=r.length>0&&("animate"===n.event||n.structural||a(n));if(i||n.counter!==X||!o)return i&&(ie(t,v),f(t,v)),(i||M&&n.event!==e)&&(v.domOperation(),T.end()),void(o||P(t));e=!n.structural&&a(n,!0)?"setClass":n.event,U(t,c);var s=x(t,e,n.options);T.setHost(s),u(T,e,"start",{}),s.done(function(n){h(!n);var i=V.get(d);i&&i.counter===X&&P(y(t)),u(T,e,"close",{})})}),T}function O(t){var e=y(t),n=e.querySelectorAll("["+Ae+"]");G(n,function(t){var e=parseInt(t.getAttribute(Ae),10),n=V.get(t);if(n)switch(e){case c:n.runner.end();case l:V.remove(t)}})}function P(t){var e=y(t);e.removeAttribute(Ae),V.remove(e)}function L(t,e){return y(t)===y(e)}function N(t,e){var n,i=ne(g[0].body),r=L(t,i)||"HTML"===t[0].nodeName,o=L(t,d),a=!1,s=W.get(y(t)),u=ne.data(t[0],Ie);for(u&&(e=u),e=y(e);e&&(o||(o=L(e,d)),e.nodeType===R);){var l=V.get(e)||{};if(!a){var c=W.get(e);if(c===!0&&s!==!1){s=!0;break}c===!1&&(s=!1),a=l.structural}if(ee(n)||n===!0){var h=ne.data(e,z);Z(h)&&(n=h)}if(a&&n===!1)break;if(r||(r=L(e,i)),r&&o)break;e=o||!(u=ne.data(e,Ie))?e.parentNode:y(u)}var p=(!a||n)&&s!==!0;return p&&o&&r}function U(t,e,n){n=n||{},n.state=e;var i=y(t);i.setAttribute(Ae,e);var r=V.get(i),o=r?q(r,n):n;V.put(i,o)}var V=new v,W=new v,B=null,K=r.$watch(function(){return 0===T.totalPendingRequests},function(t){t&&(K(),r.$$postDigest(function(){r.$$postDigest(function(){null===B&&(B=!0)})}))}),j=Object.create(null),H=e.classNameFilter(),J=H?function(t){return H.test(t)}:function(){return!0},ie=h(k),re=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},oe={on:function(t,e,n){var i=u(e);j[t]=j[t]||[],j[t].push({node:i,callback:n}),ne(e).on("$destroy",function(){var r=V.get(i);r||oe.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||te(arguments[0])){var i=j[t];i&&(j[t]=1===arguments.length?null:M(i,e,n))}else{e=arguments[0];for(var r in j)j[r]=M(j[r],e)}},pin:function(t,e){n(X(t),"element","not an element"),n(X(e),"parentElement","not an element"),t.data(Ie,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,E(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!B;else{var i=X(t);if(i){var r=y(t);1===n?e=!W.get(r):W.put(r,!e)}else e=B=!!t}return e}};return oe}]}],De=["$animateProvider",function(){function t(t,e){t.data(a,e)}function e(t){t.removeData(a)}function n(t){return t.data(a)}var r="ng-animate-ref",o=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,s,u,l,c,d){function g(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,i=n.parentNode;o.put(n,t);for(var a;i;){if(a=o.get(i)){a.processed||(a=e(a));break}i=i.parentNode}return(a||r).children.push(t),t}function n(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,a=[];for(e=0;e<i.length;e++){var s=i[e];0>=r&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,i.push(t)}),r--}return a.length&&n.push(a),n}var i,r={children:[]},o=new c;for(i=0;i<t.length;i++){var a=t[i];o.put(a.domNode,t[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<t.length;i++)e(t[i]);return n(r)}var m=[],v=h(a);return function(c,h,_){function b(t){var e="["+r+"]",n=t.hasAttribute(r)?[t]:t.querySelectorAll(e),i=[];return G(n,function(t){var e=t.getAttribute(r);e&&e.length&&i.push(t)}),i}function x(t){var e=[],n={};G(t,function(t,i){var o=t.element,a=y(o),s=t.event,u=["enter","move"].indexOf(s)>=0,l=t.structural?b(a):[];if(l.length){var c=u?"to":"from";G(l,function(t){var e=t.getAttribute(r);n[e]=n[e]||{},n[e][c]={animationID:i,element:ne(t)}})}else e.push(t)});var i={},o={};return G(n,function(n){var r=n.from,a=n.to;if(!r||!a){var s=r?r.animationID:a.animationID,u=s.toString();return void(i[u]||(i[u]=!0,e.push(t[s])))}var l=t[r.animationID],c=t[a.animationID],h=r.animationID.toString();if(!o[h]){var p=o[h]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:w(l.classes,c.classes),from:l,to:c,anchors:[]};p.classes.length?e.push(p):(e.push(l),e.push(c))}o[h].anchors.push({out:r.element,"in":a.element})}),e}function w(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}function T(t){for(var e=o.length-1;e>=0;e--){var n=o[e],i=u.get(n),r=i(t);if(r)return r}}function k(){c.addClass(j),D&&a.addClass(c,D),E&&(a.removeClass(c,E),E=null)}function $(t,e){function i(t){var i=n(t);i&&i.setHost(e)}t.from&&t.to?(i(t.from.element),i(t.to.element)):i(t.element)}function S(){var t=n(c);!t||"leave"===h&&_.$$domOperationFired||t.end()}function C(t){c.off("$destroy",S),e(c),v(c,_),f(c,_),_.domOperation(),D&&a.removeClass(c,D),c.removeClass(j),I.complete(!t)}_=p(_);var A=["enter","move","leave"].indexOf(h)>=0,I=new l({end:function(){C()},cancel:function(){C(!0)}});if(!o.length)return C(),I;t(c,I);var M=i(c.attr("class"),i(_.addClass,_.removeClass)),D=_.tempClasses;D&&(M+=" "+D,_.tempClasses=null);var E;return A&&(E="ng-"+h+K,a.addClass(c,E)),m.push({element:c,classes:M,event:h,structural:A,options:_,beforeStart:k,close:C}),c.on("$destroy",S),m.length>1?I:(s.$$postDigest(function(){var t=[];G(m,function(e){n(e.element)?t.push(e):e.close()}),m.length=0;var e=x(t),i=[];G(e,function(t){i.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,i=t.close,r=t.anchors?t.from.element||t.to.element:t.element;if(n(r)){var o=T(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){i(!t)}),$(t,a)}else i()}})}),d(g(i))}),I)}}]}],Ee=["$animate","$rootScope",function(t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,o){var a,s;e.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&t.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}];e.module("ngAnimate",[],function(){ie=e.noop,F=e.copy,q=e.extend,ne=e.element,G=e.forEach,Y=e.isArray,te=e.isString,Q=e.isObject,ee=e.isUndefined,Z=e.isDefined,J=e.isFunction,X=e.isElement}).directive("ngAnimateSwap",Ee).directive("ngAnimateChildren",ve).factory("$$rAFScheduler",me).provider("$$animateQueue",Me).provider("$$animation",De).provider("$animateCss",ke).provider("$$animateCssDriver",$e).provider("$$animateJs",Se).provider("$$animateJsDriver",Ce)}(window,window.angular),/**
 * @license AngularJS v1.6.1
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(){function n(t,e){var n,i={},r=t.split(",");for(n=0;n<r.length;n++)i[e?u(r[n]):r[n]]=!0;return i}function i(e,n){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e),y.innerHTML=e;var i=5;do{if(0===i)throw p("uinput","Failed to sanitize html because the input is unstable");i--,t.document.documentMode&&m(y),e=y.innerHTML,y.innerHTML=e}while(e!==y.innerHTML);for(var r=y.firstChild;r;){switch(r.nodeType){case 1:n.start(r.nodeName.toLowerCase(),f(r.attributes));break;case 3:n.chars(r.textContent)}var o;if(!(o=r.firstChild)&&(1===r.nodeType&&n.end(r.nodeName.toLowerCase()),o=r.nextSibling,!o))for(;null==o&&(r=r.parentNode,r!==y);)o=r.nextSibling,1===r.nodeType&&n.end(r.nodeName.toLowerCase());r=o}for(;r=y.firstChild;)y.removeChild(r)}function f(t){for(var e={},n=0,i=t.length;i>n;n++){var r=t[n];e[r.name]=r.value}return e}function d(t){return t.replace(/&/g,"&amp;").replace(_,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(b,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(t,e){var n=!1,i=r(t,t.push);return{start:function(t,r){t=u(t),!n&&A[t]&&(n=t),n||I[t]!==!0||(i("<"),i(t),a(r,function(n,r){var o=u(r),a="img"===t&&"src"===o||"background"===o;O[o]!==!0||M[o]===!0&&!e(n,a)||(i(" "),i(r),i('="'),i(d(n)),i('"'))}),i(">"))},end:function(t){t=u(t),n||I[t]!==!0||x[t]===!0||(i("</"),i(t),i(">")),t==n&&(n=!1)},chars:function(t){n||i(d(t))}}}function m(e){for(;e;){if(e.nodeType===t.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;r>i;i++){var o=n[i],a=o.name.toLowerCase();("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0))&&(e.removeAttributeNode(o),i--,r--)}var s=e.firstChild;s&&m(s),e=e.nextSibling}}var v=!1;this.$get=["$$sanitizeUri",function(t){return v&&o(I,C),function(e){var n=[];return c(e,h(n,function(e,n){return!/^unsafe:/.test(t(e,n))})),n.join("")}}],this.enableSvg=function(t){return s(t)?(v=t,this):v},r=e.bind,o=e.extend,a=e.forEach,s=e.isDefined,u=e.lowercase,l=e.noop,c=i,h=g;var y,_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^#-~ |!])/g,x=n("area,br,col,hr,img,wbr"),w=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T=n("rp,rt"),k=o({},T,w),$=o({},w,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),S=o({},T,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),A=n("script,style"),I=o({},x,$,S,k),M=n("background,cite,href,longdesc,src,xlink:href"),D=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),E=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),O=o({},M,E,D);!function(t){var e;if(!t.document||!t.document.implementation)throw p("noinert","Can't create an inert html document");e=t.document.implementation.createHTMLDocument("inert");var n=e.documentElement||e.getDocumentElement(),i=n.getElementsByTagName("body");if(1===i.length)y=i[0];else{var r=e.createElement("html");y=e.createElement("body"),r.appendChild(y),e.appendChild(r)}}(t)}function i(t){var e=[],n=h(e,l);return n.chars(t),e.join("")}var r,o,a,s,u,l,c,h,p=e.$$minErr("$sanitize");e.module("ngSanitize",[]).provider("$sanitize",n),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=e.$$minErr("linky"),a=e.isDefined,s=e.isFunction,u=e.isObject,l=e.isString;return function(e,c,h){function p(t){t&&_.push(i(t))}function f(t,e){var n,i=v(t);_.push("<a ");for(n in i)_.push(n+'="'+i[n]+'" ');!a(c)||"target"in i||_.push('target="',c,'" '),_.push('href="',t.replace(/"/g,"&quot;"),'">'),p(e),_.push("</a>")}if(null==e||""===e)return e;if(!l(e))throw o("notstring","Expected string but received: {0}",e);for(var d,g,m,v=s(h)?h:u(h)?function(){return h}:function(){return{}},y=e,_=[];d=y.match(n);)g=d[0],d[2]||d[4]||(g=(d[3]?"http://":"mailto:")+g),m=d.index,p(y.substr(0,m)),f(g,d[0].replace(r,"")),y=y.substring(m+d[0].length);return p(y),t(_.join(""))}}])}(window,window.angular),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echarts=e():t.echarts=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1),n(100),n(135),n(140),n(149),n(153),n(163),n(184),n(196),n(217),n(221),n(225),n(240),n(246),n(253),n(259),n(263),n(271),n(275),n(113),n(276),n(282),n(286),n(297),n(226),n(300),n(306),n(317),n(318),n(332),n(347),n(353),n(356),n(359),n(368),n(381)},function(t,e,n){function i(t){return function(e,n,i){e=e&&e.toLowerCase(),N.prototype[t].call(this,e,n,i)}}function r(){N.call(this)}function o(t,e,n){function i(t,e){return t.prio-e.prio}n=n||{},"string"==typeof e&&(e=ie[e]),this.id,this.group,this._dom=t;var o=this._zr=O.init(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=E.throttle(P.bind(o.flush,o),17),this._theme=P.clone(e),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new T(this),this._coordSysMgr=new k,N.call(this),this._messageCenter=new r,this._initEvents(),this.resize=P.bind(this.resize,this),this._pendingActions=[],R(ne,i),R(te,i),o.animation.on("frame",this._onframe,this)}function a(t,e,n){var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();e=D.parseFinder(r,e);for(var a=0;a<o.length;a++){var s=o[a];if(s[t]&&null!=(i=s[t](r,e,n)))return i}console.warn("No coordinate system that supports "+t+" found by the given finder.")}function s(t,e){var n=this._model;n&&n.eachComponent({mainType:"series",query:e},function(i){var r=this._chartsMap[i.__viewId];r&&r.__alive&&r[t](i,n,this._api,e)},this)}function u(t,e){var n=J[t.type],i=n.actionInfo,r=i.update||"update";this[F]=!0;var o=[t],a=!1;t.batch&&(a=!0,o=P.map(t.batch,function(e){return e=P.defaults(P.extend({},e),t),e.batch=null,e}));for(var s,u=[],l="highlight"===t.type||"downplay"===t.type,c=0;c<o.length;c++){var h=o[c];s=n.action(h,this._model),s=s||P.extend({},h),s.type=i.event||s.type,u.push(s),l&&Z[r].call(this,h)}"none"===r||l||(this[G]?(Z.prepareAndUpdate.call(this,t),this[G]=!1):Z[r].call(this,t)),s=a?{type:i.event||t.type,batch:u}:u[0],this[F]=!1,!e&&this._messageCenter.trigger(s.type,s)}function l(t){for(var e=this._pendingActions;e.length;){var n=e.shift();u.call(this,n,t)}}function c(t,e,n){var i=this._api;U(this._componentsViews,function(r){var o=r.__model;r[t](o,e,i,n),_(o,r)},this),e.eachSeries(function(r){var o=this._chartsMap[r.__viewId];o[t](r,e,i,n),_(r,o),y(r,o)},this),v(this._zr,e)}function h(t,e){for(var n="component"===t,i=n?this._componentsViews:this._chartsViews,r=n?this._componentsMap:this._chartsMap,o=this._zr,a=0;a<i.length;a++)i[a].__alive=!1;e[n?"eachComponent":"eachSeries"](function(t,a){if(n){if("series"===t)return}else a=t;var s=a.id+"_"+a.type,u=r[s];if(!u){var l=S.parseClassType(a.type),c=n?A.getClass(l.main,l.sub):I.getClass(l.sub);if(!c)return;u=new c,u.init(e,this._api),r[s]=u,i.push(u),o.add(u.group)}a.__viewId=s,u.__alive=!0,u.__id=s,u.__model=a},this);for(var a=0;a<i.length;){var s=i[a];s.__alive?a++:(o.remove(s.group),s.dispose(e,this._api),i.splice(a,1),delete r[s.__id])}}function p(t,e){U(te,function(n){n.func(t,e)})}function f(t){var e={};t.eachSeries(function(t){var n=t.get("stack"),i=t.getData();if(n&&"list"===i.type){var r=e[n];r&&(i.stackedOn=r),e[n]=i}})}function d(t,e){var n=this._api;U(ne,function(i){i.isLayout&&i.func(t,n,e)})}function g(t,e){var n=this._api;t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()}),U(ne,function(i){i.func(t,n,e)})}function m(t,e){var n=this._api;U(this._componentsViews,function(i){var r=i.__model;i.render(r,t,n,e),_(r,i)},this),U(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(i){var r=this._chartsMap[i.__viewId];r.__alive=!0,r.render(i,t,n,e),r.group.silent=!!i.get("silent"),_(i,r),y(i,r)},this),v(this._zr,t),U(this._chartsViews,function(e){e.__alive||e.remove(t,n)},this)}function v(t,e){var n=t.storage,i=0;n.traverse(function(t){t.isGroup||i++}),i>e.get("hoverLayerThreshold")&&!x.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function y(t,e){var n=0;e.group.traverse(function(t){"group"===t.type||t.ignore||n++});var i=+t.get("progressive"),r=n>t.get("progressiveThreshold")&&i&&!x.node;r&&e.group.traverse(function(t){t.isGroup||(t.progressive=r?Math.floor(n++/i):-1,r&&t.stopAnimation(!0))});var o=t.get("blendMode")||null;!x.canvasSupported&&o&&"source-over"!==o&&console.warn("Only canvas support blendMode"),e.group.traverse(function(t){t.isGroup||t.setStyle("blend",o)})}function _(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))})}function b(t){function e(t,e){for(var n=0;n<t.length;n++){var i=t[n];i[o]=e}}var n=0,i=1,r=2,o="__connectUpdateStatus";P.each(Q,function(a,s){t._messageCenter.on(s,function(a){if(ae[t.group]&&t[o]!==n){var s=t.makeActionFromEvent(a),u=[];P.each(oe,function(e){e!==t&&e.group===t.group&&u.push(e)}),e(u,n),U(u,function(t){t[o]!==i&&t.dispatchAction(s)}),e(u,r)}})})}/*!
	 * ECharts, a javascript interactive chart library.
	 *
	 * Copyright (c) 2015, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
	 */
var x=n(2),w=n(3),T=n(25),k=n(26),$=n(27),S=n(19),C=n(28),A=n(29),I=n(42),M=n(43),D=n(5),E=n(81),O=n(82),P=n(4),L=n(39),N=n(33),R=n(86),U=P.each,V=1e3,W=5e3,B=1e3,K=2e3,j=3e3,z=4e3,H=5e3,F="__flagInMainProcess",q="__hasGradientOrPatternBg",G="__optionUpdated";r.prototype.on=i("on"),r.prototype.off=i("off"),r.prototype.one=i("one"),P.mixin(r,N);var Y=o.prototype;Y._onframe=function(){this[G]&&(this[F]=!0,Z.prepareAndUpdate.call(this),this[F]=!1,this[G]=!1)},Y.getDom=function(){return this._dom},Y.getZr=function(){return this._zr},Y.setOption=function(t,e,n){if(P.assert(!this[F],"`setOption` should not be called during main process."),this[F]=!0,!this._model||e){var i=new $(this._api),r=this._theme,o=this._model=new w(null,null,r,i);o.init(null,null,r,i)}this.__lastOnlyGraphic=!(!t||!t.graphic),P.each(t,function(t,e){"graphic"!==e&&(this.__lastOnlyGraphic=!1)},this),this._model.setOption(t,ee),n?this[G]=!0:(Z.prepareAndUpdate.call(this),this._zr.flush(),this[G]=!1),this[F]=!1,l.call(this,!1)},Y.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Y.getModel=function(){return this._model},Y.getOption=function(){return this._model&&this._model.getOption()},Y.getWidth=function(){return this._zr.getWidth()},Y.getHeight=function(){return this._zr.getHeight()},Y.getRenderedCanvas=function(t){if(x.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,n=e.storage.getDisplayList();return P.each(n,function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},Y.getDataURL=function(t){t=t||{};var e=t.excludeComponents,n=this._model,i=[],r=this;U(e,function(t){n.eachComponent({mainType:t},function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)})});var o=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return U(i,function(t){t.group.ignore=!1}),o},Y.getConnectedDataURL=function(t){if(x.canvasSupported){var e=this.group,n=Math.min,i=Math.max,r=1/0;if(ae[e]){var o=r,a=r,s=-r,u=-r,l=[],c=t&&t.pixelRatio||1;P.each(oe,function(r){if(r.group===e){var c=r.getRenderedCanvas(P.clone(t)),h=r.getDom().getBoundingClientRect();o=n(h.left,o),a=n(h.top,a),s=i(h.right,s),u=i(h.bottom,u),l.push({dom:c,left:h.left,top:h.top})}}),o*=c,a*=c,s*=c,u*=c;var h=s-o,p=u-a,f=P.createCanvas();f.width=h,f.height=p;var d=O.init(f);return U(l,function(t){var e=new M.Image({style:{x:t.left*c-o,y:t.top*c-a,image:t.dom}});d.add(e)}),d.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},Y.convertToPixel=P.curry(a,"convertToPixel"),Y.convertFromPixel=P.curry(a,"convertFromPixel"),Y.containPixel=function(t,e){var n,i=this._model;return t=D.parseFinder(i,t),P.each(t,function(t,i){i.indexOf("Models")>=0&&P.each(t,function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n|=!!r.containPoint(e);else if("seriesModels"===i){var o=this._chartsMap[t.__viewId];o&&o.containPoint?n|=o.containPoint(e,t):console.warn(i+": "+(o?"The found component do not support containPoint.":"No view mapping to the found component."))}else console.warn(i+": containPoint is not supported")},this)},this),!!n},Y.getVisual=function(t,e){var n=this._model;t=D.parseFinder(n,t,{defaultMainType:"series"});var i=t.seriesModel;i||console.warn("There is no specified seires model");var r=i.getData(),o=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?r.indexOfRawIndex(t.dataIndex):null;return null!=o?r.getItemVisual(o,e):r.getVisual(e)};var Z={update:function(t){var e=this._model,n=this._api,i=this._coordSysMgr,r=this._zr;if(e){e.restoreData(),i.create(this._model,this._api),p.call(this,e,n),f.call(this,e),i.update(e,n),g.call(this,e,t),m.call(this,e,t);var o=e.get("backgroundColor")||"transparent",a=r.painter;if(a.isSingleCanvas&&a.isSingleCanvas())r.configLayer(0,{clearColor:o});else{if(!x.canvasSupported){var s=L.parse(o);o=L.stringify(s,"rgb"),0===s[3]&&(o="transparent")}o.colorStops||o.image?(r.configLayer(0,{clearColor:o}),this[q]=!0,this._dom.style.background="transparent"):(this[q]&&r.configLayer(0,{clearColor:null}),this[q]=!1,this._dom.style.background=o)}}},updateView:function(t){var e=this._model;e&&(e.eachSeries(function(t){t.getData().clearAllVisual()}),g.call(this,e,t),c.call(this,"updateView",e,t))},updateVisual:function(t){var e=this._model;e&&(e.eachSeries(function(t){t.getData().clearAllVisual()}),g.call(this,e,t),c.call(this,"updateVisual",e,t))},updateLayout:function(t){var e=this._model;e&&(d.call(this,e,t),c.call(this,"updateLayout",e,t))},highlight:function(t){s.call(this,"highlight",t)},downplay:function(t){s.call(this,"downplay",t)},prepareAndUpdate:function(t){var e=this._model;h.call(this,"component",e),h.call(this,"chart",e),this.__lastOnlyGraphic?(U(this._componentsViews,function(n){var i=n.__model;i&&"graphic"===i.mainType&&(n.render(i,e,this._api,t),_(i,n))},this),this.__lastOnlyGraphic=!1):Z.update.call(this,t)}};Y.resize=function(t){P.assert(!this[F],"`resize` should not be called during main process."),this[F]=!0,this._zr.resize(t);var e=this._model&&this._model.resetOption("media");Z[e?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize(),this[F]=!1,l.call(this)},Y.showLoading=function(t,e){if(P.isObject(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),!re[t])return void console.warn("Loading effects "+t+" not exists.");var n=re[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)},Y.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Y.makeActionFromEvent=function(t){var e=P.extend({},t);return e.type=Q[t.type],e},Y.dispatchAction=function(t,e){if(P.isObject(e)||(e={silent:!!e}),J[t.type]){if(this[F])return void this._pendingActions.push(t);u.call(this,t,e.silent),e.flush?this._zr.flush(!0):e.flush!==!1&&x.browser.weChat&&this._throttledZrFlush(),l.call(this,e.silent)}},Y.on=i("on"),Y.off=i("off"),Y.one=i("one");var X=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Y._initEvents=function(){U(X,function(t){this._zr.on(t,function(e){var n,i=this.getModel(),r=e.target;if("globalout"===t)n={};else if(r&&null!=r.dataIndex){var o=r.dataModel||i.getSeriesByIndex(r.seriesIndex);n=o&&o.getDataParams(r.dataIndex,r.dataType)||{}}else r&&r.eventData&&(n=P.extend({},r.eventData));n&&(n.event=e,n.type=t,this.trigger(t,n))},this)},this),U(Q,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},Y.isDisposed=function(){return this._disposed},Y.clear=function(){this.setOption({series:[]},!0)},Y.dispose=function(){if(this._disposed)return void console.warn("Instance "+this.id+" has been disposed");this._disposed=!0;var t=this._api,e=this._model;U(this._componentsViews,function(n){n.dispose(e,t)}),U(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete oe[this.id]},P.mixin(o,N);var J=[],Q={},te=[],ee=[],ne=[],ie={},re={},oe={},ae={},se=new Date-0,ue=new Date-0,le="_echarts_instance_",ce={version:"3.3.2",dependencies:{zrender:"3.2.2"}};ce.init=function(t,e,n){if(O.version.replace(".","")-0<ce.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+O.version+" is too old for ECharts "+ce.version+". Current version need ZRender "+ce.dependencies.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.");!P.isDom(t)||"CANVAS"===t.nodeName.toUpperCase()||t.clientWidth&&t.clientHeight||console.warn("Can't get dom width or height");var i=new o(t,e,n);return i.id="ec_"+se++,oe[i.id]=i,t.setAttribute&&t.setAttribute(le,i.id),b(i),i},ce.connect=function(t){if(P.isArray(t)){var e=t;t=null,P.each(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+ue++,P.each(e,function(e){e.group=t})}return ae[t]=!0,t},ce.disConnect=function(t){ae[t]=!1},ce.dispose=function(t){P.isDom(t)?t=ce.getInstanceByDom(t):"string"==typeof t&&(t=oe[t]),t instanceof o&&!t.isDisposed()&&t.dispose()},ce.getInstanceByDom=function(t){var e=t.getAttribute(le);return oe[e]},ce.getInstanceById=function(t){return oe[t]},ce.registerTheme=function(t,e){ie[t]=e},ce.registerPreprocessor=function(t){ee.push(t)},ce.registerProcessor=function(t,e){if("function"==typeof t&&(e=t,t=V),isNaN(t))throw new Error("Unkown processor priority");te.push({prio:t,func:e})},ce.registerAction=function(t,e,n){"function"==typeof e&&(n=e,e="");var i=P.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,J[i]||(J[i]={action:n,actionInfo:t}),Q[e]=i},ce.registerCoordinateSystem=function(t,e){k.register(t,e)},ce.registerLayout=function(t,e){if("function"==typeof t&&(e=t,t=B),isNaN(t))throw new Error("Unkown layout priority");ne.push({prio:t,func:e,isLayout:!0})},ce.registerVisual=function(t,e){if("function"==typeof t&&(e=t,t=j),isNaN(t))throw new Error("Unkown visual priority");ne.push({prio:t,func:e})},ce.registerLoading=function(t,e){re[t]=e};var he=S.parseClassType;ce.extendComponentModel=function(t,e){var n=S;if(e){var i=he(e);n=S.getClass(i.main,i.sub,!0)}return n.extend(t)},ce.extendComponentView=function(t,e){var n=A;if(e){var i=he(e);n=A.getClass(i.main,i.sub,!0)}return n.extend(t)},ce.extendSeriesModel=function(t,e){var n=C;if(e){e="series."+e.replace("series.","");var i=he(e);n=S.getClass(i.main,i.sub,!0)}return n.extend(t)},ce.extendChartView=function(t,e){var n=I;if(e){e.replace("series.","");var i=he(e);n=I.getClass(i.main,!0)}return n.extend(t)},ce.setCanvasCreator=function(t){P.createCanvas=t},ce.registerVisual(K,n(94)),ce.registerPreprocessor(n(95)),ce.registerLoading("default",n(97)),ce.registerAction({type:"highlight",event:"highlight",update:"highlight"},P.noop),ce.registerAction({type:"downplay",event:"downplay",update:"downplay"},P.noop),ce.List=n(98),ce.Model=n(12),ce.graphic=n(43),ce.number=n(7),ce.format=n(6),ce.matrix=n(11),ce.vector=n(10),ce.color=n(39),ce.util={},U(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone"],function(t){ce.util[t]=P[t]}),ce.PRIORITY={PROCESSOR:{FILTER:V,STATISTIC:W},VISUAL:{LAYOUT:B,GLOBAL:K,CHART:j,COMPONENT:z,BRUSH:H}},t.exports=ce},function(t){// (c) 2010-2013 Thomas Fuchs
// Zepto.js may be freely distributed under the MIT license.
function e(t){var e={},n={},i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(t);return i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),o&&(n.edge=!0,n.version=o[1]),a&&(n.weChat=!0),{browser:n,os:e,node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=10)}}var n={};n="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:e(navigator.userAgent),t.exports=n},function(t,e,n){function i(t,e){c.each(e,function(e,n){_.hasClass(n)||("object"==typeof e?t[n]=t[n]?c.merge(t[n],e,!1):c.clone(e):null==t[n]&&(t[n]=e))})}function r(t){t=t,this.option={},this.option[x]=1,this._componentsMap={},this._seriesIndices=null,i(t,this._theme.option),c.merge(t,b,!1),this.mergeOption(t)}function o(t,e){c.isArray(e)||(e=e?[e]:[]);var n={};return f(e,function(e){n[e]=(t[e]||[]).slice()}),n}function a(t,e,n){var i=e.type?e.type:n?n.subType:_.determineSubType(t,e);return i}function s(t){return g(t,function(t){return t.componentIndex})||[]}function u(t,e){return e.hasOwnProperty("subType")?d(t,function(t){return t.subType===e.subType}):t}function l(t){if(!t._seriesIndices)throw new Error("Series has not been initialized yet.")}var c=n(4),h=n(5),p=n(12),f=c.each,d=c.filter,g=c.map,m=c.isArray,v=c.indexOf,y=c.isObject,_=n(19),b=n(23),x="\x00_ec_inner",w=p.extend({constructor:w,init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new p(n),this._optionManager=i},setOption:function(t,e){c.assert(!(x in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption()},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var i=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):r.call(this,i),e=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var a=n.getMediaOption(this,this._api);a.length&&f(a,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){function e(e,r){var u=h.normalizeToArray(t[e]),l=h.mappingToExists(i[e],u);h.makeIdAndName(l),f(l,function(t){var n=t.option;y(n)&&(t.keyInfo.mainType=e,t.keyInfo.subType=a(e,n,t.exist))});var p=o(i,r);n[e]=[],i[e]=[],f(l,function(t,r){var o=t.exist,a=t.option;if(c.assert(y(a)||o,"Empty component definition"),a){var s=_.getClass(e,t.keyInfo.subType,!0);if(o&&o instanceof s)o.name=t.keyInfo.name,o.mergeOption(a,this),o.optionUpdated(a,!1);else{var u=c.extend({dependentModels:p,componentIndex:r},t.keyInfo);o=new s(a,this,this,u),c.extend(o,u),o.init(a,this,this,u),o.optionUpdated(null,!0)}}else o.mergeOption({},this),o.optionUpdated({},!1);i[e][r]=o,n[e][r]=o.option},this),"series"===e&&(this._seriesIndices=s(i.series))}var n=this.option,i=this._componentsMap,r=[];f(t,function(t,e){null!=t&&(_.hasClass(e)?r.push(e):n[e]=null==n[e]?c.clone(t):c.merge(n[e],t,!0))}),_.topologicalTravel(r,_.getAllClassMainTypes(),e,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var t=c.clone(this.option);return f(t,function(e,n){if(_.hasClass(n)){for(var e=h.normalizeToArray(e),i=e.length-1;i>=0;i--)h.isIdInner(e[i])&&e.splice(i,1);t[n]=e}}),delete t[x],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap[t];return n?n[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n=t.index,i=t.id,r=t.name,o=this._componentsMap[e];if(!o||!o.length)return[];var a;if(null!=n)m(n)||(n=[n]),a=d(g(n,function(t){return o[t]}),function(t){return!!t});else if(null!=i){var s=m(i);a=d(o,function(t){return s&&v(i,t.id)>=0||!s&&t.id===i})}else if(null!=r){var l=m(r);a=d(o,function(t){return l&&v(r,t.name)>=0||!l&&t.name===r})}else a=o;return u(a,t)},findComponents:function(t){function e(t){var e=r+"Index",n=r+"Id",i=r+"Name";return t&&(t.hasOwnProperty(e)||t.hasOwnProperty(n)||t.hasOwnProperty(i))?{mainType:r,index:t[e],id:t[n],name:t[i]}:null}function n(e){return t.filter?d(e,t.filter):e}var i=t.query,r=t.mainType,o=e(i),a=o?this.queryComponents(o):this._componentsMap[r];return n(u(a,t))},eachComponent:function(t,e,n){var i=this._componentsMap;if("function"==typeof t)n=e,e=t,f(i,function(t,i){f(t,function(t,r){e.call(n,i,t,r)})});else if(c.isString(t))f(i[t],e,n);else if(y(t)){var r=this.findComponents(t);f(r,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.series;return d(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.series[t]},getSeriesByType:function(t){var e=this._componentsMap.series;return d(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(t,e){l(this),f(this._seriesIndices,function(n){var i=this._componentsMap.series[n];t.call(e,i,n)},this)},eachRawSeries:function(t,e){f(this._componentsMap.series,t,e)},eachSeriesByType:function(t,e,n){l(this),f(this._seriesIndices,function(i){var r=this._componentsMap.series[i];r.subType===t&&e.call(n,r,i)},this)},eachRawSeriesByType:function(t,e,n){return f(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return l(this),c.indexOf(this._seriesIndices,t.componentIndex)<0},filterSeries:function(t,e){l(this);var n=d(this._componentsMap.series,t,e);this._seriesIndices=s(n)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=s(t.series);var e=[];f(t,function(t,n){e.push(n)}),_.topologicalTravel(e,_.getAllClassMainTypes(),function(e){f(t[e],function(t){t.restoreData()})})}});c.mixin(w,n(24)),t.exports=w},function(t){function e(t){if(null==t||"object"!=typeof t)return t;var n=t,i=D.call(t);if("[object Array]"===i){n=[];for(var r=0,o=t.length;o>r;r++)n[r]=e(t[r])}else if(M[i])n=t.constructor.from(t);else if(!I[i]&&!k(t)){n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]=e(t[a]))}return n}function n(t,i,r){if(!w(i)||!w(t))return r?e(i):t;for(var o in i)if(i.hasOwnProperty(o)){var a=t[o],s=i[o];!w(s)||!w(a)||_(s)||_(a)||k(s)||k(a)||T(s)||T(a)?!r&&o in t||(t[o]=e(i[o],!0)):n(a,s,r)}return t}function i(t,e){for(var i=t[0],r=1,o=t.length;o>r;r++)i=n(i,t[r],e);return i}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function a(){return document.createElement("canvas")}function s(){return A||(A=U.createCanvas().getContext("2d")),A}function u(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n}return-1}function l(t,e){function n(){}var i=t.prototype;n.prototype=e.prototype,t.prototype=new n;for(var r in i)t.prototype[r]=i[r];t.prototype.constructor=t,t.superClass=e}function c(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,o(t,e,n)}function h(t){return t?"string"==typeof t?!1:"number"==typeof t.length:void 0}function p(t,e,n){if(t&&e)if(t.forEach&&t.forEach===O)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;r>i;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function f(t,e,n){if(t&&e){if(t.map&&t.map===N)return t.map(e,n);for(var i=[],r=0,o=t.length;o>r;r++)i.push(e.call(n,t[r],r,t));return i}}function d(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===R)return t.reduce(e,n,i);for(var r=0,o=t.length;o>r;r++)n=e.call(i,n,t[r],r,t);return n}}function g(t,e,n){if(t&&e){if(t.filter&&t.filter===P)return t.filter(e,n);for(var i=[],r=0,o=t.length;o>r;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}}function m(t,e,n){if(t&&e)for(var i=0,r=t.length;r>i;i++)if(e.call(n,t[i],i,t))return t[i]}function v(t,e){var n=L.call(arguments,2);return function(){return t.apply(e,n.concat(L.call(arguments)))}}function y(t){var e=L.call(arguments,1);return function(){return t.apply(this,e.concat(L.call(arguments)))}}function _(t){return"[object Array]"===D.call(t)}function b(t){return"function"==typeof t}function x(t){return"[object String]"===D.call(t)}function w(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function T(t){return!!I[D.call(t)]}function k(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function $(){for(var t=0,e=arguments.length;e>t;t++)if(null!=arguments[t])return arguments[t]}function S(){return Function.call.apply(L,arguments)}function C(t,e){if(!t)throw new Error(e)}var A,I={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},M={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},D=Object.prototype.toString,E=Array.prototype,O=E.forEach,P=E.filter,L=E.slice,N=E.map,R=E.reduce,U={inherits:l,mixin:c,clone:e,merge:n,mergeAll:i,extend:r,defaults:o,getContext:s,createCanvas:a,indexOf:u,slice:S,find:m,isArrayLike:h,each:p,map:f,reduce:d,filter:g,bind:v,curry:y,isArray:_,isString:x,isObject:w,isFunction:b,isBuildInObject:T,isDom:k,retrieve:$,assert:C,noop:function(){}};t.exports=U},function(t,e,n){function i(t,e){return t&&t.hasOwnProperty(e)}var r=n(6),o=n(7),a=n(12),s=n(4),u=s.each,l=s.isObject,c={};c.normalizeToArray=function(t){return t instanceof Array?t:null==t?[]:[t]},c.defaultEmphasis=function(t,e){if(t){var n=t.emphasis=t.emphasis||{},i=t.normal=t.normal||{};u(e,function(t){var e=s.retrieve(n[t],i[t]);null!=e&&(n[t]=e)})}},c.LABEL_OPTIONS=["position","show","textStyle","distance","formatter"],c.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},c.isDataItemOption=function(t){return l(t)&&!(t instanceof Array)},c.converDataValue=function(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"!==n||isFinite(t)||null==t||"-"===t||(t=+o.parseDate(t)),null==t||""===t?0/0:+t)},c.createDataFormatModel=function(t,e){var n=new a;return s.mixin(n,c.dataFormatMixin),n.seriesIndex=e.seriesIndex,n.name=e.name||"",n.mainType=e.mainType,n.subType=e.subType,n.getData=function(){return t},n},c.dataFormatMixin={getDataParams:function(t,e){var n=this.getData(e),i=this.seriesIndex,r=this.name,o=this.getRawValue(t,e),a=n.getRawIndex(t),s=n.getName(t,!0),u=n.getRawDataItem(t);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:i,seriesName:r,name:s,dataIndex:a,data:u,dataType:e,value:o,color:n.getItemVisual(t,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,i){e=e||"normal";var o=this.getData(n),a=o.getItemModel(t),s=this.getDataParams(t,n);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var u=a.get(["label",e,"formatter"]);return"function"==typeof u?(s.status=e,u(s)):"string"==typeof u?r.formatTpl(u,s):void 0},getRawValue:function(t,e){var n=this.getData(e),i=n.getRawDataItem(t);return null!=i?!l(i)||i instanceof Array?i:i.value:void 0},formatTooltip:s.noop},c.mappingToExists=function(t,e){e=(e||[]).slice();var n=s.map(t||[],function(t){return{exist:t}});return u(e,function(t,i){if(l(t)){for(var r=0;r<n.length;r++)if(!n[r].option&&null!=t.id&&n[r].exist.id===t.id+"")return n[r].option=t,void(e[i]=null);for(var r=0;r<n.length;r++){var o=n[r].exist;if(!(n[r].option||null!=o.id&&null!=t.id||null==t.name||c.isIdInner(t)||c.isIdInner(o)||o.name!==t.name+""))return n[r].option=t,void(e[i]=null)}}}),u(e,function(t){if(l(t)){for(var e=0;e<n.length;e++){var i=n[e].exist;if(!n[e].option&&!c.isIdInner(i)&&null==t.id){n[e].option=t;break}}e>=n.length&&n.push({option:t})}}),n},c.makeIdAndName=function(t){var e={};u(t,function(t){var n=t.exist;n&&(e[n.id]=t)}),u(t,function(t){var n=t.option;s.assert(!n||null==n.id||!e[n.id]||e[n.id]===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&(e[n.id]=t),!t.keyInfo&&(t.keyInfo={})}),u(t,function(t){var n=t.exist,i=t.option,r=t.keyInfo;if(l(i)){if(r.name=null!=i.name?i.name+"":n?n.name:"\x00-",n)r.id=n.id;else if(null!=i.id)r.id=i.id+"";else{var o=0;do r.id="\x00"+r.name+"\x00"+o++;while(e[r.id])}e[r.id]=t}})},c.isIdInner=function(t){return l(t)&&t.id&&0===(t.id+"").indexOf("\x00_ec_\x00")},c.compressBatches=function(t,e){function n(t,e,n){for(var i=0,r=t.length;r>i;i++)for(var o=t[i].seriesId,a=c.normalizeToArray(t[i].dataIndex),s=n&&n[o],u=0,l=a.length;l>u;u++){var h=a[u];s&&s[h]?s[h]=null:(e[o]||(e[o]={}))[h]=1}}function i(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var o=i(t[r],!0);o.length&&n.push({seriesId:r,dataIndex:o})}return n}var r={},o={};return n(t||[],r),n(e||[],o,r),[i(r),i(o)]},c.queryDataIndex=function(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?s.isArray(e.dataIndex)?s.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?s.isArray(e.name)?s.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0},c.parseFinder=function(t,e,n){if(s.isString(e)){var r={};r[e+"Index"]=0,e=r}var o=n&&n.defaultMainType;!o||i(e,o+"Index")||i(e,o+"Id")||i(e,o+"Name")||(e[o+"Index"]=0);var a={};return u(e,function(n,i){var n=e[i];if("dataIndex"===i||"dataIndexInside"===i)return void(a[i]=n);var r=i.match(/^(\w+)(Index|Id|Name)$/)||[],o=r[1],s=r[2];if(o&&s){var u={mainType:o};u[s.toLowerCase()]=n;var l=t.queryComponents(u);a[o+"Models"]=l,a[o+"Model"]=l[0]}}),a},t.exports=c},function(t,e,n){var i=n(4),r=n(7),o=n(8),a={};a.addCommas=function(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))},a.toCamelCase=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},a.normalizeCssArray=function(t){var e=t.length;return"number"==typeof t?[t,t,t,t]:2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},a.encodeHTML=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};var s=["a","b","c","d","e","f","g"],u=function(t,e){return"{"+t+(null==e?"":e)+"}"};a.formatTpl=function(t,e){i.isArray(e)||(e=[e]);var n=e.length;if(!n)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=s[o];t=t.replace(u(a),u(a,0))}for(var l=0;n>l;l++)for(var c=0;c<r.length;c++)t=t.replace(u(s[c],l),e[l][r[c]]);return t};var l=function(t){return 10>t?"0"+t:t};a.formatTime=function(t,e){("week"===t||"month"===t||"quarter"===t||"half-year"===t||"year"===t)&&(t="MM-dd\nyyyy");var n=r.parseDate(e),i=n.getFullYear(),o=n.getMonth()+1,a=n.getDate(),s=n.getHours(),u=n.getMinutes(),c=n.getSeconds();return t=t.replace("MM",l(o)).toLowerCase().replace("yyyy",i).replace("yy",i%100).replace("dd",l(a)).replace("d",a).replace("hh",l(s)).replace("h",s).replace("mm",l(u)).replace("m",u).replace("ss",l(c)).replace("s",c)},a.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},a.truncateText=o.truncateText,t.exports=a},function(t){function e(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}var n={},i=1e-4;n.linearMap=function(t,e,n,i){var r=e[1]-e[0],o=n[1]-n[0];if(0===r)return 0===o?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*o+n[0]},n.parsePercent=function(t,n){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?e(t).match(/%$/)?parseFloat(t)/100*n:parseFloat(t):null==t?0/0:+t},n.round=function(t,e){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),+(+t).toFixed(e)},n.asc=function(t){return t.sort(function(t,e){return t-e}),t},n.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},n.getPrecisionSafe=function(t){var e=t.toString(),n=e.indexOf(".");return 0>n?0:e.length-1-n},n.getPixelPrecision=function(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i);return Math.max(-r+o,0)},n.MAX_SAFE_INTEGER=9007199254740991,n.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},n.isRadianAroundZero=function(t){return t>-i&&i>t},n.parseDate=function(t){if(t instanceof Date)return t;if("string"==typeof t){var e=new Date(t);return isNaN(+e)&&(e=new Date(new Date(t.replace(/-/g,"/"))-new Date("1970/01/01"))),e}return new Date(Math.round(t))},n.quantity=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},n.nice=function(t,e){var i,r=n.quantity(t),o=t/r;return i=e?1.5>o?1:2.5>o?2:4>o?3:7>o?5:10:1>o?1:2>o?2:3>o?3:5>o?5:10,i*r},n.reformIntervals=function(t){function e(t,n,i){return t.interval[i]<n.interval[i]||t.interval[i]===n.interval[i]&&(t.close[i]-n.close[i]===(i?-1:1)||!i&&e(t,n,1))}t.sort(function(t,n){return e(t,n,0)?-1:1});for(var n=-1/0,i=1,r=0;r<t.length;){for(var o=t[r].interval,a=t[r].close,s=0;2>s;s++)o[s]<=n&&(o[s]=n,a[s]=s?1:1-i),n=o[s],i=a[s];o[0]===o[1]&&a[0]*a[1]!==1?t.splice(r,1):r++}return t},t.exports=n},function(t,e,n){function i(t,e){var n=t+":"+e;if(u[n])return u[n];for(var i=(t+"").split("\n"),r=0,o=0,a=i.length;a>o;o++)r=Math.max(d.measureText(i[o],e).width,r);return l>c&&(l=0,u={}),l++,u[n]=r,r}function r(t,e,n,r){var o=((t||"")+"").split("\n").length,a=i(t,e),s=i("国",e),u=o*s,l=new p(0,0,a,u);switch(l.lineHeight=s,r){case"bottom":case"alphabetic":l.y-=s;break;case"middle":l.y-=s/2}switch(n){case"end":case"right":l.x-=l.width;break;case"center":l.x-=l.width/2}return l}function o(t,e,n,i){var r=e.x,o=e.y,a=e.height,s=e.width,u=n.height,l=a/2-u/2,c="left";switch(t){case"left":r-=i,o+=l,c="right";break;case"right":r+=i+s,o+=l,c="left";break;case"top":r+=s/2,o-=i+u,c="center";break;case"bottom":r+=s/2,o+=a+i,c="center";break;case"inside":r+=s/2,o+=l,c="center";break;case"insideLeft":r+=i,o+=l,c="left";break;case"insideRight":r+=s-i,o+=l,c="right";break;case"insideTop":r+=s/2,o+=i,c="center";break;case"insideBottom":r+=s/2,o+=a-u-i,c="center";break;case"insideTopLeft":r+=i,o+=i,c="left";break;case"insideTopRight":r+=s-i,o+=i,c="right";break;case"insideBottomLeft":r+=i,o+=a-u-i;break;case"insideBottomRight":r+=s-i,o+=a-u-i,c="right"}return{x:r,y:o,textAlign:c,textBaseline:"top"}}function a(t,e,n,r,o){if(!e)return"";o=o||{},r=f(r,"...");for(var a=f(o.maxIterations,2),u=f(o.minChar,0),l=i("国",n),c=i("a",n),h=f(o.placeholder,""),p=e=Math.max(0,e-1),d=0;u>d&&p>=c;d++)p-=c;var g=i(r);g>p&&(r="",g=0),p=e-g;for(var m=(t+"").split("\n"),d=0,v=m.length;v>d;d++){var y=m[d],_=i(y,n);if(!(e>=_)){for(var b=0;;b++){if(p>=_||b>=a){y+=r;break}var x=0===b?s(y,p,c,l):_>0?Math.floor(y.length*p/_):0;y=y.substr(0,x),_=i(y,n)}""===y&&(y=h),m[d]=y}}return m.join("\n")}function s(t,e,n,i){for(var r=0,o=0,a=t.length;a>o&&e>r;o++){var s=t.charCodeAt(o);r+=s>=0&&127>=s?n:i}return o}var u={},l=0,c=5e3,h=n(4),p=n(9),f=h.retrieve,d={getWidth:i,getBoundingRect:r,adjustTextPositionOnRect:o,truncateText:a,measureText:function(t,e){var n=h.getContext();return n.font=e||"12px sans-serif",n.measureText(t)}};t.exports=d},function(t,e,n){"use strict";function i(t,e,n,i){0>n&&(t+=n,n=-n),0>i&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}var r=n(10),o=n(11),a=r.applyTransform,s=Math.min,u=Math.max;i.prototype={constructor:i,union:function(t){var e=s(t.x,this.x),n=s(t.y,this.y);this.width=u(t.x+t.width,this.x+this.width)-e,this.height=u(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],i=[];return function(r){if(r){t[0]=n[0]=this.x,t[1]=i[1]=this.y,e[0]=i[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,a(t,t,r),a(e,e,r),a(n,n,r),a(i,i,r),this.x=s(t[0],e[0],n[0],i[0]),this.y=s(t[1],e[1],n[1],i[1]);var o=u(t[0],e[0],n[0],i[0]),l=u(t[1],e[1],n[1],i[1]);this.width=o-this.x,this.height=l-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,i=t.height/e.height,r=o.create();return o.translate(r,r,[-e.x,-e.y]),o.scale(r,r,[n,i]),o.translate(r,r,[t.x,t.y]),r},intersect:function(t){if(!t)return!1;t instanceof i||(t=i.create(t));var e=this,n=e.x,r=e.x+e.width,o=e.y,a=e.y+e.height,s=t.x,u=t.x+t.width,l=t.y,c=t.y+t.height;return!(s>r||n>u||l>a||o>c)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new i(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},i.create=function(t){return new i(t.x,t.y,t.width,t.height)},t.exports=i},function(t){var e="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(t,n){var i=new e(2);return null==t&&(t=0),null==n&&(n=0),i[0]=t,i[1]=n,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var n=new e(2);return n[0]=t[0],n[1]=t[1],n},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},scaleAndAdd:function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},normalize:function(t,e){var i=n.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t},applyTransform:function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,t.exports=n},function(t){var e="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(){var t=new e(6);return n.identity(t),t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],u=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t},translate:function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},rotate:function(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=i*c+a*l,t[1]=-i*l+a*c,t[2]=r*c+s*l,t[3]=-r*l+c*s,t[4]=c*o+l*u,t[5]=c*u-l*o,t},scale:function(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t},invert:function(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],u=n*a-o*i;return u?(u=1/u,t[0]=a*u,t[1]=-o*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-a*r)*u,t[5]=(o*r-n*s)*u,t):null}};t.exports=n},function(t,e,n){function i(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}var r=n(4),o=n(13);i.prototype={constructor:i,init:null,mergeOption:function(t){r.merge(this.option,t,!0)},get:function(t,e){if(!t)return this.option;"string"==typeof t&&(t=t.split("."));for(var n=this.option,i=this.parentModel,r=0;r<t.length&&(!t[r]||(n=n&&"object"==typeof n?n[t[r]]:null,null!=n));r++);return null==n&&i&&!e&&(n=i.get(t)),n},getShallow:function(t,e){var n=this.option,i=null==n?n:n[t],r=this.parentModel;return null==i&&r&&!e&&(i=r.getShallow(t)),i},getModel:function(t,e){var n=this.get(t,!0),r=this.parentModel,o=new i(n,e||r&&r.getModel(t),this.ecModel);return o},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(r.clone(this.option))},setReadOnly:function(t){o.setReadOnly(this,t)}},o.enableClassExtend(i);var a=r.mixin;a(i,n(14)),a(i,n(16)),a(i,n(17)),a(i,n(18)),t.exports=i},function(t,e,n){function i(t,e){var n=o.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function r(t,e,n){return this.superClass.prototype[e].apply(t,n)}var o=n(4),a={},s=".",u="___EC__COMPONENT__CONTAINER___",l=a.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split(s),e.main=t[0]||"",e.sub=t[1]||""),e};a.enableClassExtend=function(t,e){t.$constructor=t,t.extend=function(t){o.each(e,function(e){t[e]||console.warn("Method `"+e+"` should be implemented"+(t.type?" in "+t.type:"")+".")});var n=this,a=function(){t.$constructor?t.$constructor.apply(this,arguments):n.apply(this,arguments)};return o.extend(a.prototype,t),a.extend=this.extend,a.superCall=i,a.superApply=r,o.inherits(a,this),a.superClass=n,a}},a.enableClassManagement=function(t,e){function n(t){var e=i[t.main];return e&&e[u]||(e=i[t.main]={},e[u]=!0),e}e=e||{};var i={};if(t.registerClass=function(t,e){if(e)if(e=l(e),e.sub){if(e.sub!==u){var r=n(e);r[e.sub]=t}}else i[e.main]&&console.warn(e.main+" exists."),i[e.main]=t;return t},t.getClass=function(t,e,n){var r=i[t];if(r&&r[u]&&(r=e?r[e]:null),n&&!r)throw new Error("Component "+t+"."+(e||"")+" not exists. Load it first.");return r},t.getClassesByMainType=function(t){t=l(t);var e=[],n=i[t.main];return n&&n[u]?o.each(n,function(t,n){n!==u&&e.push(t)}):e.push(n),e},t.hasClass=function(t){return t=l(t),!!i[t.main]},t.getAllClassMainTypes=function(){var t=[];return o.each(i,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=l(t);var e=i[t.main];return e&&e[u]},t.parseClassType=l,e.registerWhenExtend){var r=t.extend;r&&(t.extend=function(e){var n=r.call(this,e);return t.registerClass(n,e.type)})}return t},a.setReadOnly=function(){},t.exports=a},function(t,e,n){var i=n(15)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getLineStyle:function(t){var e=i.call(this,t),n=this.getLineDash(e.lineWidth);return n&&(e.lineDash=n),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),i=4*t;return"solid"===e||null==e?null:"dashed"===e?[i,i]:[n,n]}}},function(t,e,n){var i=n(4);t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e){for(var n={},r=0;r<t.length;r++){var o=t[r][1];if(!(e&&i.indexOf(e,o)>=0)){var a=this.getShallow(o);null!=a&&(n[t[r][0]]=a)}}return n}}},function(t,e,n){t.exports={getAreaStyle:n(15)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(t,e,n){function i(t,e){return t&&t.getShallow(e)}var r=n(8);t.exports={getTextColor:function(){var t=this.ecModel;return this.getShallow("color")||t&&t.get("textStyle.color")},getFont:function(){var t=this.ecModel,e=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||i(e,"fontStyle"),this.getShallow("fontWeight")||i(e,"fontWeight"),(this.getShallow("fontSize")||i(e,"fontSize")||12)+"px",this.getShallow("fontFamily")||i(e,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(t){return r.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("baseline"))},truncateText:function(t,e,n,i){return r.truncateText(t,e,this.getFont(),n,i)}}},function(t,e,n){var i=n(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);t.exports={getItemStyle:function(t){var e=i.call(this,t),n=this.getBorderLineDash();return n&&(e.lineDash=n),e},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}}},function(t,e,n){function i(t){var e=[];return o.each(c.getClassesByMainType(t),function(t){a.apply(e,t.prototype.dependencies||[])}),o.map(e,function(t){return u.parseClassType(t).main})}var r=n(12),o=n(4),a=Array.prototype.push,s=n(20),u=n(13),l=n(21),c=r.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){r.call(this,t,e,n,i),this.uid=s.getUID("componentModel")},init:function(t,e,n){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?l.getLayoutParams(t):{},r=e.getTheme();o.merge(t,r.get(this.mainType)),o.merge(t,this.getDefaultOption()),n&&l.mergeLayoutParam(t,i,n)},mergeOption:function(t){o.merge(this.option,t,!0);var e=this.layoutMode;e&&l.mergeLayoutParam(this.option,t,e)},optionUpdated:function(){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var n=e.prototype.defaultOption;n&&t.push(n),e=e.superClass}for(var i={},r=t.length-1;r>=0;r--)i=o.merge(i,t[r],!0);this.__defaultOption=i}return this.__defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});u.enableClassManagement(c,{registerWhenExtend:!0}),s.enableSubTypeDefaulter(c),s.enableTopologicalTravel(c,i),o.mixin(c,n(22)),t.exports=c},function(t,e,n){var i=n(4),r=n(13),o=r.parseClassType,a=0,s={},u="_";s.getUID=function(t){return[t||"",a++,Math.random()].join(u)},s.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=o(t),e[t.main]=n},t.determineSubType=function(n,i){var r=i.type;if(!r){var a=o(n).main;t.hasSubTypes(n)&&e[a]&&(r=e[a](i))}return r},t},s.enableTopologicalTravel=function(t,e){function n(t){var n={},a=[];return i.each(t,function(s){var u=r(n,s),l=u.originalDeps=e(s),c=o(l,t);u.entryCount=c.length,0===u.entryCount&&a.push(s),i.each(c,function(t){i.indexOf(u.predecessor,t)<0&&u.predecessor.push(t);var e=r(n,t);i.indexOf(e.successor,t)<0&&e.successor.push(s)})}),{graph:n,noEntryList:a}}function r(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var n=[];return i.each(t,function(t){i.indexOf(e,t)>=0&&n.push(t)}),n}t.topologicalTravel=function(t,e,r,o){function a(t){l[t].entryCount--,0===l[t].entryCount&&c.push(t)}function s(t){h[t]=!0,a(t)}if(t.length){var u=n(e),l=u.graph,c=u.noEntryList,h={};for(i.each(t,function(t){h[t]=!0});c.length;){var p=c.pop(),f=l[p],d=!!h[p];d&&(r.call(o,p,f.originalDeps.slice()),delete h[p]),i.each(f.successor,d?s:a)}i.each(h,function(){throw new Error("Circle dependency may exists")})}}},t.exports=s},function(t,e,n){"use strict";function i(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild(function(u,l){var c,h,p=u.position,f=u.getBoundingRect(),d=e.childAt(l+1),g=d&&d.getBoundingRect();if("horizontal"===t){var m=f.width+(g?-g.x+f.x:0);c=o+m,c>i||u.newline?(o=0,c=m,a+=s+n,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);h=a+v,h>r||u.newline?(o+=s+n,a=0,h=v,s=f.width):s=Math.max(s,f.width)}u.newline||(p[0]=o,p[1]=a,"horizontal"===t?o=c+n:a=h+n)})}var r=n(4),o=n(9),a=n(7),s=n(6),u=a.parsePercent,l=r.each,c={},h=c.LOCATION_PARAMS=["left","right","top","bottom","width","height"];c.box=i,c.vbox=r.curry(i,"vertical"),c.hbox=r.curry(i,"horizontal"),c.getAvailableSize=function(t,e,n){var i=e.width,r=e.height,o=u(t.x,i),a=u(t.y,r),l=u(t.x2,i),c=u(t.y2,r);return(isNaN(o)||isNaN(parseFloat(t.x)))&&(o=0),(isNaN(l)||isNaN(parseFloat(t.x2)))&&(l=i),(isNaN(a)||isNaN(parseFloat(t.y)))&&(a=0),(isNaN(c)||isNaN(parseFloat(t.y2)))&&(c=r),n=s.normalizeCssArray(n||0),{width:Math.max(l-o-n[1]-n[3],0),height:Math.max(c-a-n[0]-n[2],0)}
},c.getLayoutRect=function(t,e,n){n=s.normalizeCssArray(n||0);var i=e.width,r=e.height,a=u(t.left,i),l=u(t.top,r),c=u(t.right,i),h=u(t.bottom,r),p=u(t.width,i),f=u(t.height,r),d=n[2]+n[0],g=n[1]+n[3],m=t.aspect;switch(isNaN(p)&&(p=i-c-g-a),isNaN(f)&&(f=r-h-d-l),isNaN(p)&&isNaN(f)&&(m>i/r?p=.8*i:f=.8*r),null!=m&&(isNaN(p)&&(p=m*f),isNaN(f)&&(f=p/m)),isNaN(a)&&(a=i-c-p-g),isNaN(l)&&(l=r-h-f-d),t.left||t.right){case"center":a=i/2-p/2-n[3];break;case"right":a=i-p-g}switch(t.top||t.bottom){case"middle":case"center":l=r/2-f/2-n[0];break;case"bottom":l=r-f-d}a=a||0,l=l||0,isNaN(p)&&(p=i-a-(c||0)),isNaN(f)&&(f=r-l-(h||0));var v=new o(a+n[3],l+n[0],p,f);return v.margin=n,v},c.positionElement=function(t,e,n,i,a){var s=!a||!a.hv||a.hv[0],u=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all";if(s||u){var h;if("raw"===l)h="group"===t.type?new o(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(h=t.getBoundingRect(),t.needLocalTransform()){var p=t.getLocalTransform();h=h.clone(),h.applyTransform(p)}e=c.getLayoutRect(r.defaults({width:h.width,height:h.height},e),n,i);var f=t.position,d=s?e.x-h.x:0,g=u?e.y-h.y:0;t.attr("position","raw"===l?[d,g]:[f[0]+d,f[1]+g])}},c.mergeLayoutParam=function(t,e,n){function i(i){var r={},s=0,u={},c=0,h=n.ignoreSize?1:2;if(l(i,function(e){u[e]=t[e]}),l(i,function(t){o(e,t)&&(r[t]=u[t]=e[t]),a(r,t)&&s++,a(u,t)&&c++}),c!==h&&s){if(s>=h)return r;for(var p=0;p<i.length;p++){var f=i[p];if(!o(r,f)&&o(t,f)){r[f]=t[f];break}}return r}return u}function o(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]&&"auto"!==t[e]}function s(t,e,n){l(t,function(t){e[t]=n[t]})}!r.isObject(n)&&(n={});var u=["width","left","right"],c=["height","top","bottom"],h=i(u),p=i(c);s(u,t,h),s(c,t,p)},c.getLayoutParams=function(t){return c.copyLayoutParams({},t)},c.copyLayoutParams=function(t,e){return e&&t&&l(h,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t},t.exports=c},function(t){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t){var e="";"undefined"!=typeof navigator&&(e=navigator.platform||""),t.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}},function(t){t.exports={clearColorPalette:function(){this._colorIdx=0,this._colorNameMap={}},getColorFromPalette:function(t,e){e=e||this;var n=e._colorIdx||0,i=e._colorNameMap||(e._colorNameMap={});if(i[t])return i[t];var r=this.get("color",!0)||[];if(r.length){var o=r[n];return t&&(i[t]=o),e._colorIdx=(n+1)%r.length,o}}}},function(t,e,n){"use strict";function i(t){r.each(o,function(e){this[e]=r.bind(t[e],t)},this)}var r=n(4),o=["getDom","getZr","getWidth","getHeight","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];t.exports=i},function(t,e,n){"use strict";function i(){this._coordinateSystems=[]}var r=n(4),o={};i.prototype={constructor:i,create:function(t,e){var n=[];r.each(o,function(i){var r=i.create(t,e);n=n.concat(r||[])}),this._coordinateSystems=n},update:function(t,e){r.each(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},i.register=function(t,e){o[t]=e},i.get=function(t){return o[t]},t.exports=i},function(t,e,n){function i(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function r(t,e,n){var i,r,o=[],a=[],s=t.timeline;if(t.baseOption&&(r=t.baseOption),(s||t.options)&&(r=r||{},o=(t.options||[]).slice()),t.media){r=r||{};var u=t.media;p(u,function(t){t&&t.option&&(t.query?a.push(t):i||(i=t))})}return r||(r=t),r.timeline||(r.timeline=s),p([r].concat(o).concat(l.map(a,function(t){return t.option})),function(t){p(e,function(e){e(t,n)})}),{baseOption:r,timelineOptions:o,mediaDefault:i,mediaList:a}}function o(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return l.each(t,function(t,e){var n=e.match(m);if(n&&n[1]&&n[2]){var o=n[1],s=n[2].toLowerCase();a(i[s],t,o)||(r=!1)}}),r}function a(t,e,n){return"min"===n?t>=e:"max"===n?e>=t:t===e}function s(t,e){return t.join(",")===e.join(",")}function u(t,e){e=e||{},p(e,function(e,n){if(null!=e){var i=t[n];if(h.hasClass(n)){e=c.normalizeToArray(e),i=c.normalizeToArray(i);var r=c.mappingToExists(i,e);t[n]=d(r,function(t){return t.option&&t.exist?g(t.exist,t.option,!0):t.exist||t.option})}else t[n]=g(i,e,!0)}})}var l=n(4),c=n(5),h=n(19),p=l.each,f=l.clone,d=l.map,g=l.merge,m=/^(min|max)?(.+)$/;i.prototype={constructor:i,setOption:function(t,e){t=f(t,!0);var n=this._optionBackup,i=r.call(this,t,e,!n);this._newBaseOption=i.baseOption,n?(u(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=d(e.timelineOptions,f),this._mediaList=d(e.mediaList,f),this._mediaDefault=f(e.mediaDefault),this._currentMediaIndices=[],f(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=f(n[i.getCurrentIndex()],!0))}return e},getMediaOption:function(){var t=this._api.getWidth(),e=this._api.getHeight(),n=this._mediaList,i=this._mediaDefault,r=[],a=[];if(!n.length&&!i)return a;for(var u=0,l=n.length;l>u;u++)o(n[u].query,t,e)&&r.push(u);return!r.length&&i&&(r=[-1]),r.length&&!s(r,this._currentMediaIndices)&&(a=d(r,function(t){return f(-1===t?i.option:n[t].option)})),this._currentMediaIndices=r,a}},t.exports=i},function(t,e,n){"use strict";var i=n(4),r=n(6),o=n(5),a=n(19),s=n(24),u=n(2),l=n(21),c=r.encodeHTML,h=r.addCommas,p=a.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(t,e,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,n),this._dataBeforeProcessed=this.getInitialData(t,n),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,r=n?l.getLayoutParams(t):{};i.merge(t,e.getTheme().get(this.subType)),i.merge(t,this.getDefaultOption()),o.defaultEmphasis(t.label,o.LABEL_OPTIONS),this.fillDataTextStyle(t.data),n&&l.mergeLayoutParam(t,r,n)},mergeOption:function(t,e){t=i.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&l.mergeLayoutParam(this.option,t,n);var r=this.getInitialData(t,e);r&&(this._data=r,this._dataBeforeProcessed=r.cloneShallow())},fillDataTextStyle:function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&t[e].label&&o.defaultEmphasis(t[e].label,o.LABEL_OPTIONS)},getInitialData:function(){},getData:function(t){return null==t?this._data:this._data.getLinkedData(t)},setData:function(t){this._data=t},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(t){return[t]},dataDimToCoordDim:function(t){return t},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e){function n(t){var n=[];return i.each(t,function(t,i){var a,s=o.getDimensionInfo(i),u=s&&s.type;a="ordinal"===u?t+"":"time"===u?e?"":r.formatTime("yyyy/MM/dd hh:mm:ss",t):h(t),a&&n.push(a)}),n.join(", ")}var o=this._data,a=this.getRawValue(t),s=i.isArray(a)?n(a):h(a),u=o.getName(t),l=o.getItemVisual(t,"color");i.isObject(l)&&l.colorStops&&(l=(l.colorStops[0]||{}).color),l=l||"transparent";var p='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+l+'"></span>',f=this.name;return"\x00-"===f&&(f=""),e?p+c(this.name)+" : "+s:(f&&c(f)+"<br />")+p+(u?c(u)+" : "+s:s)},ifEnableAnimation:function(){if(u.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getColorFromPalette:function(t,e){var n=this.ecModel,i=s.getColorFromPalette.call(this,t,e);return i||(i=n.getColorFromPalette(t,e)),i},getAxisTooltipDataIndex:null,getTooltipPosition:null});i.mixin(p,o.dataFormatMixin),i.mixin(p,s),t.exports=p},function(t,e,n){var i=n(30),r=n(20),o=n(13),a=function(){this.group=new i,this.uid=r.getUID("viewComponent")};a.prototype={constructor:a,init:function(){},render:function(){},dispose:function(){}};var s=a.prototype;s.updateView=s.updateLayout=s.updateVisual=function(){},o.enableClassExtend(a),o.enableClassManagement(a,{registerWhenExtend:!0}),t.exports=a},function(t,e,n){var i=n(4),r=n(31),o=n(9),a=function(t){t=t||{},r.call(this,t);for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};a.prototype={constructor:a,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToMap(t),t instanceof a&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,o=i.indexOf(r,t);return 0>o?this:(r.splice(o,1),t.parent=null,n&&(n.delFromMap(t.id),t instanceof a&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,i=this.__storage;for(e=0;e<n.length;e++)t=n[e],i&&(i.delFromMap(t.id),t instanceof a&&t.delChildrenFromStorage(i)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToMap(n),n instanceof a&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromMap(n.id),n instanceof a&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new o(0,0,0,0),i=t||this._children,r=[],a=0;a<i.length;a++){var s=i[a];if(!s.ignore&&!s.invisible){var u=s.getBoundingRect(),l=s.getLocalTransform(r);l?(n.copy(u),n.applyTransform(l),e=e||n.clone(),e.union(n)):(e=e||u.clone(),e.union(u))}}return e||n}},i.inherits(a,r),t.exports=a},function(t,e,n){"use strict";var i=n(32),r=n(33),o=n(34),a=n(35),s=n(4),u=function(t){o.call(this,t),r.call(this,t),a.call(this,t),this.id=t.id||i()};u.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(u,a),s.mixin(u,o),s.mixin(u,r),t.exports=u},function(t){var e=2311;t.exports=function(){return e++}},function(t){var e=Array.prototype.slice,n=function(){this._$handlers={}};n.prototype={constructor:n,one:function(t,e,n){var i=this._$handlers;if(!e||!t)return this;i[t]||(i[t]=[]);for(var r=0;r<i[t].length;r++)if(i[t][r].h===e)return this;return i[t].push({h:e,one:!0,ctx:n||this}),this},on:function(t,e,n){var i=this._$handlers;if(!e||!t)return this;i[t]||(i[t]=[]);for(var r=0;r<i[t].length;r++)if(i[t][r].h===e)return this;return i[t].push({h:e,one:!1,ctx:n||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;o>r;r++)n[t][r].h!=e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){if(this._$handlers[t]){var n=arguments,i=n.length;i>3&&(n=e.call(n,1));for(var r=this._$handlers[t],o=r.length,a=0;o>a;){switch(i){case 1:r[a].h.call(r[a].ctx);break;case 2:r[a].h.call(r[a].ctx,n[1]);break;case 3:r[a].h.call(r[a].ctx,n[1],n[2]);break;default:r[a].h.apply(r[a].ctx,n)}r[a].one?(r.splice(a,1),o--):a++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var n=arguments,i=n.length;i>4&&(n=e.call(n,1,n.length-1));for(var r=n[n.length-1],o=this._$handlers[t],a=o.length,s=0;a>s;){switch(i){case 1:o[s].h.call(r);break;case 2:o[s].h.call(r,n[1]);break;case 3:o[s].h.call(r,n[1],n[2]);break;default:o[s].h.apply(r,n)}o[s].one?(o.splice(s,1),a--):s++}}return this}},t.exports=n},function(t,e,n){"use strict";function i(t){return t>s||-s>t}var r=n(11),o=n(10),a=r.identity,s=5e-5,u=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=u.prototype;l.transform=null,l.needLocalTransform=function(){return i(this.rotation)||i(this.position[0])||i(this.position[1])||i(this.scale[0]-1)||i(this.scale[1]-1)},l.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;return n||e?(i=i||r.create(),n?this.getLocalTransform(i):a(i),e&&(n?r.mul(i,t.transform,i):r.copy(i,t.transform)),this.transform=i,this.invTransform=this.invTransform||r.create(),void r.invert(this.invTransform,i)):void(i&&a(i))},l.getLocalTransform=function(t){t=t||[],a(t);var e=this.origin,n=this.scale,i=this.rotation,o=this.position;return e&&(t[4]-=e[0],t[5]-=e[1]),r.scale(t,t,n),i&&r.rotate(t,t,i),e&&(t[4]+=e[0],t[5]+=e[1]),t[4]+=o[0],t[5]+=o[1],t},l.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},l.restoreTransform=function(t){var e=(this.transform,t.dpr||1);t.setTransform(e,0,0,e,0,0)};var c=[];l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r.mul(c,t.invTransform,e),e=c);var n=e[0]*e[0]+e[1]*e[1],o=e[2]*e[2]+e[3]*e[3],a=this.position,s=this.scale;i(n-1)&&(n=Math.sqrt(n)),i(o-1)&&(o=Math.sqrt(o)),e[0]<0&&(n=-n),e[3]<0&&(o=-o),a[0]=e[4],a[1]=e[5],s[0]=n,s[1]=o,this.rotation=Math.atan2(-e[1]/o,e[0]/n)}},l.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),n=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(n=-n),[e,n]},l.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&o.applyTransform(n,n,i),n},l.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&o.applyTransform(n,n,i),n},t.exports=u},function(t,e,n){"use strict";var i=n(36),r=n(4),o=r.isString,a=r.isFunction,s=r.isObject,u=n(40),l=function(){this.animators=[]};l.prototype={constructor:l,animate:function(t,e){var n,o=!1,a=this,s=this.__zr;if(t){var l=t.split("."),c=a;o="shape"===l[0];for(var h=0,p=l.length;p>h;h++)c&&(c=c[l[h]]);c&&(n=c)}else n=a;if(!n)return void u('Property "'+t+'" is not existed in element '+a.id);var f=a.animators,d=new i(n,e);return d.during(function(){a.dirty(o)}).done(function(){f.splice(r.indexOf(f,d),1)}),f.push(d),s&&s.animation.addAnimator(d),d},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;n>i;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,n,i,r){function s(){l--,l||r&&r()}o(n)?(r=i,i=n,n=0):a(i)?(r=i,i="linear",n=0):a(n)?(r=n,n=0):a(e)?(r=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,n,i,r);var u=this.animators.slice(),l=u.length;l||r&&r();for(var c=0;c<u.length;c++)u[c].done(s).start(i)},_animateToShallow:function(t,e,n,i,o){var a={},u=0;for(var l in n)if(n.hasOwnProperty(l))if(null!=e[l])s(n[l])&&!r.isArrayLike(n[l])?this._animateToShallow(t?t+"."+l:l,e[l],n[l],i,o):(a[l]=n[l],u++);else if(null!=n[l])if(t){var c={};c[t]={},c[t][l]=n[l],this.attr(c)}else this.attr(l,n[l]);return u>0&&this.animate(t,!1).when(null==i?500:i,a).delay(o||0),this}},t.exports=l},function(t,e,n){function i(t,e){return t[e]}function r(t,e,n){t[e]=n}function o(t,e,n){return(e-t)*n+t}function a(t,e,n){return n>.5?e:t}function s(t,e,n,i,r){var a=t.length;if(1==r)for(var s=0;a>s;s++)i[s]=o(t[s],e[s],n);else for(var u=t[0].length,s=0;a>s;s++)for(var l=0;u>l;l++)i[s][l]=o(t[s][l],e[s][l],n)}function u(t,e,n){var i=t.length,r=e.length;if(i!==r){var o=i>r;if(o)t.length=r;else for(var a=i;r>a;a++)t.push(1===n?e[a]:_.call(e[a]))}for(var s=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var u=0;s>u;u++)isNaN(t[a][u])&&(t[a][u]=e[a][u])}function l(t,e,n){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===n){for(var r=0;i>r;r++)if(t[r]!==e[r])return!1}else for(var o=t[0].length,r=0;i>r;r++)for(var a=0;o>a;a++)if(t[r][a]!==e[r][a])return!1;return!0}function c(t,e,n,i,r,o,a,s,u){var l=t.length;if(1==u)for(var c=0;l>c;c++)s[c]=h(t[c],e[c],n[c],i[c],r,o,a);else for(var p=t[0].length,c=0;l>c;c++)for(var f=0;p>f;f++)s[c][f]=h(t[c][f],e[c][f],n[c][f],i[c][f],r,o,a)}function h(t,e,n,i,r,o,a){var s=.5*(n-t),u=.5*(i-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*r+e}function p(t){if(y(t)){var e=t.length;if(y(t[0])){for(var n=[],i=0;e>i;i++)n.push(_.call(t[i]));return n}return _.call(t)}return t}function f(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function d(t,e,n,i,r){var p=t._getter,d=t._setter,v="spline"===e,_=i.length;if(_){var b,x=i[0].value,w=y(x),T=!1,k=!1,$=w&&y(x[0])?2:1;i.sort(function(t,e){return t.time-e.time}),b=i[_-1].time;for(var S=[],C=[],A=i[0].value,I=!0,M=0;_>M;M++){S.push(i[M].time/b);var D=i[M].value;if(w&&l(D,A,$)||!w&&D===A||(I=!1),A=D,"string"==typeof D){var E=m.parse(D);E?(D=E,T=!0):k=!0}C.push(D)}if(!I){for(var O=C[_-1],M=0;_-1>M;M++)w?u(C[M],O,$):!isNaN(C[M])||isNaN(O)||k||T||(C[M]=O);w&&u(p(t._target,r),O,$);var P,L,N,R,U,V,W=0,B=0;if(T)var K=[0,0,0,0];var j=function(t,e){var n;if(0>e)n=0;else if(B>e){for(P=Math.min(W+1,_-1),n=P;n>=0&&!(S[n]<=e);n--);n=Math.min(n,_-2)}else{for(n=W;_>n&&!(S[n]>e);n++);n=Math.min(n-1,_-2)}W=n,B=e;var i=S[n+1]-S[n];if(0!==i)if(L=(e-S[n])/i,v)if(R=C[n],N=C[0===n?n:n-1],U=C[n>_-2?_-1:n+1],V=C[n>_-3?_-1:n+2],w)c(N,R,U,V,L,L*L,L*L*L,p(t,r),$);else{var u;if(T)u=c(N,R,U,V,L,L*L,L*L*L,K,1),u=f(K);else{if(k)return a(R,U,L);u=h(N,R,U,V,L,L*L,L*L*L)}d(t,r,u)}else if(w)s(C[n],C[n+1],L,p(t,r),$);else{var u;if(T)s(C[n],C[n+1],L,K,1),u=f(K);else{if(k)return a(C[n],C[n+1],L);u=o(C[n],C[n+1],L)}d(t,r,u)}},z=new g({target:t._target,life:b,loop:t._loop,delay:t._delay,onframe:j,ondestroy:n});return e&&"spline"!==e&&(z.easing=e),z}}}var g=n(37),m=n(39),v=n(4),y=v.isArrayLike,_=Array.prototype.slice,b=function(t,e,n,o){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||i,this._setter=o||r,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};b.prototype={when:function(t,e){var n=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==t&&n[i].push({time:0,value:p(r)})}n[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;e>n;n++)t[n].call(this)},start:function(t){var e,n=this,i=0,r=function(){i--,i||n._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var a=d(this,t,r,this._tracks[o],o);a&&(this._clipList.push(a),i++,this.animation&&this.animation.addClip(a),e=a)}if(e){var s=e.onframe;e.onframe=function(t,e){s(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=b},function(t,e,n){function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null==t.loop?!1:t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var r=n(38);i.prototype={constructor:i,step:function(t){this._initialized||(this._startTime=t+this._delay,this._initialized=!0);var e=(t-this._startTime)/this._life;if(!(0>e)){e=Math.min(e,1);var n=this.easing,i="string"==typeof n?r[n]:n,o="function"==typeof i?i(e):e;return this.fire("frame",o),1==e?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(t){var e=(t-this._startTime)%this._life;this._startTime=t-e+this.gap,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)}},t.exports=i},function(t){var e={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)))},elasticOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/i)+1)},elasticInOut:function(t){var e,n=.1,i=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i):n*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-e.bounceOut(1-t)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5}};t.exports=e},function(t){function e(t){return t=Math.round(t),0>t?0:t>255?255:t}function n(t){return t=Math.round(t),0>t?0:t>360?360:t}function i(t){return 0>t?0:t>1?1:t}function r(t){return e(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function o(t){return i(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function a(t,e,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}function s(t,e,n){return t+(e-t)*n}function u(t){if(t){t+="";var e=t.replace(/ /g,"").toLowerCase();if(e in y)return y[e].slice();if("#"!==e.charAt(0)){var n=e.indexOf("("),i=e.indexOf(")");if(-1!==n&&i+1===e.length){var a=e.substr(0,n),s=e.substr(n+1,i-(n+1)).split(","),u=1;switch(a){case"rgba":if(4!==s.length)return;u=o(s.pop());case"rgb":if(3!==s.length)return;return[r(s[0]),r(s[1]),r(s[2]),u];case"hsla":if(4!==s.length)return;return s[3]=o(s[3]),l(s);case"hsl":if(3!==s.length)return;return l(s);default:return}}}else{if(4===e.length){var c=parseInt(e.substr(1),16);if(!(c>=0&&4095>=c))return;return[(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1]}if(7===e.length){var c=parseInt(e.substr(1),16);if(!(c>=0&&16777215>=c))return;return[(16711680&c)>>16,(65280&c)>>8,255&c,1]}}}}function l(t){var n=(parseFloat(t[0])%360+360)%360/360,i=o(t[1]),r=o(t[2]),s=.5>=r?r*(i+1):r+i-r*i,u=2*r-s,l=[e(255*a(u,s,n+1/3)),e(255*a(u,s,n)),e(255*a(u,s,n-1/3))];return 4===t.length&&(l[3]=t[3]),l}function c(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),u=s-a,l=(s+a)/2;if(0===u)e=0,n=0;else{n=.5>l?u/(s+a):u/(2-s-a);var c=((s-i)/6+u/2)/u,h=((s-r)/6+u/2)/u,p=((s-o)/6+u/2)/u;i===s?e=p-h:r===s?e=1/3+c-p:o===s&&(e=2/3+h-c),0>e&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,l];return null!=t[3]&&f.push(t[3]),f}}function h(t,e){var n=u(t);if(n){for(var i=0;3>i;i++)n[i]=0>e?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0;return v(n,4===n.length?"rgba":"rgb")}}function p(t){var e=u(t);return e?((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1):void 0}function f(t,n,i){if(n&&n.length&&t>=0&&1>=t){i=i||[0,0,0,0];var r=t*(n.length-1),o=Math.floor(r),a=Math.ceil(r),u=n[o],l=n[a],c=r-o;return i[0]=e(s(u[0],l[0],c)),i[1]=e(s(u[1],l[1],c)),i[2]=e(s(u[2],l[2],c)),i[3]=e(s(u[3],l[3],c)),i}}function d(t,n,r){if(n&&n.length&&t>=0&&1>=t){var o=t*(n.length-1),a=Math.floor(o),l=Math.ceil(o),c=u(n[a]),h=u(n[l]),p=o-a,f=v([e(s(c[0],h[0],p)),e(s(c[1],h[1],p)),e(s(c[2],h[2],p)),i(s(c[3],h[3],p))],"rgba");return r?{color:f,leftIndex:a,rightIndex:l,value:o}:f}}function g(t,e,i,r){return t=u(t),t?(t=c(t),null!=e&&(t[0]=n(e)),null!=i&&(t[1]=o(i)),null!=r&&(t[2]=o(r)),v(l(t),"rgba")):void 0}function m(t,e){return t=u(t),t&&null!=e?(t[3]=i(e),v(t,"rgba")):void 0}function v(t,e){var n=t[0]+","+t[1]+","+t[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(n+=","+t[3]),e+"("+n+")"}var y={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};t.exports={parse:u,lift:h,toHex:p,fastMapToColor:f,mapToColor:d,modifyHSL:g,modifyAlpha:m,stringify:v}},function(t,e,n){var i=n(41);t.exports=function(){if(0!==i.debugMode)if(1==i.debugMode)for(var t in arguments)throw new Error(arguments[t]);
else if(i.debugMode>1)for(var t in arguments)console.log(arguments[t])}},function(t){var e=1;"undefined"!=typeof window&&(e=Math.max(window.devicePixelRatio||1,1));var n={debugMode:0,devicePixelRatio:e};t.exports=n},function(t,e,n){function i(){this.group=new a,this.uid=s.getUID("viewChart")}function r(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)r(t.childAt(n),e)}function o(t,e,n){var i=l.queryDataIndex(t,e);null!=i?c.each(l.normalizeToArray(i),function(e){r(t.getItemGraphicEl(e),n)}):t.eachItemGraphicEl(function(t){r(t,n)})}var a=n(30),s=n(20),u=n(13),l=n(5),c=n(4);i.prototype={type:"chart",init:function(){},render:function(){},highlight:function(t,e,n,i){o(t.getData(),i,"emphasis")},downplay:function(t,e,n,i){o(t.getData(),i,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}};var h=i.prototype;h.updateView=h.updateLayout=h.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},u.enableClassExtend(i,["dispose"]),u.enableClassManagement(i,{registerWhenExtend:!0}),t.exports=i},function(t,e,n){"use strict";function i(t){return null!=t&&"none"!=t}function r(t){return"string"==typeof t?b.lift(t,-.1):t}function o(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,o=t.__hoverStl;o.fill=o.fill||(i(n)?r(n):null),o.stroke=o.stroke||(i(e)?r(e):null);var a={};for(var s in o)o.hasOwnProperty(s)&&(a[s]=t.style[s]);t.__normalStl=a,t.__hoverStlDirty=!1}}function a(t){t.__isHover||(o(t),t.useHoverLayer?t.__zr&&t.__zr.addHover(t,t.__hoverStl):(t.setStyle(t.__hoverStl),t.z2+=1),t.__isHover=!0)}function s(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function u(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&a(t)}):a(t)}function l(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&s(t)}):s(t)}function c(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&o(t)}function h(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&u(this)}function p(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&l(this)}function f(){this.__isEmphasis=!0,u(this)}function d(){this.__isEmphasis=!1,l(this)}function g(t,e,n,i,r,o){"function"==typeof r&&(o=r,r=null);var a=i&&(i.ifEnableAnimation?i.ifEnableAnimation():i.getShallow("animation"));if(a){var s=t?"Update":"",u=i&&i.getShallow("animationDuration"+s),l=i&&i.getShallow("animationEasing"+s),c=i&&i.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(r)),u>0?e.animateTo(n,u,c||0,l,o):(e.attr(n),o&&o())}else e.attr(n),o&&o()}var m=n(4),v=n(44),y=Math.round,_=n(45),b=n(39),x=n(11),w=n(10),T={};T.Group=n(30),T.Image=n(61),T.Text=n(63),T.Circle=n(64),T.Sector=n(65),T.Ring=n(66),T.Polygon=n(67),T.Polyline=n(71),T.Rect=n(72),T.Line=n(74),T.BezierCurve=n(75),T.Arc=n(76),T.CompoundPath=n(77),T.LinearGradient=n(78),T.RadialGradient=n(80),T.BoundingRect=n(9),T.extendShape=function(t){return _.extend(t)},T.extendPath=function(t,e){return v.extendFromString(t,e)},T.makePath=function(t,e,n,i){var r=v.createFromString(t,e),o=r.getBoundingRect();if(n){var a=o.width/o.height;if("center"===i){var s,u=n.height*a;u<=n.width?s=n.height:(u=n.width,s=u/a);var l=n.x+n.width/2,c=n.y+n.height/2;n.x=l-u/2,n.y=c-s/2,n.width=u,n.height=s}this.resizePath(r,n)}return r},T.mergePath=v.mergePath,T.resizePath=function(t,e){if(t.applyTransform){var n=t.getBoundingRect(),i=n.calculateTransform(e);t.applyTransform(i)}},T.subPixelOptimizeLine=function(t){var e=T.subPixelOptimize,n=t.shape,i=t.style.lineWidth;return y(2*n.x1)===y(2*n.x2)&&(n.x1=n.x2=e(n.x1,i,!0)),y(2*n.y1)===y(2*n.y2)&&(n.y1=n.y2=e(n.y1,i,!0)),t},T.subPixelOptimizeRect=function(t){var e=T.subPixelOptimize,n=t.shape,i=t.style.lineWidth,r=n.x,o=n.y,a=n.width,s=n.height;return n.x=e(n.x,i,!0),n.y=e(n.y,i,!0),n.width=Math.max(e(r+a,i,!1)-n.x,0===a?0:1),n.height=Math.max(e(o+s,i,!1)-n.y,0===s?0:1),t},T.subPixelOptimize=function(t,e,n){var i=y(2*t);return(i+y(e))%2===0?i/2:(i+(n?1:-1))/2},T.setHoverStyle=function(t,e,n){t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&c(t,e)}):c(t,e),t.on("mouseover",h).on("mouseout",p),t.on("emphasis",f).on("normal",d)},T.setText=function(t,e,n){var i=e.getShallow("position")||"inside",r=i.indexOf("inside")>=0?"white":n,o=e.getModel("textStyle");m.extend(t,{textDistance:e.getShallow("distance")||5,textFont:o.getFont(),textPosition:i,textFill:o.getTextColor()||r})},T.updateProps=function(t,e,n,i,r){g(!0,t,e,n,i,r)},T.initProps=function(t,e,n,i,r){g(!1,t,e,n,i,r)},T.getTransform=function(t,e){for(var n=x.identity([]);t&&t!==e;)x.mul(n,t.getLocalTransform(),n),t=t.parent;return n},T.applyTransform=function(t,e,n){return n&&(e=x.invert([],e)),w.applyTransform([],t,e)},T.transformDirection=function(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return o=T.applyTransform(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"},T.groupTransition=function(t,e,n){function i(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}function r(t){var e={position:w.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=m.extend({},t.shape)),e}if(t&&e){var o=i(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var i=r(t);t.attr(r(e)),T.updateProps(t,i,n,t.dataIndex)}}})}},t.exports=T},function(t,e,n){function i(t,e,n,i,r,o,a,s,u,l,c){var g=u*(d/180),y=f(g)*(t-n)/2+p(g)*(e-i)/2,_=-1*p(g)*(t-n)/2+f(g)*(e-i)/2,b=y*y/(a*a)+_*_/(s*s);b>1&&(a*=h(b),s*=h(b));var x=(r===o?-1:1)*h((a*a*s*s-a*a*_*_-s*s*y*y)/(a*a*_*_+s*s*y*y))||0,w=x*a*_/s,T=x*-s*y/a,k=(t+n)/2+f(g)*w-p(g)*T,$=(e+i)/2+p(g)*w+f(g)*T,S=v([1,0],[(y-w)/a,(_-T)/s]),C=[(y-w)/a,(_-T)/s],A=[(-1*y-w)/a,(-1*_-T)/s],I=v(C,A);m(C,A)<=-1&&(I=d),m(C,A)>=1&&(I=0),0===o&&I>0&&(I-=2*d),1===o&&0>I&&(I+=2*d),c.addData(l,k,$,a,s,S,I,g,o)}function r(t){if(!t)return[];var e,n=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<c.length;e++)n=n.replace(new RegExp(c[e],"g"),"|"+c[e]);var r,o=n.split("|"),a=0,u=0,l=new s,h=s.CMD;for(e=1;e<o.length;e++){var p,f=o[e],d=f.charAt(0),g=0,m=f.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var v=0;v<m.length;v++)m[v]=parseFloat(m[v]);for(;g<m.length&&!isNaN(m[g])&&!isNaN(m[0]);){var y,_,b,x,w,T,k,$=a,S=u;switch(d){case"l":a+=m[g++],u+=m[g++],p=h.L,l.addData(p,a,u);break;case"L":a=m[g++],u=m[g++],p=h.L,l.addData(p,a,u);break;case"m":a+=m[g++],u+=m[g++],p=h.M,l.addData(p,a,u),d="l";break;case"M":a=m[g++],u=m[g++],p=h.M,l.addData(p,a,u),d="L";break;case"h":a+=m[g++],p=h.L,l.addData(p,a,u);break;case"H":a=m[g++],p=h.L,l.addData(p,a,u);break;case"v":u+=m[g++],p=h.L,l.addData(p,a,u);break;case"V":u=m[g++],p=h.L,l.addData(p,a,u);break;case"C":p=h.C,l.addData(p,m[g++],m[g++],m[g++],m[g++],m[g++],m[g++]),a=m[g-2],u=m[g-1];break;case"c":p=h.C,l.addData(p,m[g++]+a,m[g++]+u,m[g++]+a,m[g++]+u,m[g++]+a,m[g++]+u),a+=m[g-2],u+=m[g-1];break;case"S":y=a,_=u;var C=l.len(),A=l.data;r===h.C&&(y+=a-A[C-4],_+=u-A[C-3]),p=h.C,$=m[g++],S=m[g++],a=m[g++],u=m[g++],l.addData(p,y,_,$,S,a,u);break;case"s":y=a,_=u;var C=l.len(),A=l.data;r===h.C&&(y+=a-A[C-4],_+=u-A[C-3]),p=h.C,$=a+m[g++],S=u+m[g++],a+=m[g++],u+=m[g++],l.addData(p,y,_,$,S,a,u);break;case"Q":$=m[g++],S=m[g++],a=m[g++],u=m[g++],p=h.Q,l.addData(p,$,S,a,u);break;case"q":$=m[g++]+a,S=m[g++]+u,a+=m[g++],u+=m[g++],p=h.Q,l.addData(p,$,S,a,u);break;case"T":y=a,_=u;var C=l.len(),A=l.data;r===h.Q&&(y+=a-A[C-4],_+=u-A[C-3]),a=m[g++],u=m[g++],p=h.Q,l.addData(p,y,_,a,u);break;case"t":y=a,_=u;var C=l.len(),A=l.data;r===h.Q&&(y+=a-A[C-4],_+=u-A[C-3]),a+=m[g++],u+=m[g++],p=h.Q,l.addData(p,y,_,a,u);break;case"A":b=m[g++],x=m[g++],w=m[g++],T=m[g++],k=m[g++],$=a,S=u,a=m[g++],u=m[g++],p=h.A,i($,S,a,u,T,k,b,x,w,p,l);break;case"a":b=m[g++],x=m[g++],w=m[g++],T=m[g++],k=m[g++],$=a,S=u,a+=m[g++],u+=m[g++],p=h.A,i($,S,a,u,T,k,b,x,w,p,l)}}("z"===d||"Z"===d)&&(p=h.Z,l.addData(p)),r=p}return l.toStatic(),l}function o(t,e){var n,i=r(t);return e=e||{},e.buildPath=function(t){t.setData(i.data),n&&u(t,n);var e=t.getContext();e&&t.rebuildPath(e)},e.applyTransform=function(t){n||(n=l.create()),l.mul(n,t,n),this.dirty(!0)},e}var a=n(45),s=n(49),u=n(60),l=n(11),c=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],h=Math.sqrt,p=Math.sin,f=Math.cos,d=Math.PI,g=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},m=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e))},v=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e))};t.exports={createFromString:function(t,e){return new a(o(t,e))},extendFromString:function(t,e){return a.extend(o(t,e))},mergePath:function(t,e){for(var n=[],i=t.length,r=0;i>r;r++){var o=t[r];o.__dirty&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var s=new a(e);return s.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},s}}},function(t,e,n){function i(t){r.call(this,t),this.path=new a}var r=n(46),o=n(4),a=n(49),s=n(52),u=n(59),l=u.prototype.getCanvasPattern,c=Math.abs;i.prototype={constructor:i,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var n=this.style,i=this.path,r=n.hasStroke(),o=n.hasFill(),a=n.fill,s=n.stroke,u=o&&!!a.colorStops,c=r&&!!s.colorStops,h=o&&!!a.image,p=r&&!!s.image;if(n.bind(t,this,e),this.setTransform(t),this.__dirty){var f=this.getBoundingRect();u&&(this._fillGradient=n.getGradient(t,a,f)),c&&(this._strokeGradient=n.getGradient(t,s,f))}u?t.fillStyle=this._fillGradient:h&&(t.fillStyle=l.call(a,t)),c?t.strokeStyle=this._strokeGradient:p&&(t.strokeStyle=l.call(s,t));var d=n.lineDash,g=n.lineDashOffset,m=!!t.setLineDash,v=this.getGlobalScale();i.setScale(v[0],v[1]),this.__dirtyPath||d&&!m&&r?(i=this.path.beginPath(t),d&&!m&&(i.setLineDash(d),i.setLineDashOffset(g)),this.buildPath(i,this.shape,!1),this.__dirtyPath=!1):(t.beginPath(),this.path.rebuildPath(t)),o&&i.fill(t),d&&m&&(t.setLineDash(d),t.lineDashOffset=g),r&&i.stroke(t),d&&m&&t.setLineDash([]),this.restoreTransform(t),null!=n.text&&this.drawRectText(t,this.getBoundingRect())},buildPath:function(){},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var i=this.path;this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){r.copy(t);var o=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(r.width+=o/a,r.height+=o/a,r.x-=o/a/2,r.y-=o/a/2)}return r}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path.data;if(r.hasStroke()){var a=r.lineWidth,u=r.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(r.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),s.containStroke(o,a/u,t,e)))return!0}if(r.hasFill())return s.contain(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):r.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(o.isObject(t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&c(t[0]-1)>1e-10&&c(t[3]-1)>1e-10?Math.sqrt(c(t[0]*t[3]-t[2]*t[1])):1}},i.extend=function(t){var e=function(e){i.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var o in n)!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(r[o]=n[o])}t.init&&t.init.call(this,e)};o.inherits(e,i);for(var n in t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},o.inherits(i,r),t.exports=i},function(t,e,n){function i(t){t=t||{},a.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new o(t.style),this._rect=null,this.__clipPaths=[]}var r=n(4),o=n(47),a=n(31),s=n(48);i.prototype={constructor:i,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();return i.contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?a.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new o(t),this.dirty(!1),this}},r.inherits(i,a),r.mixin(i,s),t.exports=i},function(t){function e(t,e,n){var i=e.x,r=e.x2,o=e.y,a=e.y2;e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y);var s=t.createLinearGradient(i,o,r,a);return s}function n(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=e.x,s=e.y,u=e.r;e.global||(a=a*i+n.x,s=s*r+n.y,u*=o);var l=t.createRadialGradient(a,s,0,a,s,u);return l}var i=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],r=function(t){this.extendFrom(t)};r.prototype={constructor:r,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(t,e,n){for(var r=this,o=n&&n.style,a=!o,s=0;s<i.length;s++){var u=i[s],l=u[0];(a||r[l]!==o[l])&&(t[l]=r[l]||u[1])}if((a||r.fill!==o.fill)&&(t.fillStyle=r.fill),(a||r.stroke!==o.stroke)&&(t.strokeStyle=r.stroke),(a||r.opacity!==o.opacity)&&(t.globalAlpha=null==r.opacity?1:r.opacity),(a||r.blend!==o.blend)&&(t.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var c=r.lineWidth;t.lineWidth=c/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t){var n=this;for(var i in t)!t.hasOwnProperty(i)||!e&&n.hasOwnProperty(i)||(n[i]=t[i])}},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,i,r){for(var o="radial"===i.type?n:e,a=o(t,i,r),s=i.colorStops,u=0;u<s.length;u++)a.addColorStop(s[u].offset,s[u].color);return a}};for(var o=r.prototype,a=0;a<i.length;a++){var s=i[a];s[0]in o||(o[s[0]]=s[1])}r.getGradient=o.getGradient,t.exports=r},function(t,e,n){function i(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}var r=n(8),o=n(9),a=new o,s=function(){};s.prototype={constructor:s,drawRectText:function(t,e,n){var o=this.style,s=o.text;if(null!=s&&(s+=""),s){t.save();var u,l,c=o.textPosition,h=o.textDistance,p=o.textAlign,f=o.textFont||o.font,d=o.textBaseline,g=o.textVerticalAlign;n=n||r.getBoundingRect(s,f,p,d);var m=this.transform;if(o.textTransform?this.setTransform(t):m&&(a.copy(e),a.applyTransform(m),e=a),c instanceof Array){if(u=e.x+i(c[0],e.width),l=e.y+i(c[1],e.height),p=p||"left",d=d||"top",g){switch(g){case"middle":l-=n.height/2-n.lineHeight/2;break;case"bottom":l-=n.height-n.lineHeight/2;break;default:l+=n.lineHeight/2}d="middle"}}else{var v=r.adjustTextPositionOnRect(c,e,n,h);u=v.x,l=v.y,p=p||v.textAlign,d=d||v.textBaseline}t.textAlign=p||"left",t.textBaseline=d||"alphabetic";var y=o.textFill,_=o.textStroke;y&&(t.fillStyle=y),_&&(t.strokeStyle=_),t.font=f||"12px sans-serif",t.shadowBlur=o.textShadowBlur,t.shadowColor=o.textShadowColor||"transparent",t.shadowOffsetX=o.textShadowOffsetX,t.shadowOffsetY=o.textShadowOffsetY;var b=s.split("\n");o.textRotation&&(m&&t.translate(m[4],m[5]),t.rotate(o.textRotation),m&&t.translate(-m[4],-m[5]));for(var x=0;x<b.length;x++)y&&t.fillText(b[x],u,l),_&&t.strokeText(b[x],u,l),l+=n.lineHeight;t.restore()}}},t.exports=s},function(t,e,n){"use strict";var i=n(50),r=n(10),o=n(51),a=n(9),s=n(41).devicePixelRatio,u={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},l=[],c=[],h=[],p=[],f=Math.min,d=Math.max,g=Math.cos,m=Math.sin,v=Math.sqrt,y=Math.abs,_="undefined"!=typeof Float32Array,b=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};b.prototype={constructor:b,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=y(1/s/t)||0,this._uy=y(1/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(u.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||this._len<5;return this.addData(u.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,i,r,o){return this.addData(u.C,t,e,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,r,o):this._ctx.bezierCurveTo(t,e,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,n,i){return this.addData(u.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},arc:function(t,e,n,i,r,o){return this.addData(u.A,t,e,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=g(r)*n+t,this._xi=m(r)*n+t,this},arcTo:function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},rect:function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(u.R,t,e,n,i),this},closePath:function(){this.addData(u.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!_||(this.data=new Float32Array(e));for(var n=0;e>n;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;e>r;r++)n+=t[r].len();_&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var r=0;e>r;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(t){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,u=this._xi,l=this._yi,c=t-u,h=e-l,p=v(c*c+h*h),g=u,m=l,y=a.length;for(c/=p,h/=p,0>o&&(o=r+o),o%=r,g-=o*c,m-=o*h;c>0&&t>=g||0>c&&g>=t||0==c&&(h>0&&e>=m||0>h&&m>=e);)i=this._dashIdx,n=a[i],g+=c*n,m+=h*n,this._dashIdx=(i+1)%y,c>0&&u>g||0>c&&g>u||h>0&&l>m||0>h&&m>l||s[i%2?"moveTo":"lineTo"](c>=0?f(g,t):d(g,t),h>=0?f(m,e):d(m,e));c=g-t,h=m-e,this._dashOffset=-v(c*c+h*h)},_dashedBezierTo:function(t,e,n,r,o,a){var s,u,l,c,h,p=this._dashSum,f=this._dashOffset,d=this._lineDash,g=this._ctx,m=this._xi,y=this._yi,_=i.cubicAt,b=0,x=this._dashIdx,w=d.length,T=0;for(0>f&&(f=p+f),f%=p,s=0;1>s;s+=.1)u=_(m,t,n,o,s+.1)-_(m,t,n,o,s),l=_(y,e,r,a,s+.1)-_(y,e,r,a,s),b+=v(u*u+l*l);for(;w>x&&(T+=d[x],!(T>f));x++);for(s=(T-f)/b;1>=s;)c=_(m,t,n,o,s),h=_(y,e,r,a,s),x%2?g.moveTo(c,h):g.lineTo(c,h),s+=d[x]/b,x=(x+1)%w;x%2!==0&&g.lineTo(o,a),u=o-c,l=a-h,this._dashOffset=-v(u*u+l*l)},_dashedQuadraticTo:function(t,e,n,i){var r=n,o=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,_&&(this.data=new Float32Array(t)))},getBoundingRect:function(){l[0]=l[1]=h[0]=h[1]=Number.MAX_VALUE,c[0]=c[1]=p[0]=p[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,i=0,s=0,f=0;f<t.length;){var d=t[f++];switch(1==f&&(e=t[f],n=t[f+1],i=e,s=n),d){case u.M:i=t[f++],s=t[f++],e=i,n=s,h[0]=i,h[1]=s,p[0]=i,p[1]=s;break;case u.L:o.fromLine(e,n,t[f],t[f+1],h,p),e=t[f++],n=t[f++];break;case u.C:o.fromCubic(e,n,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],h,p),e=t[f++],n=t[f++];break;case u.Q:o.fromQuadratic(e,n,t[f++],t[f++],t[f],t[f+1],h,p),e=t[f++],n=t[f++];break;case u.A:var v=t[f++],y=t[f++],_=t[f++],b=t[f++],x=t[f++],w=t[f++]+x,T=(t[f++],1-t[f++]);1==f&&(i=g(x)*_+v,s=m(x)*b+y),o.fromArc(v,y,_,b,x,w,T,h,p),e=g(w)*_+v,n=m(w)*b+y;break;case u.R:i=e=t[f++],s=n=t[f++];var k=t[f++],$=t[f++];o.fromLine(i,s,i+k,s+$,h,p);break;case u.Z:e=i,n=s}r.min(l,l,h),r.max(c,c,p)}return 0===f&&(l[0]=l[1]=c[0]=c[1]=0),new a(l[0],l[1],c[0]-l[0],c[1]-l[1])},rebuildPath:function(t){for(var e,n,i,r,o,a,s=this.data,l=this._ux,c=this._uy,h=this._len,p=0;h>p;){var f=s[p++];switch(1==p&&(i=s[p],r=s[p+1],e=i,n=r),f){case u.M:e=i=s[p++],n=r=s[p++],t.moveTo(i,r);break;case u.L:o=s[p++],a=s[p++],(y(o-i)>l||y(a-r)>c||p===h-1)&&(t.lineTo(o,a),i=o,r=a);break;case u.C:t.bezierCurveTo(s[p++],s[p++],s[p++],s[p++],s[p++],s[p++]),i=s[p-2],r=s[p-1];break;case u.Q:t.quadraticCurveTo(s[p++],s[p++],s[p++],s[p++]),i=s[p-2],r=s[p-1];break;case u.A:var d=s[p++],v=s[p++],_=s[p++],b=s[p++],x=s[p++],w=s[p++],T=s[p++],k=s[p++],$=_>b?_:b,S=_>b?1:_/b,C=_>b?b/_:1,A=Math.abs(_-b)>.001,I=x+w;A?(t.translate(d,v),t.rotate(T),t.scale(S,C),t.arc(0,0,$,x,I,1-k),t.scale(1/S,1/C),t.rotate(-T),t.translate(-d,-v)):t.arc(d,v,$,x,I,1-k),1==p&&(e=g(x)*_+d,n=m(x)*b+v),i=g(I)*_+d,r=m(I)*b+v;break;case u.R:e=i=s[p],n=r=s[p+1],t.rect(s[p++],s[p++],s[p++],s[p++]);break;case u.Z:t.closePath(),i=e,r=n}}}},b.CMD=u,t.exports=b},function(t,e,n){"use strict";function i(t){return t>-w&&w>t}function r(t){return t>w||-w>t}function o(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function a(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function s(t,e,n,r,o,a){var s=r+3*(e-n)-t,u=3*(n-2*e+t),l=3*(e-t),c=t-o,h=u*u-3*s*l,p=u*l-9*s*c,f=l*l-3*u*c,d=0;if(i(h)&&i(p))if(i(u))a[0]=0;else{var g=-l/u;g>=0&&1>=g&&(a[d++]=g)}else{var m=p*p-4*h*f;if(i(m)){var v=p/h,g=-u/s+v,y=-v/2;g>=0&&1>=g&&(a[d++]=g),y>=0&&1>=y&&(a[d++]=y)}else if(m>0){var _=x(m),w=h*u+1.5*s*(-p+_),T=h*u+1.5*s*(-p-_);w=0>w?-b(-w,$):b(w,$),T=0>T?-b(-T,$):b(T,$);var g=(-u-(w+T))/(3*s);g>=0&&1>=g&&(a[d++]=g)}else{var S=(2*h*u-3*s*p)/(2*x(h*h*h)),C=Math.acos(S)/3,A=x(h),I=Math.cos(C),g=(-u-2*A*I)/(3*s),y=(-u+A*(I+k*Math.sin(C)))/(3*s),M=(-u+A*(I-k*Math.sin(C)))/(3*s);g>=0&&1>=g&&(a[d++]=g),y>=0&&1>=y&&(a[d++]=y),M>=0&&1>=M&&(a[d++]=M)}}return d}function u(t,e,n,o,a){var s=6*n-12*e+6*t,u=9*e+3*o-3*t-9*n,l=3*e-3*t,c=0;if(i(u)){if(r(s)){var h=-l/s;h>=0&&1>=h&&(a[c++]=h)}}else{var p=s*s-4*u*l;if(i(p))a[0]=-s/(2*u);else if(p>0){var f=x(p),h=(-s+f)/(2*u),d=(-s-f)/(2*u);h>=0&&1>=h&&(a[c++]=h),d>=0&&1>=d&&(a[c++]=d)}}return c}function l(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,u=(i-n)*r+n,l=(s-a)*r+a,c=(u-s)*r+s,h=(c-l)*r+l;o[0]=t,o[1]=a,o[2]=l,o[3]=h,o[4]=h,o[5]=c,o[6]=u,o[7]=i}function c(t,e,n,i,r,a,s,u,l,c,h){var p,f,d,g,m,v=.005,y=1/0;S[0]=l,S[1]=c;for(var b=0;1>b;b+=.05)C[0]=o(t,n,r,s,b),C[1]=o(e,i,a,u,b),g=_(S,C),y>g&&(p=b,y=g);y=1/0;for(var w=0;32>w&&!(T>v);w++)f=p-v,d=p+v,C[0]=o(t,n,r,s,f),C[1]=o(e,i,a,u,f),g=_(C,S),f>=0&&y>g?(p=f,y=g):(A[0]=o(t,n,r,s,d),A[1]=o(e,i,a,u,d),m=_(A,S),1>=d&&y>m?(p=d,y=m):v*=.5);return h&&(h[0]=o(t,n,r,s,p),h[1]=o(e,i,a,u,p)),x(y)}function h(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function p(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function f(t,e,n,o,a){var s=t-2*e+n,u=2*(e-t),l=t-o,c=0;if(i(s)){if(r(u)){var h=-l/u;h>=0&&1>=h&&(a[c++]=h)}}else{var p=u*u-4*s*l;if(i(p)){var h=-u/(2*s);h>=0&&1>=h&&(a[c++]=h)}else if(p>0){var f=x(p),h=(-u+f)/(2*s),d=(-u-f)/(2*s);h>=0&&1>=h&&(a[c++]=h),d>=0&&1>=d&&(a[c++]=d)}}return c}function d(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function g(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function m(t,e,n,i,r,o,a,s,u){var l,c=.005,p=1/0;S[0]=a,S[1]=s;for(var f=0;1>f;f+=.05){C[0]=h(t,n,r,f),C[1]=h(e,i,o,f);var d=_(S,C);p>d&&(l=f,p=d)}p=1/0;for(var g=0;32>g&&!(T>c);g++){var m=l-c,v=l+c;C[0]=h(t,n,r,m),C[1]=h(e,i,o,m);var d=_(C,S);if(m>=0&&p>d)l=m,p=d;else{A[0]=h(t,n,r,v),A[1]=h(e,i,o,v);var y=_(A,S);1>=v&&p>y?(l=v,p=y):c*=.5}}return u&&(u[0]=h(t,n,r,l),u[1]=h(e,i,o,l)),x(p)}var v=n(10),y=v.create,_=v.distSquare,b=Math.pow,x=Math.sqrt,w=1e-8,T=1e-4,k=x(3),$=1/3,S=y(),C=y(),A=y();t.exports={cubicAt:o,cubicDerivativeAt:a,cubicRootAt:s,cubicExtrema:u,cubicSubdivide:l,cubicProjectPoint:c,quadraticAt:h,quadraticDerivativeAt:p,quadraticRootAt:f,quadraticExtremum:d,quadraticSubdivide:g,quadraticProjectPoint:m}},function(t,e,n){var i=n(10),r=n(50),o={},a=Math.min,s=Math.max,u=Math.sin,l=Math.cos,c=i.create(),h=i.create(),p=i.create(),f=2*Math.PI;o.fromPoints=function(t,e,n){if(0!==t.length){var i,r=t[0],o=r[0],u=r[0],l=r[1],c=r[1];for(i=1;i<t.length;i++)r=t[i],o=a(o,r[0]),u=s(u,r[0]),l=a(l,r[1]),c=s(c,r[1]);e[0]=o,e[1]=l,n[0]=u,n[1]=c}},o.fromLine=function(t,e,n,i,r,o){r[0]=a(t,n),r[1]=a(e,i),o[0]=s(t,n),o[1]=s(e,i)};var d=[],g=[];o.fromCubic=function(t,e,n,i,o,u,l,c,h,p){var f,m=r.cubicExtrema,v=r.cubicAt,y=m(t,n,o,l,d);for(h[0]=1/0,h[1]=1/0,p[0]=-1/0,p[1]=-1/0,f=0;y>f;f++){var _=v(t,n,o,l,d[f]);h[0]=a(_,h[0]),p[0]=s(_,p[0])}for(y=m(e,i,u,c,g),f=0;y>f;f++){var b=v(e,i,u,c,g[f]);h[1]=a(b,h[1]),p[1]=s(b,p[1])}h[0]=a(t,h[0]),p[0]=s(t,p[0]),h[0]=a(l,h[0]),p[0]=s(l,p[0]),h[1]=a(e,h[1]),p[1]=s(e,p[1]),h[1]=a(c,h[1]),p[1]=s(c,p[1])},o.fromQuadratic=function(t,e,n,i,o,u,l,c){var h=r.quadraticExtremum,p=r.quadraticAt,f=s(a(h(t,n,o),1),0),d=s(a(h(e,i,u),1),0),g=p(t,n,o,f),m=p(e,i,u,d);l[0]=a(t,o,g),l[1]=a(e,u,m),c[0]=s(t,o,g),c[1]=s(e,u,m)},o.fromArc=function(t,e,n,r,o,a,s,d,g){var m=i.min,v=i.max,y=Math.abs(o-a);if(1e-4>y%f&&y>1e-4)return d[0]=t-n,d[1]=e-r,g[0]=t+n,void(g[1]=e+r);if(c[0]=l(o)*n+t,c[1]=u(o)*r+e,h[0]=l(a)*n+t,h[1]=u(a)*r+e,m(d,c,h),v(g,c,h),o%=f,0>o&&(o+=f),a%=f,0>a&&(a+=f),o>a&&!s?a+=f:a>o&&s&&(o+=f),s){var _=a;a=o,o=_}for(var b=0;a>b;b+=Math.PI/2)b>o&&(p[0]=l(b)*n+t,p[1]=u(b)*r+e,m(d,p,d),v(g,p,g))},t.exports=o},function(t,e,n){"use strict";function i(t,e){return Math.abs(t-e)<_}function r(){var t=x[0];x[0]=x[1],x[1]=t}function o(t,e,n,i,o,a,s,u,l,c){if(c>e&&c>i&&c>a&&c>u||e>c&&i>c&&a>c&&u>c)return 0;var h=g.cubicRootAt(e,i,a,u,c,b);if(0===h)return 0;for(var p,f,d=0,m=-1,v=0;h>v;v++){var y=b[v],_=0===y||1===y?.5:1,w=g.cubicAt(t,n,o,s,y);l>w||(0>m&&(m=g.cubicExtrema(e,i,a,u,x),x[1]<x[0]&&m>1&&r(),p=g.cubicAt(e,i,a,u,x[0]),m>1&&(f=g.cubicAt(e,i,a,u,x[1]))),d+=2==m?y<x[0]?e>p?_:-_:y<x[1]?p>f?_:-_:f>u?_:-_:y<x[0]?e>p?_:-_:p>u?_:-_)}return d}function a(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||e>s&&i>s&&o>s)return 0;var u=g.quadraticRootAt(e,i,o,s,b);if(0===u)return 0;var l=g.quadraticExtremum(e,i,o);if(l>=0&&1>=l){for(var c=0,h=g.quadraticAt(e,i,o,l),p=0;u>p;p++){var f=0===b[p]||1===b[p]?.5:1,d=g.quadraticAt(t,n,r,b[p]);a>d||(c+=b[p]<l?e>h?f:-f:h>o?f:-f)}return c}var f=0===b[0]||1===b[0]?.5:1,d=g.quadraticAt(t,n,r,b[0]);return a>d?0:e>o?f:-f}function s(t,e,n,i,r,o,a,s){if(s-=e,s>n||-n>s)return 0;var u=Math.sqrt(n*n-s*s);b[0]=-u,b[1]=u;var l=Math.abs(i-r);if(1e-4>l)return 0;if(1e-4>l%y){i=0,r=y;var c=o?1:-1;return a>=b[0]+t&&a<=b[1]+t?c:0}if(o){var u=i;i=d(r),r=d(u)}else i=d(i),r=d(r);i>r&&(r+=y);for(var h=0,p=0;2>p;p++){var f=b[p];if(f+t>a){var g=Math.atan2(s,f),c=o?1:-1;0>g&&(g=y+g),(g>=i&&r>=g||g+y>=i&&r>=g+y)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),h+=c)}}return h}function u(t,e,n,r,u){for(var c=0,d=0,g=0,y=0,_=0,b=0;b<t.length;){var x=t[b++];switch(x===l.M&&b>1&&(n||(c+=m(d,g,y,_,r,u))),1==b&&(d=t[b],g=t[b+1],y=d,_=g),x){case l.M:y=t[b++],_=t[b++],d=y,g=_;break;case l.L:if(n){if(v(d,g,t[b],t[b+1],e,r,u))return!0}else c+=m(d,g,t[b],t[b+1],r,u)||0;d=t[b++],g=t[b++];break;case l.C:if(n){if(h.containStroke(d,g,t[b++],t[b++],t[b++],t[b++],t[b],t[b+1],e,r,u))return!0}else c+=o(d,g,t[b++],t[b++],t[b++],t[b++],t[b],t[b+1],r,u)||0;d=t[b++],g=t[b++];break;case l.Q:if(n){if(p.containStroke(d,g,t[b++],t[b++],t[b],t[b+1],e,r,u))return!0}else c+=a(d,g,t[b++],t[b++],t[b],t[b+1],r,u)||0;d=t[b++],g=t[b++];break;case l.A:var w=t[b++],T=t[b++],k=t[b++],$=t[b++],S=t[b++],C=t[b++],A=(t[b++],1-t[b++]),I=Math.cos(S)*k+w,M=Math.sin(S)*$+T;b>1?c+=m(d,g,I,M,r,u):(y=I,_=M);var D=(r-w)*$/k+w;if(n){if(f.containStroke(w,T,$,S,S+C,A,e,D,u))return!0}else c+=s(w,T,$,S,S+C,A,D,u);d=Math.cos(S+C)*k+w,g=Math.sin(S+C)*$+T;break;case l.R:y=d=t[b++],_=g=t[b++];var E=t[b++],O=t[b++],I=y+E,M=_+O;if(n){if(v(y,_,I,_,e,r,u)||v(I,_,I,M,e,r,u)||v(I,M,y,M,e,r,u)||v(y,M,y,_,e,r,u))return!0}else c+=m(I,_,I,M,r,u),c+=m(y,M,y,_,r,u);break;case l.Z:if(n){if(v(d,g,y,_,e,r,u))return!0}else c+=m(d,g,y,_,r,u);d=y,g=_}}return n||i(g,_)||(c+=m(d,g,y,_,r,u)||0),0!==c}var l=n(49).CMD,c=n(53),h=n(54),p=n(55),f=n(56),d=n(57).normalizeRadian,g=n(50),m=n(58),v=c.containStroke,y=2*Math.PI,_=1e-4,b=[-1,-1,-1],x=[-1,-1];t.exports={contain:function(t,e,n){return u(t,0,!1,e,n)},containStroke:function(t,e,n,i){return u(t,e,!0,n,i)}}},function(t){t.exports={containStroke:function(t,e,n,i,r,o,a){if(0===r)return!1;var s=r,u=0,l=t;if(a>e+s&&a>i+s||e-s>a&&i-s>a||o>t+s&&o>n+s||t-s>o&&n-s>o)return!1;if(t===n)return Math.abs(o-t)<=s/2;u=(e-i)/(t-n),l=(t*i-n*e)/(t-n);var c=u*o-a+l,h=c*c/(u*u+1);return s/2*s/2>=h}}},function(t,e,n){var i=n(50);t.exports={containStroke:function(t,e,n,r,o,a,s,u,l,c,h){if(0===l)return!1;var p=l;if(h>e+p&&h>r+p&&h>a+p&&h>u+p||e-p>h&&r-p>h&&a-p>h&&u-p>h||c>t+p&&c>n+p&&c>o+p&&c>s+p||t-p>c&&n-p>c&&o-p>c&&s-p>c)return!1;var f=i.cubicProjectPoint(t,e,n,r,o,a,s,u,c,h,null);return p/2>=f}}},function(t,e,n){var i=n(50);t.exports={containStroke:function(t,e,n,r,o,a,s,u,l){if(0===s)return!1;var c=s;if(l>e+c&&l>r+c&&l>a+c||e-c>l&&r-c>l&&a-c>l||u>t+c&&u>n+c&&u>o+c||t-c>u&&n-c>u&&o-c>u)return!1;var h=i.quadraticProjectPoint(t,e,n,r,o,a,u,l,null);return c/2>=h}}},function(t,e,n){var i=n(57).normalizeRadian,r=2*Math.PI;t.exports={containStroke:function(t,e,n,o,a,s,u,l,c){if(0===u)return!1;var h=u;l-=t,c-=e;var p=Math.sqrt(l*l+c*c);if(p-h>n||n>p+h)return!1;if(Math.abs(o-a)%r<1e-4)return!0;if(s){var f=o;o=i(a),a=i(f)}else o=i(o),a=i(a);o>a&&(a+=r);var d=Math.atan2(c,l);return 0>d&&(d+=r),d>=o&&a>=d||d+r>=o&&a>=d+r}}},function(t){var e=2*Math.PI;t.exports={normalizeRadian:function(t){return t%=e,0>t&&(t+=e),t}}},function(t){t.exports=function(t,e,n,i,r,o){if(o>e&&o>i||e>o&&i>o)return 0;if(i===e)return 0;var a=e>i?1:-1,s=(o-e)/(i-e);(1===s||0===s)&&(a=e>i?.5:-.5);var u=s*(n-t)+t;return u>r?a:0}},function(t){var e=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};e.prototype.getCanvasPattern=function(t){return this._canvasPattern||(this._canvasPattern=t.createPattern(this.image,this.repeat))},t.exports=e},function(t,e,n){function i(t,e){var n,i,o,c,h,p,f=t.data,d=r.M,g=r.C,m=r.L,v=r.R,y=r.A,_=r.Q;
for(o=0,c=0;o<f.length;){switch(n=f[o++],c=o,i=0,n){case d:i=1;break;case m:i=1;break;case g:i=3;break;case _:i=2;break;case y:var b=e[4],x=e[5],w=u(e[0]*e[0]+e[1]*e[1]),T=u(e[2]*e[2]+e[3]*e[3]),k=l(-e[1]/T,e[0]/w);f[o++]+=b,f[o++]+=x,f[o++]*=w,f[o++]*=T,f[o++]+=k,f[o++]+=k,o+=2,c=o;break;case v:p[0]=f[o++],p[1]=f[o++],a(p,p,e),f[c++]=p[0],f[c++]=p[1],p[0]+=f[o++],p[1]+=f[o++],a(p,p,e),f[c++]=p[0],f[c++]=p[1]}for(h=0;i>h;h++){var p=s[h];p[0]=f[o++],p[1]=f[o++],a(p,p,e),f[c++]=p[0],f[c++]=p[1]}}}var r=n(49).CMD,o=n(10),a=o.applyTransform,s=[[],[],[]],u=Math.sqrt,l=Math.atan2;t.exports=i},function(t,e,n){function i(t){r.call(this,t)}var r=n(46),o=n(9),a=n(4),s=n(62),u=new s(50);i.prototype={constructor:i,type:"image",brush:function(t,e){var n,i=this.style,r=i.image;if(i.bind(t,this,e),n="string"==typeof r?this._image:r,!n&&r){var o=u.get(r);if(!o)return n=new Image,n.onload=function(){n.onload=null;for(var t=0;t<o.pending.length;t++)o.pending[t].dirty()},o={image:n,pending:[this]},n.src=r,u.put(r,o),void(this._image=n);if(n=o.image,this._image=n,!n.width||!n.height)return void o.pending.push(this)}if(n){var a=i.width||n.width,s=i.height||n.height,l=i.x||0,c=i.y||0;if(!n.width||!n.height)return;if(this.setTransform(t),i.sWidth&&i.sHeight){var h=i.sx||0,p=i.sy||0;t.drawImage(n,h,p,i.sWidth,i.sHeight,l,c,a,s)}else if(i.sx&&i.sy){var h=i.sx,p=i.sy,f=a-h,d=s-p;t.drawImage(n,h,p,f,d,l,c,a,s)}else t.drawImage(n,l,c,a,s);null==i.width&&(i.width=a),null==i.height&&(i.height=s),this.restoreTransform(t),null!=i.text&&this.drawRectText(t,this.getBoundingRect())}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new o(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},a.inherits(i,r),t.exports=i},function(t){var e=function(){this.head=null,this.tail=null,this._len=0},n=e.prototype;n.insert=function(t){var e=new i(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len};var i=function(t){this.value=t,this.next,this.prev},r=function(t){this._list=new e,this._map={},this._maxSize=t||10},o=r.prototype;o.put=function(t,e){var n=this._list,i=this._map;if(null==i[t]){var r=n.len();if(r>=this._maxSize&&r>0){var o=n.head;n.remove(o),delete i[o.key]}var a=n.insert(e);a.key=t,i[t]=a}},o.get=function(t){var e=this._map[t],n=this._list;return null!=e?(e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value):void 0},o.clear=function(){this._list.clear(),this._map={}},t.exports=r},function(t,e,n){var i=n(46),r=n(4),o=n(8),a=function(t){i.call(this,t)};a.prototype={constructor:a,type:"text",brush:function(t,e){var n=this.style,i=n.x||0,r=n.y||0,a=n.text;if(null!=a&&(a+=""),n.bind(t,this,e),a){this.setTransform(t);var s,u=n.textAlign,l=n.textFont||n.font;if(n.textVerticalAlign){var c=o.getBoundingRect(a,l,n.textAlign,"top");switch(s="middle",n.textVerticalAlign){case"middle":r-=c.height/2-c.lineHeight/2;break;case"bottom":r-=c.height-c.lineHeight/2;break;default:r+=c.lineHeight/2}}else s=n.textBaseline;t.font=l||"12px sans-serif",t.textAlign=u||"left",t.textAlign!==u&&(t.textAlign="left"),t.textBaseline=s||"alphabetic",t.textBaseline!==s&&(t.textBaseline="alphabetic");for(var h=o.measureText("国",t.font).width,p=a.split("\n"),f=0;f<p.length;f++)n.hasFill()&&t.fillText(p[f],i,r),n.hasStroke()&&t.strokeText(p[f],i,r),r+=h;this.restoreTransform(t)}},getBoundingRect:function(){if(!this._rect){var t=this.style,e=t.textVerticalAlign,n=o.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,e?"top":t.textBaseline);switch(e){case"middle":n.y-=n.height/2;break;case"bottom":n.y-=n.height}n.x+=t.x||0,n.y+=t.y||0,this._rect=n}return this._rect}},r.inherits(a,i),t.exports=a},function(t,e,n){"use strict";t.exports=n(45).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}})},function(t,e,n){t.exports=n(45).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,u=e.clockwise,l=Math.cos(a),c=Math.sin(a);t.moveTo(l*r+n,c*r+i),t.lineTo(l*o+n,c*o+i),t.arc(n,i,o,a,s,!u),t.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&t.arc(n,i,r,s,a,u),t.closePath()}})},function(t,e,n){t.exports=n(45).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)}})},function(t,e,n){var i=n(68);t.exports=n(45).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){i.buildPath(t,e,!0)}})},function(t,e,n){var i=n(69),r=n(70);t.exports={buildPath:function(t,e,n){var o=e.points,a=e.smooth;if(o&&o.length>=2){if(a&&"spline"!==a){var s=r(o,a,n,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var u=o.length,l=0;(n?u:u-1)>l;l++){var c=s[2*l],h=s[2*l+1],p=o[(l+1)%u];t.bezierCurveTo(c[0],c[1],h[0],h[1],p[0],p[1])}}else{"spline"===a&&(o=i(o,n)),t.moveTo(o[0][0],o[0][1]);for(var l=1,f=o.length;f>l;l++)t.lineTo(o[l][0],o[l][1])}n&&t.closePath()}}}},function(t,e,n){function i(t,e,n,i,r,o,a){var s=.5*(n-t),u=.5*(i-e);return(2*(e-n)+s+u)*a+(-3*(e-n)-2*s-u)*o+s*r+e}var r=n(10);t.exports=function(t,e){for(var n=t.length,o=[],a=0,s=1;n>s;s++)a+=r.distance(t[s-1],t[s]);var u=a/2;u=n>u?n:u;for(var s=0;u>s;s++){var l,c,h,p=s/(u-1)*(e?n:n-1),f=Math.floor(p),d=p-f,g=t[f%n];e?(l=t[(f-1+n)%n],c=t[(f+1)%n],h=t[(f+2)%n]):(l=t[0===f?f:f-1],c=t[f>n-2?n-1:f+1],h=t[f>n-3?n-1:f+2]);var m=d*d,v=d*m;o.push([i(l[0],g[0],c[0],h[0],d,m,v),i(l[1],g[1],c[1],h[1],d,m,v)])}return o}},function(t,e,n){var i=n(10),r=i.min,o=i.max,a=i.scale,s=i.distance,u=i.add;t.exports=function(t,e,n,l){var c,h,p,f,d=[],g=[],m=[],v=[];if(l){p=[1/0,1/0],f=[-1/0,-1/0];for(var y=0,_=t.length;_>y;y++)r(p,p,t[y]),o(f,f,t[y]);r(p,p,l[0]),o(f,f,l[1])}for(var y=0,_=t.length;_>y;y++){var b=t[y];if(n)c=t[y?y-1:_-1],h=t[(y+1)%_];else{if(0===y||y===_-1){d.push(i.clone(t[y]));continue}c=t[y-1],h=t[y+1]}i.sub(g,h,c),a(g,g,e);var x=s(b,c),w=s(b,h),T=x+w;0!==T&&(x/=T,w/=T),a(m,g,-x),a(v,g,w);var k=u([],b,m),$=u([],b,v);l&&(o(k,k,p),r(k,k,f),o($,$,p),r($,$,f)),d.push(k),d.push($)}return n&&d.push(d.shift()),d}},function(t,e,n){var i=n(68);t.exports=n(45).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){i.buildPath(t,e,!1)}})},function(t,e,n){var i=n(73);t.exports=n(45).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,o=e.width,a=e.height;e.r?i.buildPath(t,e):t.rect(n,r,o,a),t.closePath()}})},function(t){t.exports={buildPath:function(t,e){var n,i,r,o,a=e.x,s=e.y,u=e.width,l=e.height,c=e.r;0>u&&(a+=u,u=-u),0>l&&(s+=l,l=-l),"number"==typeof c?n=i=r=o=c:c instanceof Array?1===c.length?n=i=r=o=c[0]:2===c.length?(n=r=c[0],i=o=c[1]):3===c.length?(n=c[0],i=o=c[1],r=c[2]):(n=c[0],i=c[1],r=c[2],o=c[3]):n=i=r=o=0;var h;n+i>u&&(h=n+i,n*=u/h,i*=u/h),r+o>u&&(h=r+o,r*=u/h,o*=u/h),i+r>l&&(h=i+r,i*=l/h,r*=l/h),n+o>l&&(h=n+o,n*=l/h,o*=l/h),t.moveTo(a+n,s),t.lineTo(a+u-i,s),0!==i&&t.quadraticCurveTo(a+u,s,a+u,s+i),t.lineTo(a+u,s+l-r),0!==r&&t.quadraticCurveTo(a+u,s+l,a+u-r,s+l),t.lineTo(a+o,s+l),0!==o&&t.quadraticCurveTo(a,s+l,a,s+l-o),t.lineTo(a,s+n),0!==n&&t.quadraticCurveTo(a,s,a+n,s)}}},function(t,e,n){t.exports=n(45).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.percent;0!==a&&(t.moveTo(n,i),1>a&&(r=n*(1-a)+r*a,o=i*(1-a)+o*a),t.lineTo(r,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}})},function(t,e,n){"use strict";function i(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?h:l)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?h:l)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?c:u)(t.x1,t.cpx1,t.x2,e),(n?c:u)(t.y1,t.cpy1,t.y2,e)]}var r=n(50),o=n(10),a=r.quadraticSubdivide,s=r.cubicSubdivide,u=r.quadraticAt,l=r.cubicAt,c=r.quadraticDerivativeAt,h=r.cubicDerivativeAt,p=[];t.exports=n(45).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,u=e.cpx1,l=e.cpy1,c=e.cpx2,h=e.cpy2,f=e.percent;0!==f&&(t.moveTo(n,i),null==c||null==h?(1>f&&(a(n,u,r,f,p),u=p[1],r=p[2],a(i,l,o,f,p),l=p[1],o=p[2]),t.quadraticCurveTo(u,l,r,o)):(1>f&&(s(n,u,c,r,f,p),u=p[1],c=p[2],r=p[3],s(i,l,h,o,f,p),l=p[1],h=p[2],o=p[3]),t.bezierCurveTo(u,l,c,h,r,o)))},pointAt:function(t){return i(this.shape,t,!1)},tangentAt:function(t){var e=i(this.shape,t,!0);return o.normalize(e,e)}})},function(t,e,n){t.exports=n(45).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,u=Math.cos(o),l=Math.sin(o);t.moveTo(u*r+n,l*r+i),t.arc(n,i,r,o,a,!s)}})},function(t,e,n){var i=n(45);t.exports=i.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths,e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),i.prototype.getBoundingRect.call(this)}})},function(t,e,n){"use strict";var i=n(4),r=n(79),o=function(t,e,n,i,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=a||!1,r.call(this,o)};o.prototype={constructor:o},i.inherits(o,r),t.exports=o},function(t){var e=function(t){this.colorStops=t||[]};e.prototype={constructor:e,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}},t.exports=e},function(t,e,n){"use strict";var i=n(4),r=n(79),o=function(t,e,n,i,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=o||!1,r.call(this,i)};o.prototype={constructor:o},i.inherits(o,r),t.exports=o},function(t){var e={},n="\x00__throttleOriginMethod",i="\x00__throttleRate",r="\x00__throttleType";e.throttle=function(t,e,n){function i(){l=(new Date).getTime(),c=null,t.apply(a,s||[])}var r,o,a,s,u=0,l=0,c=null;e=e||0;var h=function(){r=(new Date).getTime(),a=this,s=arguments,o=r-(n?u:l)-e,clearTimeout(c),n?c=setTimeout(i,e):o>=0?i():c=setTimeout(i,-o),u=r};return h.clear=function(){c&&(clearTimeout(c),c=null)},h},e.createOrUpdate=function(t,o,a,s){var u=t[o];if(u){var l=u[n]||u,c=u[r],h=u[i];if(h!==a||c!==s){if(null==a||!s)return t[o]=l;u=t[o]=e.throttle(l,a,"debounce"===s),u[n]=l,u[r]=s,u[i]=a}return u}},e.clear=function(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n])},t.exports=e},function(t,e,n){function i(t){delete f[t]}/*!
	 * ZRender, a high performance 2d drawing library.
	 *
	 * Copyright (c) 2013, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
	 */
var r=n(32),o=n(2),a=n(4),s=n(83),u=n(85),l=n(87),c=n(90),h=!o.canvasSupported,p={canvas:n(92)},f={},d={};d.version="3.2.2",d.init=function(t,e){var n=new g(r(),t,e);return f[n.id]=n,n},d.dispose=function(t){if(t)t.dispose();else{for(var e in f)f.hasOwnProperty(e)&&f[e].dispose();f={}}return d},d.getInstance=function(t){return f[t]},d.registerPainter=function(t,e){p[t]=e};var g=function(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,r=new u,f=n.renderer;if(h){if(!p.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");f="vml"}else f&&p[f]||(f="canvas");var d=new p[f](e,r,n);this.storage=r,this.painter=d;var g=o.node?null:new c(d.getViewportRoot());this.handler=new s(r,d,g,d.root),this.animation=new l({stage:{update:a.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var m=r.delFromMap,v=r.addToMap;r.delFromMap=function(t){var e=r.get(t);m.call(r,t),e&&e.removeSelfFromZr(i)},r.addToMap=function(t){v.call(r,t),t.addSelfToZr(i)}};g.prototype={constructor:g,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e,n){var i=r();return this.painter.pathToImage(i,t,e,n)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,i(this.id)}},t.exports=d},function(t,e,n){"use strict";function i(t,e,n){return{type:t,event:n,target:e,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch}}function r(){}function o(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i=t;i;){if(i.silent||i.clipPath&&!i.clipPath.contain(e,n))return!1;i=i.parent}return!0}return!1}var a=n(4),s=n(84),u=n(33);r.prototype.dispose=function(){};var l=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],c=function(t,e,n,i){u.call(this),this.storage=t,this.painter=e,this.painterRoot=i,n=n||new r,this.proxy=n,n.handler=this,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,s.call(this),a.each(l,function(t){n.on&&n.on(t,this[t],this)},this)};c.prototype={constructor:c,mousemove:function(t){var e=t.zrX,n=t.zrY,i=this.findHover(e,n,null),r=this._hovered,o=this.proxy;this._hovered=i,o.setCursor&&o.setCursor(i?i.cursor:"default"),r&&i!==r&&r.__zr&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(i,"mousemove",t),i&&i!==r&&this.dispatchToElement(i,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do n=n&&n.parentNode;while(n&&9!=n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(){this._hovered=null},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){for(var r="on"+e,o=i(e,t,n),a=t;a&&(a[r]&&(o.cancelBubble=a[r].call(a,o)),a.trigger(e,o),a=a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)}))},findHover:function(t,e,n){for(var i=this.storage.getDisplayList(),r=i.length-1;r>=0;r--)if(!i[r].silent&&i[r]!==n&&!i[r].ignore&&o(i[r],t,e))return i[r]}},a.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){c.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY,null);if("mousedown"===t)this._downel=n,this._upel=n;else if("mosueup"===t)this._upel=n;else if("click"===t&&this._downel!==this._upel)return;this.dispatchToElement(n,t,e)}}),a.mixin(c,u),a.mixin(c,s),t.exports=c},function(t){function e(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}e.prototype={constructor:e,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(e,"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(r,o,t),this.dispatchToElement(e,"drag",t.event);var a=this.findHover(n,i,e),s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.dispatchToElement(s,"dragleave",t.event),a&&a!==s&&this.dispatchToElement(a,"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(e,"dragend",t.event),this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",t.event),this._draggingTarget=null,this._dropTarget=null}},t.exports=e},function(t,e,n){"use strict";function i(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var r=n(4),o=n(2),a=n(30),s=n(86),u=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};u.prototype={constructor:u,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,a=e.length;a>r;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,o.canvasSupported&&s(n,i)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i&&(i.parent=t,i.updateTransform(),e?(e=e.slice(),e.push(i)):e=[i]),t.isGroup){for(var r=t._children,o=0;o<r.length;o++){var a=r[o];t.__dirty&&(a.__dirty=!0),this._updateAndAddDisplayable(a,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){this._elements[t.id]||(t instanceof a&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof a&&n.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,i=t.length;i>e;e++)this.delRoot(t[e]);else{var o;o="string"==typeof t?this._elements[t]:t;var s=r.indexOf(this._roots,o);s>=0&&(this.delFromMap(o.id),this._roots.splice(s,1),o instanceof a&&o.delChildrenFromStorage(this))}},addToMap:function(t){return t instanceof a&&(t.__storage=this),t.dirty(!1),this._elements[t.id]=t,this},get:function(t){return this._elements[t]},delFromMap:function(t){var e=this._elements,n=e[t];return n&&(delete e[t],n instanceof a&&(n.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:i},t.exports=u},function(t){function e(t){for(var e=0;t>=l;)e|=1&t,t>>=1;return t+e}function n(t,e,n,r){var o=e+1;if(o===n)return 1;if(r(t[o++],t[e])<0){for(;n>o&&r(t[o],t[o-1])<0;)o++;i(t,e,o)}else for(;n>o&&r(t[o],t[o-1])>=0;)o++;return o-e}function i(t,e,n){for(n--;n>e;){var i=t[e];t[e++]=t[n],t[n--]=i}}function r(t,e,n,i,r){for(i===e&&i++;n>i;i++){for(var o,a=t[i],s=e,u=i;u>s;)o=s+u>>>1,r(a,t[o])<0?u=o:s=o+1;var l=i-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function o(t,e,n,i,r,o){var a=0,s=0,u=1;if(o(t,e[n+r])>0){for(s=i-r;s>u&&o(t,e[n+r+u])>0;)a=u,u=(u<<1)+1,0>=u&&(u=s);u>s&&(u=s),a+=r,u+=r}else{for(s=r+1;s>u&&o(t,e[n+r-u])<=0;)a=u,u=(u<<1)+1,0>=u&&(u=s);u>s&&(u=s);var l=a;a=r-u,u=r-l}for(a++;u>a;){var c=a+(u-a>>>1);o(t,e[n+c])>0?a=c+1:u=c}return u}function a(t,e,n,i,r,o){var a=0,s=0,u=1;if(o(t,e[n+r])<0){for(s=r+1;s>u&&o(t,e[n+r-u])<0;)a=u,u=(u<<1)+1,0>=u&&(u=s);u>s&&(u=s);var l=a;a=r-u,u=r-l}else{for(s=i-r;s>u&&o(t,e[n+r+u])>=0;)a=u,u=(u<<1)+1,0>=u&&(u=s);u>s&&(u=s),a+=r,u+=r}for(a++;u>a;){var c=a+(u-a>>>1);o(t,e[n+c])<0?u=c:a=c+1}return u}function s(t,e){function n(t,e){p[y]=t,f[y]=e,y+=1}function i(){for(;y>1;){var t=y-2;if(t>=1&&f[t-1]<=f[t]+f[t+1]||t>=2&&f[t-2]<=f[t]+f[t-1])f[t-1]<f[t+1]&&t--;else if(f[t]>f[t+1])break;s(t)}}function r(){for(;y>1;){var t=y-2;t>0&&f[t-1]<f[t+1]&&t--,s(t)}}function s(n){var i=p[n],r=f[n],s=p[n+1],c=f[n+1];f[n]=r+c,n===y-3&&(p[n+1]=p[n+2],f[n+1]=f[n+2]),y--;var h=a(t[s],t,i,r,0,e);i+=h,r-=h,0!==r&&(c=o(t[i+r-1],t,s,c,c-1,e),0!==c&&(c>=r?u(i,r,s,c):l(i,r,s,c)))}function u(n,i,r,s){var u=0;for(u=0;i>u;u++)_[u]=t[n+u];var l=0,h=r,p=n;if(t[p++]=t[h++],0!==--s){if(1===i){for(u=0;s>u;u++)t[p+u]=t[h+u];return void(t[p+s]=_[l])}for(var f,g,m,v=d;;){f=0,g=0,m=!1;do if(e(t[h],_[l])<0){if(t[p++]=t[h++],g++,f=0,0===--s){m=!0;break}}else if(t[p++]=_[l++],f++,g=0,1===--i){m=!0;break}while(v>(f|g));if(m)break;do{if(f=a(t[h],_,l,i,0,e),0!==f){for(u=0;f>u;u++)t[p+u]=_[l+u];if(p+=f,l+=f,i-=f,1>=i){m=!0;break}}if(t[p++]=t[h++],0===--s){m=!0;break}if(g=o(_[l],t,h,s,0,e),0!==g){for(u=0;g>u;u++)t[p+u]=t[h+u];if(p+=g,h+=g,s-=g,0===s){m=!0;break}}if(t[p++]=_[l++],1===--i){m=!0;break}v--}while(f>=c||g>=c);if(m)break;0>v&&(v=0),v+=2}if(d=v,1>d&&(d=1),1===i){for(u=0;s>u;u++)t[p+u]=t[h+u];t[p+s]=_[l]}else{if(0===i)throw new Error;for(u=0;i>u;u++)t[p+u]=_[l+u]}}else for(u=0;i>u;u++)t[p+u]=_[l+u]}function l(n,i,r,s){var u=0;for(u=0;s>u;u++)_[u]=t[r+u];var l=n+i-1,h=s-1,p=r+s-1,f=0,g=0;if(t[p--]=t[l--],0!==--i){if(1===s){for(p-=i,l-=i,g=p+1,f=l+1,u=i-1;u>=0;u--)t[g+u]=t[f+u];return void(t[p]=_[h])}for(var m=d;;){var v=0,y=0,b=!1;do if(e(_[h],t[l])<0){if(t[p--]=t[l--],v++,y=0,0===--i){b=!0;break}}else if(t[p--]=_[h--],y++,v=0,1===--s){b=!0;break}while(m>(v|y));if(b)break;do{if(v=i-a(_[h],t,n,i,i-1,e),0!==v){for(p-=v,l-=v,i-=v,g=p+1,f=l+1,u=v-1;u>=0;u--)t[g+u]=t[f+u];if(0===i){b=!0;break}}if(t[p--]=_[h--],1===--s){b=!0;break}if(y=s-o(t[l],_,0,s,s-1,e),0!==y){for(p-=y,h-=y,s-=y,g=p+1,f=h+1,u=0;y>u;u++)t[g+u]=_[f+u];if(1>=s){b=!0;break}}if(t[p--]=t[l--],0===--i){b=!0;break}m--}while(v>=c||y>=c);if(b)break;0>m&&(m=0),m+=2}if(d=m,1>d&&(d=1),1===s){for(p-=i,l-=i,g=p+1,f=l+1,u=i-1;u>=0;u--)t[g+u]=t[f+u];t[p]=_[h]}else{if(0===s)throw new Error;for(f=p-(s-1),u=0;s>u;u++)t[f+u]=_[u]}}else for(f=p-(s-1),u=0;s>u;u++)t[f+u]=_[u]}var p,f,d=c,g=0,m=h,v=0,y=0;g=t.length,2*h>g&&(m=g>>>1);var _=[];v=120>g?5:1542>g?10:119151>g?19:40,p=[],f=[],this.mergeRuns=i,this.forceMergeRuns=r,this.pushRun=n}function u(t,i,o,a){o||(o=0),a||(a=t.length);var u=a-o;if(!(2>u)){var c=0;if(l>u)return c=n(t,o,a,i),void r(t,o,a,o+c,i);var h=new s(t,i),p=e(u);do{if(c=n(t,o,a,i),p>c){var f=u;f>p&&(f=p),r(t,o,o+f,o+c,i),c=f}h.pushRun(o,c),h.mergeRuns(),u-=c,o+=c}while(0!==u);h.forceMergeRuns()}}var l=32,c=7,h=256;t.exports=u},function(t,e,n){"use strict";var i=n(4),r=n(88).Dispatcher,o=n(89),a=n(36),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,r.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=i.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,r=[],o=[],a=0;i>a;a++){var s=n[a],u=s.step(t);u&&(r.push(u),o.push(s))}for(var a=0;i>a;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;i=r.length;for(var a=0;i>a;a++)o[a].fire(r[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(o(t),!e._paused&&e._update())}var e=this;this._running=!0,o(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var n=new a(t,e.loop,e.getter,e.setter);return n}},i.mixin(s,r),t.exports=s},function(t,e,n){"use strict";function i(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function r(t,e,n,i){return n=n||{},i||!c.canvasSupported?o(t,e,n):c.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):o(t,e,n),n}function o(t,e,n){var r=i(t);n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top}function a(t,e,n){if(e=e||window.event,null!=e.zrX)return e;var i=e.type,o=i&&i.indexOf("touch")>=0;if(o){var a="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];a&&r(t,a,e,n)}else r(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;return e}function s(t,e,n){h?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function u(t,e,n){h?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}var l=n(33),c=n(2),h="undefined"!=typeof window&&!!window.addEventListener,p=h?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};t.exports={clientToLocal:r,normalizeEvent:a,addEventListener:s,removeEventListener:u,stop:p,Dispatcher:l}},function(t){t.exports="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)}},function(t,e,n){function i(t){return"mousewheel"===t&&p.browser.firefox?"DOMMouseScroll":t}function r(t,e,n){var i=t._gestureMgr;"start"===n&&i.clear();var r=i.recognize(e,t.handler.findHover(e.zrX,e.zrY,null),t.dom);if("end"===n&&i.clear(),r){var o=r.type;e.gestureEvent=o,t.handler.dispatchToElement(r.target,o,r.event)}}function o(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function a(){return p.touchEventsSupported}function s(t){function e(t,e){return function(){return e._touching?void 0:t.apply(e,arguments)}}for(var n=0;n<_.length;n++){var i=_[n];t._handlers[i]=c.bind(b[i],t)}for(var n=0;n<y.length;n++){var i=y[n];t._handlers[i]=e(b[i],t)}}function u(t){function e(e,n){c.each(e,function(e){d(t,i(e),n._handlers[e])},n)}h.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new f,this._handlers={},s(this),a()&&e(_,this),e(y,this)}var l=n(88),c=n(4),h=n(33),p=n(2),f=n(91),d=l.addEventListener,g=l.removeEventListener,m=l.normalizeEvent,v=300,y=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],_=["touchstart","touchend","touchmove"],b={mousemove:function(t){t=m(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){t=m(this.dom,t);var e=t.toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){t=m(this.dom,t),t.zrByTouch=!0,this._lastTouchMoment=new Date,r(this,t,"start"),b.mousemove.call(this,t),b.mousedown.call(this,t),o(this)},touchmove:function(t){t=m(this.dom,t),t.zrByTouch=!0,r(this,t,"change"),b.mousemove.call(this,t),o(this)},touchend:function(t){t=m(this.dom,t),t.zrByTouch=!0,r(this,t,"end"),b.mouseup.call(this,t),+new Date-this._lastTouchMoment<v&&b.click.call(this,t),o(this)}};c.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){b[t]=function(e){e=m(this.dom,e),this.trigger(t,e)}});var x=u.prototype;x.dispose=function(){for(var t=y.concat(_),e=0;e<t.length;e++){var n=t[e];g(this.dom,i(n),this._handlers[n])}},x.setCursor=function(t){this.dom.style.cursor=t||"default"},c.mixin(u,h),t.exports=u},function(t,e,n){"use strict";function i(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function r(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var o=n(88),a=function(){this._track=[]};a.prototype={constructor:a,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},a=0,s=i.length;s>a;a++){var u=i[a],l=o.clientToLocal(n,u,{});r.points.push([l.zrX,l.zrY]),r.touches.push(u)}this._track.push(r)}},_recognize:function(t){for(var e in s)if(s.hasOwnProperty(e)){var n=s[e](this._track,t);if(n)return n}}};var s={pinch:function(t,e){var n=t.length;if(n){var o=(t[n-1]||{}).points,a=(t[n-2]||{}).points||o;if(a&&a.length>1&&o&&o.length>1){var s=i(o)/i(a);!isFinite(s)&&(s=1),e.pinchScale=s;var u=r(o);return e.pinchX=u[0],e.pinchY=u[1],{type:"pinch",target:t[0].target,event:e}}}}};t.exports=a},function(t,e,n){"use strict";function i(t){return parseInt(t,10)}function r(t){return t?t.isBuildin?!0:"function"!=typeof t.resize||"function"!=typeof t.refresh?!1:!0:!1}function o(t){t.__unusedCount++}function a(t){1==t.__unusedCount&&t.clear()}function s(t,e,n){return _.copy(t.getBoundingRect()),t.transform&&_.applyTransform(t.transform),b.width=e,b.height=n,!_.intersect(b)}function u(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}function l(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i.path;i.setTransform(e),r.beginPath(e),i.buildPath(r,i.shape),e.clip(),i.restoreTransform(e)}}function c(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var h=n(41),p=n(4),f=n(40),d=n(9),g=n(86),m=n(93),v=n(89),y=5,_=new d(0,0,0,0),b=new d(0,0,0,0),x=function(t,e,n){var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=p.extend({},n||{}),this.dpr=n.devicePixelRatio||h.devicePixelRatio,this._singleCanvas=i,this.root=t;var r=t.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},i){var s=t.width,u=t.height;this._width=s,this._height=u;var l=new m(t,this,1);l.initContext(),a[0]=l,o.push(0)}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=c(this._width,this._height);t.appendChild(f)}this.pathToImage=this._createPathToImage(),this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};x.prototype={constructor:x,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(e,t);for(var i=0;i<n.length;i++){var r=n[i],o=this._layers[r];!o.isBuildin&&o.refresh&&o.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape});n.__from=t,t.__hoverMir=n,n.setStyle(e),this._hoverElements.push(n)}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,i=p.indexOf(n,e);i>=0&&n.splice(i,1),t.__hoverMir=null},clearHover:function(){for(var t=this._hoverElements,e=0;e<t.length;e++){var n=t[e].__from;n&&(n.__hoverMir=null)}t.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){g(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var r=0;e>r;){var o=t[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,i))):(t.splice(r,1),a.__hoverMir=null,e--)}n.ctx.restore()}},_startProgessive:function(){function t(){n===e._progressiveToken&&e.storage&&(e._doPaintList(e.storage.getDisplayList()),e._furtherProgressive?(e._progress++,v(t)):e._progressiveToken=-1)}var e=this;if(e._furtherProgressive){var n=e._progressiveToken=+new Date;e._progress++,v(t)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,p.each(this._progressiveLayers,function(t){t.__dirty&&t.clear()})},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t),this._clearProgressive(),this.eachBuildinLayer(o),this._doPaintList(t,e),this.eachBuildinLayer(a)},_doPaintList:function(t,e){function n(t){var e=o.dpr||1;o.save(),o.globalAlpha=1,o.shadowBlur=0,i.__dirty=!0,o.setTransform(1,0,0,1,0,0),o.drawImage(t.dom,0,0,c*e,h*e),o.restore()}for(var i,r,o,a,s,u,l=0,c=this._width,h=this._height,d=this._progress,g=0,m=t.length;m>g;g++){var v=t[g],_=this._singleCanvas?0:v.zlevel,b=v.__frame;if(0>b&&s&&(n(s),s=null),r!==_&&(o&&o.restore(),a={},r=_,i=this.getLayer(r),i.isBuildin||f("ZLevel "+r+" has been used by unkown layer "+i.id),o=i.ctx,o.save(),i.__unusedCount=0,(i.__dirty||e)&&i.clear()),i.__dirty||e){if(b>=0){if(!s){if(s=this._progressiveLayers[Math.min(l++,y-1)],s.ctx.save(),s.renderScope={},s&&s.__progress>s.__maxProgress){g=s.__nextIdxNotProg-1;continue}u=s.__progress,s.__dirty||(d=u),s.__progress=d+1}b===d&&this._doPaintEl(v,s,!0,s.renderScope)}else this._doPaintEl(v,i,e,a);v.__dirty=!1}}s&&n(s),o&&o.restore(),this._furtherProgressive=!1,p.each(this._progressiveLayers,function(t){t.__maxProgress>=t.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(t,e,n,i){var r=e.ctx,o=t.transform;if(!(!e.__dirty&&!n||t.invisible||0===t.style.opacity||o&&!o[0]&&!o[3]||t.culling&&s(t,this._width,this._height))){var a=t.__clipPaths;(i.prevClipLayer!==e||u(a,i.prevElClipPaths))&&(i.prevElClipPaths&&(i.prevClipLayer.ctx.restore(),i.prevClipLayer=i.prevElClipPaths=null,i.prevEl=null),a&&(r.save(),l(a,r),i.prevClipLayer=e,i.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(r),t.brush(r,i.prevEl||null),i.prevEl=t,t.afterBrush&&t.afterBrush(r)}},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||(e=new m("zr_"+t,this,this.dpr),e.isBuildin=!0,this._layerConfig[t]&&p.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var n=this._layers,i=this._zlevelList,o=i.length,a=null,s=-1,u=this._domRoot;if(n[t])return void f("ZLevel "+t+" has been used already");if(!r(e))return void f("Layer of zlevel "+t+" is not valid");if(o>0&&t>i[0]){for(s=0;o-1>s&&!(i[s]<t&&i[s+1]>t);s++);a=n[i[s]]}if(i.splice(s+1,0,t),a){var l=a.dom;l.nextSibling?u.insertBefore(e.dom,l.nextSibling):u.appendChild(e.dom)}else u.firstChild?u.insertBefore(e.dom,u.firstChild):u.appendChild(e.dom);n[t]=e},eachLayer:function(t,e){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],t.call(e,this._layers[n],n)},eachBuildinLayer:function(t,e){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],n=this._layers[i],n.isBuildin&&t.call(e,n,i)},eachOtherLayer:function(t,e){var n,i,r,o=this._zlevelList;for(r=0;r<o.length;r++)i=o[r],n=this._layers[i],n.isBuildin||t.call(e,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,n=this._progressiveLayers,i={},r={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0,t.__dirty=!1}),p.each(n,function(t,e){r[e]=t.elCount,t.elCount=0,t.__dirty=!1});for(var o,a,s=0,u=0,l=0,c=t.length;c>l;l++){var h=t[l],f=this._singleCanvas?0:h.zlevel,d=e[f],g=h.progressive;if(d&&(d.elCount++,d.__dirty=d.__dirty||h.__dirty),g>=0){a!==g&&(a=g,u++);var v=h.__frame=u-1;if(!o){var _=Math.min(s,y-1);o=n[_],o||(o=n[_]=new m("progressive",this,this.dpr),o.initContext()),o.__maxProgress=0}o.__dirty=o.__dirty||h.__dirty,o.elCount++,o.__maxProgress=Math.max(o.__maxProgress,v),o.__maxProgress>=o.__progress&&(d.__dirty=!0)}else h.__frame=-1,o&&(o.__nextIdxNotProg=l,s++,o=null)}o&&(s++,o.__nextIdxNotProg=l),this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.__dirty=!0)}),n.length=Math.min(s,y),p.each(n,function(t,e){r[e]!==t.elCount&&(h.__dirty=!0),t.__dirty&&(t.__progress=0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?p.merge(n[t],e,!0):n[t]=e;var i=this._layers[t];i&&p.merge(i,n[t],!0)}},delLayer:function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(p.indexOf(n,t),1))},resize:function(t,e){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!=t||e!=this._height){n.style.width=t+"px",n.style.height=e+"px";for(var r in this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);p.each(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new m("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clearColor=t.backgroundColor,e.clear();for(var n=this.storage.getDisplayList(!0),i={},r=0;r<n.length;r++){var o=n[r];this._doPaintEl(o,e,!0,i)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var s=this.root,u=document.defaultView.getComputedStyle(s);return(s[r]||i(u[n])||i(s.style[n]))-(i(u[o])||0)-(i(u[a])||0)|0},_pathToImage:function(t,e,i,r,o){var a=document.createElement("canvas"),s=a.getContext("2d");a.width=i*o,a.height=r*o,s.clearRect(0,0,i*o,r*o);var u={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(s);var l=n(61),c=new l({id:t,style:{x:0,y:0,image:a}});return null!=u.position&&(c.position=e.position=u.position),null!=u.rotation&&(c.rotation=e.rotation=u.rotation),null!=u.scale&&(c.scale=e.scale=u.scale),c},_createPathToImage:function(){var t=this;return function(e,n,i,r){return t._pathToImage(e,n,i,r,t.dpr)}}},t.exports=x},function(t,e,n){function i(){return!1}function r(t,e,n,i){var r=document.createElement(e),o=n.getWidth(),a=n.getHeight(),s=r.style;return s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",r.width=o*i,r.height=a*i,r.setAttribute("data-zr-dom-id",t),r}var o=n(4),a=n(41),s=n(47),u=n(59),l=function(t,e,n){var s;n=n||a.devicePixelRatio,"string"==typeof t?s=r(t,"canvas",e,n):o.isObject(t)&&(s=t,t=s.id),this.id=t,this.dom=s;var u=s.style;u&&(s.onselectstart=i,u["-webkit-user-select"]="none",u["user-select"]="none",u["-webkit-touch-callout"]="none",u["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",u.padding=0,u.margin=0,u["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};l.prototype={constructor:l,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=r("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r.width=t+"px",r.height=e+"px",i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(t){var e=this.dom,n=this.ctx,i=e.width,r=e.height,o=this.clearColor,a=this.motionBlur&&!t,l=this.lastFrameAlpha,c=this.dpr;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,i/c,r/c)),n.clearRect(0,0,i,r),o){var h;o.colorStops?(h=o.__canvasGradient||s.getGradient(n,o,{x:0,y:0,width:i,height:r}),o.__canvasGradient=h):o.image&&(h=u.prototype.getCanvasPattern.call(o,n)),n.save(),n.fillStyle=h||o,n.fillRect(0,0,i,r),n.restore()}if(a){var p=this.domBack;n.save(),n.globalAlpha=l,n.drawImage(p,0,0,i,r),n.restore()}}},t.exports=l},function(t,e,n){var i=n(79);t.exports=function(t){function e(e){var n=(e.visualColorAccessPath||"itemStyle.normal.color").split("."),r=e.getData(),o=e.get(n)||e.getColorFromPalette(e.get("name"));r.setVisual("color",o),t.isSeriesFiltered(e)||("function"!=typeof o||o instanceof i||r.each(function(t){r.setItemVisual(t,"color",o(e.getDataParams(t)))}),r.each(function(t){var e=r.getItemModel(t),i=e.get(n,!0);null!=i&&r.setItemVisual(t,"color",i)}))}t.eachRawSeries(e)}},function(t,e,n){function i(t,e){e=e.split(",");for(var n=t,i=0;i<e.length&&(n=n&&n[e[i]],null!=n);i++);return n}function r(t,e,n,i){e=e.split(",");for(var r,o=t,a=0;a<e.length-1;a++)r=e[a],null==o[r]&&(o[r]={}),o=o[r];(i||null==o[e[a]])&&(o[e[a]]=n)}function o(t){h(u,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var a=n(4),s=n(96),u=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],l=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],c=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],h=a.each;t.exports=function(t){h(t.series,function(t){if(a.isObject(t)){var e=t.type;if(s(t),("pie"===e||"gauge"===e)&&null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var n=i(t,"pointer.color");null!=n&&r(t,"itemStyle.normal.color",n)}for(var u=0;u<c.length;u++)if(c[u]===t.type){o(t);break}}}),t.dataRange&&(t.visualMap=t.dataRange),h(l,function(e){var n=t[e];n&&(a.isArray(n)||(n=[n]),h(n,function(t){o(t)}))})}},function(t,e,n){function i(t){var e=t&&t.itemStyle;e&&r.each(o,function(n){var i=e.normal,o=e.emphasis;i&&i[n]&&(t[n]=t[n]||{},t[n].normal?r.merge(t[n].normal,i[n]):t[n].normal=i[n],i[n]=null),o&&o[n]&&(t[n]=t[n]||{},t[n].emphasis?r.merge(t[n].emphasis,o[n]):t[n].emphasis=o[n],o[n]=null)})}var r=n(4),o=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];t.exports=function(t){if(t){i(t),i(t.markPoint),i(t.markLine);var e=t.data;if(e){for(var n=0;n<e.length;n++)i(e[n]);var o=t.markPoint;if(o&&o.data)for(var a=o.data,n=0;n<a.length;n++)i(a[n]);var s=t.markLine;if(s&&s.data)for(var u=s.data,n=0;n<u.length;n++)r.isArray(u[n])?(i(u[n][0]),i(u[n][1])):i(u[n])}}}},function(t,e,n){var i=n(43),r=n(4),o=Math.PI;t.exports=function(t,e){e=e||{},r.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});
var n=new i.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),a=new i.Arc({shape:{startAngle:-o/2,endAngle:-o/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new i.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});a.animateShape(!0).when(1e3,{endAngle:3*o/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*o/2}).delay(300).start("circularInOut");var u=new i.Group;return u.add(a),u.add(s),u.add(n),u.resize=function(){var e=t.getWidth()/2,i=t.getHeight()/2;a.setShape({cx:e,cy:i});var r=a.shape.r;s.setShape({x:e-r,y:i-r,width:2*r,height:2*r}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},u.resize(),u}},function(t,e,n){(function(e){function i(t){return p.isArray(t)||(t=[t]),t}function r(t,e){var n=t.dimensions,i=new v(p.map(n,t.getDimensionInfo,t),t.hostModel);m(i,t);for(var r=i._storage={},o=t._storage,a=0;a<n.length;a++){var s=n[a],u=o[s];r[s]=p.indexOf(e,s)>=0?new u.constructor(o[s].length):o[s]}return i}var o="undefined",a="undefined"==typeof window?e:window,s=typeof a.Float64Array===o?Array:a.Float64Array,u=typeof a.Int32Array===o?Array:a.Int32Array,l={"float":s,"int":u,ordinal:Array,number:Array,time:Array},c=n(12),h=n(99),p=n(4),f=n(5),d=p.isObject,g=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],m=function(t,e){p.each(g.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods},v=function(t,e){t=t||["x","y"];for(var n={},i=[],r=0;r<t.length;r++){var o,a={};"string"==typeof t[r]?(o=t[r],a={name:o,stackable:!1,type:"number"}):(a=t[r],o=a.name,a.type=a.type||"number"),i.push(o),n[o]=a}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},y=v.prototype;y.type="list",y.hasItemOption=!0,y.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},y.getDimensionInfo=function(t){return p.clone(this._dimensionInfos[this.getDimension(t)])},y.initData=function(t,e,n){if(t=t||[],!p.isArray(t))throw new Error("Invalid data.");this._rawData=t;var i=this._storage={},r=this.indices=[],o=this.dimensions,a=t.length,s=this._dimensionInfos,u=[],c={};e=e||[];for(var h=0;h<o.length;h++){var d=s[o[h]],g=l[d.type];i[o[h]]=new g(a)}var m=this;n||(m.hasItemOption=!1),n=n||function(t,e,n,i){var r=f.getDataItemValue(t);return f.isDataItemOption(t)&&(m.hasItemOption=!0),f.converDataValue(r instanceof Array?r[i]:r,s[e])};for(var v=0;v<t.length;v++){for(var y=t[v],_=0;_<o.length;_++){var b=o[_],x=i[b];x[v]=n(y,b,v,_)}r.push(v)}for(var h=0;h<t.length;h++){e[h]||t[h]&&null!=t[h].name&&(e[h]=t[h].name);var w=e[h]||"",T=t[h]&&t[h].id;!T&&w&&(c[w]=c[w]||0,T=w,c[w]>0&&(T+="__ec__"+c[w]),c[w]++),T&&(u[h]=T)}this._nameList=e,this._idList=u},y.count=function(){return this.indices.length},y.get=function(t,e,n){var i=this._storage,r=this.indices[e];if(null==r)return 0/0;var o=i[t]&&i[t][r];if(n){var a=this._dimensionInfos[t];if(a&&a.stackable)for(var s=this.stackedOn;s;){var u=s.get(t,e);(o>=0&&u>0||0>=o&&0>u)&&(o+=u),s=s.stackedOn}}return o},y.getValues=function(t,e,n){var i=[];p.isArray(t)||(n=e,e=t,t=this.dimensions);for(var r=0,o=t.length;o>r;r++)i.push(this.get(t[r],e,n));return i},y.hasValue=function(t){for(var e=this.dimensions,n=this._dimensionInfos,i=0,r=e.length;r>i;i++)if("ordinal"!==n[e[i]].type&&isNaN(this.get(e[i],t)))return!1;return!0},y.getDataExtent=function(t,e){t=this.getDimension(t);var n=this._storage[t],i=this.getDimensionInfo(t);e=i&&i.stackable&&e;var r,o=(this._extent||(this._extent={}))[t+!!e];if(o)return o;if(n){for(var a=1/0,s=-1/0,u=0,l=this.count();l>u;u++)r=this.get(t,u,e),a>r&&(a=r),r>s&&(s=r);return this._extent[t+!!e]=[a,s]}return[1/0,-1/0]},y.getSum=function(t,e){var n=this._storage[t],i=0;if(n)for(var r=0,o=this.count();o>r;r++){var a=this.get(t,r,e);isNaN(a)||(i+=a)}return i},y.indexOf=function(t,e){var n=this._storage,i=n[t],r=this.indices;if(i)for(var o=0,a=r.length;a>o;o++){var s=r[o];if(i[s]===e)return o}return-1},y.indexOfName=function(t){for(var e=this.indices,n=this._nameList,i=0,r=e.length;r>i;i++){var o=e[i];if(n[o]===t)return i}return-1},y.indexOfRawIndex=function(t){var e=this.indices,n=e[t];if(null!=n&&n===t)return t;for(var i=0,r=e.length-1;r>=i;){var o=(i+r)/2|0;if(e[o]<t)i=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},y.indexOfNearest=function(t,e,n,i){var r=this._storage,o=r[t];null==i&&(i=1/0);var a=-1;if(o)for(var s=Number.MAX_VALUE,u=0,l=this.count();l>u;u++){var c=e-this.get(t,u,n),h=Math.abs(c);i>=c&&(s>h||h===s&&c>0)&&(s=h,a=u)}return a},y.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},y.getRawDataItem=function(t){return this._rawData[this.getRawIndex(t)]},y.getName=function(t){return this._nameList[this.indices[t]]||""},y.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},y.each=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]),t=p.map(i(t),this.getDimension,this);var o=[],a=t.length,s=this.indices;r=r||this;for(var u=0;u<s.length;u++)switch(a){case 0:e.call(r,u);break;case 1:e.call(r,this.get(t[0],u,n),u);break;case 2:e.call(r,this.get(t[0],u,n),this.get(t[1],u,n),u);break;default:for(var l=0;a>l;l++)o[l]=this.get(t[l],u,n);o[l]=u,e.apply(r,o)}},y.filterSelf=function(t,e,n,r){"function"==typeof t&&(r=n,n=e,e=t,t=[]),t=p.map(i(t),this.getDimension,this);var o=[],a=[],s=t.length,u=this.indices;r=r||this;for(var l=0;l<u.length;l++){var c;if(1===s)c=e.call(r,this.get(t[0],l,n),l);else{for(var h=0;s>h;h++)a[h]=this.get(t[h],l,n);a[h]=l,c=e.apply(r,a)}c&&o.push(u[l])}return this.indices=o,this._extent={},this},y.mapArray=function(t,e,n,i){"function"==typeof t&&(i=n,n=e,e=t,t=[]);var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n,i),r},y.map=function(t,e,n,o){t=p.map(i(t),this.getDimension,this);var a=r(this,t),s=a.indices=this.indices,u=a._storage,l=[];return this.each(t,function(){var n=arguments[arguments.length-1],i=e&&e.apply(this,arguments);if(null!=i){"number"==typeof i&&(l[0]=i,i=l);for(var r=0;r<i.length;r++){var o=t[r],a=u[o],c=s[n];a&&(a[c]=i[r])}}},n,o),a},y.downSample=function(t,e,n,i){for(var o=r(this,[t]),a=this._storage,s=o._storage,u=this.indices,l=o.indices=[],c=[],h=[],p=Math.floor(1/e),f=s[t],d=this.count(),g=0;g<a[t].length;g++)s[t][g]=a[t][g];for(var g=0;d>g;g+=p){p>d-g&&(p=d-g,c.length=p);for(var m=0;p>m;m++){var v=u[g+m];c[m]=f[v],h[m]=v}var y=n(c),v=h[i(c,y)||0];f[v]=y,l.push(v)}return o},y.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new c(this._rawData[t],e,e&&e.ecModel)},y.diff=function(t){var e,n=this._idList,i=t&&t._idList,r="e\x00\x00";return new h(t?t.indices:[],this.indices,function(t){return null!=(e=i[t])?e:r+t},function(t){return null!=(e=n[t])?e:r+t})},y.getVisual=function(t){var e=this._visual;return e&&e[t]},y.setVisual=function(t,e){if(d(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},y.setLayout=function(t,e){if(d(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},y.getLayout=function(t){return this._layout[t]},y.getItemLayout=function(t){return this._itemLayouts[t]},y.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?p.extend(this._itemLayouts[t]||{},e):e},y.clearItemLayouts=function(){this._itemLayouts.length=0},y.getItemVisual=function(t,e,n){var i=this._itemVisuals[t],r=i&&i[e];return null!=r||n?r:this.getVisual(e)},y.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};if(this._itemVisuals[t]=i,d(e))for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);else i[e]=n},y.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var _=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};y.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(_,e)),this._graphicEls[t]=e},y.getItemGraphicEl=function(t){return this._graphicEls[t]},y.eachItemGraphicEl=function(t,e){p.each(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},y.cloneShallow=function(){var t=p.map(this.dimensions,this.getDimensionInfo,this),e=new v(t,this.hostModel);return e._storage=this._storage,m(e,this),e.indices=this.indices.slice(),this._extent&&(e._extent=p.extend({},this._extent)),e},y.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(p.slice(arguments)))})},y.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],y.CHANGABLE_METHODS=["filterSelf"],t.exports=v}).call(e,function(){return this}())},function(t){"use strict";function e(t){return t}function n(t,n,i,r){this._old=t,this._new=n,this._oldKeyGetter=i||e,this._newKeyGetter=r||e}function i(t,e,n,i){for(var r=0;r<t.length;r++){var o=i(t[r],r),a=e[o];null==a?(n.push(o),e[o]=r):(a.length||(e[o]=a=[a]),a.push(r))}}n.prototype={constructor:n,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t,e=this._old,n=this._new,r=this._oldKeyGetter,o=this._newKeyGetter,a={},s={},u=[],l=[];for(i(e,a,u,r),i(n,s,l,o),t=0;t<e.length;t++){var c=u[t],h=s[c];if(null!=h){var p=h.length;p?(1===p&&(s[c]=null),h=h.unshift()):s[c]=null,this._update&&this._update(h,t)}else this._remove&&this._remove(t)}for(var t=0;t<l.length;t++){var c=l[t];if(s.hasOwnProperty(c)){var h=s[c];if(null==h)continue;if(h.length)for(var f=0,p=h.length;p>f;f++)this._add&&this._add(h[f]);else this._add&&this._add(h)}}}},t.exports=n},function(t,e,n){var i=n(4),r=n(1),o=r.PRIORITY;n(101),n(104),r.registerVisual(i.curry(n(110),"line","circle","line")),r.registerLayout(i.curry(n(111),"line")),r.registerProcessor(o.PROCESSOR.STATISTIC,i.curry(n(112),"line")),n(113)},function(t,e,n){"use strict";var i=n(102),r=n(28);t.exports=r.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){var n=t.coordinateSystem;if("polar"!==n&&"cartesian2d"!==n)throw new Error("Line not support coordinateSystem besides cartesian and polar");return i(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},function(t,e,n){"use strict";function i(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function r(t){var e=i(t);return null!=e&&!h.isArray(d(e))}function o(t,e,n){if(t=t||[],!h.isArray(t))throw new Error("Invalid data.");var i=e.get("coordinateSystem"),o=m[i],a=f.get(i),s=o&&o(t,e,n),v=s&&s.dimensions;v||(v=a&&a.dimensions||["x","y"],v=c(v,t,v.concat(["value"])));var y=s?s.categoryIndex:-1,_=new l(v,e),b=u(s,t),x={},w=y>=0&&r(t)?function(t,e,n,i){return p.isDataItemOption(t)&&(_.hasItemOption=!0),i===y?n:g(d(t),v[i])}:function(t,e,n,i){var r=d(t),o=g(r&&r[i],v[i]);p.isDataItemOption(t)&&(_.hasItemOption=!0);var a=s&&s.categoryAxesModels;return a&&a[e]&&"string"==typeof o&&(x[e]=x[e]||a[e].getCategories(),o=h.indexOf(x[e],o),0>o&&!isNaN(o)&&(o=+o)),o};return _.hasItemOption=!1,_.initData(t,b,w),_}function a(t){return"category"!==t&&"time"!==t}function s(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function u(t,e){var n,i=[],r=t&&t.dimensions[t.categoryIndex];if(r&&(n=t.categoryAxesModels[r.name]),n){var o=n.getCategories();if(o){var a=e.length;if(h.isArray(e[0])&&e[0].length>1){i=[];for(var s=0;a>s;s++)i[s]=o[e[s][t.categoryIndex||0]]}else i=o.slice(0)}}return i}var l=n(98),c=n(103),h=n(4),p=n(5),f=n(26),d=p.getDataItemValue,g=p.converDataValue,m={cartesian2d:function(t,e,n){var i=h.map(["xAxis","yAxis"],function(t){return n.queryComponents({mainType:t,index:e.get(t+"Index"),id:e.get(t+"Id")})[0]}),r=i[0],o=i[1];if(!r)throw new Error('xAxis "'+h.retrieve(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found');if(!o)throw new Error('yAxis "'+h.retrieve(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found');var u=r.get("type"),l=o.get("type"),p=[{name:"x",type:s(u),stackable:a(u)},{name:"y",type:s(l),stackable:a(l)}],f="category"===u,d="category"===l;c(p,t,["x","y","z"]);var g={};return f&&(g.x=r),d&&(g.y=o),{dimensions:p,categoryIndex:f?0:d?1:-1,categoryAxesModels:g}},polar:function(t,e,n){var i=n.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0],r=i.findAxisModel("angleAxis"),o=i.findAxisModel("radiusAxis");if(!r)throw new Error("angleAxis option not found");if(!o)throw new Error("radiusAxis option not found");var u=o.get("type"),l=r.get("type"),h=[{name:"radius",type:s(u),stackable:a(u)},{name:"angle",type:s(l),stackable:a(l)}],p="category"===l,f="category"===u;c(h,t,["radius","angle","value"]);var d={};return f&&(d.radius=o),p&&(d.angle=r),{dimensions:h,categoryIndex:p?1:f?0:-1,categoryAxesModels:d}},geo:function(t){return{dimensions:c([{name:"lng"},{name:"lat"}],t,["lng","lat","value"])}}};t.exports=o},function(t,e,n){function i(t,e,n,i){if(!e)return t;var s=r(e[0]),u=o.isArray(s)&&s.length||1;n=n||[],i=i||"extra";for(var l=0;u>l;l++)if(!t[l]){var c=n[l]||i+(l-n.length);t[l]=a(e,l)?{type:"ordinal",name:c}:c}return t}function r(t){return o.isArray(t)?t:o.isObject(t)?t.value:t}var o=n(4),a=i.guessOrdinal=function(t,e){for(var n=0,i=t.length;i>n;n++){var a=r(t[n]);if(!o.isArray(a))return!1;var a=a[e];if(null!=a&&isFinite(a))return!1;if(o.isString(a)&&"-"!==a)return!0}return!1};t.exports=i},function(t,e,n){"use strict";function i(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function r(t){return"number"==typeof t?t:t?.3:0}function o(t){var e=t.getGlobalExtent();if(t.onBand){var n=t.getBandWidth()/2-1,i=e[1]>e[0]?1:-1;e[0]+=i*n,e[1]-=i*n}return e}function a(t){return t>=0?1:-1}function s(t,e){var n=t.getBaseAxis(),i=t.getOtherAxis(n),r=n.onZero?0:i.scale.getExtent()[0],o=i.dim,s="x"===o||"radius"===o?1:0;return e.mapArray([o],function(i,u){for(var l,c=e.stackedOn;c&&a(c.get(o,u))===a(i);){l=c;break}var h=[];return h[s]=e.get(n.dim,u),h[1-s]=l?l.get(o,u,!0):r,t.dataToPoint(h)},!0)}function u(t,e,n){var i=o(t.getAxis("x")),r=o(t.getAxis("y")),a=t.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),u=Math.min(r[0],r[1]),l=Math.max(i[0],i[1])-s,c=Math.max(r[0],r[1])-u,h=n.get("lineStyle.normal.width")||2,p=n.get("clipOverflow")?h/2:Math.max(l,c);a?(u-=p,c+=2*p):(s-=p,l+=2*p);var f=new v.Rect({shape:{x:s,y:u,width:l,height:c}});return e&&(f.shape[a?"width":"height"]=0,v.initProps(f,{shape:{width:l,height:c}},n)),f}function l(t,e,n){var i=t.getAngleAxis(),r=t.getRadiusAxis(),o=r.getExtent(),a=i.getExtent(),s=Math.PI/180,u=new v.Sector({shape:{cx:t.cx,cy:t.cy,r0:o[0],r:o[1],startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:i.inverse}});return e&&(u.shape.endAngle=-a[0]*s,v.initProps(u,{shape:{endAngle:-a[1]*s}},n)),u}function c(t,e,n){return"polar"===t.type?l(t,e,n):u(t,e,n)}function h(t,e,n){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,o=[],a=0;a<t.length-1;a++){var s=t[a+1],u=t[a];o.push(u);var l=[];switch(n){case"end":l[r]=s[r],l[1-r]=u[1-r],o.push(l);break;case"middle":var c=(u[r]+s[r])/2,h=[];l[r]=h[r]=c,l[1-r]=u[1-r],h[1-r]=s[1-r],o.push(l),o.push(h);break;default:l[r]=u[r],l[1-r]=s[1-r],o.push(l)}}return t[a]&&o.push(t[a]),o}function p(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()){for(var i,r=n.length-1;r>=0;r--)if(n[r].dimension<2){i=n[r];break}if(!i||"cartesian2d"!==e.type)return void console.warn("Visual map on line style only support x or y dimension.");var o=i.dimension,a=t.dimensions[o],s=e.getAxis(a),u=f.map(i.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),l=u.length,c=i.outerColors.slice();l&&u[0].coord>u[l-1].coord&&(u.reverse(),c.reverse());var h=10,p=u[0].coord-h,d=u[l-1].coord+h,g=d-p;if(.001>g)return"transparent";f.each(u,function(t){t.offset=(t.coord-p)/g}),u.push({offset:l?u[l-1].offset:.5,color:c[1]||"transparent"}),u.unshift({offset:l?u[0].offset:.5,color:c[0]||"transparent"});var m=new v.LinearGradient(0,0,0,0,u,!0);return m[a]=p,m[a+"2"]=d,m}}var f=n(4),d=n(105),g=n(106),m=n(108),v=n(43),y=n(5),_=n(109),b=n(42);t.exports=b.extend({type:"line",init:function(){var t=new v.Group,e=new d;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var o=t.coordinateSystem,a=this.group,u=t.getData(),l=t.getModel("lineStyle.normal"),d=t.getModel("areaStyle.normal"),g=u.mapArray(u.getItemLayout,!0),m="polar"===o.type,v=this._coordSys,y=this._symbolDraw,_=this._polyline,b=this._polygon,x=this._lineGroup,w=t.get("animation"),T=!d.isEmpty(),k=s(o,u),$=t.get("showSymbol"),S=$&&!m&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(u,o),C=this._data;C&&C.eachItemGraphicEl(function(t,e){t.__temp&&(a.remove(t),C.setItemGraphicEl(e,null))}),$||y.remove(),a.add(x);var A=!m&&t.get("step");_&&v.type===o.type&&A===this._step?(T&&!b?b=this._newPolygon(g,k,o,w):b&&!T&&(x.remove(b),b=this._polygon=null),x.setClipPath(c(o,!1,t)),$&&y.updateData(u,S),u.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),i(this._stackedOnPoints,k)&&i(this._points,g)||(w?this._updateAnimation(u,k,o,n,A):(A&&(g=h(g,o,A),k=h(k,o,A)),_.setShape({points:g}),b&&b.setShape({points:g,stackedOnPoints:k})))):($&&y.updateData(u,S),A&&(g=h(g,o,A),k=h(k,o,A)),_=this._newPolyline(g,o,w),T&&(b=this._newPolygon(g,k,o,w)),x.setClipPath(c(o,!0,t)));var I=p(u,o)||u.getVisual("color");_.useStyle(f.defaults(l.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"}));var M=t.get("smooth");if(M=r(t.get("smooth")),_.setShape({smooth:M,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),b){var D=u.stackedOn,E=0;if(b.useStyle(f.defaults(d.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel"})),D){var O=D.hostModel;E=r(O.get("smooth"))}b.setShape({smooth:M,stackedOnSmooth:E,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=u,this._coordSys=o,this._stackedOnPoints=k,this._points=g,this._step=A},dispose:function(){},highlight:function(t,e,n,i){var r=t.getData(),o=y.queryDataIndex(r,i);if(!(o instanceof Array)&&null!=o&&o>=0){var a=r.getItemGraphicEl(o);if(!a){var s=r.getItemLayout(o);if(!s)return;a=new g(r,o),a.position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else b.prototype.highlight.call(this,t,e,n,i)},downplay:function(t,e,n,i){var r=t.getData(),o=y.queryDataIndex(r,i);if(null!=o&&o>=0){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else b.prototype.downplay.call(this,t,e,n,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new _.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new _.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(t,e){var n=e.getAxesByScale("ordinal")[0];return n&&n.isLabelIgnored?f.bind(n.isLabelIgnored,n):void 0},_updateAnimation:function(t,e,n,i,r){var o=this._polyline,a=this._polygon,s=t.hostModel,u=m(this._data,t,this._stackedOnPoints,e,this._coordSys,n),l=u.current,c=u.stackedOnCurrent,p=u.next,f=u.stackedOnNext;r&&(l=h(u.current,n,r),c=h(u.stackedOnCurrent,n,r),p=h(u.next,n,r),f=h(u.stackedOnNext,n,r)),o.shape.__points=u.current,o.shape.points=l,v.updateProps(o,{shape:{points:p}},s),a&&(a.setShape({points:l,stackedOnPoints:c}),v.updateProps(a,{shape:{points:p,stackedOnPoints:f}},s));for(var d=[],g=u.status,y=0;y<g.length;y++){var _=g[y].cmd;if("="===_){var b=t.getItemGraphicEl(g[y].idx1);b&&d.push({el:b,ptIdx:y})}}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var t=0;t<d.length;t++){var e=d[t].el;e.attr("position",o.shape.__points[d[t].ptIdx])}})},remove:function(){var t=this.group,e=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),e&&e.eachItemGraphicEl(function(n,i){n.__temp&&(t.remove(n),e.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(t,e,n){function i(t){this.group=new o.Group,this._symbolCtor=t||a}function r(t,e,n){var i=t.getItemLayout(e);return!(!i||isNaN(i[0])||isNaN(i[1])||n&&n(e)||"none"===t.getItemVisual(e,"symbol"))}var o=n(43),a=n(106),s=i.prototype;s.updateData=function(t,e){var n=this.group,i=t.hostModel,a=this._data,s=this._symbolCtor,u={itemStyle:i.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:i.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis")};t.diff(a).add(function(i){var o=t.getItemLayout(i);if(r(t,i,e)){var a=new s(t,i,u);a.attr("position",o),t.setItemGraphicEl(i,a),n.add(a)}}).update(function(l,c){var h=a.getItemGraphicEl(c),p=t.getItemLayout(l);return r(t,l,e)?(h?(h.updateData(t,l,u),o.updateProps(h,{position:p},i)):(h=new s(t,l),h.attr("position",p)),n.add(h),void t.setItemGraphicEl(l,h)):void n.remove(h)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._data=t},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,n){var i=t.getItemLayout(n);e.attr("position",i)})},s.remove=function(t){var e=this.group,n=this._data;n&&(t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())},t.exports=i},function(t,e,n){function i(t){return t=t instanceof Array?t.slice():[+t,+t],t[0]/=2,t[1]/=2,t}function r(t,e,n){u.Group.call(this),this.updateData(t,e,n)}function o(t,e){this.parent.drift(t,e)}var a=n(4),s=n(107),u=n(43),l=n(7),c=r.prototype;c._createSymbol=function(t,e,n){this.removeAll();var r=e.hostModel,a=e.getItemVisual(n,"color"),l=s.createSymbol(t,-1,-1,2,2,a);l.attr({z2:100,culling:!0,scale:[0,0]}),l.drift=o;var c=i(e.getItemVisual(n,"symbolSize"));u.initProps(l,{scale:c},r,n),this._symbolType=t,this.add(l)},c.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},c.getSymbolPath=function(){return this.childAt(0)},c.getScale=function(){return this.childAt(0).scale},c.highlight=function(){this.childAt(0).trigger("emphasis")},c.downplay=function(){this.childAt(0).trigger("normal")},c.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},c.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},c.updateData=function(t,e,n){this.silent=!1;var r=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,a=i(t.getItemVisual(e,"symbolSize"));if(r!==this._symbolType)this._createSymbol(r,t,e);else{var s=this.childAt(0);u.updateProps(s,{scale:a},o,e)}this._updateCommon(t,e,a,n),this._seriesModel=o};var h=["itemStyle","normal"],p=["itemStyle","emphasis"],f=["label","normal"],d=["label","emphasis"];c._updateCommon=function(t,e,n,r){var o=this.childAt(0),s=t.hostModel,c=t.getItemVisual(e,"color");"image"!==o.type&&o.useStyle({strokeNoScale:!0}),r=r||null;var g=r&&r.itemStyle,m=r&&r.hoverItemStyle,v=r&&r.symbolRotate,y=r&&r.symbolOffset,_=r&&r.labelModel,b=r&&r.hoverLabelModel,x=r&&r.hoverAnimation;if(!r||t.hasItemOption){var w=t.getItemModel(e);g=w.getModel(h).getItemStyle(["color"]),m=w.getModel(p).getItemStyle(),v=w.getShallow("symbolRotate"),y=w.getShallow("symbolOffset"),_=w.getModel(f),b=w.getModel(d),x=w.getShallow("hoverAnimation")}else m=a.extend({},m);var T=o.style;o.attr("rotation",(v||0)*Math.PI/180||0),y&&o.attr("position",[l.parsePercent(y[0],n[0]),l.parsePercent(y[1],n[1])]),o.setColor(c),o.setStyle(g);var k=t.getItemVisual(e,"opacity");null!=k&&(T.opacity=k);for(var $,S,C=t.dimensions.slice();C.length&&($=C.pop(),S=t.getDimensionInfo($).type,"ordinal"===S||"time"===S););null!=$&&_.getShallow("show")?(u.setText(T,_,c),T.text=a.retrieve(s.getFormattedLabel(e,"normal"),t.get($,e))):T.text="",null!=$&&b.getShallow("show")?(u.setText(m,b,c),m.text=a.retrieve(s.getFormattedLabel(e,"emphasis"),t.get($,e))):m.text="";var A=i(t.getItemVisual(e,"symbolSize"));if(o.off("mouseover").off("mouseout").off("emphasis").off("normal"),o.hoverStyle=m,u.setHoverStyle(o),x&&s.ifEnableAnimation()){var I=function(){var t=A[1]/A[0];this.animateTo({scale:[Math.max(1.1*A[0],A[0]+3),Math.max(1.1*A[1],A[1]+3*t)]},400,"elasticOut")},M=function(){this.animateTo({scale:A},400,"elasticOut")};o.on("mouseover",I).on("mouseout",M).on("emphasis",I).on("normal",M)}},c.fadeOut=function(t){var e=this.childAt(0);this.silent=!0,e.style.text="",u.updateProps(e,{scale:[0,0]},this._seriesModel,this.dataIndex,t)},a.inherits(r,u.Group),t.exports=r},function(t,e,n){"use strict";var i=n(43),r=n(9),o=i.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),a=i.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),s=i.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),u=i-o+a+s,l=Math.asin(s/a),c=Math.cos(l)*a,h=Math.sin(l),p=Math.cos(l);t.arc(n,u,a,Math.PI-l,2*Math.PI+l);var f=.6*a,d=.7*a;t.bezierCurveTo(n+c-h*f,u+s+p*f,n,i-d,n,i),t.bezierCurveTo(n,i-d,n-c+h*f,u+s+p*f,n-c,u+s),t.closePath()}}),u=i.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),l={line:i.Line,rect:i.Rect,roundRect:i.Rect,square:i.Rect,circle:i.Circle,diamond:a,pin:s,arrow:u,triangle:o},c={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},h={};for(var p in l)l.hasOwnProperty(p)&&(h[p]=new l[p]);var f=i.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var i=e.symbolType,r=h[i];"none"!==e.symbolType&&(r||(i="rect",r=h[i]),c[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n))}}),d=function(t){if("image"!==this.type){var e=this.style,n=this.shape;n&&"line"===n.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty(!1)}},g={createSymbol:function(t,e,n,o,a,s){var u=0===t.indexOf("empty");u&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return l=0===t.indexOf("image://")?new i.Image({style:{image:t.slice(8),x:e,y:n,width:o,height:a}}):0===t.indexOf("path://")?i.makePath(t.slice(7),{},new r(e,n,o,a)):new f({shape:{symbolType:t,x:e,y:n,width:o,height:a}}),l.__isEmptyBrush=u,l.setColor=d,l.setColor(s),l}};t.exports=g},function(t){function e(t){return t>=0?1:-1}function n(t,n,i){for(var r,o=t.getBaseAxis(),a=t.getOtherAxis(o),s=o.onZero?0:a.scale.getExtent()[0],u=a.dim,l="x"===u||"radius"===u?1:0,c=n.stackedOn,h=n.get(u,i);c&&e(c.get(u,i))===e(h);){r=c;break}var p=[];return p[l]=n.get(o.dim,i),p[1-l]=r?r.get(u,i,!0):s,t.dataToPoint(p)}function i(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}t.exports=function(t,e,r,o,a,s){for(var u=i(t,e),l=[],c=[],h=[],p=[],f=[],d=[],g=[],m=s.dimensions,v=0;v<u.length;v++){var y=u[v],_=!0;switch(y.cmd){case"=":var b=t.getItemLayout(y.idx),x=e.getItemLayout(y.idx1);(isNaN(b[0])||isNaN(b[1]))&&(b=x.slice()),l.push(b),c.push(x),h.push(r[y.idx]),p.push(o[y.idx1]),g.push(e.getRawIndex(y.idx1));break;case"+":var w=y.idx;l.push(a.dataToPoint([e.get(m[0],w,!0),e.get(m[1],w,!0)])),c.push(e.getItemLayout(w).slice()),h.push(n(a,e,w)),p.push(o[w]),g.push(e.getRawIndex(w));break;case"-":var w=y.idx,T=t.getRawIndex(w);T!==w?(l.push(t.getItemLayout(w)),c.push(s.dataToPoint([t.get(m[0],w,!0),t.get(m[1],w,!0)])),h.push(r[w]),p.push(n(s,t,w)),g.push(T)):_=!1}_&&(f.push(y),d.push(d.length))}d.sort(function(t,e){return g[t]-g[e]});for(var k=[],$=[],S=[],C=[],A=[],v=0;v<d.length;v++){var w=d[v];k[v]=l[w],$[v]=c[w],S[v]=h[w],C[v]=p[w],A[v]=f[w]}return{current:k,next:$,stackedOnCurrent:S,stackedOnNext:C,status:A}}},function(t,e,n){function i(t){return isNaN(t[0])||isNaN(t[1])}function r(t,e,n,r,o,a,g,m,v,y,_){for(var b=0,x=n,w=0;r>w;w++){var T=e[x];if(x>=o||0>x)break;if(i(T)){if(_){x+=a;continue}break}if(x===n)t[a>0?"moveTo":"lineTo"](T[0],T[1]),h(f,T);else if(v>0){var k=x+a,$=e[k];if(_)for(;$&&i(e[k]);)k+=a,$=e[k];var S=.5,C=e[b],$=e[k];if(!$||i($))h(d,T);else{i($)&&!_&&($=T),s.sub(p,$,C);var A,I;if("x"===y||"y"===y){var M="x"===y?0:1;A=Math.abs(T[M]-C[M]),I=Math.abs(T[M]-$[M])}else A=s.dist(T,C),I=s.dist(T,$);S=I/(I+A),c(d,T,p,-v*(1-S))}u(f,f,m),l(f,f,g),u(d,d,m),l(d,d,g),t.bezierCurveTo(f[0],f[1],d[0],d[1],T[0],T[1]),c(f,T,p,v*S)}else t.lineTo(T[0],T[1]);b=x,x+=a}return w}function o(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var o=t[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:e?n:i,max:e?i:n}}var a=n(45),s=n(10),u=s.min,l=s.max,c=s.scaleAndAdd,h=s.copy,p=[],f=[],d=[];t.exports={Polyline:a.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(t,e){var n=e.points,a=0,s=n.length,u=o(n,e.smoothConstraint);if(e.connectNulls){for(;s>0&&i(n[s-1]);s--);for(;s>a&&i(n[a]);a++);}for(;s>a;)a+=r(t,n,a,s,s,1,u.min,u.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Polygon:a.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(t,e){var n=e.points,a=e.stackedOnPoints,s=0,u=n.length,l=e.smoothMonotone,c=o(n,e.smoothConstraint),h=o(a,e.smoothConstraint);if(e.connectNulls){for(;u>0&&i(n[u-1]);u--);for(;u>s&&i(n[s]);s++);}for(;u>s;){var p=r(t,n,s,u,u,1,c.min,c.max,e.smooth,l,e.connectNulls);r(t,a,s+p-1,p,u,-1,h.min,h.max,e.stackedOnSmooth,l,e.connectNulls),s+=p+1,t.closePath()}}})}},function(t){t.exports=function(t,e,n,i){i.eachRawSeriesByType(t,function(t){var r=t.getData(),o=t.get("symbol")||e,a=t.get("symbolSize");r.setVisual({legendSymbol:n||o,symbol:o,symbolSize:a}),i.isSeriesFiltered(t)||("function"==typeof a&&r.each(function(e){var n=t.getRawValue(e),i=t.getDataParams(e);r.setItemVisual(e,"symbolSize",a(n,i))
}),r.each(function(t){var e=r.getItemModel(t),n=e.getShallow("symbol",!0),i=e.getShallow("symbolSize",!0);null!=n&&r.setItemVisual(t,"symbol",n),null!=i&&r.setItemVisual(t,"symbolSize",i)}))})}},function(t){t.exports=function(t,e){e.eachSeriesByType(t,function(t){var e=t.getData(),n=t.coordinateSystem;if(n){var i=n.dimensions;"singleAxis"===n.type?e.each(i[0],function(t,i){e.setItemLayout(i,isNaN(t)?[0/0,0/0]:n.dataToPoint(t))}):e.each(i,function(t,i,r){e.setItemLayout(r,isNaN(t)||isNaN(i)?[0/0,0/0]:n.dataToPoint([t,i]))},!0)}})}},function(t){var e={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?0/0:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return e},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return e},nearest:function(t){return t[0]}},n=function(t){return Math.round(t.length/2)};t.exports=function(t,i){i.eachSeriesByType(t,function(t){var i=t.getData(),r=t.get("sampling"),o=t.coordinateSystem;if("cartesian2d"===o.type&&r){var a=o.getBaseAxis(),s=o.getOtherAxis(a),u=a.getExtent(),l=u[1]-u[0],c=Math.round(i.count()/l);if(c>1){var h;"string"==typeof r?h=e[r]:"function"==typeof r&&(h=r),h&&(i=i.downSample(s.dim,1/c,h,n),t.setData(i))}}},this)}},function(t,e,n){"use strict";var i=n(43),r=n(4),o=n(1);n(114),n(132),o.extendComponentView({type:"grid",render:function(t){this.group.removeAll(),t.get("show")&&this.group.add(new i.Rect({shape:t.coordinateSystem.getRect(),style:r.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),o.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})},function(t,e,n){function i(t,e){return t.findGridModel()===e}function r(t){var e,n=t.model,i=n.getFormattedLabels(),r=n.getModel("axisLabel.textStyle"),o=1,a=i.length;a>40&&(o=Math.ceil(a/40));for(var s=0;a>s;s+=o)if(!t.isLabelIgnored(s)){var u=r.getTextRect(i[s]);e?e.union(u):e=u}return e}function o(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this._model=t}function a(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}function s(t){return h.map(y,function(e){var n=t.getReferringComponents(e)[0];if(!n)throw new Error(e+' "'+h.retrieve(t.get(e+"Index"),t.get(e+"Id"),0)+'" not found');return n})}function u(t){return"cartesian2d"===t.get("coordinateSystem")}var l=n(21),c=n(115),h=n(4),p=n(121),f=n(123),d=h.each,g=c.ifAxisCrossZero,m=c.niceScaleExtent;n(126);var v=o.prototype;v.type="grid",v.getRect=function(){return this._rect},v.update=function(t,e){function n(t){var e=i[t];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r&&("category"===r.type||!g(r)))return!0}return!1}var i=this._axesMap;this._updateScale(t,this._model),d(i.x,function(t){m(t,t.model)}),d(i.y,function(t){m(t,t.model)}),d(i.x,function(t){n("y")&&(t.onZero=!1)}),d(i.y,function(t){n("x")&&(t.onZero=!1)}),this.resize(this._model,e)},v.resize=function(t,e){function n(){d(o,function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],r=t.inverse?1:0;t.setExtent(n[r],n[1-r]),a(t,e?i.x:i.y)})}var i=l.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var o=this._axesList;n(),t.get("containLabel")&&(d(o,function(t){if(!t.model.get("axisLabel.inside")){var e=r(t);if(e){var n=t.isHorizontal()?"height":"width",o=t.model.get("axisLabel.margin");i[n]-=e[n]+o,"top"===t.position?i.y+=e.height+o:"left"===t.position&&(i.x+=e.width+o)}}}),n())},v.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},v.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},v.convertToPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},v.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},v._findConvertTarget=function(t,e){var n,i,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],s=e.gridModel,u=this._coordsList;if(r)n=r.coordinateSystem,h.indexOf(u,n)<0&&(n=null);else if(o&&a)n=this.getCartesian(o.componentIndex,a.componentIndex);else if(o)i=this.getAxis("x",o.componentIndex);else if(a)i=this.getAxis("y",a.componentIndex);else if(s){var l=s.coordinateSystem;l===this&&(n=this._coordsList[0])}return{cartesian:n,axis:i}},v.containPoint=function(t){var e=this._coordsList[0];return e?e.containPoint(t):void 0},v._initCartesian=function(t,e){function n(n){return function(s,u){if(i(s,t,e)){var l=s.get("position");"x"===n?"top"!==l&&"bottom"!==l&&(l="bottom",r[l]&&(l="top"===l?"bottom":"top")):"left"!==l&&"right"!==l&&(l="left",r[l]&&(l="left"===l?"right":"left")),r[l]=!0;var h=new f(n,c.createScaleByModel(s),[0,0],s.get("type"),l),p="category"===h.type;h.onBand=p&&s.get("boundaryGap"),h.inverse=s.get("inverse"),h.onZero=s.get("axisLine.onZero"),s.axis=h,h.model=s,h.grid=this,h.index=u,this._axesList.push(h),o[n][u]=h,a[n]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};return e.eachComponent("xAxis",n("x"),this),e.eachComponent("yAxis",n("y"),this),a.x&&a.y?(this._axesMap=o,void d(o.x,function(t,e){d(o.y,function(n,i){var r="x"+e+"y"+i,o=new p(r);o.grid=this,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(t),o.addAxis(n)},this)},this)):(this._axesMap={},void(this._axesList=[]))},v._updateScale=function(t,e){function n(t,e,n){d(n.coordDimToDataDim(e.dim),function(n){e.scale.unionExtent(t.getDataExtent(n,"ordinal"!==e.scale.type))})}h.each(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(r){if(u(r)){var o=s(r,t),a=o[0],l=o[1];if(!i(a,e,t)||!i(l,e,t))return;var c=this.getCartesian(a.componentIndex,l.componentIndex),h=r.getData(),p=c.getAxis("x"),f=c.getAxis("y");"list"===h.type&&(n(h,p,r),n(h,f,r))}},this)};var y=["xAxis","yAxis"];o.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,r){var a=new o(i,t,e);a.name="grid_"+r,a.resize(i,e),i.coordinateSystem=a,n.push(a)}),t.eachSeries(function(e){if(u(e)){var n=s(e,t),i=n[0],r=n[1],o=i.findGridModel();if(!o)throw new Error('Grid "'+h.retrieve(i.get("gridIndex"),i.get("gridId"),0)+'" not found');if(i.findGridModel()!==r.findGridModel())throw new Error("xAxis and yAxis must use the same grid");var a=o.coordinateSystem;e.coordinateSystem=a.getCartesian(i.componentIndex,r.componentIndex)}}),n},o.dimensions=p.prototype.dimensions,n(26).register("cartesian2d",o),t.exports=o},function(t,e,n){var i=n(116),r=n(118);n(119),n(120);var o=n(117),a=n(7),s=n(4),u=n(8),l={};l.getScaleExtent=function(t,e){var n=t.scale,i=n.getExtent(),r=i[1]-i[0];if("ordinal"===n.type)return isFinite(r)?i:[0,0];var o=e.getMin?e.getMin():e.get("min"),u=e.getMax?e.getMax():e.get("max"),l=e.getNeedCrossZero?e.getNeedCrossZero():!e.get("scale"),c=e.get("boundaryGap");s.isArray(c)||(c=[c||0,c||0]),c[0]=a.parsePercent(c[0],1),c[1]=a.parsePercent(c[1],1);var h=!0,p=!0;return null==o&&(o=i[0]-c[0]*r,h=!1),null==u&&(u=i[1]+c[1]*r,p=!1),"dataMin"===o&&(o=i[0]),"dataMax"===u&&(u=i[1]),l&&(o>0&&u>0&&!h&&(o=0),0>o&&0>u&&!p&&(u=0)),[o,u]},l.niceScaleExtent=function(t,e){var n=t.scale,i=l.getScaleExtent(t,e),r=null!=(e.getMin?e.getMin():e.get("min")),o=null!=(e.getMax?e.getMax():e.get("max")),a=e.get("splitNumber");"log"===n.type&&(n.base=e.get("logBase")),n.setExtent(i[0],i[1]),n.niceExtent(a,r,o);var s=e.get("minInterval");if(isFinite(s)&&!r&&!o&&"interval"===n.type){var u=n.getInterval(),c=Math.max(Math.abs(u),s)/u;i=n.getExtent();var h=(i[1]+i[0])/2;n.setExtent(c*(i[0]-h)+h,c*(i[1]-h)+h),n.niceExtent(a)}var u=e.get("interval");null!=u&&n.setInterval&&n.setInterval(u)},l.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new i(t.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(o.getClass(e)||r).create(t)}},l.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||0>n&&0>i)},l.getAxisLabelInterval=function(t,e,n,i){var r,o=0,a=0,s=1;e.length>40&&(s=Math.floor(e.length/40));for(var l=0;l<t.length;l+=s){var c=t[l],h=u.getBoundingRect(e[l],n,"center","top");h[i?"x":"y"]+=c,h[i?"width":"height"]*=1.3,r?r.intersect(h)?(a++,o=Math.max(o,a)):(r.union(h),a=0):r=h.clone()}return 0===o&&s>1?s:(o+1)*s-1},l.getFormattedLabels=function(t,e){var n=t.scale,i=n.getTicksLabels(),r=n.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",null!=e?e:"")}}(e),s.map(i,e)):"function"==typeof e?s.map(r,function(i,r){return e("category"===t.type?n.getLabel(i):i,r)},this):i},t.exports=l},function(t,e,n){var i=n(4),r=n(117),o=r.prototype,a=r.extend({type:"ordinal",init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return"string"==typeof t?i.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),o.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return o.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(o.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:i.noop,niceExtent:i.noop});a.create=function(){return new a},t.exports=a},function(t,e,n){function i(){this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var r=n(13),o=i.prototype;o.parse=function(t){return t},o.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},o.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},o.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},o.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},o.getExtent=function(){return this._extent.slice()},o.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},o.getTicksLabels=function(){for(var t=[],e=this.getTicks(),n=0;n<e.length;n++)t.push(this.getLabel(e[n]));return t},r.enableClassExtend(i),r.enableClassManagement(i,{registerWhenExtend:!0}),t.exports=i},function(t,e,n){var i=n(7),r=n(6),o=n(117),a=Math.floor,s=Math.ceil,u=i.getPrecisionSafe,l=i.round,c=o.extend({type:"interval",_interval:0,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),c.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var t=this._interval,e=this._extent,n=[],i=1e4;if(t){var r=this._niceExtent,o=u(t)+2;e[0]<r[0]&&n.push(e[0]);for(var a=r[0];a<=r[1];)if(n.push(a),a=l(a+t,o),n.length>i)return[];e[1]>(n.length?n[n.length-1]:r[1])&&n.push(e[1])}return n},getTicksLabels:function(){for(var t=[],e=this.getTicks(),n=0;n<e.length;n++)t.push(this.getLabel(e[n]));return t},getLabel:function(t){return r.addCommas(t)},niceTicks:function(t){t=t||5;var e=this._extent,n=e[1]-e[0];if(isFinite(n)){0>n&&(n=-n,e.reverse());var r=l(i.nice(n/t,!0),Math.max(u(e[0]),u(e[1]))+2),o=u(r)+2,c=[l(s(e[0]/r)*r,o),l(a(e[1]/r)*r,o)];this._interval=r,this._niceExtent=c}},niceExtent:function(t,e,n){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=i[0];n?i[0]-=r/2:(i[1]+=r/2,i[0]-=r/2)}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.niceTicks(t);var u=this._interval;e||(i[0]=l(a(i[0]/u)*u)),n||(i[1]=l(s(i[1]/u)*u))}});c.create=function(){return new c},t.exports=c},function(t,e,n){var i=n(4),r=n(7),o=n(6),a=n(118),s=a.prototype,u=Math.ceil,l=Math.floor,c=1e3,h=60*c,p=60*h,f=24*p,d=function(t,e,n,i){for(;i>n;){var r=n+i>>>1;t[r][2]<e?n=r+1:i=r}return n},g=a.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return o.formatTime(e[0],n)},niceExtent:function(t,e,n){var i=this._extent;if(i[0]===i[1]&&(i[0]-=f,i[1]+=f),i[1]===-1/0&&1/0===i[0]){var o=new Date;i[1]=new Date(o.getFullYear(),o.getMonth(),o.getDate()),i[0]=i[1]-f}this.niceTicks(t);var a=this._interval;e||(i[0]=r.round(l(i[0]/a)*a)),n||(i[1]=r.round(u(i[1]/a)*a))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0],i=n/t,o=m.length,a=d(m,i,0,o),s=m[Math.min(a,o-1)],c=s[2];if("year"===s[0]){var h=n/c,p=r.nice(h/t,!0);c*=p}var f=[u(e[0]/c)*c,l(e[1]/c)*c];this._stepLvl=s,this._interval=c,this._niceExtent=f},parse:function(t){return+r.parseDate(t)}});i.each(["contain","normalize"],function(t){g.prototype[t]=function(e){return s[t].call(this,this.parse(e))}});var m=[["hh:mm:ss",1,c],["hh:mm:ss",5,5*c],["hh:mm:ss",10,10*c],["hh:mm:ss",15,15*c],["hh:mm:ss",30,30*c],["hh:mm\nMM-dd",1,h],["hh:mm\nMM-dd",5,5*h],["hh:mm\nMM-dd",10,10*h],["hh:mm\nMM-dd",15,15*h],["hh:mm\nMM-dd",30,30*h],["hh:mm\nMM-dd",1,p],["hh:mm\nMM-dd",2,2*p],["hh:mm\nMM-dd",6,6*p],["hh:mm\nMM-dd",12,12*p],["MM-dd\nyyyy",1,f],["week",7,7*f],["month",1,31*f],["quarter",3,380*f/4],["half-year",6,380*f/2],["year",1,380*f]];g.create=function(){return new g},t.exports=g},function(t,e,n){function i(t,e){return h(t,c(e))}var r=n(4),o=n(117),a=n(7),s=n(118),u=o.prototype,l=s.prototype,c=a.getPrecisionSafe,h=a.round,p=Math.floor,f=Math.ceil,d=Math.pow,g=Math.log,m=o.extend({type:"log",base:10,$constructor:function(){o.apply(this,arguments),this._originalScale=new s},getTicks:function(){var t=this._originalScale,e=this._extent,n=t.getExtent();return r.map(l.getTicks.call(this),function(r){var o=a.round(d(this.base,r));return o=r===e[0]&&t.__fixMin?i(o,n[0]):o,o=r===e[1]&&t.__fixMax?i(o,n[1]):o},this)},getLabel:l.getLabel,scale:function(t){return t=u.scale.call(this,t),d(this.base,t)},setExtent:function(t,e){var n=this.base;t=g(t)/g(n),e=g(e)/g(n),l.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=u.getExtent.call(this);e[0]=d(t,e[0]),e[1]=d(t,e[1]);var n=this._originalScale,r=n.getExtent();return n.__fixMin&&(e[0]=i(e[0],r[0])),n.__fixMax&&(e[1]=i(e[1],r[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=g(t[0])/g(e),t[1]=g(t[1])/g(e),u.unionExtent.call(this,t)},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(1/0===n||0>=n)){var i=a.quantity(n),r=t/n*i;for(.5>=r&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var o=[a.round(f(e[0]/i)*i),a.round(p(e[1]/i)*i)];this._interval=i,this._niceExtent=o}},niceExtent:function(t,e,n){l.niceExtent.call(this,t,e,n);var i=this._originalScale;i.__fixMin=e,i.__fixMax=n}});r.each(["contain","normalize"],function(t){m.prototype[t]=function(e){return e=g(e)/g(this.base),u[t].call(this,e)}}),m.create=function(){return new m},t.exports=m},function(t,e,n){"use strict";function i(t){o.call(this,t)}var r=n(4),o=n(122);i.prototype={constructor:i,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoints:function(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e])},e,this)},dataToPoint:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(t[0],e)),i.toGlobalCoord(i.dataToCoord(t[1],e))]},pointToData:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return[n.coordToData(n.toLocalCoord(t[0]),e),i.coordToData(i.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},r.inherits(i,o),t.exports=i},function(t,e,n){"use strict";function i(t){return this._axes[t]}var r=n(4),o=function(t){this._axes={},this._dimList=[],this.name=t||""};o.prototype={constructor:o,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return r.map(this._dimList,i,this)},getAxesByScale:function(t){return t=t.toLowerCase(),r.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r],a=this._axes[o];i[o]=a[e](t[o])}return i}},t.exports=o},function(t,e,n){var i=n(4),r=n(124),o=n(125),a=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom"};a.prototype={constructor:a,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),t},getLabelInterval:function(){var t=this._labelInterval;return t||(t=this._labelInterval=o(this)),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},toLocalCoord:null,toGlobalCoord:null},i.inherits(a,r),t.exports=a},function(t,e,n){function i(t,e){var n=t[1]-t[0],i=e,r=n/i/2;t[0]+=r,t[1]-=r}var r=n(7),o=r.linearMap,a=n(4),s=[0,1],u=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};u.prototype={constructor:u,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&i>=t},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){var t=this._extent.slice();return t},getPixelPrecision:function(t){return r.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&(n=n.slice(),i(n,r.count())),o(t,s,n,e)},coordToData:function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),i(n,r.count()));var a=o(t,n,s,e);return this.scale.scale(a)},getTicksCoords:function(t){if(this.onBand&&!t){for(var e=this.getBands(),n=[],i=0;i<e.length;i++)n.push(e[i][0]);return e[i-1]&&n.push(e[i-1][1]),n}return a.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return a.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],n=this.scale.count(),i=t[0],r=t[1],o=r-i,a=0;n>a;a++)e.push([o*a/n+i,o*(a+1)/n+i]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n}},t.exports=u},function(t,e,n){"use strict";var i=n(4),r=n(115);t.exports=function(t){var e=t.model,n=e.getModel("axisLabel"),o=n.get("interval");return"category"!==t.type||"auto"!==o?"auto"===o?0:o:r.getAxisLabelInterval(i.map(t.scale.getTicks(),t.dataToCoord,t),e.getFormattedLabels(),n.getModel("textStyle").getFont(),t.isHorizontal())}},function(t,e,n){"use strict";n(127);var i=n(19);t.exports=i.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(t,e,n){"use strict";function i(t,e){return e.type||(e.data?"category":"value")}var r=n(19),o=n(4),a=n(128),s=r.extend({type:"cartesian2dAxis",axis:null,init:function(){s.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this.resetRange()},findGridModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.get("gridIndex"),id:this.get("gridId")})[0]}});o.merge(s.prototype,n(130)),o.merge(s.prototype,n(131));var u={offset:0};a("x",s,i,u),a("y",s,i,u),t.exports=s},function(t,e,n){var i=n(129),r=n(4),o=n(19),a=n(21),s=["value","category","time","log"];t.exports=function(t,e,n,u){r.each(s,function(o){e.extend({type:t+"Axis."+o,mergeDefaultAndTheme:function(e,i){var s=this.layoutMode,u=s?a.getLayoutParams(e):{},l=i.getTheme();r.merge(e,l.get(o+"Axis")),r.merge(e,this.getDefaultOption()),e.type=n(t,e),s&&a.mergeLayoutParam(e,u,s)},defaultOption:r.mergeAll([{},i[o+"Axis"],u],!0)})}),o.registerSubTypeDefaulter(t+"Axis",r.curry(n,t))}},function(t,e,n){var i=n(4),r={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o=i.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},r),a=i.merge({boundaryGap:[0,0],splitNumber:5},r),s=i.defaults({scale:!0,min:"dataMin",max:"dataMax"},a),u=i.defaults({logBase:10},a);u.scale=!0,t.exports={categoryAxis:o,valueAxis:a,timeAxis:s,logAxis:u}},function(t,e,n){function i(t){return a.isObject(t)&&null!=t.value?t.value:t}function r(){return"category"===this.get("type")&&a.map(this.get("data"),i)}function o(){return s.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var a=n(4),s=n(115);t.exports={getFormattedLabels:o,getCategories:r}},function(t){t.exports={getMin:function(){var t=this.option,e=null!=t.rangeStart?t.rangeStart:t.min;return e instanceof Date&&(e=+e),e},getMax:function(){var t=this.option,e=null!=t.rangeEnd?t.rangeEnd:t.max;return e instanceof Date&&(e=+e),e},getNeedCrossZero:function(){var t=this.option;return null!=t.rangeStart||null!=t.rangeEnd?!1:!t.scale},setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},function(t,e,n){"use strict";n(127),n(133)},function(t,e,n){function i(t,e){function n(t){var e=i.getAxis(t);return e.toGlobalCoord(e.dataToCoord(0))}var i=t.coordinateSystem,r=e.axis,o={},a=r.position,s=r.onZero?"onZero":a,u=r.dim,l=i.getRect(),c=[l.x,l.x+l.width,l.y,l.y+l.height],h=e.get("offset")||0,p={x:{top:c[2]-h,bottom:c[3]+h},y:{left:c[0]-h,right:c[1]+h}};p.x.onZero=Math.max(Math.min(n("y"),p.x.bottom),p.x.top),p.y.onZero=Math.max(Math.min(n("x"),p.y.right),p.y.left),o.position=["y"===u?p.y[s]:c[0],"x"===u?p.x[s]:c[3]],o.rotation=Math.PI/2*("x"===u?0:1);var f={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=f[a],r.onZero&&(o.labelOffset=p[u][a]-p[u].onZero),e.getModel("axisTick").get("inside")&&(o.tickDirection=-o.tickDirection),e.getModel("axisLabel").get("inside")&&(o.labelDirection=-o.labelDirection);var d=e.getModel("axisLabel").get("rotate");return o.labelRotation="top"===s?-d:d,o.labelInterval=r.getLabelInterval(),o.z2=1,o}var r=n(4),o=n(43),a=n(134),s=a.ifIgnoreOnTick,u=a.getInterval,l=["axisLine","axisLabel","axisTick","axisName"],c=["splitArea","splitLine"],h=n(1).extendComponentView({type:"axis",render:function(t){this.group.removeAll();var e=this._axisGroup;if(this._axisGroup=new o.Group,this.group.add(this._axisGroup),t.get("show")){var n=t.findGridModel(),s=i(n,t),u=new a(t,s);r.each(l,u.add,u),this._axisGroup.add(u.getGroup()),r.each(c,function(e){t.get(e+".show")&&this["_"+e](t,n,s.labelInterval)},this),o.groupTransition(e,this._axisGroup,t)}},_splitLine:function(t,e,n){var i=t.axis,a=t.getModel("splitLine"),l=a.getModel("lineStyle"),c=l.get("color"),h=u(a,n);c=r.isArray(c)?c:[c];for(var p=e.coordinateSystem.getRect(),f=i.isHorizontal(),d=0,g=i.getTicksCoords(),m=i.scale.getTicks(),v=[],y=[],_=l.getLineStyle(),b=0;b<g.length;b++)if(!s(i,b,h)){var x=i.toGlobalCoord(g[b]);f?(v[0]=x,v[1]=p.y,y[0]=x,y[1]=p.y+p.height):(v[0]=p.x,v[1]=x,y[0]=p.x+p.width,y[1]=x);var w=d++%c.length;this._axisGroup.add(new o.Line(o.subPixelOptimizeLine({anid:"line_"+m[b],shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:r.defaults({stroke:c[w]},_),silent:!0})))}},_splitArea:function(t,e,n){var i=t.axis,a=t.getModel("splitArea"),l=a.getModel("areaStyle"),c=l.get("color"),h=e.coordinateSystem.getRect(),p=i.getTicksCoords(),f=i.scale.getTicks(),d=i.toGlobalCoord(p[0]),g=i.toGlobalCoord(p[0]),m=0,v=u(a,n),y=l.getAreaStyle();c=r.isArray(c)?c:[c];for(var _=1;_<p.length;_++)if(!s(i,_,v)){var b,x,w,T,k=i.toGlobalCoord(p[_]);i.isHorizontal()?(b=d,x=h.y,w=k-b,T=h.height):(b=h.x,x=g,w=h.width,T=k-x);var $=m++%c.length;this._axisGroup.add(new o.Rect({anid:"area_"+f[_],shape:{x:b,y:x,width:w,height:T},style:r.defaults({fill:c[$]},y),silent:!0})),d=b+w,g=x+T}}});h.extend({type:"xAxis"}),h.extend({type:"yAxis"})},function(t,e,n){function i(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function r(t,e,n){var i,r,o=p(e-t.rotation);return f(o)?(r=n>0?"top":"bottom",i="center"):f(o-v)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&v>o?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,verticalAlign:r}}function o(t,e,n,i){var r,o,a=p(n-t.rotation),s=i[0]>i[1],u="start"===e&&!s||"start"!==e&&s;return f(a-v/2)?(o=u?"bottom":"top",r="center"):f(a-1.5*v)?(o=u?"top":"bottom",r="center"):(o="middle",r=1.5*v>a&&a>v/2?u?"left":"right":u?"right":"left"),{rotation:a,textAlign:r,verticalAlign:o}}function a(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}var s=n(4),u=n(6),l=n(43),c=n(12),h=n(7),p=h.remRadian,f=h.isRadianAroundZero,d=n(10),g=d.applyTransform,m=s.retrieve,v=Math.PI,y=function(t,e){this.opt=e,this.axisModel=t,s.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new l.Group;var n=new l.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};y.prototype={constructor:y,hasBuilder:function(t){return!!_[t]},add:function(t){_[t].call(this)},getGroup:function(){return this.group}};var _={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],o=[n[1],0];i&&(g(r,r,i),g(o,o,i)),this.group.add(new l.Line(l.subPixelOptimizeLine({anid:"line",shape:{x1:r[0],y1:r[1],x2:o[0],y2:o[1]},style:s.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var t=this.axisModel;if(t.get("axisTick.show"))for(var e=t.axis,n=t.getModel("axisTick"),i=this.opt,r=n.getModel("lineStyle"),o=n.get("length"),a=x(n,i.labelInterval),u=e.getTicksCoords(n.get("alignWithLabel")),c=e.scale.getTicks(),h=[],p=[],f=this._transform,d=0;d<u.length;d++)if(!b(e,d,a)){var m=u[d];h[0]=m,h[1]=0,p[0]=m,p[1]=i.tickDirection*o,f&&(g(h,h,f),g(p,p,f)),this.group.add(new l.Line(l.subPixelOptimizeLine({anid:"tick_"+c[d],shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:s.defaults(r.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function t(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();return n&&i?(n.applyTransform(t.getLocalTransform()),i.applyTransform(e.getLocalTransform()),n.intersect(i)):void 0}var e=this.opt,n=this.axisModel,o=m(e.axisLabelShow,n.get("axisLabel.show"));if(o){var u=n.axis,h=n.getModel("axisLabel"),p=h.getModel("textStyle"),f=h.get("margin"),d=u.scale.getTicks(),g=n.getFormattedLabels(),y=m(e.labelRotation,h.get("rotate"))||0;y=y*v/180;var _=r(e,y,e.labelDirection),x=n.get("data"),w=[],T=a(n),k=n.get("triggerEvent");if(s.each(d,function(t,r){if(!b(u,r,e.labelInterval)){var o=p;x&&x[t]&&x[t].textStyle&&(o=new c(x[t].textStyle,p,n.ecModel));var a=o.getTextColor()||n.get("axisLine.lineStyle.color"),s=u.dataToCoord(t),h=[s,e.labelOffset+e.labelDirection*f],d=u.scale.getLabel(t),m=new l.Text({anid:"label_"+t,style:{text:g[r],textAlign:o.get("align",!0)||_.textAlign,textVerticalAlign:o.get("baseline",!0)||_.verticalAlign,textFont:o.getFont(),fill:"function"==typeof a?a(d):a},position:h,rotation:_.rotation,silent:T,z2:10});k&&(m.eventData=i(n),m.eventData.targetType="axisLabel",m.eventData.value=d),this._dumbGroup.add(m),m.updateTransform(),w.push(m),this.group.add(m),m.decomposeTransform()}},this),"category"!==u.type){if(n.getMin?n.getMin():n.get("min")){var $=w[0],S=w[1];t($,S)&&($.ignore=!0)}if(n.getMax?n.getMax():n.get("max")){var C=w[w.length-1],A=w[w.length-2];t(A,C)&&(C.ignore=!0)}}}},axisName:function(){var t=this.opt,e=this.axisModel,n=m(t.axisName,e.get("name"));if(n){var c,h=e.get("nameLocation"),p=t.nameDirection,f=e.getModel("nameTextStyle"),d=e.get("nameGap")||0,g=this.axisModel.axis.getExtent(),y=g[0]>g[1]?-1:1,_=["start"===h?g[0]-y*d:"end"===h?g[1]+y*d:(g[0]+g[1])/2,"middle"===h?t.labelOffset+p*d:0],b=e.get("nameRotate");null!=b&&(b=b*v/180);var x;"middle"===h?c=r(t,null!=b?b:t.rotation,p):(c=o(t,h,b||0,g),x=t.axisNameAvailableWidth,null!=x&&(x=Math.abs(x/Math.sin(c.rotation)),!isFinite(x)&&(x=null)));var w=f.getFont(),T=e.get("nameTruncate",!0)||{},k=T.ellipsis,$=m(T.maxWidth,x),S=null!=k&&null!=$?u.truncateText(n,$,w,k,{minChar:2,placeholder:T.placeholder}):n,C=e.get("tooltip",!0),A=e.mainType,I={componentType:A,name:n,$vars:["name"]};I[A+"Index"]=e.componentIndex;var M=new l.Text({anid:"name",__fullText:n,__truncatedText:S,style:{text:S,textFont:w,fill:f.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:c.textAlign,textVerticalAlign:c.verticalAlign},position:_,rotation:c.rotation,silent:a(e),z2:1,tooltip:C&&C.show?s.extend({content:n,formatter:function(){return n},formatterParams:I},C):null});e.get("triggerEvent")&&(M.eventData=i(e),M.eventData.targetType="axisName",M.eventData.name=n),this._dumbGroup.add(M),M.updateTransform(),this.group.add(M),M.decomposeTransform()}}},b=y.ifIgnoreOnTick=function(t,e,n){var i,r=t.scale;return"ordinal"===r.type&&("function"==typeof n?(i=r.getTicks()[e],!n(i,r.getLabel(i))):e%(n+1))},x=y.getInterval=function(t,e){var n=t.get("interval");return(null==n||"auto"==n)&&(n=e),n};t.exports=y},function(t,e,n){var i=n(4);n(114),n(136),n(137);var r=n(139),o=n(1);o.registerLayout(i.curry(r,"bar")),o.registerVisual(function(t){t.eachSeriesByType("bar",function(t){var e=t.getData();e.setVisual("legendSymbol","roundRect")})}),n(113)},function(t,e,n){"use strict";var i=n(28),r=n(102);t.exports=i.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(t,e){var n=t.coordinateSystem;if("cartesian2d"!==n)throw new Error("Bar only support cartesian2d coordinateSystem");return r(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(t,!0),i=this.getData(),r=i.getLayout("offset"),o=i.getLayout("size"),a=e.getBaseAxis().isHorizontal()?0:1;return n[a]+=r+o/2,n}return[0/0,0/0]},brushSelector:"rect",defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(t,e,n){"use strict";function i(t,e){var n=t.width>0?1:-1,i=t.height>0?1:-1;e=Math.min(e,Math.abs(t.width),Math.abs(t.height)),t.x+=n*e/2,t.y+=i*e/2,t.width-=n*e,t.height-=i*e
}var r=n(4),o=n(43);r.extend(n(12).prototype,n(138)),t.exports=n(1).extendChartView({type:"bar",render:function(t,e,n){var i=t.get("coordinateSystem");return"cartesian2d"===i&&this._renderOnCartesian(t,e,n),this.group},dispose:r.noop,_renderOnCartesian:function(t){function e(e,n){var s=a.getItemLayout(e),u=a.getItemModel(e).get(p)||0;i(s,u);var l=new o.Rect({shape:r.extend({},s)});if(h){var f=l.shape,d=c?"height":"width",g={};f[d]=0,g[d]=s[d],o[n?"updateProps":"initProps"](l,{shape:g},t,e)}return l}var n=this.group,a=t.getData(),s=this._data,u=t.coordinateSystem,l=u.getBaseAxis(),c=l.isHorizontal(),h=t.get("animation"),p=["itemStyle","normal","barBorderWidth"];a.diff(s).add(function(t){if(a.hasValue(t)){var i=e(t);a.setItemGraphicEl(t,i),n.add(i)}}).update(function(r,u){var l=s.getItemGraphicEl(u);if(!a.hasValue(r))return void n.remove(l);l||(l=e(r,!0));var c=a.getItemLayout(r),h=a.getItemModel(r).get(p)||0;i(c,h),o.updateProps(l,{shape:c},t,r),a.setItemGraphicEl(r,l),n.add(l)}).remove(function(e){var i=s.getItemGraphicEl(e);i&&(i.style.text="",o.updateProps(i,{shape:{width:0}},t,e,function(){n.remove(i)}))}).execute(),this._updateStyle(t,a,c),this._data=a},_updateStyle:function(t,e,n){function i(t,e,n,i,r){o.setText(t,e,n),t.text=i,"outside"===t.textPosition&&(t.textPosition=r)}e.eachItemGraphicEl(function(a,s){var u=e.getItemModel(s),l=e.getItemVisual(s,"color"),c=e.getItemVisual(s,"opacity"),h=e.getItemLayout(s),p=u.getModel("itemStyle.normal"),f=u.getModel("itemStyle.emphasis").getBarItemStyle();a.setShape("r",p.get("barBorderRadius")||0),a.useStyle(r.defaults({fill:l,opacity:c},p.getBarItemStyle()));var d=n?h.height>0?"bottom":"top":h.width>0?"left":"right",g=u.getModel("label.normal"),m=u.getModel("label.emphasis"),v=a.style;g.get("show")?i(v,g,l,r.retrieve(t.getFormattedLabel(s,"normal"),t.getRawValue(s)),d):v.text="",m.get("show")?i(f,m,l,r.retrieve(t.getFormattedLabel(s,"emphasis"),t.getRawValue(s)),d):f.text="",o.setHoverStyle(a,f)})},remove:function(t){var e=this.group;t.get("animation")?this._data&&this._data.eachItemGraphicEl(function(n){n.style.text="",o.updateProps(n,{shape:{width:0}},t,n.dataIndex,function(){e.remove(n)})}):e.removeAll()}})},function(t,e,n){var i=n(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getBarItemStyle:function(t){var e=i.call(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}}},function(t,e,n){"use strict";function i(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function r(t){return t.dim+t.index}function o(t){var e={};s.each(t,function(t){var n=t.getData(),o=t.coordinateSystem,a=o.getBaseAxis(),s=a.getExtent(),u="category"===a.type?a.getBandWidth():Math.abs(s[1]-s[0])/n.count(),c=e[r(a)]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=c.stacks;e[r(a)]=c;var p=i(t);h[p]||c.autoWidthCount++,h[p]=h[p]||{width:0,maxWidth:0};var f=l(t.get("barWidth"),u),d=l(t.get("barMaxWidth"),u),g=t.get("barGap"),m=t.get("barCategoryGap");f&&!h[p].width&&(f=Math.min(c.remainedWidth,f),h[p].width=f,c.remainedWidth-=f),d&&(h[p].maxWidth=d),null!=g&&(c.gap=g),null!=m&&(c.categoryGap=m)});var n={};return s.each(e,function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,o=l(t.categoryGap,r),a=l(t.gap,1),u=t.remainedWidth,c=t.autoWidthCount,h=(u-o)/(c+(c-1)*a);h=Math.max(h,0),s.each(i,function(t){var e=t.maxWidth;!t.width&&e&&h>e&&(e=Math.min(e,u),u-=e,t.width=e,c--)}),h=(u-o)/(c+(c-1)*a),h=Math.max(h,0);var p,f=0;s.each(i,function(t){t.width||(t.width=h),p=t,f+=t.width*(1+a)}),p&&(f-=p.width*a);var d=-f/2;s.each(i,function(t,i){n[e][i]=n[e][i]||{offset:d,width:t.width},d+=t.width*(1+a)})}),n}function a(t,e){var n=o(s.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),a={},u={};e.eachSeriesByType(t,function(t){var e=t.getData(),o=t.coordinateSystem,s=o.getBaseAxis(),l=i(t),c=n[r(s)][l],h=c.offset,p=c.width,f=o.getOtherAxis(s),d=t.get("barMinHeight")||0,g=s.onZero?f.toGlobalCoord(f.dataToCoord(0)):f.getGlobalExtent()[0],m=o.dataToPoints(e,!0);a[l]=a[l]||[],u[l]=u[l]||[],e.setLayout({offset:h,size:p}),e.each(f.dim,function(t,n){if(!isNaN(t)){a[l][n]||(a[l][n]={p:g,n:g},u[l][n]={p:g,n:g});var i,r,o,s,c=t>=0?"p":"n",v=m[n],y=a[l][n][c],_=u[l][n][c];f.isHorizontal()?(i=y,r=v[1]+h,o=v[0]-_,s=p,u[l][n][c]+=o,Math.abs(o)<d&&(o=(0>o?-1:1)*d),a[l][n][c]+=o):(i=v[0]+h,r=y,o=p,s=v[1]-_,u[l][n][c]+=s,Math.abs(s)<d&&(s=(0>=s?-1:1)*d),a[l][n][c]+=s),e.setItemLayout(n,{x:i,y:r,width:o,height:s})}},!0)},this)}var s=n(4),u=n(7),l=u.parsePercent;t.exports=a},function(t,e,n){var i=n(4),r=n(1);n(141),n(143),n(144)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),r.registerVisual(i.curry(n(145),"pie")),r.registerLayout(i.curry(n(146),"pie")),r.registerProcessor(i.curry(n(148),"pie"))},function(t,e,n){"use strict";var i=n(98),r=n(4),o=n(5),a=n(103),s=n(142),u=n(1).extendSeriesModel({type:"series.pie",init:function(t){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(t.data),this._defaultLabelLine(t)},mergeOption:function(t){u.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},getInitialData:function(t){var e=a(["value"],t.data),n=new i(e,this);return n.initData(t.data),n},getDataParams:function(t){var e=this._data,n=u.superCall(this,"getDataParams",t),i=e.getSum("value");return n.percent=i?+(e.get("value",t)/i*100).toFixed(2):0,n.$vars.push("percent"),n},_defaultLabelLine:function(t){o.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,n=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,n.show=n.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});r.mixin(u,s),t.exports=u},function(t,e,n){var i=n(4);t.exports={updateSelectedMap:function(t){this._selectTargetMap=i.reduce(t||[],function(t,e){return t[e.name]=e,t},{})},select:function(t){var e=this._selectTargetMap,n=e[t],r=this.get("selectedMode");"single"===r&&i.each(e,function(t){t.selected=!1}),n&&(n.selected=!0)},unSelect:function(t){var e=this._selectTargetMap[t];e&&(e.selected=!1)},toggleSelected:function(t){var e=this._selectTargetMap[t];return null!=e?(this[e.selected?"unSelect":"select"](t),e.selected):void 0},isSelected:function(t){var e=this._selectTargetMap[t];return e&&e.selected}}},function(t,e,n){function i(t,e,n,i){var o=e.getData(),a=this.dataIndex,s=o.getName(a),u=e.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),o.each(function(t){r(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),u,n)})}function r(t,e,n,i,r){var o=(e.startAngle+e.endAngle)/2,a=Math.cos(o),s=Math.sin(o),u=n?i:0,l=[a*u,s*u];r?t.animate().when(200,{position:l}).start("bounceOut"):t.attr("position",l)}function o(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}s.Group.call(this);var r=new s.Sector({z2:2}),o=new s.Polyline,a=new s.Text;this.add(r),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function a(t,e,n,i,r){var o=i.getModel("textStyle"),a="inside"===r||"inner"===r;return{fill:o.getTextColor()||(a?"#fff":t.getItemVisual(e,"color")),opacity:t.getItemVisual(e,"opacity"),textFont:o.getFont(),text:u.retrieve(t.hostModel.getFormattedLabel(e,n),t.getName(e))}}var s=n(43),u=n(4),l=o.prototype;l.updateData=function(t,e,n){function i(){a.stopAnimation(!0),a.animateTo({shape:{r:h.r+10}},300,"elasticOut")}function o(){a.stopAnimation(!0),a.animateTo({shape:{r:h.r}},300,"elasticOut")}var a=this.childAt(0),l=t.hostModel,c=t.getItemModel(e),h=t.getItemLayout(e),p=u.extend({},h);p.label=null,n?(a.setShape(p),a.shape.endAngle=h.startAngle,s.updateProps(a,{shape:{endAngle:h.endAngle}},l,e)):s.updateProps(a,{shape:p},l,e);var f=c.getModel("itemStyle"),d=t.getItemVisual(e,"color");a.useStyle(u.defaults({lineJoin:"bevel",fill:d},f.getModel("normal").getItemStyle())),a.hoverStyle=f.getModel("emphasis").getItemStyle(),r(this,t.getItemLayout(e),c.get("selected"),l.get("selectedOffset"),l.get("animation")),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),c.get("hoverAnimation")&&l.ifEnableAnimation()&&a.on("mouseover",i).on("mouseout",o).on("emphasis",i).on("normal",o),this._updateLabel(t,e),s.setHoverStyle(this)},l._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),u=t.getItemLayout(e),l=u.label,c=t.getItemVisual(e,"color");s.updateProps(n,{shape:{points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]}},r,e),s.updateProps(i,{style:{x:l.x,y:l.y}},r,e),i.attr({style:{textVerticalAlign:l.verticalAlign,textAlign:l.textAlign,textFont:l.font},rotation:l.rotation,origin:[l.x,l.y],z2:10});var h=o.getModel("label.normal"),p=o.getModel("label.emphasis"),f=o.getModel("labelLine.normal"),d=o.getModel("labelLine.emphasis"),g=h.get("position")||p.get("position");i.setStyle(a(t,e,"normal",h,g)),i.ignore=i.normalIgnore=!h.get("show"),i.hoverIgnore=!p.get("show"),n.ignore=n.normalIgnore=!f.get("show"),n.hoverIgnore=!d.get("show"),n.setStyle({stroke:c,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(f.getModel("lineStyle").getLineStyle()),i.hoverStyle=a(t,e,"emphasis",p,g),n.hoverStyle=d.getModel("lineStyle").getLineStyle();var m=f.get("smooth");m&&m===!0&&(m=.4),n.setShape({smooth:m})},u.inherits(o,s.Group);var c=n(42).extend({type:"pie",init:function(){var t=new s.Group;this._sectorGroup=t},render:function(t,e,n,r){if(!r||r.from!==this.uid){var a=t.getData(),s=this._data,l=this.group,c=e.get("animation"),h=!s,p=u.curry(i,this.uid,t,c,n),f=t.get("selectedMode");if(a.diff(s).add(function(t){var e=new o(a,t);h&&e.eachChild(function(t){t.stopAnimation(!0)}),f&&e.on("click",p),a.setItemGraphicEl(t,e),l.add(e)}).update(function(t,e){var n=s.getItemGraphicEl(e);n.updateData(a,t),n.off("click"),f&&n.on("click",p),l.add(n),a.setItemGraphicEl(t,n)}).remove(function(t){var e=s.getItemGraphicEl(t);l.remove(e)}).execute(),c&&h&&a.count()>0){var d=a.getItemLayout(0),g=Math.max(n.getWidth(),n.getHeight())/2,m=u.bind(l.removeClipPath,l);l.setClipPath(this._createClipPath(d.cx,d.cy,g,d.startAngle,d.clockwise,m,t))}this._data=a}},dispose:function(){},_createClipPath:function(t,e,n,i,r,o,a){var u=new s.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return s.initProps(u,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},a,o),u},containPoint:function(t,e){var n=e.getData(),i=n.getItemLayout(0);if(i){var r=t[0]-i.cx,o=t[1]-i.cy,a=Math.sqrt(r*r+o*o);return a<=i.r&&a>=i.r0}}});t.exports=c},function(t,e,n){var i=n(1),r=n(4);t.exports=function(t,e){r.each(e,function(e){e.update="updateView",i.registerAction(e,function(n,i){var r={};return i.eachComponent({mainType:"series",subType:t,query:n},function(t){t[e.method]&&t[e.method](n.name);var i=t.getData();i.each(function(e){var n=i.getName(e);r[n]=t.isSelected(n)||!1})}),{name:n.name,selected:r}})})}},function(t){t.exports=function(t,e){var n={};e.eachRawSeriesByType(t,function(t){var i=t.getRawData(),r={};if(!e.isSeriesFiltered(t)){var o=t.getData();o.each(function(t){var e=o.getRawIndex(t);r[e]=t}),i.each(function(e){var a=i.getItemModel(e),s=r[e],u=null!=s&&o.getItemVisual(s,"color",!0);if(u)i.setItemVisual(e,"color",u);else{var l=a.get("itemStyle.normal.color")||t.getColorFromPalette(i.getName(e),n);i.setItemVisual(e,"color",l),null!=s&&o.setItemVisual(s,"color",l)}})}})}},function(t,e,n){var i=n(7),r=i.parsePercent,o=n(147),a=n(4),s=2*Math.PI,u=Math.PI/180;t.exports=function(t,e,n){e.eachSeriesByType(t,function(t){var e=t.get("center"),l=t.get("radius");a.isArray(l)||(l=[0,l]),a.isArray(e)||(e=[e,e]);var c=n.getWidth(),h=n.getHeight(),p=Math.min(c,h),f=r(e[0],c),d=r(e[1],h),g=r(l[0],p/2),m=r(l[1],p/2),v=t.getData(),y=-t.get("startAngle")*u,_=t.get("minAngle")*u,b=v.getSum("value"),x=Math.PI/(b||v.count())*2,w=t.get("clockwise"),T=t.get("roseType"),k=v.getDataExtent("value");k[0]=0;var $=s,S=0,C=y,A=w?1:-1;if(v.each("value",function(t,e){var n;n="area"!==T?0===b?x:t*x:s/(v.count()||1),_>n?(n=_,$-=_):S+=t;var r=C+A*n;v.setItemLayout(e,{angle:n,startAngle:C,endAngle:r,clockwise:w,cx:f,cy:d,r0:g,r:T?i.linearMap(t,k,[g,m]):m}),C=r},!0),s>$)if(.001>=$){var I=s/v.count();v.each(function(t){var e=v.getItemLayout(t);e.startAngle=y+A*t*I,e.endAngle=y+A*(t+1)*I})}else x=$/S,C=y,v.each("value",function(t,e){var n=v.getItemLayout(e),i=n.angle===_?_:t*x;n.startAngle=C,n.endAngle=C+A*i,C+=A*i});o(t,m,c,h)})}},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){function s(e,n,i){for(var r=e;n>r;r++)if(t[r].y+=i,r>e&&n>r+1&&t[r+1].y>t[r].y+t[r].height)return void u(r,i/2);u(n-1,i/2)}function u(e,n){for(var i=e;i>=0&&(t[i].y-=n,!(i>0&&t[i].y>t[i-1].y+t[i-1].height));i--);}function l(t,e,n,i,r,o){for(var a=o>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,s=0,u=t.length;u>s;s++)if("center"!==t[s].position){var l=Math.abs(t[s].y-i),c=t[s].len,h=t[s].len2,p=r+c>l?Math.sqrt((r+c+h)*(r+c+h)-l*l):Math.abs(t[s].x-n);e&&p>=a&&(p=a-10),!e&&a>=p&&(p=a+10),t[s].x=n+p*o,a=p}}t.sort(function(t,e){return t.y-e.y});for(var c,h=0,p=t.length,f=[],d=[],g=0;p>g;g++)c=t[g].y-h,0>c&&s(g,p,-c,r),h=t[g].y+t[g].height;0>a-h&&u(p-1,h-a);for(var g=0;p>g;g++)t[g].y>=n?d.push(t[g]):f.push(t[g]);l(f,!1,e,n,i,r),l(d,!0,e,n,i,r)}function r(t,e,n,r,o,a){for(var s=[],u=[],l=0;l<t.length;l++)t[l].x<e?s.push(t[l]):u.push(t[l]);i(u,e,n,r,1,o,a),i(s,e,n,r,-1,o,a);for(var l=0;l<t.length;l++){var c=t[l].linePoints;if(c){var h=c[1][0]-c[2][0];c[2][0]=t[l].x<e?t[l].x+3:t[l].x-3,c[1][1]=c[2][1]=t[l].y,c[1][0]=c[2][0]+h}}}var o=n(8);t.exports=function(t,e,n,i){var a,s,u=t.getData(),l=[],c=!1;u.each(function(n){var i,r,h,p,f=u.getItemLayout(n),d=u.getItemModel(n),g=d.getModel("label.normal"),m=g.get("position")||d.get("label.emphasis.position"),v=d.getModel("labelLine.normal"),y=v.get("length"),_=v.get("length2"),b=(f.startAngle+f.endAngle)/2,x=Math.cos(b),w=Math.sin(b);a=f.cx,s=f.cy;var T="inside"===m||"inner"===m;if("center"===m)i=f.cx,r=f.cy,p="center";else{var k=(T?(f.r+f.r0)/2*x:f.r*x)+a,$=(T?(f.r+f.r0)/2*w:f.r*w)+s;if(i=k+3*x,r=$+3*w,!T){var S=k+x*(y+e-f.r),C=$+w*(y+e-f.r),A=S+(0>x?-1:1)*_,I=C;i=A+(0>x?-5:5),r=I,h=[[k,$],[S,C],[A,I]]}p=T?"center":x>0?"left":"right"}var M=g.getModel("textStyle").getFont(),D=g.get("rotate")?0>x?-b+Math.PI:-b:0,E=t.getFormattedLabel(n,"normal")||u.getName(n),O=o.getBoundingRect(E,M,p,"top");c=!!D,f.label={x:i,y:r,position:m,height:O.height,len:y,len2:_,linePoints:h,textAlign:p,verticalAlign:"middle",font:M,rotation:D},T||l.push(f.label)}),!c&&t.get("avoidLabelOverlap")&&r(l,a,s,e,n,i)}},function(t){t.exports=function(t,e){var n=e.findComponents({mainType:"legend"});n&&n.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var i=e.getName(t),r=0;r<n.length;r++)if(!n[r].isSelected(i))return!1;return!0},this)},this)}},function(t,e,n){var i=n(4),r=n(1);n(150),n(151),r.registerVisual(i.curry(n(110),"scatter","circle",null)),r.registerLayout(i.curry(n(111),"scatter")),n(113)},function(t,e,n){"use strict";var i=n(102),r=n(28);t.exports=r.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(t,e){var n=i(t.data,this,e);return n},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(t,e,n){var i=n(105),r=n(152);n(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new i,this._largeSymbolDraw=new r},render:function(t){var e=t.getData(),n=this._largeSymbolDraw,i=this._normalSymbolDraw,r=this.group,o=t.get("large")&&e.count()>t.get("largeThreshold")?n:i;this._symbolDraw=o,o.updateData(e),r.add(o.group),r.remove(o===n?i.group:n.group)},updateLayout:function(t){this._symbolDraw.updateLayout(t)},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e,!0)},dispose:function(){}})},function(t,e,n){function i(){this.group=new r.Group,this._symbolEl=new a({})}var r=n(43),o=n(107),a=r.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(t,e){for(var n=e.points,i=e.sizes,r=this.symbolProxy,o=r.shape,a=0;a<n.length;a++){var s=n[a],u=i[a];u[0]<4?t.rect(s[0]-u[0]/2,s[1]-u[1]/2,u[0],u[1]):(o.x=s[0]-u[0]/2,o.y=s[1]-u[1]/2,o.width=u[0],o.height=u[1],r.buildPath(t,o,!0))}},findDataIndex:function(t,e){for(var n=this.shape,i=n.points,r=n.sizes,o=i.length-1;o>=0;o--){var a=i[o],s=r[o],u=a[0]-s[0]/2,l=a[1]-s[1]/2;if(t>=u&&e>=l&&t<=u+s[0]&&e<=l+s[1])return o}return-1}}),s=i.prototype;s.updateData=function(t){this.group.removeAll();var e=this._symbolEl,n=t.hostModel;e.setShape({points:t.mapArray(t.getItemLayout),sizes:t.mapArray(function(e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array||(n=[n,n]),n})}),e.symbolProxy=o.createSymbol(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.useStyle(n.getModel("itemStyle.normal").getItemStyle(["color"]));var i=t.getVisual("color");i&&e.setColor(i),e.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(e.dataIndex=n)}),this.group.add(e)},s.updateLayout=function(t){var e=t.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)})},s.remove=function(){this.group.removeAll()},t.exports=i},function(t,e,n){var i=n(4),r=n(1);n(154),n(159),n(160),r.registerVisual(i.curry(n(145),"radar")),r.registerVisual(i.curry(n(110),"radar","circle",null)),r.registerLayout(n(161)),r.registerProcessor(i.curry(n(148),"radar")),r.registerPreprocessor(n(162))},function(t,e,n){n(155),n(157),n(158)},function(t,e,n){function i(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=r.map(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,i=new o(n,new a);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i},this),this.resize(t,n),this.cx,this.cy,this.r,this.startAngle}var r=n(4),o=n(156),a=n(118),s=n(7),u=n(115);i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},i.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle,r=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[r,o]},i.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,o=Math.atan2(-n,e),a=1/0,s=-1,u=0;u<this._indicatorAxes.length;u++){var l=this._indicatorAxes[u],c=Math.abs(o-l.angle);a>c&&(r=l,s=u,a=c)}return[s,+(r&&r.coodToData(i))]},i.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),o=e.getHeight(),a=Math.min(i,o)/2;this.cx=s.parsePercent(n[0],i),this.cy=s.parsePercent(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=s.parsePercent(t.get("radius"),a),r.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},i.prototype.update=function(t){function e(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}var n=this._indicatorAxes,i=this._model;r.each(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var o=e.getData();r.each(n,function(t){t.scale.unionExtent(o.getDataExtent(t.dim))})}},this);var o=i.get("splitNumber");r.each(n,function(t){var n=u.getScaleExtent(t,t.model);u.niceScaleExtent(t,t.model);var i=t.model,r=t.scale,a=i.get("min"),l=i.get("max"),c=r.getInterval();if(null!=a&&null!=l)r.setInterval((l-a)/o);else if(null!=a){var h;do h=a+c*o,r.setExtent(+a,h),r.setInterval(c),c=e(c);while(h<n[1]&&isFinite(h)&&isFinite(n[1]))}else if(null!=l){var p;do p=l-c*o,r.setExtent(p,+l),r.setInterval(c),c=e(c);while(p>n[0]&&isFinite(p)&&isFinite(n[0]))}else{var f=r.getTicks().length-1;f>o&&(c=e(c));var d=Math.round((n[0]+n[1])/2/c)*c,g=Math.round(o/2);r.setExtent(s.round(d-g*c),s.round(d+(o-g)*c)),r.setInterval(c)}})},i.dimensions=[],i.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var o=new i(r,t,e);n.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])}),n},n(26).register("radar",i),t.exports=i},function(t,e,n){function i(t,e,n){o.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}var r=n(4),o=n(124);r.inherits(i,o),t.exports=i},function(t,e,n){function i(t,e){return s.defaults({show:e},t)}var r=n(129),o=r.valueAxis,a=n(12),s=n(4),u=n(130),l=n(1).extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("name.textStyle"),c=this.get("name.show"),h=this.get("name.formatter"),p=this.get("nameGap"),f=this.get("triggerEvent"),d=s.map(this.get("indicator")||[],function(d){if(null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0),d=s.merge(s.clone(d),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:r,axisLabel:o,name:d.text,nameLocation:"end",nameGap:p,nameTextStyle:l,triggerEvent:f},!1),c||(d.name=""),"string"==typeof h){var g=d.name;d.name=h.replace("{value}",null!=g?g:"")}else"function"==typeof h&&(d.name=h(d.name,d));var m=s.extend(new a(d,null,this.ecModel),u);return m.mainType="radar",m.componentIndex=this.componentIndex,m},this);this.getIndicatorModels=function(){return d}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:s.merge({lineStyle:{color:"#bbb"}},o.axisLine),axisLabel:i(o.axisLabel,!1),axisTick:i(o.axisTick,!1),splitLine:i(o.splitLine,!0),splitArea:i(o.splitArea,!0),indicator:[]}});t.exports=l},function(t,e,n){var i=n(134),r=n(4),o=n(43),a=["axisLine","axisLabel","axisTick","axisName"];t.exports=n(1).extendComponentView({type:"radar",render:function(t){var e=this.group;e.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),o=r.map(n,function(t){var n=new i(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n});r.each(o,function(t){r.each(a,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}var n=t.coordinateSystem,i=t.get("splitNumber"),a=n.getIndicatorAxes();if(a.length){var s=t.get("shape"),u=t.getModel("splitLine"),l=t.getModel("splitArea"),c=u.getModel("lineStyle"),h=l.getModel("areaStyle"),p=u.get("show"),f=l.get("show"),d=c.get("color"),g=h.get("color");d=r.isArray(d)?d:[d],g=r.isArray(g)?g:[g];var m=[],v=[];if("circle"===s)for(var y=a[0].getTicksCoords(),_=n.cx,b=n.cy,x=0;x<y.length;x++){if(p){var w=e(m,d,x);m[w].push(new o.Circle({shape:{cx:_,cy:b,r:y[x]}}))}if(f&&x<y.length-1){var w=e(v,g,x);v[w].push(new o.Ring({shape:{cx:_,cy:b,r0:y[x],r:y[x+1]}}))}}else for(var T=r.map(a,function(t,e){var i=t.getTicksCoords();return r.map(i,function(t){return n.coordToPoint(t,e)})}),k=[],x=0;i>=x;x++){for(var $=[],S=0;S<a.length;S++)$.push(T[S][x]);if($[0]?$.push($[0].slice()):console.error("Can't draw value axis "+x),p){var w=e(m,d,x);m[w].push(new o.Polyline({shape:{points:$}}))}if(f&&k){var w=e(v,g,x-1);v[w].push(new o.Polygon({shape:{points:$.concat(k)}}))}k=$.slice().reverse()}var C=c.getLineStyle(),A=h.getAreaStyle();r.each(v,function(t,e){this.group.add(o.mergePath(t,{style:r.defaults({stroke:"none",fill:g[e%g.length]},A),silent:!0}))},this),r.each(m,function(t,e){this.group.add(o.mergePath(t,{style:r.defaults({fill:"none",stroke:d[e%d.length]},C),silent:!0}))},this)}}})},function(t,e,n){"use strict";var i=n(28),r=n(98),o=n(103),a=n(4),s=i.extend({type:"series.radar",dependencies:["radar"],init:function(){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(t){var e=t.data||[],n=o([],e,[],"indicator_"),i=new r(n,this);return i.initData(e),i},formatTooltip:function(t){var e=this.getRawValue(t),n=this.coordinateSystem,i=n.getIndicatorAxes();return(""==this._data.getName(t)?this.name:this._data.getName(t))+"<br/>"+a.map(i,function(t,n){return t.name+" : "+e[n]}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});t.exports=s},function(t,e,n){function i(t){return o.isArray(t)||(t=[+t,+t]),t}var r=n(43),o=n(4),a=n(107);t.exports=n(1).extendChartView({type:"radar",render:function(t){function e(t,e){var n=t.getItemVisual(e,"symbol")||"circle",r=t.getItemVisual(e,"color");if("none"!==n){var o=a.createSymbol(n,-.5,-.5,1,1,r);return o.attr({style:{strokeNoScale:!0},z2:100,scale:i(t.getItemVisual(e,"symbolSize"))}),o}}function n(n,i,o,a,s,u){o.removeAll();for(var l=0;l<i.length-1;l++){var c=e(a,s);c&&(c.__dimIdx=l,n[l]?(c.attr("position",n[l]),r[u?"initProps":"updateProps"](c,{position:i[l]},t,s)):c.attr("position",i[l]),o.add(c))}}function s(t){return o.map(t,function(){return[u.cx,u.cy]})}var u=t.coordinateSystem,l=this.group,c=t.getData(),h=this._data;c.diff(h).add(function(e){var i=c.getItemLayout(e);if(i){var o=new r.Polygon,a=new r.Polyline,u={shape:{points:i}};o.shape.points=s(i),a.shape.points=s(i),r.initProps(o,u,t,e),r.initProps(a,u,t,e);var l=new r.Group,h=new r.Group;l.add(a),l.add(o),l.add(h),n(a.shape.points,i,h,c,e,!0),c.setItemGraphicEl(e,l)}}).update(function(e,i){var o=h.getItemGraphicEl(i),a=o.childAt(0),s=o.childAt(1),u=o.childAt(2),l={shape:{points:c.getItemLayout(e)}};l.shape.points&&(n(a.shape.points,l.shape.points,u,c,e,!1),r.updateProps(a,l,t),r.updateProps(s,l,t),c.setItemGraphicEl(e,o))}).remove(function(t){l.remove(h.getItemGraphicEl(t))}).execute(),c.eachItemGraphicEl(function(e,n){function i(){h.attr("ignore",v)}function a(){h.attr("ignore",m)}var s=c.getItemModel(n),u=e.childAt(0),h=e.childAt(1),p=e.childAt(2),f=c.getItemVisual(n,"color");l.add(e),u.useStyle(o.defaults(s.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:f})),u.hoverStyle=s.getModel("lineStyle.emphasis").getLineStyle();var d=s.getModel("areaStyle.normal"),g=s.getModel("areaStyle.emphasis"),m=d.isEmpty()&&d.parentModel.isEmpty(),v=g.isEmpty()&&g.parentModel.isEmpty();v=v&&m,h.ignore=m,h.useStyle(o.defaults(d.getAreaStyle(),{fill:f,opacity:.7})),h.hoverStyle=g.getAreaStyle();var y=s.getModel("itemStyle.normal").getItemStyle(["color"]),_=s.getModel("itemStyle.emphasis").getItemStyle(),b=s.getModel("label.normal"),x=s.getModel("label.emphasis");p.eachChild(function(e){e.setStyle(y),e.hoverStyle=o.clone(_);var i=c.get(c.dimensions[e.__dimIdx],n);r.setText(e.style,b,f),e.setStyle({text:b.get("show")?o.retrieve(t.getFormattedLabel(n,"normal",null,e.__dimIdx),i):""}),r.setText(e.hoverStyle,x,f),e.hoverStyle.text=x.get("show")?o.retrieve(t.getFormattedLabel(n,"emphasis",null,e.__dimIdx),i):""}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",i).on("mouseover",i).on("normal",a).on("mouseout",a),r.setHoverStyle(e)}),this._data=c},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}})},function(t){t.exports=function(t){t.eachSeriesByType("radar",function(t){function e(t,e){i[e]=i[e]||[],i[e][o]=r.dataToPoint(t,o)}var n=t.getData(),i=[],r=t.coordinateSystem;if(r){for(var o=0;o<r.getIndicatorAxes().length;o++){var a=n.dimensions[o];n.each(a,e)}n.each(function(t){i[t][0]&&i[t].push(i[t][0].slice()),n.setItemLayout(t,i[t])})}})}},function(t,e,n){var i=n(4);t.exports=function(t){var e=t.polar;if(e){i.isArray(e)||(e=[e]);var n=[];i.each(e,function(e){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],i.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}i.each(t.series,function(t){"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}},function(t,e,n){var i=n(1),r=i.PRIORITY;n(164),n(174),n(178),n(165),i.registerLayout(n(180)),i.registerVisual(n(181)),i.registerProcessor(r.PROCESSOR.STATISTIC,n(182)),i.registerPreprocessor(n(183)),n(144)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,n){var i=n(98),r=n(28),o=n(4),a=n(103),s=n(6),u=s.encodeHTML,l=s.addCommas,c=n(142),h=n(165),p=r.extend({type:"series.map",layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(t){t=this._fillOption(t,t.map),this.option=t,p.superApply(this,"init",arguments),this.updateSelectedMap(t.data)},getInitialData:function(t){var e=a(["value"],t.data||[]),n=new i(e,this);return n.initData(t.data),n},mergeOption:function(t){t.data&&(t=this._fillOption(t,this.option.map)),p.superCall(this,"mergeOption",t),this.updateSelectedMap(this.option.data)},_fillOption:function(t,e){return t=o.extend({},t),t.data=h.getFilledRegions(t.data,e),t},getRawValue:function(t){return this._data.get("value",t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),n=l(this.getRawValue(t)),i=e.getName(t),r=this.seriesGroup,o=[],a=0;a<r.length;a++){var s=r[a].originalData.indexOfName(i);isNaN(r[a].originalData.get("value",s))||o.push(u(r[a].name))}return o.join(", ")+"<br />"+i+" : "+n},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});o.mixin(p,c),t.exports=p},function(t,e,n){function i(t,e){var n,i=this.getBoundingRect(),r=t.get("layoutCenter"),o=t.get("layoutSize"),s=e.getWidth(),l=e.getHeight(),c=t.get("aspectScale")||.75,h=i.width/i.height*c,p=!1;r&&o&&(r=[u.parsePercent(r[0],s),u.parsePercent(r[1],l)],o=u.parsePercent(o,Math.min(s,l)),isNaN(r[0])||isNaN(r[1])||isNaN(o)?console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):p=!0);var f;if(p){var f={};h>1?(f.width=o,f.height=o/h):(f.height=o,f.width=o*h),f.y=r[1]-f.height/2,f.x=r[0]-f.width/2}else n=t.getBoxLayoutParams(),n.aspect=h,f=a.getLayoutRect(n,{width:s,height:l});this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function r(t,e){s.each(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}var o=n(166),a=n(21),s=n(4),u=n(7),l={},c=function(t){console.error("Map "+t+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")
},h={dimensions:o.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("geo",function(t,a){var s=t.get("map"),u=l[s];u||c(s);var h=new o(s+a,s,u&&u.geoJson,u&&u.specialAreas,t.get("nameMap"));h.zoomLimit=t.get("scaleLimit"),n.push(h),r(h,t),t.coordinateSystem=h,h.model=t,h.resize=i,h.resize(t,e)}),t.eachSeries(function(t){var e=t.get("coordinateSystem");if("geo"===e){var i=t.get("geoIndex")||0;t.coordinateSystem=n[i]}});var a={};return t.eachSeriesByType("map",function(t){var e=t.get("map");a[e]=a[e]||[],a[e].push(t)}),s.each(a,function(t,a){var u=l[a];u||c(t[0].get("map"));var h=s.map(t,function(t){return t.get("nameMap")}),p=new o(a,a,u&&u.geoJson,u&&u.specialAreas,s.mergeAll(h));p.zoomLimit=s.retrieve.apply(null,s.map(t,function(t){return t.get("scaleLimit")})),n.push(p),p.resize=i,p.resize(t[0],e),s.each(t,function(t){t.coordinateSystem=p,r(p,t)})}),n},registerMap:function(t,e,n){e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),l[t]={geoJson:e,specialAreas:n}},getMap:function(t){return l[t]},getFilledRegions:function(t,e){var n=(t||[]).slice(),i=h.getMap(e),r=i&&i.geoJson;if(!r)return c(e),t;for(var o={},a=r.features,s=0;s<n.length;s++)o[n[s].name]=n[s];for(var s=0;s<a.length;s++){var u=a[s].properties.name;o[u]||n.push({name:u})}return n}},p=n(1);p.registerMap=h.registerMap,p.getMap=h.getMap,p.loadMap=function(){},p.registerCoordinateSystem("geo",h),t.exports=h},function(t,e,n){function i(t,e,n,i,r){u.call(this,t),this.map=e,this._nameCoordMap={},this.loadGeoJson(n,i,r)}function r(t,e,n,i){var r=n.geoModel,o=n.seriesModel,a=r?r.coordinateSystem:o?o.coordinateSystem||(o.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[t](i):null}var o=n(167),a=n(4),s=n(9),u=n(170),l=[n(171),n(172),n(173)];i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},loadGeoJson:function(t,e,n){try{this.regions=t?o(t):[]}catch(i){throw"Invalid geoJson format\n"+i}e=e||{},n=n||{};for(var r=this.regions,s={},u=0;u<r.length;u++){var c=r[u].name;c=n[c]||c,r[u].name=c,s[c]=r[u],this.addGeoCoord(c,r[u].center);var h=e[c];h&&r[u].transformTo(h.left,h.top,h.width,h.height)}this._regionsMap=s,this._rect=null,a.each(l,function(t){t(this)},this)},transformTo:function(t,e,n,i){var r=this.getBoundingRect();r=r.clone(),r.y=-r.y-r.height;var o=this._viewTransform;o.transform=r.calculateTransform(new s(t,e,n,i)),o.decomposeTransform();var a=o.scale;a[1]=-a[1],o.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getGeoCoord:function(t){return this._nameCoordMap[t]},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,n=0;n<e.length;n++){var i=e[n].getBoundingRect();t=t||i.clone(),t.union(i)}return this._rect=t||new s(0,0,0,0)},dataToPoints:function(t){var e=[];return t.mapArray(["lng","lat"],function(t,n){return e[0]=t,e[1]=n,this.dataToPoint(e)},this)},dataToPoint:function(t){return"string"==typeof t&&(t=this.getGeoCoord(t)),t?u.prototype.dataToPoint.call(this,t):void 0},convertToPixel:a.curry(r,"dataToPoint"),convertFromPixel:a.curry(r,"pointToData")},a.mixin(i,u),t.exports=i},function(t,e,n){function i(t){if(!t.UTF8Encoding)return t;for(var e=t.features,n=0;n<e.length;n++)for(var i=e[n],o=i.geometry,a=o.coordinates,s=o.encodeOffsets,u=0;u<a.length;u++){var l=a[u];if("Polygon"===o.type)a[u]=r(l,s[u]);else if("MultiPolygon"===o.type)for(var c=0;c<l.length;c++){var h=l[c];l[c]=r(h,s[u][c])}}return t.UTF8Encoding=!1,t}function r(t,e){for(var n=[],i=e[0],r=e[1],o=0;o<t.length;o+=2){var a=t.charCodeAt(o)-64,s=t.charCodeAt(o+1)-64;a=a>>1^-(1&a),s=s>>1^-(1&s),a+=i,s+=r,i=a,r=s,n.push([a/1024,s/1024])}return n}function o(t){for(var e=[],n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)e.push(t[n][i]);return e}var a=n(4),s=n(168);t.exports=function(t){return i(t),a.map(a.filter(t.features,function(t){return t.geometry&&t.properties}),function(t){var e=t.properties,n=t.geometry,i=n.coordinates;return"MultiPolygon"===n.type&&(i=o(i)),new s(e.name,i,e.cp)})}},function(t,e,n){function i(t,e,n){if(this.name=t,this.contours=e,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}var r=n(169),o=n(9),a=n(51),s=n(10);i.prototype={constructor:i,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],i=[-e,-e],r=[],u=[],l=this.contours,c=0;c<l.length;c++)a.fromPoints(l[c],r,u),s.min(n,n,r),s.max(i,i,u);return 0===c&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new o(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.contours;if(e.contain(t[0],t[1]))for(var i=0,o=n.length;o>i;i++)if(r.contain(n[i],t[0],t[1]))return!0;return!1},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),a=r.width/r.height;n?i||(i=n/a):n=a*i;for(var u=new o(t,e,n,i),l=r.calculateTransform(u),c=this.contours,h=0;h<c.length;h++)for(var p=0;p<c[h].length;p++)s.applyTransform(c[h][p],c[h][p],l);r=this._rect,r.copy(u),this.center=[r.x+r.width/2,r.y+r.height/2]}},t.exports=i},function(t,e,n){function i(t,e){return Math.abs(t-e)<a}function r(t,e,n){var r=0,a=t[0];if(!a)return!1;for(var s=1;s<t.length;s++){var u=t[s];r+=o(a[0],a[1],u[0],u[1],e,n),a=u}var l=t[0];return i(a[0],l[0])&&i(a[1],l[1])||(r+=o(a[0],a[1],l[0],l[1],e,n)),0!==r}var o=n(58),a=1e-8;t.exports={contain:r}},function(t,e,n){function i(){u.call(this)}function r(t){this.name=t,this.zoomLimit,u.call(this),this._roamTransform=new i,this._viewTransform=new i,this._center,this._zoom}function o(t,e,n,i){var r=n.seriesModel,o=r?r.coordinateSystem:null;return o===this?o[t](i):null}var a=n(10),s=n(11),u=n(34),l=n(4),c=n(9),h=a.applyTransform;l.mixin(i,u),r.prototype={constructor:r,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,i){return this._rect=new c(t,e,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,i){this.transformTo(t,e,n,i),this._viewRect=new c(t,e,n,i)},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),o=this._viewTransform;o.transform=r.calculateTransform(new c(t,e,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect(),e=t.x+t.width/2,n=t.y+t.height/2;return[e,n]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var t=this._viewTransform.getLocalTransform(),e=this._roamTransform,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=a.applyTransform([],i,t),n=a.applyTransform([],n,t),e.origin=i,e.position=[n[0]-i[0],n[1]-i[1]],e.scale=[r,r],this._updateTransform()},_updateTransform:function(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&&s.copy(this.transform||(this.transform=[]),e.transform),this.transform?(this.invTransform=this.invTransform||[],s.invert(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t){var e=this.transform;return e?h([],t,e):[t[0],t[1]]},pointToData:function(t){var e=this.invTransform;return e?h([],t,e):[t[0],t[1]]},convertToPixel:l.curry(o,"dataToPoint"),convertFromPixel:l.curry(o,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},l.mixin(r,u),t.exports=r},function(t,e,n){for(var i=n(168),r=[126,25],o=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],a=0;a<o.length;a++)for(var s=0;s<o[a].length;s++)o[a][s][0]/=10.5,o[a][s][1]/=-14,o[a][s][0]+=r[0],o[a][s][1]+=r[1];t.exports=function(t){"china"===t.map&&t.regions.push(new i("南海诸岛",o,r))}},function(t,e,n){var i=n(4),r={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};t.exports=function(t){i.each(t.regions,function(t){var e=r[t.name];if(e){var n=t.center;n[0]+=e[0]/10.5,n[1]+=-e[1]/14}})}},function(t,e,n){var i=n(4),r={Russia:[100,60],"United States of America":[-99,38]};t.exports=function(t){i.each(t.regions,function(t){var e=r[t.name];if(e){var n=t.center;n[0]=e[0],n[1]=e[1]}})}},function(t,e,n){var i=n(43),r=n(175);n(1).extendChartView({type:"map",render:function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;if(o.removeAll(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id){var a=this._mapDraw;a&&o.add(a.group)}else if(t.needsDrawMap){var a=this._mapDraw||new r(n,!0);o.add(a.group),a.draw(t,e,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t){var e=t.originalData,n=this.group;e.each("value",function(r,o){if(!isNaN(r)){var a=e.getItemLayout(o);if(a&&a.point){var s=a.point,u=a.offset,l=new i.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:s[0]+9*u,cy:s[1],r:3},silent:!0,z2:10});if(!u){var c=t.mainSeries.getData(),h=e.getName(o),p=h,f=c.indexOfName(h),d=e.getItemModel(o),g=d.getModel("label.normal"),m=d.getModel("label.emphasis"),v=g.getModel("textStyle"),y=m.getModel("textStyle"),_=c.getItemGraphicEl(f);l.setStyle({textPosition:"bottom"});var b=function(){l.setStyle({text:m.get("show")?p:"",textFill:y.getTextColor(),textFont:y.getFont()})},x=function(){l.setStyle({text:g.get("show")?p:"",textFill:v.getTextColor(),textFont:v.getFont()})};_.on("mouseover",b).on("mouseout",x).on("emphasis",b).on("normal",x),x()}n.add(l)}}})}})},function(t,e,n){function i(t){var e=t.getItemStyle(),n=t.get("areaColor");return n&&(e.fill=n),e}function r(t,e,n,i,r){n.off("click"),n.off("mousedown"),e.get("selectedMode")&&(n.on("mousedown",function(){t._mouseDownFlag=!0}),n.on("click",function(a){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var s=a.target;!s.__region;)s=s.parent;if(s){var u=s.__region,l={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",name:u.name,from:r.uid};l[e.mainType+"Id"]=e.id,i.dispatchAction(l),o(e,n)}}}))}function o(t,e){e.eachChild(function(e){e.__region&&e.trigger(t.isSelected(e.__region.name)?"emphasis":"normal")})}function a(t,e){var n=new u.Group;this._controller=new s(t.getZr(),e?n:null,null),this.group=n,this._updateGroup=e,this._mouseDownFlag}var s=n(176),u=n(43),l=n(4);a.prototype={constructor:a,draw:function(t,e,n,a,s){var c=t.getData&&t.getData(),h=t.coordinateSystem,p=this.group,f=h.scale,d={position:h.position,scale:f};!p.childAt(0)||s?p.attr(d):u.updateProps(p,d,t),p.removeAll();var g=["itemStyle","normal"],m=["itemStyle","emphasis"],v=["label","normal"],y=["label","emphasis"];l.each(h.regions,function(e){var n=new u.Group,r=new u.CompoundPath({shape:{paths:[]}});n.add(r);var o,a=t.getRegionModel(e.name)||t,s=a.getModel(g),h=a.getModel(m),d=i(s,f),_=i(h,f),b=a.getModel(v),x=a.getModel(y);if(c){o=c.indexOfName(e.name);var w=c.getItemVisual(o,"color",!0);w&&(d.fill=w)}var T=b.getModel("textStyle"),k=x.getModel("textStyle");l.each(e.contours,function(t){var e=new u.Polygon({shape:{points:t}});r.shape.paths.push(e)}),r.setStyle(d),r.style.strokeNoScale=!0,r.culling=!0;var $=b.get("show"),S=x.get("show"),C=c&&isNaN(c.get("value",o)),A=c&&c.getItemLayout(o);if(!c||C&&($||S)||A&&A.showLabel){var I=c?o:e.name,M=t.getFormattedLabel(I,"normal"),D=t.getFormattedLabel(I,"emphasis"),E=new u.Text({style:{text:$?M||e.name:"",fill:T.getTextColor(),textFont:T.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:S?D||e.name:"",fill:k.getTextColor(),textFont:k.getFont()},position:e.center.slice(),scale:[1/f[0],1/f[1]],z2:10,silent:!0});n.add(E)}if(c)c.setItemGraphicEl(o,n);else{var a=t.getRegionModel(e.name);r.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:a&&a.option||{}}}n.__region=e,u.setHoverStyle(n,_,{hoverSilentOnTouch:!!t.get("selectedMode")}),p.add(n)}),this._updateController(t,e,n),r(this,t,p,n,a),o(t,p)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(t,e,n){function i(){var e={type:"geoRoam",componentType:a};return e[a+"Id"]=t.id,e}var r=t.coordinateSystem,o=this._controller;o.zoomLimit=t.get("scaleLimit"),o.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var a=t.mainType;o.off("pan").on("pan",function(t,e){this._mouseDownFlag=!1,n.dispatchAction(l.extend(i(),{dx:t,dy:e}))},this),o.off("zoom").on("zoom",function(t,e,r){if(this._mouseDownFlag=!1,n.dispatchAction(l.extend(i(),{zoom:t,originX:e,originY:r})),this._updateGroup){var o=this.group,a=o.scale;o.traverse(function(t){"text"===t.type&&t.attr("scale",[1/a[0],1/a[1]])})}},this),o.setContainsPoint(function(t,e){return r.getViewRectAfterRoam().contain(t,e)})}},t.exports=a},function(t,e,n){function i(t){if(!t.target||!t.target.draggable){var e=t.offsetX,n=t.offsetY;this.containsPoint&&this.containsPoint(e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function r(t){if(this._dragging&&(p.stop(t.event),"pinch"!==t.gestureEvent)){if(f.isTaken(this._zr,"globalPan"))return;var e=t.offsetX,n=t.offsetY,i=this._x,r=this._y,o=e-i,a=n-r;this._x=e,this._y=n;var s=this.target;if(s){var u=s.position;u[0]+=o,u[1]+=a,s.dirty()}p.stop(t.event),this.trigger("pan",o,a,i,r,e,n)}}function o(){this._dragging=!1}function a(t){var e=t.wheelDelta>0?1.1:1/1.1;u.call(this,t,e,t.offsetX,t.offsetY)}function s(t){if(!f.isTaken(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;u.call(this,t,e,t.pinchX,t.pinchY)}}function u(t,e,n,i){if(this.containsPoint&&this.containsPoint(n,i)){p.stop(t.event);var r=this.target,o=this.zoomLimit;if(r){var a=r.position,s=r.scale,u=this.zoom=this.zoom||1;if(u*=e,o){var l=o.min||0,c=o.max||1/0;u=Math.max(Math.min(c,u),l)}var h=u/this.zoom;this.zoom=u,a[0]-=(n-a[0])*(h-1),a[1]-=(i-a[1])*(h-1),s[0]*=h,s[1]*=h,r.dirty()}this.trigger("zoom",e,n,i)}}function l(t,e){this.target=e,this.containsPoint,this.zoomLimit,this.zoom,this._zr=t;var n=h.bind,u=n(i,this),l=n(r,this),p=n(o,this),f=n(a,this),d=n(s,this);c.call(this),this.setContainsPoint=function(t){this.containsPoint=t},this.enable=function(e){this.disable(),null==e&&(e=!0),(e===!0||"move"===e||"pan"===e)&&(t.on("mousedown",u),t.on("mousemove",l),t.on("mouseup",p)),(e===!0||"scale"===e||"zoom"===e)&&(t.on("mousewheel",f),t.on("pinch",d))},this.disable=function(){t.off("mousedown",u),t.off("mousemove",l),t.off("mouseup",p),t.off("mousewheel",f),t.off("pinch",d)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var c=n(33),h=n(4),p=n(88),f=n(177);h.mixin(l,c),t.exports=l},function(t,e,n){function i(t){return t[r]||(t[r]={})}var r="\x00_ec_interaction_mutex",o={take:function(t,e,n){var r=i(t);r[e]=n},release:function(t,e,n){var r=i(t),o=r[e];o===n&&(r[e]=null)},isTaken:function(t,e){return!!i(t)[e]}};n(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),t.exports=o},function(t,e,n){var i=n(4),r=n(179),o=n(1);o.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){var o=e.coordinateSystem;if("geo"===o.type){var a=r.updateCenterAndZoom(o,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(a.center),e.setZoom&&e.setZoom(a.zoom),"series"===n&&i.each(e.seriesGroup,function(t){t.setCenter(a.center),t.setZoom(a.zoom)})}})})},function(t){var e={};e.updateCenterAndZoom=function(t,e,n){var i=t.getZoom(),r=t.getCenter(),o=e.zoom,a=t.dataToPoint(r);if(null!=e.dx&&null!=e.dy){a[0]-=e.dx,a[1]-=e.dy;var r=t.pointToData(a);t.setCenter(r)}if(null!=o){if(n){var s=n.min||0,u=n.max||1/0;o=Math.max(Math.min(i*o,u),s)/i}t.scale[0]*=o,t.scale[1]*=o;var l=t.position,c=(e.originX-l[0])*(o-1),h=(e.originY-l[1])*(o-1);l[0]-=c,l[1]-=h,t.updateTransform();var r=t.pointToData(a);t.setCenter(r),t.setZoom(o*i)}return{center:t.getCenter(),zoom:t.getZoom()}},t.exports=e},function(t,e,n){var i=n(4);t.exports=function(t){var e={};t.eachSeriesByType("map",function(n){var r=n.get("map");if(!e[r]){var o={};i.each(n.seriesGroup,function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each("value",function(t,e){var r=i.getName(e),a=n.getRegion(r);if(a&&!isNaN(t)){var s=o[r]||0,u=n.dataToPoint(a.center);o[r]=s+1,i.setItemLayout(e,{point:u,offset:s})}})});var a=n.getData();a.each(function(t){var e=a.getName(t),n=a.getItemLayout(t)||{};n.showLabel=!o[e],a.setItemLayout(t,n)}),e[r]=!0}})}},function(t){t.exports=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),n=t.getModel("itemStyle.normal"),i=n.get("areaColor"),r=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:i,color:r})})}},function(t,e,n){function i(t,e){for(var n={},i=["value"],r=0;r<t.length;r++)t[r].each(i,function(e,i){var o=t[r].getName(i);n[o]=n[o]||[],isNaN(e)||n[o].push(e)});return t[0].map(i,function(i,r){for(var o=t[0].getName(r),a=0,s=1/0,u=-1/0,l=n[o].length,c=0;l>c;c++)s=Math.min(s,n[o][c]),u=Math.max(u,n[o][c]),a+=n[o][c];var h;return h="min"===e?s:"max"===e?u:"average"===e?a/l:a,0===l?0/0:h})}var r=n(4);t.exports=function(t){var e={};t.eachSeriesByType("map",function(t){var n=t.get("map");e[n]=e[n]||[],e[n].push(t)}),r.each(e,function(t){for(var e=i(r.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),n=0;n<t.length;n++)t[n].originalData=t[n].getData();for(var n=0;n<t.length;n++)t[n].seriesGroup=t,t[n].needsDrawMap=0===n,t[n].setData(e.cloneShallow()),t[n].mainSeries=t[0]})}},function(t,e,n){var i=n(4);t.exports=function(t){var e=[];i.each(t.series,function(t){"map"===t.type&&e.push(t)}),i.each(e,function(t){t.map=t.map||t.mapType,i.defaults(t,t.mapLocation)})}},function(t,e,n){var i=n(1);n(185),n(189),n(192),i.registerVisual(n(193)),i.registerLayout(n(195))},function(t,e,n){function i(t,e){var n=0;s.each(t.children,function(t){i(t,e);var r=t.value;s.isArray(r)&&(r=r[0]),n+=r});var r=t.value;e>=0&&(s.isArray(r)?r=r[0]:t.value=new Array(e)),(null==r||isNaN(r))&&(r=n),0>r&&(r=0),e>=0?t.value[0]=r:t.value=r}function r(t,e){var n=e.get("color");if(n){t=t||[];var i;if(s.each(t,function(t){var e=new u(t),n=e.get("color");(e.get("itemStyle.normal.color")||n&&"none"!==n)&&(i=!0)}),!i){var r=t[0]||(t[0]={});r.color=n.slice()}return t}}var o=n(28),a=n(186),s=n(4),u=n(12),l=n(6),c=n(188),h=l.encodeHTML,p=l.addCommas;t.exports=o.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n=t.data||[],o=t.name;null==o&&(o=t.name);var u={name:o,children:t.data},l=(n[0]||{}).value;i(u,s.isArray(l)?l.length:-1);var c=t.levels||[];return c=t.levels=r(c,e),a.createTree(u,this,c).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=p(s.isArray(n)?n[0]:n),r=e.getName(t);return h(r)+": "+i},getDataParams:function(t){var e=o.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=c.wrapTreePathInfo(n,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},s.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap={},this._idIndexMapCount=0);var n=e[t];return null==n&&(e[t]=n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;(!t||t!==e&&!e.contains(t))&&(this._viewRoot=e)}})},function(t,e,n){function i(t,e){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=o.map(e||[],function(e){return new a(e,t,t.ecModel)})}function r(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}var o=n(4),a=n(12),s=n(98),u=n(187),l=n(103),c=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};c.prototype={constructor:c,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),t=t||{},o.isString(t)&&(t={order:t});var i,r=t.order||"preorder",a=this[t.attr||"children"];"preorder"===r&&(i=e.call(n,this));for(var s=0;!i&&s<a.length;s++)a[s].eachNode(t,e,n);"postorder"===r&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;i>e;e++){var r=n[e].getNodeById(t);if(r)return r}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;i>e;e++){var r=n[e].contains(t);if(r)return r}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex),i=this.getLevelModel();return n.getModel(t,(i||e.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},i.prototype={constructor:i,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;i>n;n++)e[n].dataIndex=-1;for(var n=0,i=t.count();i>n;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},i.createTree=function(t,e,n){function o(t,e){h.push(t);var n=new c(t.name,a);e?r(n,e):a.root=n,a._nodes.push(n);var i=t.children;if(i)for(var s=0;s<i.length;s++)o(i[s],n)}var a=new i(e,n),h=[];o(t),a.root.updateDepthAndHeight(0);var p=l([{name:"value"}],h),f=new s(p,e);return f.initData(h),u({mainData:f,struct:a,structAttr:"tree"}),a.update(),a},t.exports=i},function(t,e,n){function i(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,l(e,n,t),p(n,function(n){p(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,h.curry(r,t))})}),e.wrapMethod("cloneShallow",h.curry(a,t)),p(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,h.curry(o,t))}),h.assert(n[e.dataType]===e)}function r(t,e){if(u(this)){var n=h.extend({},this[f]);n[this.dataType]=e,l(e,n,t)}else c(e,this.dataType,this[d],t);return e}function o(t,e){return t.struct&&t.struct.update(this),e}function a(t,e){return p(e[f],function(n,i){n!==e&&c(n.cloneShallow(),i,e,t)}),e}function s(t){var e=this[d];return null==t||null==e?e:e[f][t]}function u(t){return t[d]===t}function l(t,e,n){t[f]={},p(e,function(e,i){c(e,i,t,n)})}function c(t,e,n,i){n[f][e]=t,t[d]=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=s}var h=n(4),p=h.each,f="\x00__link_datas",d="\x00__link_mainData";t.exports=i},function(t,e,n){var i=n(4),r={retrieveTargetInfo:function(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var n=e.getData().tree.root,i=t.targetNode;if(i&&n.contains(i))return{node:i};var r=t.targetNodeId;if(null!=r&&(i=n.getNodeById(r)))return{node:i}}},getPathToRoot:function(t){for(var e=[];t;)t=t.parentNode,t&&e.push(t);return e.reverse()},aboveViewRoot:function(t,e){var n=r.getPathToRoot(t);return i.indexOf(n,e)>=0},wrapTreePathInfo:function(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}};t.exports=r},function(t,e,n){function i(){return{nodeGroup:[],background:[],content:[]}}function r(t,e,n,i,r,u,l,c,h,p){function f(e){L.dataIndex=l.dataIndex,L.seriesIndex=t.seriesIndex;var n=S.borderWidth,i=Math.max(C-2*n,0),r=Math.max(A-2*n,0);L.culling=!0,L.setShape({x:n,y:n,width:i,height:r});var o=l.getVisual("color",!0);d(L,function(){var t={fill:o},e=l.getModel("itemStyle.emphasis").getItemStyle();g(t,e,o,i,r),L.setStyle(t),s.setHoverStyle(L,e)}),e.add(L)}function d(t,e){I?!t.invisible&&u.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function g(e,n,i,r,o){var a=l.getModel(),s=a.get("name");if(S.isLeafRoot){var u=t.get("drillDownIcon",!0);s=u?u+" "+s:s}y(s,e,a,b,i,r,o),y(s,n,a,x,i,r,o)}function y(t,e,n,i,r,o,a){var u=n.getModel(i),l=u.getModel("textStyle");s.setText(e,u,r),e.textAlign=l.get("align"),e.textVerticalAlign=l.get("baseline");var c=l.getTextRect(t);e.text=!u.getShallow("show")||c.height>a?"":c.width>o?l.get("ellipsis")?l.truncateText(t,o,null,{minChar:2}):"":t}function _(t,i,a,s){var u=null!=D&&n[t][D],l=r[t];return u?(n[t][D]=null,w(l,u,t)):I||(u=new i({z:o(a,s)}),u.__tmDepth=a,u.__tmStorageName=t,$(l,u,t)),e[t][M]=u}function w(t,e,n){var i=t[M]={};i.old="nodeGroup"===n?e.position.slice():a.extend({},e.shape)}function $(t,e,n){var o=t[M]={},a=l.parentNode;if(a&&(!i||"drillDown"===i.direction)){var s=0,u=0,c=r.background[a.getRawIndex()];!i&&c&&c.old&&(s=c.old.width,u=c.old.height),o.old="nodeGroup"===n?[0,u]:{x:s,y:u,width:0,height:0}}o.fadein="nodeGroup"!==n}if(l){var S=l.getLayout();if(S&&S.isInView){var C=S.width,A=S.height,I=S.invisible,M=l.getRawIndex(),D=c&&c.getRawIndex(),E=_("nodeGroup",m);if(E){if(h.add(E),E.attr("position",[S.x||0,S.y||0]),E.__tmNodeWidth=C,E.__tmNodeHeight=A,S.isAboveViewRoot)return E;var O=_("background",v,p,T);O&&(O.setShape({x:0,y:0,width:C,height:A}),d(O,function(){O.setStyle("fill",l.getVisual("borderColor",!0))}),E.add(O));var P=l.viewChildren;if(!P||!P.length){var L=_("content",v,p,k);L&&f(E)}return E}}}}function o(t,e){var n=t*w+e;return(n-1)/n}var a=n(4),s=n(43),u=n(99),l=n(188),c=n(190),h=n(176),p=n(9),f=n(11),d=n(191),g=a.bind,m=s.Group,v=s.Rect,y=a.each,_=3,b=["label","normal"],x=["label","emphasis"],w=10,T=1,k=2;t.exports=n(1).extendChartView({type:"treemap",init:function(){this._containerGroup,this._storage=i(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(t,e,n,i){var r=e.findComponents({mainType:"series",subType:"treemap",query:i});if(!(a.indexOf(r,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var o=l.retrieveTargetInfo(i,t),s=i&&i.type,u=t.layoutInfo,c=!this._oldTree,h=this._storage,p="treemapRootToNode"===s&&o&&h?{rootNodeGroup:h.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,f=this._giveContainerGroup(u),d=this._doRender(f,t,p);c||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?d.renderFinally():this._doAnimation(f,d,t,p),this._resetController(n),this._renderBreadcrumb(t,n,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new m,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){function o(t,e,n,i,r){function s(t){return t.getId()}function l(a,s){var u=null!=a?t[a]:null,l=null!=s?e[s]:null,c=m(u,l,n,r);c&&o(u&&u.viewChildren||[],l&&l.viewChildren||[],c,i,r+1)}i?(e=t,y(t,function(t,e){!t.isRemoved()&&l(e,e)})):new u(e,t,s,s).add(l).update(l).remove(a.curry(l,null)).execute()}function s(t){var e=i();return t&&y(t,function(t,n){var i=e[n];y(t,function(t){t&&(i.push(t),t.__tmWillDelete=1)})}),e}function l(){y(v,function(t){y(t,function(t){t.parent&&t.parent.remove(t)})}),y(g,function(t){t.invisible=!0,t.dirty()})}var c=e.getData().tree,h=this._oldTree,p=i(),f=i(),d=this._storage,g=[],m=a.curry(r,e,f,d,n,p,g);o(c.root?[c.root]:[],h&&h.root?[h.root]:[],t,c===h||!h,0);var v=s(d);return this._oldTree=c,this._storage=f,{lastsForAnimation:p,willDeleteEls:v,renderFinally:l}},_doAnimation:function(t,e,n,i){if(n.get("animation")){var r=n.get("animationDurationUpdate"),o=n.get("animationEasing"),s=d.createWrap();y(e.willDeleteEls,function(t,e){y(t,function(t){if(!t.invisible){var n,a=t.parent;if(i&&"drillDown"===i.direction)n=a===i.rootNodeGroup?{shape:{x:0,y:0,width:a.__tmNodeWidth,height:a.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,l=0;a.__tmWillDelete||(u=a.__tmNodeWidth/2,l=a.__tmNodeHeight/2),n="nodeGroup"===e?{position:[u,l],style:{opacity:0}}:{shape:{x:u,y:l,width:0,height:0},style:{opacity:0}}}n&&s.add(t,n,r,o)}})}),y(this._storage,function(t,n){y(t,function(t,i){var u=e.lastsForAnimation[n][i],l={};u&&("nodeGroup"===n?u.old&&(l.position=t.position.slice(),t.attr("position",u.old)):(u.old&&(l.shape=a.extend({},t.shape),t.setShape(u.old)),u.fadein?(t.setStyle("opacity",0),l.style={opacity:1}):1!==t.style.opacity&&(l.style={opacity:1})),s.add(t,l,r,o))})},this),this._state="animating",s.done(g(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||(e=this._controller=new h(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",g(this._onPan,this)),e.on("zoom",g(this._onZoom,this)));var n=new p(0,0,t.getWidth(),t.getHeight());e.setContainsPoint(function(t,e){return n.contain(t,e)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)
},_onPan:function(t,e){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(t)>_||Math.abs(e)>_)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t,y:i.y+e,width:i.width,height:i.height}})}},_onZoom:function(t,e,n){if(this._mayClick=!1,"animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var o=new p(r.x,r.y,r.width,r.height),a=this.seriesModel.layoutInfo;e-=a.x,n-=a.y;var s=f.create();f.translate(s,s,[-e,-n]),f.scale(s,s,[t,t]),f.translate(s,s,[e,n]),o.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(t){function e(t){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var r=i.hostTree.data.getItemModel(i.dataIndex),o=r.get("link",!0),a=r.get("target",!0)||"blank";o&&window.open(o,a)}}}}t.on("mousedown",function(){"ready"===this._state&&(this._mayClick=!0)},this),t.on("mouseup",function(t){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&e.call(this,t))},this)},_renderBreadcrumb:function(t,e,n){function i(e){"animating"!==this._state&&(l.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2),n||(n={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new c(this.group))).render(t,e,n.node,g(i,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=i(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var n,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(i){var r=this._storage.background[i.getRawIndex()];if(r){var o=r.transformCoordToLocal(t,e),a=r.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:i,offsetX:o[0],offsetY:o[1]}}},this),n}})},function(t,e,n){function i(t){this.group=new a.Group,t.add(this.group)}function r(t,e,n,i,r,o){var a=[[r?t:t-p,e],[t+n,e],[t+n,e+i],[r?t:t-p,e+i]];return!o&&a.splice(2,0,[t+n+p,e+i/2]),!r&&a.push([t,e+i/2]),a}function o(t,e,n){t.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&l.wrapTreePathInfo(n,e)}}var a=n(43),s=n(21),u=n(4),l=n(188),c=8,h=8,p=5;i.prototype={constructor:i,render:function(t,e,n,i){var r=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),r.get("show")&&n){var a=r.getModel("itemStyle.normal"),u=a.getModel("textStyle"),l={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,l,u),this._renderContent(t,l,a,u,i),s.positionElement(o,l.pos,l.box)}},_prepare:function(t,e,n){for(var i=t;i;i=i.parentNode){var r=i.getModel().get("name"),o=n.getTextRect(r),a=Math.max(o.width+2*c,e.emptyItemWidth);e.totalWidth+=a+h,e.renderList.push({node:i,text:r,width:a})}},_renderContent:function(t,e,n,i,l){for(var c=0,p=e.emptyItemWidth,f=t.get("breadcrumb.height"),d=s.getAvailableSize(e.pos,e.box),g=e.totalWidth,m=e.renderList,v=m.length-1;v>=0;v--){var y=m[v],_=y.node,b=y.width,x=y.text;g>d.width&&(g-=b-p,b=p,x="");var w=new a.Polygon({shape:{points:r(c,0,b,f,v===m.length-1,0===v)},style:u.defaults(n.getItemStyle(),{lineJoin:"bevel",text:x,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:u.curry(l,_)});this.group.add(w),o(w,t,_),c+=b+h}},remove:function(){this.group.removeAll()}},t.exports=i},function(t,e,n){function i(){var t,e=[],n={};return{add:function(t,i,o,a,s){return r.isString(a)&&(s=a,a=0),n[t.id]?!1:(n[t.id]=1,e.push({el:t,target:i,time:o,delay:a,easing:s}),!0)},done:function(e){return t=e,this},start:function(){function i(){r--,r||(e.length=0,n={},t&&t())}for(var r=e.length,o=0,a=e.length;a>o;o++){var s=e[o];s.el.animateTo(s.target,s.time,s.delay,s.easing,i)}return this}}}var r=n(4);t.exports={createWrap:i}},function(t,e,n){for(var i=n(1),r=n(188),o=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<a.length;s++)i.registerAction({type:a[s],update:"updateView"},o);i.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){function n(e){var n=r.retrieveTargetInfo(t,e);if(n){var i=e.getViewRoot();i&&(t.direction=r.aboveViewRoot(i,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},n)})},function(t,e,n){function i(t,e,n,s,l,h){var p=t.getModel(),d=t.getLayout();if(d&&!d.invisible&&d.isInView){var m,v=t.getModel(g),y=n[t.depth],_=r(v,e,y,s),b=v.get("borderColor"),x=v.get("borderColorSaturation");null!=x&&(m=o(_,t),b=a(x,m)),t.setVisual("borderColor",b);var w=t.viewChildren;if(w&&w.length){var T=u(t,p,d,v,_,w);f.each(w,function(t,e){if(t.depth>=l.length||t===l[t.depth]){var r=c(p,_,t,e,T,h);i(t,r,n,s,l,h)}})}else m=o(_,t),t.setVisual("color",m)}}function r(t,e,n,i){var r=f.extend({},e);return f.each(["color","colorAlpha","colorSaturation"],function(o){var a=t.get(o,!0);null==a&&n&&(a=n[o]),null==a&&(a=e[o]),null==a&&(a=i.get(o)),null!=a&&(r[o]=a)}),r}function o(t){var e=s(t,"color");if(e){var n=s(t,"colorAlpha"),i=s(t,"colorSaturation");return i&&(e=p.modifyHSL(e,null,null,i)),n&&(e=p.modifyAlpha(e,n)),e}}function a(t,e){return null!=e?p.modifyHSL(e,null,null,t):null}function s(t,e){var n=t[e];return null!=n&&"none"!==n?n:void 0}function u(t,e,n,i,r,o){if(o&&o.length){var a=l(e,"color")||null!=r.color&&"none"!==r.color&&(l(e,"colorAlpha")||l(e,"colorSaturation"));if(a){var s=e.get("visualMin"),u=e.get("visualMax"),c=n.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=u&&u>c[1]&&(c[1]=u);var p=e.get("colorMappingBy"),f={type:a.name,dataExtent:c,visual:a.range};"color"!==f.type||"index"!==p&&"id"!==p?f.mappingMethod="linear":(f.mappingMethod="category",f.loop=!0);var d=new h(f);return d.__drColorMappingBy=p,d}}}function l(t,e){var n=t.get(e);return d(n)&&n.length?{name:e,range:n}:null}function c(t,e,n,i,r,o){var a=f.extend({},e);if(r){var s=r.type,u="color"===s&&r.__drColorMappingBy,l="index"===u?i:"id"===u?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=r.mapValueToVisual(l)}return a}var h=n(194),p=n(39),f=n(4),d=f.isArray,g="itemStyle.normal";t.exports=function(t,e,n){var r={mainType:"series",subType:"treemap",query:n};t.eachComponent(r,function(t){var e=t.getData().tree,n=e.root,r=t.getModel(g);if(!n.isRemoved()){var o=f.map(e.levelModels,function(t){return t?t.get(g):null});i(n,{},o,r,t.getViewRoot().getAncestors(),t)}})}},function(t,e,n){function i(t){var e=t.pieceList;t.hasSpecialVisual=!1,d.each(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}function r(t){var e=t.categories,n=t.visual,i=t.categoryMap={};if(v(e,function(t,e){i[t]=e}),!d.isArray(n)){var r=[];d.isObject(n)?v(n,function(t,e){var n=i[e];r[null!=n?n:_]=t}):r[_]=n,n=t.visual=r}for(var o=e.length-1;o>=0;o--)null==n[o]&&(delete i[e[o]],e.pop())}function o(t,e){var n=t.visual,i=[];d.isObject(n)?v(n,function(t){i.push(t)}):null!=n&&i.push(n);var r={color:1,symbol:1};e||1!==i.length||r.hasOwnProperty(t.type)||(i[1]=i[0]),t.visual=i}function a(t){return{applyVisual:function(e,n,i){e=this.mapValueToVisual(e),i("color",t(n("color"),e))},_doMap:h([0,1])}}function s(t){var e=this.option.visual;return e[Math.round(m(t,[0,1],[0,e.length-1],!0))]||{}}function u(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function l(t){var e=this.option.visual;return e[this.option.loop&&t!==_?t%e.length:t]}function c(){return this.option.visual[0]}function h(t){return{linear:function(e){return m(e,t,this.option.visual,!0)},category:l,piecewise:function(e,n){var i=p.call(this,n);return null==i&&(i=m(e,t,this.option.visual,!0)),i},fixed:c}}function p(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=b.findPieceIndex(t,n),r=n[i];if(r&&r.visual)return r.visual[this.type]}}function f(t,e,n){return t?n>=e:n>e}var d=n(4),g=n(39),m=n(7).linearMap,v=d.each,y=d.isObject,_=-1,b=function(t){var e=t.mappingMethod,n=t.type,a=this.option=d.clone(t);this.type=n,this.mappingMethod=e,this._normalizeData=w[e];var s=x[n];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._doMap=s._doMap[e],"piecewise"===e?(o(a),i(a)):"category"===e?a.categories?r(a):o(a,!0):(d.assert("linear"!==e||a.dataExtent),o(a))};b.prototype={constructor:b,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return d.bind(this._normalizeData,this)}};var x=b.visualHandlers={color:{applyVisual:u("color"),getColorMapper:function(){var t=this.option,e=d.map(t.visual,g.parse);return d.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),l.call(this,t)}:function(t,n,i){var r=!!i;return!n&&(t=this._normalizeData(t)),i=g.fastMapToColor(t,e,i),r?i:d.stringify(i,"rgba")},this)},_doMap:{linear:function(t){return g.mapToColor(t,this.option.visual)},category:l,piecewise:function(t,e){var n=p.call(this,e);return null==n&&(n=g.mapToColor(t,this.option.visual)),n},fixed:c}},colorHue:a(function(t,e){return g.modifyHSL(t,e)}),colorSaturation:a(function(t,e){return g.modifyHSL(t,null,e)}),colorLightness:a(function(t,e){return g.modifyHSL(t,null,null,e)}),colorAlpha:a(function(t,e){return g.modifyAlpha(t,e)}),opacity:{applyVisual:u("opacity"),_doMap:h([0,1])},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);if(d.isString(i))n("symbol",i);else if(y(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:s,category:l,piecewise:function(t,e){var n=p.call(this,e);return null==n&&(n=s.call(this,t)),n},fixed:c}},symbolSize:{applyVisual:u("symbolSize"),_doMap:h([0,1])}},w={linear:function(t){return m(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=b.findPieceIndex(t,e,!0);return null!=n?m(n,[0,e.length-1],[0,1],!0):void 0},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?_:e},fixed:d.noop};b.listVisualTypes=function(){var t=[];return d.each(x,function(e,n){t.push(n)}),t},b.addVisualHandler=function(t,e){x[t]=e},b.isValidType=function(t){return x.hasOwnProperty(t)},b.eachVisual=function(t,e,n){d.isObject(t)?d.each(t,e,n):e.call(n,t)},b.mapVisual=function(t,e,n){var i,r=d.isArray(t)?[]:d.isObject(t)?{}:(i=!0,null);return b.eachVisual(t,function(t,o){var a=e.call(n,t,o);i?r=a:r[o]=a}),r},b.retrieveVisuals=function(t){var e,n={};return t&&v(x,function(i,r){t.hasOwnProperty(r)&&(n[r]=t[r],e=!0)}),e?n:null},b.prepareVisualTypes=function(t){if(y(t)){var e=[];v(t,function(t,n){e.push(n)}),t=e}else{if(!d.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},b.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},b.findPieceIndex=function(t,e,n){function i(e,n){var i=Math.abs(e-t);o>i&&(o=i,r=n)}for(var r,o=1/0,a=0,s=e.length;s>a;a++){var u=e[a].value;if(null!=u){if(u===t)return a;n&&i(u,a)}}for(var a=0,s=e.length;s>a;a++){var l=e[a],c=l.interval,h=l.close;if(c){if(c[0]===-1/0){if(f(h[1],t,c[1]))return a}else if(1/0===c[1]){if(f(h[0],c[0],t))return a}else if(f(h[0],c[0],t)&&f(h[1],t,c[1]))return a;n&&i(c[0],a),n&&i(c[1],a)}}return n?1/0===t?e.length-1:t===-1/0?0:r:void 0},t.exports=b},function(t,e,n){function i(t,e,n){var i={mainType:"series",subType:"treemap",query:n};t.eachComponent(i,function(t){var i=e.getWidth(),o=e.getHeight(),a=t.option,s=a.size||[],u=x(w(a.width,s[0]),i),l=x(w(a.height,s[1]),o),c=m.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),g=n&&n.type,_=v.retrieveTargetInfo(n,t),b="treemapRender"===g||"treemapMove"===g?n.rootRect:null,k=t.getViewRoot(),$=v.getPathToRoot(k);if("treemapMove"!==g){var S="treemapZoomToNode"===g?h(t,_,k,u,l):b?[b.width,b.height]:[u,l],C=a.sort;C&&"asc"!==C&&"desc"!==C&&(C="desc");var A={squareRatio:a.squareRatio,sort:C,leafDepth:a.leafDepth};k.hostTree.clearLayouts();var I={x:0,y:0,width:S[0],height:S[1],area:S[0]*S[1]};k.setLayout(I),r(k,A,!1,0);var I=k.getLayout();T($,function(t,e){var n=($[e+1]||k).getValue();t.setLayout(d.extend({dataExtent:[n,n],borderWidth:0},I))})}var M=t.getData().tree.root;M.setLayout(p(c,b,_),!0),t.setLayoutInfo(c),f(M,new y(-c.x,-c.y,i,o),$,k,0)})}function r(t,e,n,i){var a,s;if(!t.isRemoved()){var u=t.getLayout();a=u.width,s=u.height;var h=t.getModel("itemStyle.normal"),p=h.get("borderWidth"),f=h.get("gapWidth")/2,d=p-f,g=t.getModel();t.setLayout({borderWidth:p},!0),a=_(a-2*d,0),s=_(s-2*d,0);var m=a*s,v=o(t,g,m,e,n,i);if(v.length){var y={x:d,y:d,width:a,height:s},x=b(a,s),w=1/0,T=[];T.area=0;for(var k=0,$=v.length;$>k;){var S=v[k];T.push(S),T.area+=S.getLayout().area;var C=l(T,x,e.squareRatio);w>=C?(k++,w=C):(T.area-=T.pop().getLayout().area,c(T,x,y,f,!1),x=b(y.width,y.height),T.length=T.area=0,w=1/0)}if(T.length&&c(T,x,y,f,!0),!n){var A=g.get("childrenVisibleMin");null!=A&&A>m&&(n=!0)}for(var k=0,$=v.length;$>k;k++)r(v[k],e,n,i+1)}}}function o(t,e,n,i,r,o){var l=t.children||[],c=i.sort;"asc"!==c&&"desc"!==c&&(c=null);var h=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!h)return t.viewChildren=[];l=d.filter(l,function(t){return!t.isRemoved()}),s(l,c);var p=u(e,l,c);if(0===p.sum)return t.viewChildren=[];if(p.sum=a(e,n,p.sum,c,l),0===p.sum)return t.viewChildren=[];for(var f=0,g=l.length;g>f;f++){var m=l[f].getValue()/p.sum*n;l[f].setLayout({area:m})}return h&&(l.length&&t.setLayout({isLeafRoot:!0},!0),l.length=0),t.viewChildren=l,t.setLayout({dataExtent:p.dataExtent},!0),l}function a(t,e,n,i,r){if(!i)return n;for(var o=t.get("visibleMin"),a=r.length,s=a,u=a-1;u>=0;u--){var l=r["asc"===i?a-u-1:u].getValue();o>l/n*e&&(s=u,n-=l)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}function s(t,e){return e&&t.sort(function(t,n){return"asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue()}),t}function u(t,e,n){for(var i=0,r=0,o=e.length;o>r;r++)i+=e[r].getValue();var a,s=t.get("visualDimension");if(e&&e.length)if("value"===s&&n)a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&a.reverse();else{var a=[1/0,-1/0];T(e,function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)})}else a=[0/0,0/0];return{sum:i,dataExtent:a}}function l(t,e,n){for(var i,r=0,o=1/0,a=0,s=t.length;s>a;a++)i=t[a].getLayout().area,i&&(o>i&&(o=i),i>r&&(r=i));var u=t.area*t.area,l=e*e*n;return u?_(l*r/u,u/(l*o)):1/0}function c(t,e,n,i,r){var o=e===n.width?0:1,a=1-o,s=["x","y"],u=["width","height"],l=n[s[o]],c=e?t.area/e:0;(r||c>n[u[a]])&&(c=n[u[a]]);for(var h=0,p=t.length;p>h;h++){var f=t[h],d={},g=c?f.getLayout().area/c:0,m=d[u[a]]=_(c-2*i,0),v=n[s[o]]+n[u[o]]-l,y=h===p-1||g>v?v:g,x=d[u[o]]=_(y-2*i,0);d[s[a]]=n[s[a]]+b(i,m/2),d[s[o]]=l+b(i,x/2),l+=y,f.setLayout(d,!0)}n[s[a]]+=c,n[u[a]]-=c}function h(t,e,n,i,r){var o=(e||{}).node,a=[i,r];if(!o||o===n)return a;for(var s,u=i*r,l=u*t.option.zoomToNodeRatio;s=o.parentNode;){for(var c=0,h=s.children,p=0,f=h.length;f>p;p++)c+=h[p].getValue();var d=o.getValue();if(0===d)return a;l*=c/d;var m=s.getModel("itemStyle.normal").get("borderWidth");isFinite(m)&&(l+=4*m*m+4*m*Math.pow(l,.5)),l>g.MAX_SAFE_INTEGER&&(l=g.MAX_SAFE_INTEGER),o=s}u>l&&(l=u);var v=Math.pow(l/u,.5);return[i*v,r*v]}function p(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,o=r.getLayout();if(!o)return i;for(var a=[o.width/2,o.height/2],s=r;s;){var u=s.getLayout();a[0]+=u.x,a[1]+=u.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}function f(t,e,n,i,r){var o=t.getLayout(),a=n[r],s=a&&a===t;if(!(a&&!s||r===n.length&&t!==i)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var u=new y(e.x-o.x,e.y-o.y,e.width,e.height);T(t.viewChildren||[],function(t){f(t,u,n,i,r+1)})}}var d=n(4),g=n(7),m=n(21),v=n(188),y=n(9),v=n(188),_=Math.max,b=Math.min,x=g.parsePercent,w=d.retrieve,T=d.each;t.exports=i},function(t,e,n){var i=n(1),r=n(4);n(197),n(200),n(205),i.registerProcessor(n(206)),i.registerVisual(r.curry(n(110),"graph","circle",null)),i.registerVisual(n(207)),i.registerVisual(n(208)),i.registerLayout(n(209)),i.registerLayout(n(212)),i.registerLayout(n(214)),i.registerCoordinateSystem("graphView",{create:n(216)})},function(t,e,n){"use strict";var i=n(98),r=n(4),o=n(5),a=n(12),s=n(198),u=n(1).extendSeriesModel({type:"series.graph",init:function(t){u.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){u.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){u.superApply(this,"mergeDefaultAndTheme",arguments),o.defaultEmphasis(t.edgeLabel,o.LABEL_OPTIONS)},getInitialData:function(t){function e(t,e){t.wrapMethod("getItemModel",function(t){var e=r._categoriesModels,n=t.getShallow("category"),i=e[n];return i&&(i.parentModel=t.parentModel,t.parentModel=i),t});var n=r.getModel("edgeLabel"),i=function(t,e){var r=(t||"").split(".");"label"===r[0]&&(e=e||n.getModel(r.slice(1)));var o=a.prototype.getModel.call(this,r,e);return o.getModel=i,o};e.wrapMethod("getItemModel",function(t){return t.getModel=i,t})}var n=t.edges||t.links||[],i=t.data||t.nodes||[],r=this;return i&&n?s(i,n,this,!0,e).data:void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(t,n),o=i.graph.getEdgeByIndex(t),a=i.getName(o.node1.dataIndex),s=i.getName(o.node2.dataIndex),l=a+" > "+s;return r.value&&(l+=" : "+r.value),l}return u.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=r.map(this.option.categories||[],function(t){return null!=t.value?t:r.extend({value:0},t)}),e=new i(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},ifEnableAnimation:function(){return u.superCall(this,"ifEnableAnimation")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});t.exports=u},function(t,e,n){var i=n(98),r=n(199),o=n(187),a=n(103),s=n(26),u=n(4),l=n(102);t.exports=function(t,e,n,c,h){for(var p=new r(c),f=0;f<t.length;f++)p.addNode(u.retrieve(t[f].id,t[f].name,f),f);for(var d=[],g=[],m=0,f=0;f<e.length;f++){var v=e[f],y=v.source,_=v.target;p.addEdge(y,_,m)&&(g.push(v),d.push(u.retrieve(v.id,y+" > "+_)),m++)}var b,x=n.get("coordinateSystem");if("cartesian2d"===x||"polar"===x)b=l(t,n,n.ecModel);else{var w=s.get(x),T=a((w&&"view"!==w.type?w.dimensions||[]:[]).concat(["value"]),t);b=new i(T,n),b.initData(t)}var k=new i(["value"],n);return k.initData(g,d),h&&h(b,k),o({mainData:b,struct:p,structAttr:"graph",datas:{node:b,edge:k},datasAttr:{node:"data",edge:"edgeData"}}),p.update(),p}},function(t,e,n){"use strict";function i(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function r(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}var o=n(4),a=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=a.prototype;s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(t,e){t=t||""+e;var n=this._nodesMap;if(!n[t]){var r=new i(t,e);return r.hostGraph=this,this.nodes.push(r),n[t]=r,r}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},s.getNodeById=function(t){return this._nodesMap[t]},s.addEdge=function(t,e,n){var o=this._nodesMap,a=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),t instanceof i||(t=o[t]),e instanceof i||(e=o[e]),t&&e){var s=t.id+"-"+e.id;if(!a[s]){var u=new r(t,e,n);return u.hostGraph=this,this._directed&&(t.outEdges.push(u),e.inEdges.push(u)),t.edges.push(u),t!==e&&e.edges.push(u),this.edges.push(u),a[s]=u,u}}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},s.getEdge=function(t,e){t instanceof i&&(t=t.id),e instanceof i&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},s.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;i>r;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},s.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;i>r;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},s.breadthFirstTraverse=function(t,e,n,r){if(e instanceof i||(e=this._nodesMap[e]),e){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;)for(var u=s.shift(),l=u[o],a=0;a<l.length;a++){var c=l[a],h=c.node1===u?c.node2:c.node1;if(!h.__visited){if(t.call(h,h,u))return;s.push(h),h.__visited=!0}}}},s.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;o>r;r++)n[r].dataIndex=-1;for(var r=0,o=t.count();o>r;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf(function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(var r=0,o=i.length;o>r;r++)i[r].dataIndex=-1;for(var r=0,o=e.count();o>r;r++)i[e.getRawIndex(r)].dataIndex=r},s.clone=function(){for(var t=new a(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<n.length;i++){var r=n[i];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},i.prototype={constructor:i,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}}},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}};var u=function(t,e){return{getValue:function(n){var i=this[t][e];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[t][e].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};o.mixin(i,u("hostGraph","data")),o.mixin(r,u("hostGraph","edgeData")),a.Node=i,a.Edge=r,t.exports=a},function(t,e,n){function i(t,e){return t.getVisual("opacity")||t.getModel().get(e)}var r=n(105),o=n(201),a=n(176),s=n(43),u=n(204),l=n(4),c=["itemStyle","normal","opacity"],h=["lineStyle","normal","opacity"];n(1).extendChartView({type:"graph",init:function(t,e){var n=new r,i=new o,s=this.group,u=new a(e.getZr(),s);s.add(n.group),s.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._controller=u,this._firstRender=!0},render:function(t,e,n){var i=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var r=this._symbolDraw,o=this._lineDraw,a=this.group;if("view"===i.type){var l={position:i.position,scale:i.scale};this._firstRender?a.attr(l):s.updateProps(a,l,t)}u(t.getGraph(),this._getNodeGlobalScale(t));var c=t.getData();r.updateData(c);var h=t.getEdgeData();o.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,n),clearTimeout(this._layoutTimeout);var p=t.forceLayout,f=t.get("force.layoutAnimation");p&&this._startForceLayoutIteration(p,f),c.eachItemGraphicEl(function(t,e){var n=c.getItemModel(e);t.off("drag").off("dragend");var i=c.getItemModel(e).get("draggable");i&&t.on("drag",function(){p&&(p.warmUp(),!this._layouting&&this._startForceLayoutIteration(p,f),p.setFixed(e),c.setItemLayout(e,t.position))},this).on("dragend",function(){p&&p.setUnfixed(e)},this),t.setDraggable(i&&p),t.off("mouseover",this._focusNodeAdjacency),t.off("mouseout",this._unfocusAll),n.get("focusNodeAdjacency")&&(t.on("mouseover",this._focusNodeAdjacency,this),t.on("mouseout",this._unfocusAll,this))},this);var d="circular"===t.get("layout")&&t.get("circular.rotateLabel"),g=c.getLayout("cx"),m=c.getLayout("cy");c.eachItemGraphicEl(function(t,e){var n=t.getSymbolPath();if(d){var i=c.getItemLayout(e),r=Math.atan2(i[1]-m,i[0]-g);0>r&&(r=2*Math.PI+r);var o=i[0]<g;o&&(r-=Math.PI);var a=o?"left":"right";n.setStyle({textRotation:r,textPosition:a}),n.hoverStyle&&(n.hoverStyle.textPosition=a)}else n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose()},_focusNodeAdjacency:function(t){function e(t,e){var n=i(t,e),r=t.getGraphicEl();null==n&&(n=1),r.traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",.1*n)})}function n(t,e){var n=i(t,e),r=t.getGraphicEl();r.traverse(function(t){t.trigger("emphasis"),"group"!==t.type&&t.setStyle("opacity",n)})}var r=this._model.getData(),o=r.graph,a=t.target,s=a.dataIndex,u=a.dataType;if(null!==s&&"edge"!==u){o.eachNode(function(t){e(t,c)}),o.eachEdge(function(t){e(t,h)});var p=o.getNodeByIndex(s);n(p,c),l.each(p.edges,function(t){t.dataIndex<0||(n(t,h),n(t.node1,c),n(t.node2,c))})}},_unfocusAll:function(){var t=this._model.getData(),e=t.graph;e.eachNode(function(t){var e=i(t,c);t.getGraphicEl().traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",e)})}),e.eachEdge(function(t){var e=i(t,h);t.getGraphicEl().traverse(function(t){t.trigger("normal"),"group"!==t.type&&t.setStyle("opacity",e)})})},_startForceLayoutIteration:function(t,e){var n=this;!function i(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(t,e){var n=this._controller,i=this.group;return n.setContainsPoint(function(t,e){var n=i.getBoundingRect();return n.applyTransform(i.transform),n.contain(t,e)}),"view"!==t.coordinateSystem.type?void n.disable():(n.enable(t.get("roam")),n.zoomLimit=t.get("scaleLimit"),n.zoom=t.coordinateSystem.getZoom(),void n.off("pan").off("zoom").on("pan",function(n,i){e.dispatchAction({seriesId:t.id,type:"graphRoam",dx:n,dy:i})}).on("zoom",function(n,i,r){e.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:n,originX:i,originY:r}),this._updateNodeAndLinkScale(),u(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),n=this._getNodeGlobalScale(t),i=[n,n];e.eachItemGraphicEl(function(t){t.attr("scale",i)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scale,r=i&&i[0]||1,o=e.getZoom(),a=(o-1)*n+1;return a/r},updateLayout:function(t){u(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(t,e,n){function i(t){return isNaN(t[0])||isNaN(t[1])}function r(t){return!i(t[0])&&!i(t[1])}function o(t){this._ctor=t||s,this.group=new a.Group}var a=n(43),s=n(202),u=o.prototype;u.updateData=function(t){var e=this._lineData,n=this.group,i=this._ctor,o=t.hostModel,a={lineStyle:o.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:o.getModel("lineStyle.emphasis").getLineStyle(),labelModel:o.getModel("label.normal"),hoverLabelModel:o.getModel("label.emphasis")};t.diff(e).add(function(e){if(r(t.getItemLayout(e))){var o=new i(t,e,a);t.setItemGraphicEl(e,o),n.add(o)}}).update(function(o,s){var u=e.getItemGraphicEl(s);return r(t.getItemLayout(o))?(u?u.updateData(t,o,a):u=new i(t,o,a),t.setItemGraphicEl(o,u),void n.add(u)):void n.remove(u)}).remove(function(t){n.remove(e.getItemGraphicEl(t))}).execute(),this._lineData=t},u.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},u.remove=function(){this.group.removeAll()},t.exports=o},function(t,e,n){function i(t){return"_"+t+"Type"}function r(t,e,n){var i=e.getItemVisual(n,"color"),r=e.getItemVisual(n,t),o=e.getItemVisual(n,t+"Size");if(r&&"none"!==r){f.isArray(o)||(o=[o,o]);var a=l.createSymbol(r,-o[0]/2,-o[1]/2,o[0],o[1],i);return a.name=t,a}}function o(t){var e=new h({name:"line"});return a(e.shape,t),e}function a(t,e){var n=e[0],i=e[1],r=e[2];t.x1=n[0],t.y1=n[1],t.x2=i[0],t.y2=i[1],t.percent=1,r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=0/0,t.cpy1=0/0)}function s(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.childOfName("label");if(e||n||!i.ignore){for(var r=1,o=this.parent;o;)o.scale&&(r/=o.scale[0]),o=o.parent;var a=t.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,u=a.pointAt(0),l=a.pointAt(s),h=c.sub([],l,u);if(c.normalize(h,h),e){e.attr("position",u);var p=a.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(p[1],p[0])),e.attr("scale",[r*s,r*s])}if(n){n.attr("position",l);var p=a.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(p[1],p[0])),n.attr("scale",[r*s,r*s])}if(!i.ignore){i.attr("position",l);var f,d,g,m=5*r;if("end"===i.__position)f=[h[0]*m+l[0],h[1]*m+l[1]],d=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var v=s/2,p=a.tangentAt(v),y=[p[1],-p[0]],_=a.pointAt(v);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]),f=[_[0]+y[0]*m,_[1]+y[1]*m],d="center",g="bottom";var b=-Math.atan2(p[1],p[0]);l[0]<u[0]&&(b=Math.PI+b),i.attr("rotation",b)}else f=[-h[0]*m+u[0],-h[1]*m+u[1]],d=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||g,textAlign:i.__textAlign||d},position:f,scale:[r,r]})}}}}function u(t,e,n){p.Group.call(this),this._createLine(t,e,n)}var l=n(107),c=n(10),h=n(203),p=n(43),f=n(4),d=n(7),g=["fromSymbol","toSymbol"],m=u.prototype;m.beforeUpdate=s,m._createLine=function(t,e,n){var a=t.hostModel,s=t.getItemLayout(e),u=o(s);u.shape.percent=0,p.initProps(u,{shape:{percent:1}},a,e),this.add(u);var l=new p.Text({name:"label"});this.add(l),f.each(g,function(n){var o=r(n,t,e);this.add(o),this[i(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},m.updateData=function(t,e,n){var o=t.hostModel,s=this.childOfName("line"),u=t.getItemLayout(e),l={shape:{}};a(l.shape,u),p.updateProps(s,l,o,e),f.each(g,function(n){var o=t.getItemVisual(e,n),a=i(n);
if(this[a]!==o){this.remove(this.childOfName(n));var s=r(n,t,e);this.add(s)}this[a]=o},this),this._updateCommonStl(t,e,n)},m._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=n&&n.lineStyle,a=n&&n.hoverLineStyle,s=n&&n.labelModel,u=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var l=t.getItemModel(e);o=l.getModel("lineStyle.normal").getLineStyle(),a=l.getModel("lineStyle.emphasis").getLineStyle(),s=l.getModel("label.normal"),u=l.getModel("label.emphasis")}var c=t.getItemVisual(e,"color"),h=f.retrieve(t.getItemVisual(e,"opacity"),o.opacity,1);r.useStyle(f.defaults({strokeNoScale:!0,fill:"none",stroke:c,opacity:h},o)),r.hoverStyle=a,f.each(g,function(t){var e=this.childOfName(t);e&&(e.setColor(c),e.setStyle({opacity:h}))},this);var m,v,y=s.getShallow("show"),_=u.getShallow("show"),b=this.childOfName("label");if(y||_){var x=i.getRawValue(e);v=null==x?v=t.getName(e):isFinite(x)?d.round(x):x,m=c||"#000"}if(y){var w=s.getModel("textStyle");b.setStyle({text:f.retrieve(i.getFormattedLabel(e,"normal",t.dataType),v),textFont:w.getFont(),fill:w.getTextColor()||m}),b.__textAlign=w.get("align"),b.__verticalAlign=w.get("baseline"),b.__position=s.get("position")}else b.setStyle("text","");if(_){var T=u.getModel("textStyle");b.hoverStyle={text:f.retrieve(i.getFormattedLabel(e,"emphasis",t.dataType),v),textFont:T.getFont(),fill:T.getTextColor()||m}}else b.hoverStyle={text:""};b.ignore=!y&&!_,p.setHoverStyle(this)},m.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},m.setLinePoints=function(t){var e=this.childOfName("line");a(e.shape,t),e.dirty()},f.inherits(u,p.Group),t.exports=u},function(t,e,n){function i(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var r=n(43),o=n(10),a=r.Line.prototype,s=r.BezierCurve.prototype;t.exports=r.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(i(e)?a:s).buildPath(t,e)},pointAt:function(t){return i(this.shape)?a.pointAt.call(this,t):s.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,n=i(e)?[e.x2-e.x1,e.y2-e.y1]:s.tangentAt.call(this,t);return o.normalize(n,n)}})},function(t,e,n){function i(t,e,n){for(var i,r=t[0],o=t[1],p=t[2],f=1/0,d=n*n,g=.1,m=.1;.9>=m;m+=.1){a[0]=l(r[0],o[0],p[0],m),a[1]=l(r[1],o[1],p[1],m);var v=h(c(a,e)-d);f>v&&(f=v,i=m)}for(var y=0;32>y;y++){var _=i+g;s[0]=l(r[0],o[0],p[0],i),s[1]=l(r[1],o[1],p[1],i),u[0]=l(r[0],o[0],p[0],_),u[1]=l(r[1],o[1],p[1],_);var v=c(s,e)-d;if(h(v)<.01)break;var b=c(u,e)-d;g/=2,0>v?b>=0?i+=g:i-=g:b>=0?i-=g:i+=g}return i}var r=n(50),o=n(10),a=[],s=[],u=[],l=r.quadraticAt,c=o.distSquare,h=Math.abs;t.exports=function(t,e){function n(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var a=[],s=r.quadraticSubdivide,u=[[],[],[]],l=[[],[]],c=[];e/=2,t.eachEdge(function(t){var r=t.getLayout(),h=t.getVisual("fromSymbol"),p=t.getVisual("toSymbol");r.__original||(r.__original=[o.clone(r[0]),o.clone(r[1])],r[2]&&r.__original.push(o.clone(r[2])));var f=r.__original;if(null!=r[2]){if(o.copy(u[0],f[0]),o.copy(u[1],f[2]),o.copy(u[2],f[1]),h&&"none"!=h){var d=n(t.node1),g=i(u,f[0],d*e);s(u[0][0],u[1][0],u[2][0],g,a),u[0][0]=a[3],u[1][0]=a[4],s(u[0][1],u[1][1],u[2][1],g,a),u[0][1]=a[3],u[1][1]=a[4]}if(p&&"none"!=p){var d=n(t.node2),g=i(u,f[1],d*e);s(u[0][0],u[1][0],u[2][0],g,a),u[1][0]=a[1],u[2][0]=a[2],s(u[0][1],u[1][1],u[2][1],g,a),u[1][1]=a[1],u[2][1]=a[2]}o.copy(r[0],u[0]),o.copy(r[1],u[2]),o.copy(r[2],u[1])}else{if(o.copy(l[0],f[0]),o.copy(l[1],f[1]),o.sub(c,l[1],l[0]),o.normalize(c,c),h&&"none"!=h){var d=n(t.node1);o.scaleAndAdd(l[0],l[0],c,d*e)}if(p&&"none"!=p){var d=n(t.node2);o.scaleAndAdd(l[1],l[1],c,-d*e)}o.copy(r[0],l[0]),o.copy(r[1],l[1])}})}},function(t,e,n){var i=n(1),r=n(179),o={type:"graphRoam",event:"graphRoam",update:"none"};i.registerAction(o,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var n=e.coordinateSystem,i=r.updateCenterAndZoom(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)})})},function(t){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph(),r=i.data,o=n.mapArray(n.getName);r.filterSelf(function(t){var n=r.getItemModel(t),i=n.getShallow("category");if(null!=i){"number"==typeof i&&(i=o[i]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(i))return!1}return!0})},this)}},function(t){t.exports=function(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each(function(i){var o=n.getName(i);r[o]=i;var a=n.getItemModel(i),s=a.get("itemStyle.normal.color")||t.getColorFromPalette(o,e);n.setItemVisual(i,"color",s)}),n.count()&&i.each(function(t){var e=i.getItemModel(t),o=e.getShallow("category");null!=o&&("string"==typeof o&&(o=r[o]),i.getItemVisual(t,"color",!0)||i.setItemVisual(t,"color",n.getItemVisual(o,"color")))})})}},function(t){function e(t){return t instanceof Array||(t=[t,t]),t}t.exports=function(t){t.eachSeriesByType("graph",function(t){var n=t.getGraph(),i=t.getEdgeData(),r=e(t.get("edgeSymbol")),o=e(t.get("edgeSymbolSize")),a="lineStyle.normal.color".split("."),s="lineStyle.normal.opacity".split(".");i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("color",t.get(a)),i.setVisual("opacity",t.get(s)),i.each(function(t){var r=i.getItemModel(t),o=n.getEdgeByIndex(t),u=e(r.getShallow("symbol",!0)),l=e(r.getShallow("symbolSize",!0)),c=r.get(a),h=r.get(s);switch(c){case"source":c=o.node1.getVisual("color");break;case"target":c=o.node2.getVisual("color")}u[0]&&o.setVisual("fromSymbol",u[0]),u[1]&&o.setVisual("toSymbol",u[1]),l[0]&&o.setVisual("fromSymbolSize",l[0]),l[1]&&o.setVisual("toSymbolSize",l[1]),o.setVisual("color",c),o.setVisual("opacity",h)})})}},function(t,e,n){var i=n(210),r=n(211);t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var o=t.getData();o.each(n.dimensions,function(t,e,i){isNaN(t)||isNaN(e)?o.setItemLayout(i,[0/0,0/0]):o.setItemLayout(i,n.dataToPoint([t,e]))}),r(o.graph)}else e&&"none"!==e||i(t)})}},function(t,e,n){var i=n(211);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),i(n)}}},function(t,e,n){var i=n(10);t.exports=function(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.normal.curveness")||0,n=i.clone(t.node1.getLayout()),r=i.clone(t.node2.getLayout()),o=[n,r];+e&&o.push([(n[0]+r[0])/2-(n[1]-r[1])*e,(n[1]+r[1])/2-(r[0]-n[0])*e]),t.setLayout(o)})}},function(t,e,n){var i=n(213);t.exports=function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&i(t)})}},function(t,e,n){var i=n(10);t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=e.getBoundingRect(),r=t.getData(),o=r.graph,a=0,s=r.getSum("value"),u=2*Math.PI/(s||r.count()),l=n.width/2+n.x,c=n.height/2+n.y,h=Math.min(n.width,n.height)/2;o.eachNode(function(t){var e=t.getValue("value");a+=u*(s?e:1)/2,t.setLayout([h*Math.cos(a)+l,h*Math.sin(a)+c]),a+=u*(s?e:1)/2}),r.setLayout({cx:l,cy:c}),o.eachEdge(function(t){var e,n=t.getModel().get("lineStyle.normal.curveness")||0,r=i.clone(t.node1.getLayout()),o=i.clone(t.node2.getLayout()),a=(r[0]+o[0])/2,s=(r[1]+o[1])/2;+n&&(n*=3,e=[l*n+a*(1-n),c*n+s*(1-n)]),t.setLayout([r,o,e])})}}},function(t,e,n){var i=n(215),r=n(7),o=n(210),a=n(213),s=n(10),u=n(4);t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},l=t.getGraph(),c=l.data,h=l.edgeData,p=t.getModel("force"),f=p.get("initLayout");t.preservedPoints?c.each(function(t){var e=c.getId(t);c.setItemLayout(t,n[e]||[0/0,0/0])}):f&&"none"!==f?"circular"===f&&a(t):o(t);var d=c.getDataExtent("value"),g=h.getDataExtent("value"),m=p.get("repulsion"),v=p.get("edgeLength");u.isArray(m)||(m=[m,m]),u.isArray(v)||(v=[v,v]),v=[v[1],v[0]];var y=c.mapArray("value",function(t,e){var n=c.getItemLayout(e),i=r.linearMap(t,d,m);return isNaN(i)&&(i=(m[0]+m[1])/2),{w:i,rep:i,p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),_=h.mapArray("value",function(t,e){var n=l.getEdgeByIndex(e),i=r.linearMap(t,g,v);return isNaN(i)&&(i=(v[0]+v[1])/2),{n1:y[n.node1.dataIndex],n2:y[n.node2.dataIndex],d:i,curveness:n.getModel().get("lineStyle.normal.curveness")||0}}),e=t.coordinateSystem,b=e.getBoundingRect(),x=i(y,_,{rect:b,gravity:p.get("gravity")}),w=x.step;x.step=function(t){for(var e=0,i=y.length;i>e;e++)y[e].fixed&&s.copy(y[e].p,l.getNodeByIndex(e).getLayout());w(function(e,i,r){for(var o=0,a=e.length;a>o;o++)e[o].fixed||l.getNodeByIndex(o).setLayout(e[o].p),n[c.getId(o)]=e[o].p;for(var o=0,a=i.length;a>o;o++){var u=i[o],h=l.getEdgeByIndex(o),p=u.n1.p,f=u.n2.p,d=h.getLayout();d=d?d.slice():[],d[0]=d[0]||[],d[1]=d[1]||[],s.copy(d[0],p),s.copy(d[1],f),+u.curveness&&(d[2]=[(p[0]+f[0])/2-(p[1]-f[1])*u.curveness,(p[1]+f[1])/2-(f[0]-p[0])*u.curveness]),h.setLayout(d)}t&&t(r)})},t.forceLayout=x,t.preservedPoints=n,x.step()}else t.forceLayout=null})}},function(t,e,n){var i=n(10),r=i.scaleAndAdd;t.exports=function(t,e,n){for(var o=n.rect,a=o.width,s=o.height,u=[o.x+a/2,o.y+s/2],l=null==n.gravity?.1:n.gravity,c=0;c<t.length;c++){var h=t[c];h.p||(h.p=i.create(a*(Math.random()-.5)+u[0],s*(Math.random()-.5)+u[1])),h.pp=i.clone(h.p),h.edges=null}var p=.6;return{warmUp:function(){p=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(n){for(var o=[],a=t.length,s=0;s<e.length;s++){var c=e[s],h=c.n1,f=c.n2;i.sub(o,f.p,h.p);var d=i.len(o)-c.d,g=f.w/(h.w+f.w);i.normalize(o,o),!h.fixed&&r(h.p,h.p,o,g*d*p),!f.fixed&&r(f.p,f.p,o,-(1-g)*d*p)}for(var s=0;a>s;s++){var m=t[s];m.fixed||(i.sub(o,u,m.p),i.scaleAndAdd(m.p,m.p,o,l*p))}for(var s=0;a>s;s++)for(var h=t[s],v=s+1;a>v;v++){var f=t[v];i.sub(o,f.p,h.p);var d=i.len(o);0===d&&(i.set(o,Math.random()-.5,Math.random()-.5),d=1);var y=(h.rep+f.rep)/d/d;!h.fixed&&r(h.pp,h.pp,o,y),!f.fixed&&r(f.pp,f.pp,o,-y)}for(var _=[],s=0;a>s;s++){var m=t[s];m.fixed||(i.sub(_,m.p,m.pp),i.scaleAndAdd(m.p,m.p,_,p),i.copy(m.pp,m.p))}p=.992*p,n&&n(t,e,.01>p)}}}},function(t,e,n){function i(t,e,n){var i=t.getBoxLayoutParams();return i.aspect=n,o.getLayoutRect(i,{width:e.getWidth(),height:e.getHeight()})}var r=n(170),o=n(21),a=n(51);t.exports=function(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var o=t.get("coordinateSystem");if(!o||"view"===o){var s=t.getData(),u=s.mapArray(function(t){var e=s.getItemModel(t);return[+e.get("x"),+e.get("y")]}),l=[],c=[];a.fromPoints(u,l,c),c[0]-l[0]===0&&(c[0]+=1,l[0]-=1),c[1]-l[1]===0&&(c[1]+=1,l[1]-=1);var h=(c[0]-l[0])/(c[1]-l[1]),p=i(t,e,h);isNaN(h)&&(l=[p.x,p.y],c=[p.x+p.width,p.y+p.height]);var f=c[0]-l[0],d=c[1]-l[1],g=p.width,m=p.height,v=t.coordinateSystem=new r;v.zoomLimit=t.get("scaleLimit"),v.setBoundingRect(l[0],l[1],f,d),v.setViewRect(p.x,p.y,g,m),v.setCenter(t.get("center")),v.setZoom(t.get("zoom")),n.push(v)}}),n}},function(t,e,n){n(218),n(219)},function(t,e,n){var i=n(98),r=n(28),o=n(4),a=r.extend({type:"series.gauge",getInitialData:function(t){var e=new i(["value"],this),n=t.data||[];return o.isArray(n)||(n=[n]),e.initData(n),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});t.exports=a},function(t,e,n){function i(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r),a=u(n[0],e.getWidth()),s=u(n[1],e.getHeight()),l=u(t.get("radius"),o/2);return{cx:a,cy:s,r:l}}function r(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}var o=n(220),a=n(43),s=n(7),u=s.parsePercent,l=2*Math.PI,c=n(42).extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var r=t.get("axisLine.lineStyle.color"),o=i(t,n);this._renderMain(t,e,n,r,o)},dispose:function(){},_renderMain:function(t,e,n,i,r){for(var o=this.group,s=t.getModel("axisLine"),u=s.getModel("lineStyle"),c=t.get("clockwise"),h=-t.get("startAngle")/180*Math.PI,p=-t.get("endAngle")/180*Math.PI,f=(p-h)%l,d=h,g=u.get("width"),m=0;m<i.length;m++){var v=Math.min(Math.max(i[m][0],0),1),p=h+f*v,y=new a.Sector({shape:{startAngle:d,endAngle:p,cx:r.cx,cy:r.cy,clockwise:c,r0:r.r-g,r:r.r},silent:!0});y.setStyle({fill:i[m][1]}),y.setStyle(u.getLineStyle(["color","borderWidth","borderColor"])),o.add(y),d=p}var _=function(t){if(0>=t)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!c){var b=h;h=p,p=b}this._renderTicks(t,e,n,_,r,h,p,c),this._renderPointer(t,e,n,_,r,h,p,c),this._renderTitle(t,e,n,_,r),this._renderDetail(t,e,n,_,r)},_renderTicks:function(t,e,n,i,o,l,c){for(var h=this.group,p=o.cx,f=o.cy,d=o.r,g=t.get("min"),m=t.get("max"),v=t.getModel("splitLine"),y=t.getModel("axisTick"),_=t.getModel("axisLabel"),b=t.get("splitNumber"),x=y.get("splitNumber"),w=u(v.get("length"),d),T=u(y.get("length"),d),k=l,$=(c-l)/b,S=$/x,C=v.getModel("lineStyle").getLineStyle(),A=y.getModel("lineStyle").getLineStyle(),I=_.getModel("textStyle"),M=0;b>=M;M++){var D=Math.cos(k),E=Math.sin(k);if(v.get("show")){var O=new a.Line({shape:{x1:D*d+p,y1:E*d+f,x2:D*(d-w)+p,y2:E*(d-w)+f},style:C,silent:!0});"auto"===C.stroke&&O.setStyle({stroke:i(M/b)}),h.add(O)}if(_.get("show")){var P=r(s.round(M/b*(m-g)+g),_.get("formatter")),L=_.get("distance"),N=new a.Text({style:{text:P,x:D*(d-w-L)+p,y:E*(d-w-L)+f,fill:I.getTextColor(),textFont:I.getFont(),textVerticalAlign:-.4>E?"top":E>.4?"bottom":"middle",textAlign:-.4>D?"left":D>.4?"right":"center"},silent:!0});"auto"===N.style.fill&&N.setStyle({fill:i(M/b)}),h.add(N)}if(y.get("show")&&M!==b){for(var R=0;x>=R;R++){var D=Math.cos(k),E=Math.sin(k),U=new a.Line({shape:{x1:D*d+p,y1:E*d+f,x2:D*(d-T)+p,y2:E*(d-T)+f},silent:!0,style:A});"auto"===A.stroke&&U.setStyle({stroke:i((M+R/x)/b)}),h.add(U),k+=S}k-=S}else k+=$}},_renderPointer:function(t,e,n,i,r,l,c){var h=[+t.get("min"),+t.get("max")],p=[l,c],f=t.getData(),d=this._data,g=this.group;f.diff(d).add(function(e){var n=new o({shape:{angle:l}});a.updateProps(n,{shape:{angle:s.linearMap(f.get("value",e),h,p,!0)}},t),g.add(n),f.setItemGraphicEl(e,n)}).update(function(e,n){var i=d.getItemGraphicEl(n);a.updateProps(i,{shape:{angle:s.linearMap(f.get("value",e),h,p,!0)}},t),g.add(i),f.setItemGraphicEl(e,i)}).remove(function(t){var e=d.getItemGraphicEl(t);g.remove(e)}).execute(),f.eachItemGraphicEl(function(t,e){var n=f.getItemModel(e),o=n.getModel("pointer");t.setShape({x:r.cx,y:r.cy,width:u(o.get("width"),r.r),r:u(o.get("length"),r.r)}),t.useStyle(n.getModel("itemStyle.normal").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",i((f.get("value",e)-h[0])/(h[1]-h[0]))),a.setHoverStyle(t,n.getModel("itemStyle.emphasis").getItemStyle())}),this._data=f},_renderTitle:function(t,e,n,i,r){var o=t.getModel("title");if(o.get("show")){var s=o.getModel("textStyle"),l=o.get("offsetCenter"),c=r.cx+u(l[0],r.r),h=r.cy+u(l[1],r.r),p=new a.Text({style:{x:c,y:h,text:t.getData().getName(0),fill:s.getTextColor(),textFont:s.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(p)}},_renderDetail:function(t,e,n,i,o){var l=t.getModel("detail"),c=t.get("min"),h=t.get("max");if(l.get("show")){var p=l.getModel("textStyle"),f=l.get("offsetCenter"),d=o.cx+u(f[0],o.r),g=o.cy+u(f[1],o.r),m=u(l.get("width"),o.r),v=u(l.get("height"),o.r),y=t.getData().get("value",0),_=new a.Rect({shape:{x:d-m/2,y:g-v/2,width:m,height:v},style:{text:r(y,l.get("formatter")),fill:l.get("backgroundColor"),textFill:p.getTextColor(),textFont:p.getFont()}});"auto"===_.style.textFill&&_.setStyle("textFill",i(s.linearMap(y,[c,h],[0,1],!0))),_.setStyle(l.getItemStyle(["color"])),this.group.add(_)}}});t.exports=c},function(t,e,n){t.exports=n(45).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,i=Math.sin,r=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(o>=r/3?1:2),u=e.y-i(a)*o*(o>=r/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,u),t.lineTo(e.x+n(a)*o,e.y+i(a)*o),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(a)*o,e.y-i(a)*o),t.lineTo(s,u)}})},function(t,e,n){var i=n(4),r=n(1);n(222),n(223),r.registerVisual(i.curry(n(145),"funnel")),r.registerLayout(n(224)),r.registerProcessor(i.curry(n(148),"funnel"))},function(t,e,n){"use strict";var i=n(98),r=n(5),o=n(103),a=n(1).extendSeriesModel({type:"series.funnel",init:function(t){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this._defaultLabelLine(t)},getInitialData:function(t){var e=o(["value"],t.data),n=new i(e,this);return n.initData(t.data),n},_defaultLabelLine:function(t){r.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,n=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,n.show=n.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});t.exports=a},function(t,e,n){function i(t,e){function n(){a.ignore=a.hoverIgnore,s.ignore=s.hoverIgnore}function i(){a.ignore=a.normalIgnore,s.ignore=s.normalIgnore}o.Group.call(this);var r=new o.Polygon,a=new o.Polyline,s=new o.Text;this.add(r),this.add(a),this.add(s),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function r(t,e,n,i){var r=i.getModel("textStyle"),o=i.get("position"),s="inside"===o||"inner"===o||"center"===o;return{fill:r.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),textFont:r.getFont(),text:a.retrieve(t.hostModel.getFormattedLabel(e,n),t.getName(e))}}var o=n(43),a=n(4),s=i.prototype,u=["itemStyle","normal","opacity"];s.updateData=function(t,e,n){var i=this.childAt(0),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),c=t.getItemModel(e).get(u);c=null==c?1:c,i.useStyle({}),n?(i.setShape({points:l.points}),i.setStyle({opacity:0}),o.initProps(i,{style:{opacity:c}},r,e)):o.updateProps(i,{style:{opacity:c},shape:{points:l.points}},r,e);var h=s.getModel("itemStyle"),p=t.getItemVisual(e,"color");i.setStyle(a.defaults({lineJoin:"round",fill:p},h.getModel("normal").getItemStyle(["opacity"]))),i.hoverStyle=h.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),o.setHoverStyle(this)},s._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),a=t.hostModel,s=t.getItemModel(e),u=t.getItemLayout(e),l=u.label,c=t.getItemVisual(e,"color");o.updateProps(n,{shape:{points:l.linePoints||l.linePoints}},a,e),o.updateProps(i,{style:{x:l.x,y:l.y}},a,e),i.attr({style:{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,textFont:l.font},rotation:l.rotation,origin:[l.x,l.y],z2:10});var h=s.getModel("label.normal"),p=s.getModel("label.emphasis"),f=s.getModel("labelLine.normal"),d=s.getModel("labelLine.emphasis");i.setStyle(r(t,e,"normal",h)),i.ignore=i.normalIgnore=!h.get("show"),i.hoverIgnore=!p.get("show"),n.ignore=n.normalIgnore=!f.get("show"),n.hoverIgnore=!d.get("show"),n.setStyle({stroke:c}),n.setStyle(f.getModel("lineStyle").getLineStyle()),i.hoverStyle=r(t,e,"emphasis",p),n.hoverStyle=d.getModel("lineStyle").getLineStyle()},a.inherits(i,o.Group);var l=n(42).extend({type:"funnel",render:function(t){var e=t.getData(),n=this._data,r=this.group;e.diff(n).add(function(t){var n=new i(e,t);e.setItemGraphicEl(t,n),r.add(n)}).update(function(t,i){var o=n.getItemGraphicEl(i);o.updateData(e,t),r.add(o),e.setItemGraphicEl(t,o)}).remove(function(t){var e=n.getItemGraphicEl(t);r.remove(e)}).execute(),this._data=e},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=l},function(t,e,n){function i(t,e){return a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function r(t,e){for(var n=t.mapArray("value",function(t){return t}),i=[],r="ascending"===e,o=0,a=t.count();a>o;o++)i[o]=o;return i.sort(function(t,e){return r?n[t]-n[e]:n[e]-n[t]}),i}function o(t){t.each(function(e){var n,i,r,o,a=t.getItemModel(e),s=a.getModel("label.normal"),u=s.get("position"),l=a.getModel("labelLine.normal"),c=t.getItemLayout(e),h=c.points,p="inner"===u||"inside"===u||"center"===u;if(p)i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,r=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,n="center",o=[[i,r],[i,r]];else{var f,d,g,m=l.get("length");"left"===u?(f=(h[3][0]+h[0][0])/2,d=(h[3][1]+h[0][1])/2,g=f-m,i=g-5,n="right"):(f=(h[1][0]+h[2][0])/2,d=(h[1][1]+h[2][1])/2,g=f+m,i=g+5,n="left");var v=d;o=[[f,d],[g,v]],r=v}c.label={linePoints:o,x:i,y:r,verticalAlign:"middle",textAlign:n,inside:p}})}var a=n(21),s=n(7),u=s.parsePercent;t.exports=function(t,e){t.eachSeriesByType("funnel",function(t){var n=t.getData(),a=t.get("sort"),l=i(t,e),c=r(n,a),h=[u(t.get("minSize"),l.width),u(t.get("maxSize"),l.width)],p=n.getDataExtent("value"),f=t.get("min"),d=t.get("max");null==f&&(f=Math.min(p[0],0)),null==d&&(d=p[1]);var g=t.get("funnelAlign"),m=t.get("gap"),v=(l.height-m*(n.count()-1))/n.count(),y=l.y,_=function(t,e){var i,r=n.get("value",t)||0,o=s.linearMap(r,[f,d],h,!0);switch(g){case"left":i=l.x;break;case"center":i=l.x+(l.width-o)/2;break;case"right":i=l.x+l.width-o}return[[i,e],[i+o,e]]};"ascending"===a&&(v=-v,m=-m,y+=l.height,c=c.reverse());for(var b=0;b<c.length;b++){var x=c[b],w=c[b+1],T=_(x,y),k=_(w,y+v);y+=v+m,n.setItemLayout(x,{points:T.concat(k.slice().reverse())})}o(n)})}},function(t,e,n){var i=n(1);n(226),n(237),n(238),i.registerVisual(n(239))},function(t,e,n){n(227),n(230),n(232);var i=n(1),r=n(4),o=5;i.extendComponentView({type:"parallel",render:function(t,e,n){var i=n.getZr();if(!this.__onMouseDown){var a;i.on("mousedown",this.__onMouseDown=function(t){a=[t.offsetX,t.offsetY]}),i.on("mouseup",this.__onMouseUp=function(e){var i=[e.offsetX,e.offsetY],s=Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2);if(t.get("axisExpandable")&&!(s>o)){var u=t.coordinateSystem,l=u.findClosestAxisDim(i);if(l){var c=r.indexOf(u.dimensions,l);n.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:c})}}})}},dispose:function(t,e){e.getZr().off(this.__onMouseDown),e.getZr().off(this.__onMouseUp)}}),i.registerPreprocessor(n(236))},function(t,e,n){function i(t,e){var n=[];return t.eachComponent("parallel",function(i,o){var a=new r(i,t,e);a.name="parallel_"+o,a.resize(i,e),i.coordinateSystem=a,a.model=i,n.push(a)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}var r=n(228);n(26).register("parallel",{create:i})},function(t,e,n){function i(t,e,n){this._axesMap={},this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}var r=n(21),o=n(115),a=n(4),s=n(229),u=n(43),l=n(11),c=a.each,h=Math.PI;i.prototype={type:"parallel",constructor:i,_init:function(t,e){var n=t.dimensions,i=t.parallelAxisIndex;c(n,function(t,n){var r=i[n],a=e.getComponent("parallelAxis",r),u=this._axesMap[t]=new s(t,o.createScaleByModel(a),[0,0],a.get("type"),r),l="category"===u.type;u.onBand=l&&a.get("boundaryGap"),u.inverse=a.get("inverse"),a.axis=u,u.model=a},this)},update:function(t){this._updateAxesFromSeries(this._model,t)},_updateAxesFromSeries:function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();c(this.dimensions,function(t){var e=this._axesMap[t];e.scale.unionExtent(i.getDataExtent(t)),o.niceScaleExtent(e,e.model)},this)}},this)},resize:function(t,e){this._rect=r.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes(t)},getRect:function(){return this._rect},_layoutAxes:function(t){var e=this._rect,n=t.get("layout"),i=this._axesMap,r=this.dimensions,o=[e.width,e.height],a="horizontal"===n?0:1,s=o[a],u=o[1-a],p=[0,u];c(i,function(t){var e=t.inverse?1:0;t.setExtent(p[e],p[1-e])});var f,d=t.get("axisExpandable"),g=t.get("axisExpandWidth"),m=t.get("axisExpandCenter"),v=t.get("axisExpandCount")||0;if(null!=m){var y=Math.max(0,Math.floor(m-(v-1)/2)),_=y+v-1;_>=r.length&&(_=r.length-1,y=Math.max(0,Math.floor(_-v+1))),f=[y,_]}var b=d&&f&&g?function(t,e,n){var i,r=f[1]-f[0],o=(e-g*r)/(n-1-r);return i=t<f[0]?(t-1)*o:t<=f[1]?f[0]*o+(t-f[0])*g:t===n-1?e:f[0]*o+r*g+(t-f[1])*o,{position:i,axisNameAvailableWidth:f[0]<t&&t<f[1]?g:o}}:function(t,e,n){var i=e/(n-1);return{position:i*t,axisNameAvailableWidth:i}};c(r,function(t,i){var o=b(i,s,r.length),a={horizontal:{x:o.position,y:u},vertical:{x:0,y:o.position}},c={horizontal:h/2,vertical:0},p=[a[n].x+e.x,a[n].y+e.y],d=c[n],g=l.create();l.rotate(g,g,d),l.translate(g,g,p),this._axesLayout[t]={position:p,rotation:d,transform:g,axisNameAvailableWidth:o.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:f}},this)},getAxis:function(t){return this._axesMap[t]},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap[e].dataToCoord(t),e)},eachActiveState:function(t,e,n){for(var i=this.dimensions,r=this._axesMap,o=this.hasAxisbrushed(),a=0,s=t.count();s>a;a++){var u,l=t.getValues(i,a);if(o){u="active";for(var c=0,h=i.length;h>c;c++){var p=i[c],f=r[p].model.getActiveState(l[c],c);if("inactive"===f){u="inactive";break}}}else u="normal";e.call(n,u,a)}},hasAxisbrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;r>i;i++)"normal"!==e[t[i]].model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){var n=this._axesLayout[e];return u.applyTransform([t,0],n.transform)},getAxisLayout:function(t){return a.clone(this._axesLayout[t])},findClosestAxisDim:function(t){var e,n=1/0;return a.each(this._axesLayout,function(i,r){var o=u.applyTransform(t,i.transform,!0),a=this._axesMap[r].getExtent();if(!(o[0]<a[0]||o[0]>a[1])){var s=Math.abs(o[1]);n>s&&(n=s,e=r)}},this),e}},t.exports=i},function(t,e,n){var i=n(4),r=n(124),o=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.axisIndex=o};o.prototype={constructor:o,model:null},i.inherits(o,r),t.exports=o},function(t,e,n){var i=n(4),r=n(19);n(231),r.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&i.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},setAxisExpand:function(t){i.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=i.filter(this.dependentModels.parallelAxis,function(t){return t.get("parallelIndex")===this.componentIndex});i.each(n,function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})}})},function(t,e,n){function i(t,e){return e.type||(e.data?"category":"value")}var r=n(19),o=n(4),a=n(15),s=n(128),u=n(7),l=r.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return a([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=o.clone(t);if(e)for(var n=e.length-1;n>=0;n--)u.asc(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var n=0,i=e.length;i>n;n++)if(e[n][0]<=t&&t<=e[n][1])return"active";return"inactive"}}),c={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};o.merge(l.prototype,n(130)),s("parallel",l,i,c),t.exports=l},function(t,e,n){n(227),n(233),n(234)},function(t,e,n){var i=n(1),r={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};i.registerAction(r,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),i.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})},function(t,e,n){function i(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}var r=n(4),o=n(134),a=n(235),s=n(43),u=["axisLine","axisLabel","axisTick","axisName"],l=n(1).extendComponentView({type:"parallelAxis",init:function(t,e){l.superApply(this,"init",arguments),(this._brushController=new a(e.getZr())).on("brush",r.bind(this._onBrush,this))},render:function(t,e,n,a){if(!i(t,e,a)){this.axisModel=t,this.api=n,this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new s.Group,this.group.add(this._axisGroup),t.get("show")){var c,h=e.getComponent("parallel",t.get("parallelIndex")).coordinateSystem,p=t.getAreaSelectStyle(),f=p.width,d=t.axis.dim,g=h.getAxisLayout(d),m=r.indexOf(h.dimensions,d),v=g.axisExpandWindow;v&&(m<=v[0]||m>=v[1])&&(c=!1);var y=r.extend({axisLabelShow:c,strokeContainThreshold:f},g),_=new o(t,y);r.each(u,_.add,_),this._axisGroup.add(_.getGroup()),this._refreshBrushController(y,p,t,f),s.groupTransition(l,this._axisGroup,t)}}},_refreshBrushController:function(t,e,n,i){var o=n.axis,a=r.map(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[o.dataToCoord(t[0],!0),o.dataToCoord(t[1],!0)]}}),u=o.getExtent(),l=u[1]-u[0],c=Math.min(30,.1*Math.abs(l)),h=s.BoundingRect.create({x:u[0],y:-i/2,width:l,height:i});h.x-=c,h.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",rect:h}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(a)},_onBrush:function(t,e){var n=this.axisModel,i=n.axis,o=r.map(t,function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});t.exports=l},function(t,e,n){function i(t){U.assert(t),R.call(this),this._zr=t,this.group=new W.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._mounted,this._uid="brushController_"+ne++,this._handlers={},z(ie,function(t,e){this._handlers[e]=U.bind(t,this)},this)}function r(t,e){var n=t._zr;t._enableGlobalPan||B.take(n,J,t._uid),z(t._handlers,function(t,e){n.on(e,t)}),t._brushType=e.brushType,t._brushOption=U.merge(U.clone(ee),e,!0)}function o(t){var e=t._zr;B.release(e,J,t._uid),z(t._handlers,function(t,n){e.off(n,t)}),t._brushType=t._brushOption=null}function a(t,e){var n=re[e.brushType].createCover(t,e);return l(n),n.__brushOption=e,t.group.add(n),n}function s(t,e){var n=h(e);
return n.endCreating&&(n.endCreating(t,e),l(e)),e}function u(t,e){var n=e.__brushOption;h(e).updateCoverShape(t,e,n.range,n)}function l(t){t.traverse(function(t){t.z=Y,t.z2=Y})}function c(t,e){h(e).updateCommon(t,e),u(t,e)}function h(t){return re[t.__brushOption.brushType]}function p(t,e,n){var i=t._panels;if(!i)return!0;var r;return z(i,function(t){t.contain(e,n)&&(r=t)}),r}function f(t,e){var n=t._panels;if(!n)return!0;var i=e.__brushOption.panelId;return null!=i?n[i]:!0}function d(t){var e=t._covers,n=e.length;return z(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function g(t,e){var n=H(t._covers,function(t){var e=t.__brushOption,n=U.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function m(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],o=n[1]-i[1],a=G(r*r+o*o,.5);return a>Z}function v(t){var e=t.length-1;return 0>e&&(e=0),[t[0],t[e]]}function y(t,e,n,i){var r=new W.Group;return r.add(new W.Rect({name:"main",style:w(n),silent:!0,draggable:!0,cursor:"move",drift:j(t,e,r,"nswe"),ondragend:j(g,e,{isEnd:!0})})),z(i,function(n){r.add(new W.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:j(t,e,r,n),ondragend:j(g,e,{isEnd:!0})}))}),r}function _(t,e,n,i){var r=i.brushStyle.lineWidth||0,o=q(r,X),a=n[0][0],s=n[1][0],u=a-r/2,l=s-r/2,c=n[0][1],h=n[1][1],p=c-o+r/2,f=h-o+r/2,d=c-a,g=h-s,m=d+r,v=g+r;x(t,e,"main",a,s,d,g),i.transformable&&(x(t,e,"w",u,l,o,v),x(t,e,"e",p,l,o,v),x(t,e,"n",u,l,m,o),x(t,e,"s",u,f,m,o),x(t,e,"nw",u,l,o,o),x(t,e,"ne",p,l,o,o),x(t,e,"sw",u,f,o,o),x(t,e,"se",p,f,o,o))}function b(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(w(n)),r.attr({silent:!i,cursor:i?"move":"default"}),z(["w","e","n","s","se","sw","ne","nw"],function(n){var r=e.childOfName(n),o=$(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?te[o]+"-resize":null})})}function x(t,e,n,i,r,o,a){var s=e.childOfName(n);s&&s.setShape(M(I(t,e,[[i,r],[i+o,r+a]])))}function w(t){return U.defaults({strokeNoScale:!0},t.brushStyle)}function T(t,e,n,i){var r=[F(t,n),F(e,i)],o=[q(t,n),q(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function k(t){return W.getTransform(t.group)}function $(t,e){if(e.length>1){e=e.split("");var n=[$(t,e[0]),$(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}var i={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},n=W.transformDirection(i[e],k(t));return r[n]}function S(t,e,n,i,r,o,a){var s=i.__brushOption,u=t(s.range),l=A(n,o,a);z(r.split(""),function(t){var e=Q[t];u[e[0]][e[1]]+=l[e[0]]}),s.range=e(T(u[0][0],u[1][0],u[0][1],u[1][1])),c(n,i),g(n,{isEnd:!1})}function C(t,e,n,i){var r=e.__brushOption.range,o=A(t,n,i);z(r,function(t){t[0]+=o[0],t[1]+=o[1]}),c(t,e),g(t,{isEnd:!1})}function A(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function I(t,e,n){var i=f(t,e);if(i===!0)return U.clone(n);var r=i.getBoundingRect();return U.map(n,function(t){var e=t[0];e=q(e,r.x),e=F(e,r.x+r.width);var n=t[1];return n=q(n,r.y),n=F(n,r.y+r.height),[e,n]})}function M(t){var e=F(t[0][0],t[1][0]),n=F(t[0][1],t[1][1]),i=q(t[0][0],t[1][0]),r=q(t[0][1],t[1][1]);return{x:e,y:n,width:i-e,height:r-n}}function D(t,e){var n=e.offsetX,i=e.offsetY,r=t._zr;if(t._brushType){for(var o,a=t._panels,s=t._covers,u=0;u<s.length;u++)if(re[s[u].__brushOption.brushType].contain(s[u],n,i)){o=!0;break}o||(a?z(a,function(t){t.contain(n,i)&&r.setCursorStyle("crosshair")}):r.setCursorStyle("crosshair"))}}function E(t){var e=t.event;e.preventDefault&&e.preventDefault()}function O(t,e,n){return t.childOfName("main").contain(e,n)}function P(t,e,n){var i,r=e.offsetX,o=e.offsetY,l=t._creatingCover,c=t._creatingPanel,h=t._brushOption;if(t._track.push(t.group.transformCoordToLocal(r,o)),m(t)||l){if(c&&!l){"single"===h.brushMode&&d(t);var f=U.clone(h);f.panelId=c===!0?null:c.__brushPanelId,l=t._creatingCover=a(t,f),t._covers.push(l)}if(l){var g=re[t._brushType],v=l.__brushOption;v.range=g.getCreatingRange(I(t,l,t._track)),n&&(s(t,l),g.updateCommon(t,l)),u(t,l),i={isEnd:n}}}else n&&"single"===h.brushMode&&h.removeOnClick&&p(t,r,o)&&d(t)&&(i={isEnd:n,removeOnClick:!0});return i}function L(t){if(this._dragging){E(t);var e=P(this,t,!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&g(this,e)}}function N(t){return{createCover:function(e,n){return y(j(S,function(e){var n=[e,[0,100]];return t&&n.reverse(),n},function(e){return e[t]}),e,n,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var n=v(e),i=F(n[0][t],n[1][t]),r=q(n[0][t],n[1][t]);return[i,r]},updateCoverShape:function(e,n,i,r){var o,a=r.brushStyle.width;if(null==a){var s=f(e,n),u=0;if(s!==!0){var l=s.getBoundingRect();a=t?l.width:l.height,u=t?l.x:l.y}o=[u,u+(a||0)]}else o=[-a/2,a/2];var c=[i,o];t&&c.reverse(),_(e,n,c,r)},updateCommon:b,contain:O}}var R=n(33),U=n(4),V=n(9),W=n(43),B=n(177),K=n(99),j=U.curry,z=U.each,H=U.map,F=Math.min,q=Math.max,G=Math.pow,Y=1e4,Z=6,X=6,J="globalPan",Q={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},te={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},ee={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},ne=0;i.prototype={constructor:i,enableBrush:function(t){return U.assert(this._mounted),this._brushType&&o(this),t.brushType&&r(this,t),this},setPanels:function(t){var e=this._panels||{},n=this._panels=t&&t.length&&{},i=this.group;return n&&z(t,function(t){var r=t.panelId,o=e[r];o||(o=new W.Rect({silent:!0,invisible:!0}),i.add(o));var a=t.rect;a instanceof V||(a=V.create(a)),o.attr("shape",a.plain()),o.__brushPanelId=r,n[r]=o,e[r]=null}),z(e,function(t){t&&i.remove(t)}),this},mount:function(t){t=t||{},this._mounted=!0,this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this},eachCover:function(t,e){z(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:o+e)+"-"+t.brushType}function n(t,n){return e(t.__brushOption,n)}function i(e,n){var i=t[e];if(null!=n&&u[n]===p)l[e]=u[n];else{var r=l[e]=null!=n?(u[n].__brushOption=i,u[n]):s(h,a(h,i));c(h,r)}}function r(t){u[t]!==p&&h.group.remove(u[t])}U.assert(this._mounted),t=U.map(t,function(t){return U.merge(U.clone(ee),t,!0)});var o="\x00-brush-index-",u=this._covers,l=this._covers=[],h=this,p=this._creatingCover;return new K(u,t,n,e).add(i).update(i).remove(r).execute(),this},unmount:function(){return this.enableBrush(!1),d(this),this._zr.remove(this.group),this._mounted=!1,this},dispose:function(){this.unmount(),this.off()}},U.mixin(i,R);var ie={mousedown:function(t){if(this._dragging)L.call(this,t);else if(!t.target||!t.target.draggable){E(t);var e=t.offsetX,n=t.offsetY;this._creatingCover=null;var i=this._creatingPanel=p(this,e,n);i&&(this._dragging=!0,this._track=[this.group.transformCoordToLocal(e,n)])}},mousemove:function(t){if(D(this,t),this._dragging){E(t);var e=P(this,t,!1);e&&g(this,e)}},mouseup:L},re={lineX:N(0),lineY:N(1),rect:{createCover:function(t,e){return y(j(S,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=v(t);return T(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){_(t,e,n,i)},updateCommon:b,contain:O},polygon:{createCover:function(t,e){var n=new W.Group;return n.add(new W.Polyline({name:"main",style:w(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new W.Polygon({name:"main",draggable:!0,drift:j(C,t,e),ondragend:j(g,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n){e.childAt(0).setShape({points:I(t,e,n)})},updateCommon:b,contain:O}};t.exports=i},function(t,e,n){function i(t){if(!t.parallel){var e=!1;o.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}function r(t){var e=a.normalizeToArray(t.parallelAxis);o.each(e,function(e){if(o.isObject(e)){var n=e.parallelIndex||0,i=a.normalizeToArray(t.parallel)[n];i&&i.parallelAxisDefault&&o.merge(e,i.parallelAxisDefault,!1)}})}var o=n(4),a=n(5);t.exports=function(t){i(t),r(t)}},function(t,e,n){function i(t,e,n){var i=t.get("data"),o=r(e);i&&i.length&&s.each(n,function(t){if(t){var e=s.indexOf(i,t[o]);t[o]=e>=0?e:0/0}})}function r(t){return+t.replace("dim","")}function o(t,e){var n=0;s.each(t,function(t){var e=r(t);e>n&&(n=e)});var i=e[0];i&&i.length-1>n&&(n=i.length-1);for(var o=[],a=0;n>=a;a++)o.push("dim"+a);return o}var a=n(98),s=n(4),u=n(28),l=n(103);t.exports=u.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(t,e){var n=e.getComponent("parallel",this.get("parallelIndex")),r=n.parallelAxisIndex,u=t.data,c=n.dimensions,h=o(c,u),p=s.map(h,function(t,n){var o=s.indexOf(c,t),a=o>=0&&e.getComponent("parallelAxis",r[o]);return a&&"category"===a.get("type")?(i(a,t,u),{name:t,type:"ordinal"}):0>o&&l.guessOrdinal(u,n)?{name:t,type:"ordinal"}:t}),f=new a(p,this);return f.initData(u),this.option.progressive&&(this.option.animation=!1),f},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,function(e,r){t===e&&i.push(n.getRawIndex(r))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(t,e,n){function i(t,e,n){var i=t.model,r=t.getRect(),o=new u.Rect({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===i.get("layout")?"width":"height";return o.setShape(a,0),u.initProps(o,{shape:{width:r.width,height:r.height}},e,n),o}function r(t,e,n,i){for(var r=[],o=0;o<n.length;o++){var a=n[o],u=t.get(a,e);s(u,i.getAxis(a).type)||r.push(i.dataToPoint(u,a))}return r}function o(t,e,n,i,o){var a=r(t,n,i,o),s=new u.Polyline({shape:{points:a},silent:!0,z2:10});e.add(s),t.setItemGraphicEl(n,s)}function a(t,e){var n=t.hostModel.getModel("lineStyle.normal"),i=n.getLineStyle();t.eachItemGraphicEl(function(r,o){if(t.hasItemOption){var a=t.getItemModel(o),s=a.getModel("lineStyle.normal",n);i=s.getLineStyle()}r.useStyle(l.extend(i,{fill:null,stroke:t.getItemVisual(o,"color"),opacity:t.getItemVisual(o,"opacity")})),r.shape.smooth=e})}function s(t,e){return"category"===e?null==t:null==t||isNaN(t)}var u=n(43),l=n(4),c=.3,h=n(42).extend({type:"parallel",init:function(){this._dataGroup=new u.Group,this.group.add(this._dataGroup),this._data},render:function(t){this._renderForNormal(t)},dispose:function(){},_renderForNormal:function(t){function e(t){o(h,l,t,d,f,null,m)}function n(e,n){var i=p.getItemGraphicEl(n),o=r(h,e,d,f);h.setItemGraphicEl(e,i),u.updateProps(i,{shape:{points:o}},t,e)}function s(t){var e=p.getItemGraphicEl(t);l.remove(e)}var l=this._dataGroup,h=t.getData(),p=this._data,f=t.coordinateSystem,d=f.dimensions,g=t.option,m=g.smooth?c:null;if(h.diff(p).add(e).update(n).remove(s).execute(),a(h,m),!this._data){var v=i(f,t,function(){setTimeout(function(){l.removeClipPath()})});l.setClipPath(v)}this._data=h},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=h},function(t){t.exports=function(t){t.eachSeriesByType("parallel",function(e){var n=e.getModel("itemStyle.normal"),i=e.getModel("lineStyle.normal"),r=t.get("color"),o=i.get("color")||n.get("color")||r[e.seriesIndex%r.length],a=e.get("inactiveOpacity"),s=e.get("activeOpacity"),u=e.getModel("lineStyle.normal").getLineStyle(),l=e.coordinateSystem,c=e.getData(),h={normal:u.opacity,active:s,inactive:a};l.eachActiveState(c,function(t,e){c.setItemVisual(e,"opacity",h[t])}),c.setVisual("color",o)})}},function(t,e,n){var i=n(1);n(241),n(242),i.registerLayout(n(243)),i.registerVisual(n(245))},function(t,e,n){var i=n(28),r=n(198),o=i.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,n=t.data||t.nodes;if(n&&e){var i=r(n,e,this,!0);return i.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getDataParams(t,n),r=i.data,a=r.source+" -- "+r.target;return i.value&&(a+=" : "+i.value),a}return o.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});t.exports=o},function(t,e,n){function i(t,e,n){var i=new r.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return r.initProps(i,{shape:{width:t.width+20,height:t.height+20}},e,n),i}var r=n(43),o=n(4),a=r.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var n=e.extent/2;t.moveTo(e.x1,e.y1-n),t.bezierCurveTo(e.cpx1,e.cpy1-n,e.cpx2,e.cpy2-n,e.x2,e.y2-n),t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n),t.closePath()}});t.exports=n(1).extendChartView({type:"sankey",_model:null,render:function(t){var e=t.getGraph(),n=this.group,s=t.layoutInfo,u=t.getData(),l=t.getData("edge");this._model=t,n.removeAll(),n.position=[s.x,s.y],e.eachEdge(function(e){var i=new a;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var o=e.getModel("lineStyle.normal"),s=o.get("curveness"),u=e.node1.getLayout(),c=e.node2.getLayout(),h=e.getLayout();i.shape.extent=Math.max(1,h.dy);var p=u.x+u.dx,f=u.y+h.sy+h.dy/2,d=c.x,g=c.y+h.ty+h.dy/2,m=p*(1-s)+d*s,v=f,y=p*s+d*(1-s),_=g;switch(i.setShape({x1:p,y1:f,x2:d,y2:g,cpx1:m,cpy1:v,cpx2:y,cpy2:_}),i.setStyle(o.getItemStyle()),i.style.fill){case"source":i.style.fill=e.node1.getVisual("color");break;case"target":i.style.fill=e.node2.getVisual("color")}r.setHoverStyle(i,e.getModel("lineStyle.emphasis").getItemStyle()),n.add(i),l.setItemGraphicEl(e.dataIndex,i)}),e.eachNode(function(e){var i=e.getLayout(),a=e.getModel(),s=a.getModel("label.normal"),l=s.getModel("textStyle"),c=a.getModel("label.emphasis"),h=c.getModel("textStyle"),p=new r.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:{text:s.get("show")?t.getFormattedLabel(e.dataIndex,"normal")||e.id:"",textFont:l.getFont(),textFill:l.getTextColor(),textPosition:s.get("position")}});p.setStyle(o.defaults({fill:e.getVisual("color")},a.getModel("itemStyle.normal").getItemStyle())),r.setHoverStyle(p,o.extend(e.getModel("itemStyle.emphasis"),{text:c.get("show")?t.getFormattedLabel(e.dataIndex,"emphasis")||e.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:c.get("position")})),n.add(p),u.setItemGraphicEl(e.dataIndex,p),p.dataType="node"}),!this._data&&t.get("animation")&&n.setClipPath(i(n.getBoundingRect(),t,function(){n.removeClipPath()})),this._data=t.getData()},dispose:function(){}})},function(t,e,n){function i(t,e){return k.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function r(t,e,n,i,r,o,s){a(t,n,r),l(t,e,o,i,s),m(t)}function o(t){S.each(t,function(t){var e=_(t.outEdges,T),n=_(t.inEdges,T),i=Math.max(e,n);t.setLayout({value:i},!0)})}function a(t,e,n){for(var i=t,r=null,o=0,a=0;i.length;){r=[];for(var l=0,c=i.length;c>l;l++){var h=i[l];h.setLayout({x:o},!0),h.setLayout({dx:e},!0);for(var p=0,f=h.outEdges.length;f>p;p++)r.push(h.outEdges[p].node2)}i=r,++o}s(t,o),a=(n-e)/(o-1),u(t,a)}function s(t,e){S.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})}function u(t,e){S.each(t,function(t){var n=t.getLayout().x*e;t.setLayout({x:n},!0)})}function l(t,e,n,i,r){var o=$().key(function(t){return t.getLayout().x}).sortKeys(w).entries(t).map(function(t){return t.values});c(t,o,e,n,i),h(o,i,n);for(var a=1;r>0;r--)a*=.99,p(o,a),h(o,i,n),d(o,a),h(o,i,n)}function c(t,e,n,i,r){var o=[];S.each(e,function(t){var e=t.length,n=0;S.each(t,function(t){n+=t.getLayout().value});var a=(i-(e-1)*r)/n;o.push(a)}),o.sort(function(t,e){return t-e});var a=o[0];S.each(e,function(t){S.each(t,function(t,e){t.setLayout({y:e},!0);var n=t.getLayout().value*a;t.setLayout({dy:n},!0)})}),S.each(n,function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)})}function h(t,e,n){S.each(t,function(t){var i,r,o,a=0,s=t.length;for(t.sort(x),o=0;s>o;o++){if(i=t[o],r=a-i.getLayout().y,r>0){var u=i.getLayout().y+r;i.setLayout({y:u},!0)}a=i.getLayout().y+i.getLayout().dy+e}if(r=a-e-n,r>0){var u=i.getLayout().y-r;for(i.setLayout({y:u},!0),a=i.getLayout().y,o=s-2;o>=0;--o)i=t[o],r=i.getLayout().y+i.getLayout().dy+e-a,r>0&&(u=i.getLayout().y-r,i.setLayout({y:u},!0)),a=i.getLayout().y}})}function p(t,e){S.each(t.slice().reverse(),function(t){S.each(t,function(t){if(t.outEdges.length){var n=_(t.outEdges,f)/_(t.outEdges,T),i=t.getLayout().y+(n-b(t))*e;t.setLayout({y:i},!0)}})})}function f(t){return b(t.node2)*t.getValue()}function d(t,e){S.each(t,function(t){S.each(t,function(t){if(t.inEdges.length){var n=_(t.inEdges,g)/_(t.inEdges,T),i=t.getLayout().y+(n-b(t))*e;t.setLayout({y:i},!0)}})})}function g(t){return b(t.node1)*t.getValue()}function m(t){S.each(t,function(t){t.outEdges.sort(v),t.inEdges.sort(y)}),S.each(t,function(t){var e=0,n=0;S.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),S.each(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}function v(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function y(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function _(t,e){for(var n=0,i=t.length,r=-1;++r<i;){var o=+e.call(t,t[r],r);isNaN(o)||(n+=o)}return n}function b(t){return t.getLayout().y+t.getLayout().dy/2}function x(t,e){return t.getLayout().y-e.getLayout().y}function w(t,e){return e>t?-1:t>e?1:t===e?0:0/0}function T(t){return t.getValue()}var k=n(21),$=n(244),S=n(4);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),a=t.get("nodeGap"),s=i(t,e);t.layoutInfo=s;var u=s.width,l=s.height,c=t.getGraph(),h=c.nodes,p=c.edges;o(h);var f=h.filter(function(t){return 0===t.getLayout().value}),d=0!==f.length?0:t.get("layoutIterations");r(h,p,n,a,u,l,d)})}},function(t,e,n){function i(){function t(e,i){if(i>=n.length)return e;for(var o=-1,a=e.length,s=n[i++],u={},l={};++o<a;){var c=s(e[o]),h=l[c];h?h.push(e[o]):l[c]=[e[o]]}return r.each(l,function(e,n){u[n]=t(e,i)}),u}function e(t,o){if(o>=n.length)return t;var a=[],s=i[o++];return r.each(t,function(t,n){a.push({key:n,values:e(t,o)})}),s?a.sort(function(t,e){return s(t.key,e.key)}):a}var n=[],i=[];return{key:function(t){return n.push(t),this},sortKeys:function(t){return i[n.length-1]=t,this},entries:function(n){return e(t(n,0),0)}}}var r=n(4);t.exports=i},function(t,e,n){var i=n(194),r=n(4);t.exports=function(t){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes;n.sort(function(t,e){return t.getLayout().value-e.getLayout().value});var o=n[0].getLayout().value,a=n[n.length-1].getLayout().value;r.each(n,function(e){var n=new i({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:t.get("color")}),r=n.mapValueToVisual(e.getLayout().value);e.setVisual("color",r);var s=e.getModel(),u=s.get("itemStyle.normal.color");null!=u&&e.setVisual("color",u)})})}},function(t,e,n){var i=n(1);n(247),n(250),i.registerVisual(n(251)),i.registerLayout(n(252))},function(t,e,n){"use strict";var i=n(4),r=n(28),o=n(248),a=r.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});i.mixin(a,o.seriesModelMixin,!0),t.exports=a},function(t,e,n){"use strict";function i(t){return null==t.value?t:t.value}var r=n(98),o=n(103),a=n(249),s=n(4),u={_baseAxisDim:null,getInitialData:function(t,e){var n,a,s=e.getComponent("xAxis",this.get("xAxisIndex")),u=e.getComponent("yAxis",this.get("yAxisIndex")),l=s.get("type"),c=u.get("type");"category"===l?(t.layout="horizontal",n=s.getCategories(),a=!0):"category"===c?(t.layout="vertical",n=u.getCategories(),a=!0):t.layout=t.layout||"horizontal",this._baseAxisDim="horizontal"===t.layout?"x":"y";var h=t.data,p=this.dimensions=["base"].concat(this.valueDimensions);o(p,h);var f=new r(p,this);return f.initData(h,n?n.slice():null,function(t,e,n,r){var o=i(t);return a?"base"===e?n:o[r-1]:o[r]}),f},coordDimToDataDim:function(t){var e=this.valueDimensions.slice(),n=["base"],i={horizontal:{x:n,y:e},vertical:{x:e,y:n}};return i[this.get("layout")][t]},dataDimToCoordDim:function(t){var e;return s.each(["x","y"],function(n){var i=this.coordDimToDataDim(n);s.indexOf(i,t)>=0&&(e=n)},this),e},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}},l={init:function(){var t=this._whiskerBoxDraw=new a(this.getStyleUpdater());this.group.add(t.group)},render:function(t){this._whiskerBoxDraw.updateData(t.getData())},remove:function(){this._whiskerBoxDraw.remove()}};t.exports={seriesModelMixin:u,viewMixin:l}},function(t,e,n){function i(t,e,n,i){u.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=n,this._createContent(t,e,i),this.updateData(t,e,i),this._seriesModel}function r(t,e,n){return s.map(t,function(t){return t=t.slice(),t[e]=n.initBaseline,t})}function o(t){var e={};return s.each(t,function(t,n){e["ends"+n]=t}),e}function a(t){this.group=new u.Group,this.styleUpdater=t}var s=n(4),u=n(43),l=n(45),c=l.extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var n in e)if(e.hasOwnProperty(n)&&0===n.indexOf("ends")){var i=e[n];t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1])}}}),h=i.prototype;h._createContent=function(t,e,n){var i=t.getItemLayout(e),a="horizontal"===i.chartLayout?1:0,l=0;this.add(new u.Polygon({shape:{points:n?r(i.bodyEnds,a,i):i.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=l++;var h=s.map(i.whiskerEnds,function(t){return n?r(t,a,i):t});this.add(new c({shape:o(h),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=l++},h.updateData=function(t,e,n){var i=this._seriesModel=t.hostModel,r=t.getItemLayout(e),a=u[n?"initProps":"updateProps"];a(this.childAt(this.bodyIndex),{shape:{points:r.bodyEnds}},i,e),a(this.childAt(this.whiskerIndex),{shape:o(r.whiskerEnds)},i,e),this.styleUpdater.call(null,this,t,e)},s.inherits(i,u.Group);var p=a.prototype;p.updateData=function(t){var e=this.group,n=this._data,r=this.styleUpdater;t.diff(n).add(function(n){if(t.hasValue(n)){var o=new i(t,n,r,!0);t.setItemGraphicEl(n,o),e.add(o)}}).update(function(o,a){var s=n.getItemGraphicEl(a);return t.hasValue(o)?(s?s.updateData(t,o):s=new i(t,o,r),e.add(s),void t.setItemGraphicEl(o,s)):void e.remove(s)}).remove(function(t){var i=n.getItemGraphicEl(t);i&&e.remove(i)}).execute(),this._data=t},p.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.exports=a},function(t,e,n){"use strict";function i(t,e,n){var i=e.getItemModel(n),r=i.getModel(l),o=e.getItemVisual(n,"color"),s=r.getItemStyle(["borderColor"]),u=t.childAt(t.whiskerIndex);u.style.set(s),u.style.stroke=o,u.dirty();var h=t.childAt(t.bodyIndex);h.style.set(s),h.style.stroke=o,h.dirty();var p=i.getModel(c).getItemStyle();a.setHoverStyle(t,p)}var r=n(4),o=n(42),a=n(43),s=n(248),u=o.extend({type:"boxplot",getStyleUpdater:function(){return i},dispose:r.noop});r.mixin(u,s.viewMixin,!0);var l=["itemStyle","normal"],c=["itemStyle","emphasis"];t.exports=u},function(t){var e=["itemStyle","normal","borderColor"];t.exports=function(t){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(i){var r=n[i.seriesIndex%n.length],o=i.getData();o.setVisual({legendSymbol:"roundRect",color:i.get(e)||r}),t.isSeriesFiltered(i)||o.each(function(t){var n=o.getItemModel(t);o.setItemVisual(t,{color:n.get(e,!0)})})})}},function(t,e,n){function i(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var i=t.getBaseAxis(),r=a.indexOf(n,i);0>r&&(r=n.length,n[r]=i,e[r]={axis:i,seriesModels:[]}),e[r].seriesModels.push(t)}),e}function r(t){var e,n,i=t.axis,r=t.seriesModels,o=r.length,s=t.boxWidthList=[],c=t.boxOffsetList=[],h=[];if("category"===i.type)n=i.getBandWidth();else{var p=0;l(r,function(t){p=Math.max(p,t.getData().count())}),e=i.getExtent(),Math.abs(e[1]-e[0])/p}l(r,function(t){var e=t.get("boxWidth");a.isArray(e)||(e=[e,e]),h.push([u(e[0],n)||0,u(e[1],n)||0])});var f=.8*n-2,d=f/o*.3,g=(f-d*(o-1))/o,m=g/2-f/2;l(r,function(t,e){c.push(m),m+=d+g,s.push(Math.min(Math.max(g,h[e][0]),h[e][1]))})}function o(t,e,n){var i=t.coordinateSystem,r=t.getData(),o=t.dimensions,a=t.get("layout"),s=n/2;r.each(o,function(){function t(t){var n=[];n[f]=h,n[d]=t;var r;return isNaN(h)||isNaN(t)?r=[0/0,0/0]:(r=i.dataToPoint(n),r[f]+=e),r}function n(t,e){var n=t.slice(),i=t.slice();n[f]+=s,i[f]-=s,e?_.push(n,i):_.push(i,n)}function u(t){var e=[t.slice(),t.slice()];e[0][f]-=s,e[1][f]+=s,y.push(e)}var l=arguments,c=o.length,h=l[0],p=l[c],f="horizontal"===a?0:1,d=1-f,g=t(l[3]),m=t(l[1]),v=t(l[5]),y=[[m,t(l[2])],[v,t(l[4])]];u(m),u(v),u(g);var _=[];n(y[0][1],0),n(y[1][1],1),r.setItemLayout(p,{chartLayout:a,initBaseline:g[d],median:g,bodyEnds:_,whiskerEnds:y})})}var a=n(4),s=n(7),u=s.parsePercent,l=a.each;t.exports=function(t){var e=i(t);l(e,function(t){var e=t.seriesModels;e.length&&(r(t),l(e,function(e,n){o(e,t.boxOffsetList[n],t.boxWidthList[n])}))})}},function(t,e,n){var i=n(1);n(254),n(255),i.registerPreprocessor(n(256)),i.registerVisual(n(257)),i.registerLayout(n(258))},function(t,e,n){"use strict";var i=n(4),r=n(28),o=n(248),a=n(6),s=a.encodeHTML,u=a.addCommas,l=r.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(t){var e=i.map(this.valueDimensions,function(e){return e+": "+u(this._data.get(e,t))},this);return s(this.name)+"<br />"+e.join("<br />")},brushSelector:function(t,e){return e.rect(t.brushRect)}});i.mixin(l,o.seriesModelMixin,!0),t.exports=l},function(t,e,n){"use strict";function i(t,e,n){var i=e.getItemModel(n),r=i.getModel(l),o=e.getItemVisual(n,"color"),s=e.getItemVisual(n,"borderColor")||o,u=r.getItemStyle(["color","color0","borderColor","borderColor0"]),h=t.childAt(t.whiskerIndex);h.useStyle(u),h.style.stroke=s;var p=t.childAt(t.bodyIndex);p.useStyle(u),p.style.fill=o,p.style.stroke=s;var f=i.getModel(c).getItemStyle();a.setHoverStyle(t,f)}var r=n(4),o=n(42),a=n(43),s=n(248),u=o.extend({type:"candlestick",getStyleUpdater:function(){return i},dispose:r.noop});r.mixin(u,s.viewMixin,!0);var l=["itemStyle","normal"],c=["itemStyle","emphasis"];t.exports=u},function(t,e,n){var i=n(4);t.exports=function(t){t&&i.isArray(t.series)&&i.each(t.series,function(t){i.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}},function(t){var e=["itemStyle","normal","borderColor"],n=["itemStyle","normal","borderColor0"],i=["itemStyle","normal","color"],r=["itemStyle","normal","color0"];t.exports=function(t){t.eachRawSeriesByType("candlestick",function(o){var a=o.getData();a.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(o)||a.each(function(t){var o=a.getItemModel(t),s=a.getItemLayout(t).sign;a.setItemVisual(t,{color:o.get(s>0?i:r),borderColor:o.get(s>0?e:n)})})})}},function(t){function e(t,e){var o,a=t.getBaseAxis(),s="category"===a.type?a.getBandWidth():(o=a.getExtent(),Math.abs(o[1]-o[0])/e.count());return s/2-2>i?s/2-2:s-i>r?i:Math.max(s-r,n)}var n=2,i=5,r=4;t.exports=function(t){t.eachSeriesByType("candlestick",function(t){var n=t.coordinateSystem,i=t.getData(),r=t.dimensions,o=t.get("layout"),a=e(t,i);i.each(r,function(){function t(t){var e=[];return e[p]=c,e[f]=t,isNaN(c)||isNaN(t)?[0/0,0/0]:n.dataToPoint(e)}function e(t,e){var n=t.slice(),i=t.slice();n[p]+=a/2,i[p]-=a/2,e?$.push(n,i):$.push(i,n)}function s(){var e=t(Math.min(d,g,m,v)),n=t(Math.max(d,g,m,v));return e[p]-=a/2,n[p]-=a/2,{x:e[0],y:e[1],width:f?a:n[0]-e[0],height:f?n[1]-e[1]:a}}var u=arguments,l=r.length,c=u[0],h=u[l],p="horizontal"===o?0:1,f=1-p,d=u[1],g=u[2],m=u[3],v=u[4],y=Math.min(d,g),_=Math.max(d,g),b=t(y),x=t(_),w=t(m),T=t(v),k=[[T,x],[w,b]],$=[];e(x,0),e(b,1),i.setItemLayout(h,{chartLayout:o,sign:d>g?-1:g>d?1:0,initBaseline:d>g?x[f]:b[f],bodyEnds:$,whiskerEnds:k,brushRect:s()})},!0)})}},function(t,e,n){var i=n(4),r=n(1);n(260),n(261),r.registerVisual(i.curry(n(110),"effectScatter","circle",null)),r.registerLayout(i.curry(n(111),"effectScatter"))},function(t,e,n){"use strict";var i=n(102),r=n(28);t.exports=r.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){var n=i(t.data,this,e);return n},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(t,e,n){var i=n(105),r=n(262);n(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new i(r)},render:function(t){var e=t.getData(),n=this._symbolDraw;n.updateData(e),this.group.add(n.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}})},function(t,e,n){function i(t){return a.isArray(t)||(t=[+t,+t]),t}function r(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})})}function o(t,e){h.call(this);var n=new c(t,e),i=new h;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}var a=n(4),s=n(107),u=n(43),l=n(7),c=n(106),h=u.Group,p=3,f=o.prototype;f.stopEffectAnimation=function(){this.childAt(1).removeAll()},f.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=this.childAt(1),o=0;p>o;o++){var a=s.createSymbol(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var u=-o/p*t.period+t.effectOffset;a.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(u).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),i.add(a)}r(i,t)},f.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],o=0;i>o;o++){var a=i[o];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}r(n,t)},f.highlight=function(){this.trigger("emphasis")},f.downplay=function(){this.trigger("normal")},f.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),o=t.getItemModel(e),a=t.getItemVisual(e,"symbol"),s=i(t.getItemVisual(e,"symbolSize")),u=t.getItemVisual(e,"color");r.attr("scale",s),r.traverse(function(t){t.attr({fill:u})});var c=o.getShallow("symbolOffset");if(c){var h=r.position;h[0]=l.parsePercent(c[0],s[0]),h[1]=l.parsePercent(c[1],s[1])}r.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var p={};if(p.showEffectOn=n.get("showEffectOn"),p.rippleScale=o.get("rippleEffect.scale"),p.brushType=o.get("rippleEffect.brushType"),p.period=1e3*o.get("rippleEffect.period"),p.effectOffset=e/t.count(),p.z=o.getShallow("z")||0,p.zlevel=o.getShallow("zlevel")||0,p.symbolType=a,p.color=u,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===p.showEffectOn)this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p;
else{this._effectCfg=null,this.stopEffectAnimation();var f=this.childAt(0),d=function(){f.trigger("emphasis"),"render"!==p.showEffectOn&&this.startEffectAnimation(p)},g=function(){f.trigger("normal"),"render"!==p.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",g,this).on("emphasis",d,this).on("normal",g,this)}this._effectCfg=p},f.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},a.inherits(o,h),t.exports=o},function(t,e,n){n(264),n(265);var i=n(1);i.registerLayout(n(270))},function(t,e,n){"use strict";function i(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),t.data=a.map(e,function(t){var e=[t[0].coord,t[1].coord],n={coords:e};return t[0].name&&(n.fromName=t[0].name),t[1].name&&(n.toName=t[1].name),a.mergeAll([n,t[0],t[1]])}))}var r=n(28),o=n(98),a=n(4),s=n(26),u=r.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(t){i(t),u.superApply(this,"init",arguments)},mergeOption:function(t){i(t),u.superApply(this,"mergeOption",arguments)},getInitialData:function(t){var e=s.get(t.coordinateSystem);if(!e)throw new Error("Unkown coordinate system "+t.coordinateSystem);var n=new o(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,i,r){if(t instanceof Array)return 0/0;n.hasItemOption=!0;var o=t.value;return null!=o?o instanceof Array?o[r]:o:void 0}),n},formatTooltip:function(t){var e=this.getData(),n=e.getItemModel(t),i=n.get("name");if(i)return i;var r=n.get("fromName"),o=n.get("toName");return r+" > "+o},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(t,e,n){var i=n(201),r=n(266),o=n(202),a=n(267),s=n(268),u=n(269);n(1).extendChartView({type:"lines",init:function(){},render:function(t,e,n){var l=t.getData(),c=this._lineDraw,h=t.get("effect.show"),p=t.get("polyline"),f=t.get("large")&&l.count()>=t.get("largeThreshold");h&&f&&console.warn("Large lines not support effect"),(h!==this._hasEffet||p!==this._isPolyline||f!==this._isLarge)&&(c&&c.remove(),c=this._lineDraw=f?new u:new i(p?h?s:a:h?r:o),this._hasEffet=h,this._isPolyline=p,this._isLarge=f);var d=t.get("zlevel"),g=t.get("effect.trailLength"),m=n.getZr();if(m.painter.getLayer(d).clear(!0),null!=this._lastZlevel&&m.configLayer(this._lastZlevel,{motionBlur:!1}),h&&g){var v=!1;e.eachSeries(function(e){e!==t&&e.get("zlevel")===d&&(v=!0)}),v&&console.warn("Lines with trail effect should have an individual zlevel"),m.configLayer(d,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})}this.group.add(c.group),c.updateData(l),this._lastZlevel=d},updateLayout:function(t,e,n){this._lineDraw.updateLayout(t);var i=n.getZr();i.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(e,!0)},dispose:function(){}})},function(t,e,n){function i(t,e,n){r.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}var r=n(43),o=n(202),a=n(4),s=n(107),u=n(10),l=n(50),c=i.prototype;c.createLine=function(t,e,n){return new o(t,e,n)},c._updateEffectSymbol=function(t,e){var n=t.getItemModel(e),i=n.getModel("effect"),r=i.get("symbolSize"),o=i.get("symbol");a.isArray(r)||(r=[r,r]);var u=i.get("color")||t.getItemVisual(e,"color"),l=this.childAt(1);this._symbolType!==o&&(this.remove(l),l=s.createSymbol(o,-.5,-.5,1,1,u),l.z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",u),l.setStyle(i.getItemStyle(["color"])),l.attr("scale",r),l.setColor(u),l.attr("scale",r),this._symbolType=o,this._updateEffectAnimation(t,i,e))},c._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=this,o=t.getItemLayout(n),s=1e3*e.get("period"),u=e.get("loop"),l=e.get("constantSpeed"),c=a.retrieve(e.get("delay"),function(e){return e/t.count()*s/3}),h="function"==typeof c;if(i.ignore=!0,this.updateAnimationPoints(i,o),l>0&&(s=this.getLineLength(i)/l*1e3),s!==this._period||u!==this._loop){i.stopAnimation();var p=c;h&&(p=c(n)),i.__t>0&&(p=-s*i.__t),i.__t=0;var f=i.animate("",u).when(s,{__t:1}).delay(p).during(function(){r.updateSymbolPosition(i)});u||f.done(function(){r.remove(i)}),f.start()}this._period=s,this._loop=u}},c.getLineLength=function(t){return u.dist(t.__p1,t.__cp1)+u.dist(t.__cp1,t.__p2)},c.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},c.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},c.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,o=t.position,a=l.quadraticAt,s=l.quadraticDerivativeAt;o[0]=a(e[0],i[0],n[0],r),o[1]=a(e[1],i[1],n[1],r);var u=s(e[0],i[0],n[0],r),c=s(e[1],i[1],n[1],r);t.rotation=-Math.atan2(c,u)-Math.PI/2,t.ignore=!1},c.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},a.inherits(i,r.Group),t.exports=i},function(t,e,n){function i(t,e,n){r.Group.call(this),this._createPolyline(t,e,n)}var r=n(43),o=n(4),a=i.prototype;a._createPolyline=function(t,e,n){var i=t.getItemLayout(e),o=new r.Polyline({shape:{points:i}});this.add(o),this._updateCommonStl(t,e,n)},a.updateData=function(t,e,n){var i=t.hostModel,o=this.childAt(0),a={shape:{points:t.getItemLayout(e)}};r.updateProps(o,a,i,e),this._updateCommonStl(t,e,n)},a._updateCommonStl=function(t,e,n){var i=this.childAt(0),a=t.getItemModel(e),s=t.getItemVisual(e,"color"),u=n&&n.lineStyle,l=n&&n.hoverLineStyle;(!n||t.hasItemOption)&&(u=a.getModel("lineStyle.normal").getLineStyle(),l=a.getModel("lineStyle.emphasis").getLineStyle()),i.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:s},u)),i.hoverStyle=l,r.setHoverStyle(this)},a.updateLayout=function(t,e){var n=this.childAt(0);n.setShape("points",t.getItemLayout(e))},o.inherits(i,r.Group),t.exports=i},function(t,e,n){function i(t,e,n){a.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}var r=n(267),o=n(4),a=n(266),s=n(10),u=i.prototype;u.createLine=function(t,e,n){return new r(t,e,n)},u.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var o=e[r-1],a=e[r];i+=s.dist(o,a),n.push(i)}if(0!==i){for(var r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},u.getLineLength=function(){return this._length},u.updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o,a=this._lastFrame;if(e<this._lastFramePercent){var u=Math.min(a+1,r-1);for(o=u;o>=0&&!(i[o]<=e);o--);o=Math.min(o,r-2)}else{for(var o=a;r>o&&!(i[o]>e);o++);o=Math.min(o-1,r-2)}s.lerp(t.position,n[o],n[o+1],(e-i[o])/(i[o+1]-i[o]));var l=n[o+1][0]-n[o][0],c=n[o+1][1]-n[o][1];t.rotation=-Math.atan2(c,l)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},o.inherits(i,a),t.exports=i},function(t,e,n){function i(){this.group=new r.Group,this._lineEl=new s}var r=n(43),o=n(55),a=n(53),s=r.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(t,e){for(var n=e.segs,i=e.polyline,r=0;r<n.length;r++){var o=n[r];if(i){t.moveTo(o[0][0],o[0][1]);for(var a=1;a<o.length;a++)t.lineTo(o[a][0],o[a][1])}else t.moveTo(o[0][0],o[0][1]),o.length>2?t.quadraticCurveTo(o[2][0],o[2][1],o[1][0],o[1][1]):t.lineTo(o[1][0],o[1][1])}},findDataIndex:function(t,e){for(var n=this.shape,i=n.segs,r=n.polyline,s=Math.max(this.style.lineWidth,1),u=0;u<i.length;u++){var l=i[u];if(r){for(var c=1;c<l.length;c++)if(a.containStroke(l[c-1][0],l[c-1][1],l[c][0],l[c][1],s,t,e))return u}else if(l.length>2){if(o.containStroke(l[0][0],l[0][1],l[2][0],l[2][1],l[1][0],l[1][1],s,t,e))return u}else if(a.containStroke(l[0][0],l[0][1],l[1][0],l[1][1],s,t,e))return u}return-1}}),u=i.prototype;u.updateData=function(t){this.group.removeAll();var e=this._lineEl,n=t.hostModel;e.setShape({segs:t.mapArray(t.getItemLayout),polyline:n.get("polyline")}),e.useStyle(n.getModel("lineStyle.normal").getLineStyle());var i=t.getVisual("color");i&&e.setStyle("stroke",i),e.setStyle("fill"),e.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var n=e.findDataIndex(t.offsetX,t.offsetY);n>0&&(e.dataIndex=n)}),this.group.add(e)},u.updateLayout=function(t){var e=t.getData();this._lineEl.setShape({segs:e.mapArray(e.getItemLayout)})},u.remove=function(){this.group.removeAll()},t.exports=i},function(t){t.exports=function(t){t.eachSeriesByType("lines",function(t){var e=t.coordinateSystem,n=t.getData();n.each(function(i){var r=n.getItemModel(i),o=r.option instanceof Array?r.option:r.get("coords");if(!(o instanceof Array&&o.length>0&&o[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(o)+". Lines must have 2d coords array in data item.");var a=[];if(t.get("polyline"))for(var s=0;s<o.length;s++)a.push(e.dataToPoint(o[s]));else{a[0]=e.dataToPoint(o[0]),a[1]=e.dataToPoint(o[1]);var u=r.get("lineStyle.normal.curveness");+u&&(a[2]=[(a[0][0]+a[1][0])/2-(a[0][1]-a[1][1])*u,(a[0][1]+a[1][1])/2-(a[1][0]-a[0][0])*u])}n.setItemLayout(i,a)})})}},function(t,e,n){n(272),n(273)},function(t,e,n){var i=n(28),r=n(102);t.exports=i.extend({type:"series.heatmap",getInitialData:function(t,e){return r(t.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(t,e,n){function i(t,e,n){var i=t[1]-t[0];e=u.map(e,function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}});var r=e.length,o=0;return function(t){for(var i=o;r>i;i++){var a=e[i].interval;if(a[0]<=t&&t<=a[1]){o=i;break}}if(i===r)for(var i=o-1;i>=0;i--){var a=e[i].interval;if(a[0]<=t&&t<=a[1]){o=i;break}}return i>=0&&r>i&&n[i]}}function r(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}function o(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var a=n(43),s=n(274),u=n(4);t.exports=n(1).extendChartView({type:"heatmap",render:function(t,e,n){var i;if(e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(i=e)})}),!i)throw new Error("Heatmap must use with visualMap");this.group.removeAll();var r=t.coordinateSystem;"cartesian2d"===r.type?this._renderOnCartesian(r,t,n):o(r)&&this._renderOnGeo(r,t,i,n)},dispose:function(){},_renderOnCartesian:function(t,e){var n=t.getAxis("x"),i=t.getAxis("y"),r=this.group;if("category"!==n.type||"category"!==i.type)throw new Error("Heatmap on cartesian must have two category axes");if(!n.onBand||!i.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");var o=n.getBandWidth(),s=i.getBandWidth(),l=e.getData(),c="itemStyle.normal",h="itemStyle.emphasis",p="label.normal",f="label.emphasis",d=e.getModel(c).getItemStyle(["color"]),g=e.getModel(h).getItemStyle(),m=e.getModel("label.normal"),v=e.getModel("label.emphasis");l.each(["x","y","z"],function(n,i,y,_){var b=l.getItemModel(_),x=t.dataToPoint([n,i]);if(!isNaN(y)){var w=new a.Rect({shape:{x:x[0]-o/2,y:x[1]-s/2,width:o,height:s},style:{fill:l.getItemVisual(_,"color"),opacity:l.getItemVisual(_,"opacity")}});l.hasItemOption&&(d=b.getModel(c).getItemStyle(["color"]),g=b.getModel(h).getItemStyle(),m=b.getModel(p),v=b.getModel(f));var T=e.getRawValue(_),k="-";T&&null!=T[2]&&(k=T[2]),m.getShallow("show")&&(a.setText(d,m),d.text=e.getFormattedLabel(_,"normal")||k),v.getShallow("show")&&(a.setText(g,v),g.text=e.getFormattedLabel(_,"emphasis")||k),w.setStyle(d),a.setHoverStyle(w,l.hasItemOption?g:u.extend({},g)),r.add(w),l.setItemGraphicEl(_,w)}})},_renderOnGeo:function(t,e,n,o){var u=n.targetVisuals.inRange,l=n.targetVisuals.outOfRange,c=e.getData(),h=this._hmLayer||this._hmLayer||new s;h.blurSize=e.get("blurSize"),h.pointSize=e.get("pointSize"),h.minOpacity=e.get("minOpacity"),h.maxOpacity=e.get("maxOpacity");var p=t.getViewRect().clone(),f=t.getRoamTransform().transform;p.applyTransform(f);var d=Math.max(p.x,0),g=Math.max(p.y,0),m=Math.min(p.width+p.x,o.getWidth()),v=Math.min(p.height+p.y,o.getHeight()),y=m-d,_=v-g,b=c.mapArray(["lng","lat","value"],function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=d,r[1]-=g,r.push(i),r}),x=n.getExtent(),w="visualMap.continuous"===n.type?r(x,n.option.range):i(x,n.getPieceList(),n.option.selected);h.update(b,y,_,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:l.color.getColorMapper()},w);var T=new a.Image({style:{width:y,height:_,x:d,y:g,image:h.canvas},silent:!0});this.group.add(T)}})},function(t,e,n){function i(){var t=o.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var r=256,o=n(4);i.prototype={update:function(t,e,n,i,o,a){var s=this._getBrush(),u=this._getGradient(t,o,"inRange"),l=this._getGradient(t,o,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,p=h.getContext("2d"),f=t.length;h.width=e,h.height=n;for(var d=0;f>d;++d){var g=t[d],m=g[0],v=g[1],y=g[2],_=i(y);p.globalAlpha=_,p.drawImage(s,m-c,v-c)}for(var b=p.getImageData(0,0,h.width,h.height),x=b.data,w=0,T=x.length,k=this.minOpacity,$=this.maxOpacity,S=$-k;T>w;){var _=x[w+3]/256,C=4*Math.floor(_*(r-1));if(_>0){var A=a(_)?u:l;_>0&&(_=_*S+k),x[w++]=A[C],x[w++]=A[C+1],x[w++]=A[C+2],x[w++]=A[C+3]*_*256}else w+=4}return p.putImageData(b,0,0),h},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=o.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},_getGradient:function(t,e,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),o=[],a=0,s=0;256>s;s++)e[n](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r}},t.exports=i},function(t,e,n){function i(t,e,n,i){var r=n.type;u.assert(r,"graphic type MUST be set");var o=c[r.charAt(0).toUpperCase()+r.slice(1)];u.assert(o,"graphic type can not be found");var a=new o(n);e.add(a),i[t]=a,a.__ecGraphicId=t}function r(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse(function(t){r(t,e)}),delete e[t.__ecGraphicId],n.remove(t))}function o(t){return t=u.extend({},t),u.each(["id","parentId","$action","hv","bounding"].concat(h.LOCATION_PARAMS),function(e){delete t[e]}),t}function a(t,e){var n;return u.each(e,function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)}),n}var s=n(1),u=n(4),l=n(5),c=n(43),h=(n(6),n(21));s.registerPreprocessor(function(t){var e=t&&t.graphic;u.isArray(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var p=s.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(){var t=this.option.elements;this.option.elements=null,p.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(t,e){var n=this.option,i=(e?n:t).elements,r=n.elements=e?[]:n.elements,o=[];this._flatten(i,o);var s=l.mappingToExists(r,o);l.makeIdAndName(s);var c=this._elOptionsToUpdate=[];u.each(s,function(t,e){var n=t.exist,i=t.option;if(u.assert(u.isObject(i)||n,"Empty graphic option definition"),i){i.id=t.keyInfo.id;var o=i.parentId,s=i.parentOption,l=n&&n.parentId;!i.type&&n&&(i.type=n.type),i.parentId=o?o:s?s.id:l?l:null,i.parentOption=null,c.push(i);var p=u.extend({},i),f=i.$action;if(f&&"merge"!==f)"replace"===f?r[e]=p:"remove"===f&&n&&(r[e]=null);else if(n){var d=i.type;u.assert(!d||n.type===d,'Please set $action: "replace" to change `type`'),u.merge(n,p,!0),h.mergeLayoutParam(n,p,{ignoreSize:!0}),h.copyLayoutParams(i,n)}else r[e]=p;r[e]&&(r[e].hv=i.hv=[a(i,["left","right"]),a(i,["top","bottom"])],"group"===r[e].type&&(null==r[e].width&&(r[e].width=i.width=0),null==r[e].height&&(r[e].height=i.height=0)))}},this);for(var p=r.length-1;p>=0;p--)null==r[p]?r.splice(p,1):delete r[p].$action},_flatten:function(t,e,n){u.each(t,function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});s.extendComponentView({type:"graphic",init:function(){this._elMap={},this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,n),this._relocate(t,n)},_updateElements:function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,a=this.group;u.each(e,function(t){var e=t.$action,s=t.id,l=n[s],c=t.parentId,h=null!=c?n[c]:a;t.hv&&t.hv[1]&&"text"===t.type&&(t.style=u.defaults({textBaseline:"middle"},t.style),t.style.textVerticalAlign=null);var p=o(t);l&&u.assert(h===l.parent,"Changing parent is not supported."),e&&"merge"!==e?"replace"===e?(r(l,n),i(s,h,p,n)):"remove"===e&&r(l,n):l?l.attr(p):i(s,h,p,n),n[s]&&(n[s].__ecGraphicWidth=t.width,n[s].__ecGraphicHeight=t.height)})}},_relocate:function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,o=n.length-1;o>=0;o--){var a=n[o],s=r[a.id];if(s){var u=s.parent,l=u===i?{width:e.getWidth(),height:e.getHeight()}:{width:u.__ecGraphicWidth||0,height:u.__ecGraphicHeight||0};h.positionElement(s,a,l,null,{hv:a.hv,boundingMode:a.bounding})}}},_clear:function(){var t=this._elMap;u.each(t,function(e){r(e,t)}),this._elMap={}},dispose:function(){this._clear()}})},function(t,e,n){n(277),n(278),n(279);var i=n(1);i.registerProcessor(n(281))},function(t,e,n){"use strict";var i=n(4),r=n(12),o=n(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{}},mergeOption:function(t){o.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=i.map(this.get("data")||[],function(t){return("string"==typeof t||"number"==typeof t)&&(t={name:t}),new r(t,this,this.ecModel)},this);this._data=e;var n=i.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();n=n.concat(e.mapArray(e.getName))}}),this._availableNames=n},getData:function(){return this._data},select:function(t){var e=this.option.selected,n=this.get("selectedMode");if("single"===n){var r=this._data;i.each(r,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&i.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});t.exports=o},function(t,e,n){function i(t,e,n){var i,r={},a="toggleSelected"===t;return n.eachComponent("legend",function(n){a&&null!=i?n[i?"select":"unSelect"](e.name):(n[t](e.name),i=n.isSelected(e.name));var s=n.getData();o.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);r[e]=e in r?r[e]&&i:i}})}),{name:e.name,selected:r}}var r=n(1),o=n(4);r.registerAction("legendToggleSelect","legendselectchanged",o.curry(i,"toggleSelected")),r.registerAction("legendSelect","legendselected",o.curry(i,"select")),r.registerAction("legendUnSelect","legendunselected",o.curry(i,"unSelect"))},function(t,e,n){function i(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function r(t,e,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||t.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function o(t,e,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||t.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:t.name,name:e})}var a=n(4),s=n(107),u=n(43),l=n(280),c=a.curry;t.exports=n(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(t,e,n){var s=this.group;if(s.removeAll(),t.get("show")){var h=t.get("selectedMode"),p=t.get("align");"auto"===p&&(p="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var f={};a.each(t.getData(),function(a){var l=a.get("name");if(""===l||"\n"===l)return void s.add(new u.Group({newline:!0}));var d=e.getSeriesByName(l)[0];if(!f[l]){if(d){var g=d.getData(),m=g.getVisual("color");"function"==typeof m&&(m=m(d.getDataParams(0)));var v=g.getVisual("legendSymbol")||"roundRect",y=g.getVisual("symbol"),_=this._createItem(l,a,t,v,y,p,m,h);_.on("click",c(i,l,n)).on("mouseover",c(r,d,null,n)).on("mouseout",c(o,d,null,n)),f[l]=!0}else e.eachRawSeries(function(e){if(!f[l]&&e.legendDataProvider){var s=e.legendDataProvider(),u=s.indexOfName(l);if(0>u)return;var d=s.getItemVisual(u,"color"),g="roundRect",m=this._createItem(l,a,t,g,null,p,d,h);m.on("click",c(i,l,n)).on("mouseover",c(r,e,l,n)).on("mouseout",c(o,e,l,n)),f[l]=!0}},this);f[l]||console.warn(l+" series not exists. Legend data should be same with series name or data name.")}},this),l.layout(s,t,n),l.addBackground(s,t)}},_createItem:function(t,e,n,i,r,o,l,c){var h=n.get("itemWidth"),p=n.get("itemHeight"),f=n.get("inactiveColor"),d=n.isSelected(t),g=new u.Group,m=e.getModel("textStyle"),v=e.get("icon"),y=e.getModel("tooltip"),_=y.parentModel;if(i=v||i,g.add(s.createSymbol(i,0,0,h,p,d?l:f)),!v&&r&&(r!==i||"none"==r)){var b=.8*p;"none"===r&&(r="circle"),g.add(s.createSymbol(r,(h-b)/2,(p-b)/2,b,b,d?l:f))}var x="left"===o?h+5:-5,w=o,T=n.get("formatter"),k=t;"string"==typeof T&&T?k=T.replace("{name}",null!=t?t:""):"function"==typeof T&&(k=T(t));var $=new u.Text({style:{text:k,x:x,y:p/2,fill:d?m.getTextColor():f,textFont:m.getFont(),textAlign:w,textVerticalAlign:"middle"}});g.add($);var S=new u.Rect({shape:g.getBoundingRect(),invisible:!0,tooltip:y.get("show")?a.extend({content:t,formatter:_.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},y.option):null});return g.add(S),g.eachChild(function(t){t.silent=!0}),S.silent=!c,this.group.add(g),u.setHoverStyle(g),g}})},function(t,e,n){function i(t,e,n){r.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},e.get("padding"))}var r=n(21),o=n(6),a=n(43);t.exports={layout:function(t,e,n){var o=r.getLayoutRect(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},e.get("padding"));r.box(e.get("orient"),t,e.get("itemGap"),o.width,o.height),i(t,e,n)},addBackground:function(t,e){var n=o.normalizeCssArray(e.get("padding")),i=t.getBoundingRect(),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");var s=new a.Rect({shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},style:r,silent:!0,z2:-1});a.subPixelOptimizeRect(s),t.add(s)}}},function(t){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}},function(t,e,n){n(283),n(284),n(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),n(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(t,e,n){n(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(t,e,n){function i(t,e){if(!t||!e)return!1;var n=m.round;return n(t[0])===n(e[0])&&n(t[1])===n(e[1])}function r(t,e,n,i){return{x1:t,y1:e,x2:n,y2:i}}function o(t,e,n,i){return{x:t,y:e,width:n,height:i}}function a(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}function s(t,e,n,i,r){var o=n.clientWidth,a=n.clientHeight,s=20;return t+o+s>i?t-=o+s:t+=s,e+a+s>r?e-=a+s:e+=s,[t,e]}function u(t,e,n,i,r){var o=n.clientWidth,a=n.clientHeight;return t=Math.min(t+o,i)-o,e=Math.min(e+a,r)-a,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function l(t,e,n){var i=n.clientWidth,r=n.clientHeight,o=5,a=0,s=0,u=e.width,l=e.height;switch(t){case"inside":a=e.x+u/2-i/2,s=e.y+l/2-r/2;break;case"top":a=e.x+u/2-i/2,s=e.y-r-o;break;case"bottom":a=e.x+u/2-i/2,s=e.y+l+o;break;case"left":a=e.x-i-o,s=e.y+l/2-r/2;break;case"right":a=e.x+u+o,s=e.y+l/2-r/2}return[a,s]}function c(t,e,n,i,r,o,a,c){var h=c.getWidth(),p=c.getHeight(),f=a&&a.getBoundingRect().clone();if(a&&f.applyTransform(a.transform),"function"==typeof t&&(t=t([e,n],o,r.el,f)),d.isArray(t))e=y(t[0],h),n=y(t[1],p);else if("string"==typeof t&&a){var g=l(t,f,r.el);e=g[0],n=g[1]}else{var g=s(e,n,r.el,h,p);e=g[0],n=g[1]}if(i){var g=u(e,n,r.el,h,p);e=g[0],n=g[1]}r.moveTo(e,n)}function h(t){var e=t.coordinateSystem,n=t.get("tooltip.trigger",!0);return!(!e||"cartesian2d"!==e.type&&"polar"!==e.type&&"singleAxis"!==e.type||"item"===n)}var p=n(285),f=n(43),d=n(4),g=n(6),m=n(7),v=n(5),y=m.parsePercent,_=n(2),b=n(12);n(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(t,e){if(!_.node){var n=new p(e.getDom(),e);this._tooltipContent=n,e.on("showTip",this._manuallyShowTip,this),e.on("hideTip",this._manuallyHideTip,this)}},render:function(t,e,n){if(!_.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastHover={};var i=this._tooltipContent;i.update(),i.enterable=t.get("enterable"),this._alwaysShowContent=t.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(t,e);var r=this._crossText;r&&this.group.add(r);var o=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){a._manuallyShowTip({x:a._lastX,y:a._lastY})})}var s=this._api.getZr();s.off("click",this._tryShow),s.off("mousemove",this._mousemove),s.off("mouseout",this._hide),s.off("globalout",this._hide),"click"===o?s.on("click",this._tryShow,this):"mousemove"===o&&(s.on("mousemove",this._mousemove,this),s.on("mouseout",this._hide,this),s.on("globalout",this._hide,this))}},_mousemove:function(t){var e=this._tooltipModel.get("showDelay"),n=this;clearTimeout(this._showTimeout),e>0?this._showTimeout=setTimeout(function(){n._tryShow(t)},e):this._tryShow(t)},_manuallyShowTip:function(t){function e(e){var n=e.getData(),i=v.queryDataIndex(n,t);return null!=i&&!d.isArray(i)&&n.hasValue(i)?!0:void 0}if(t.from!==this.uid){var n=this._ecModel,i=t.seriesIndex,r=n.getSeriesByIndex(i),o=this._api,a="axis"===this._tooltipModel.get("trigger");if(null==t.x||null==t.y){if(a?(r&&!e(r)&&(r=null),r||n.eachSeries(function(t){h(t)&&!r&&e(t)&&(r=t)})):r=r||n.getSeriesByIndex(0),r){var s=r.getData(),u=v.queryDataIndex(s,t);if(null==u||d.isArray(u))return;var l,c,p=s.getItemGraphicEl(u),f=r.coordinateSystem;if(r.getTooltipPosition){var g=r.getTooltipPosition(u)||[];l=g[0],c=g[1]}else if(f&&f.dataToPoint){var g=f.dataToPoint(s.getValues(d.map(f.dimensions,function(t){return r.coordDimToDataDim(t)[0]}),u,!0));l=g&&g[0],c=g&&g[1]}else if(p){var m=p.getBoundingRect().clone();m.applyTransform(p.transform),l=m.x+m.width/2,c=m.y+m.height/2}null!=l&&null!=c&&this._tryShow({offsetX:l,offsetY:c,position:t.position,target:p,event:{}})}}else{var p=o.getZr().handler.findHover(t.x,t.y);this._tryShow({offsetX:t.x,offsetY:t.y,position:t.position,target:p,event:{}})}}},_manuallyHideTip:function(t){t.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(t,e){var n={};return e.eachSeries(function(t){if(h(t)){var e,i,r=t.coordinateSystem;"cartesian2d"===r.type?(e=r.getBaseAxis(),i=e.dim+e.index):"singleAxis"===r.type?(e=r.getAxis(),i=e.dim+e.type):(e=r.getBaseAxis(),i=e.dim+r.name),n[i]=n[i]||{coordSys:[],series:[]},n[i].coordSys.push(r),n[i].series.push(t)}},this),n},_tryShow:function(t){var e=t.target,n=this._tooltipModel,i=n.get("trigger"),r=this._ecModel,o=this._api;if(n)if(this._lastX=t.offsetX,this._lastY=t.offsetY,e&&null!=e.dataIndex){var a=e.dataModel||r.getSeriesByIndex(e.seriesIndex),s=e.dataIndex,u=a.getData().getItemModel(s);"axis"===(u.get("tooltip.trigger")||i)?this._showAxisTooltip(n,r,t):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(a,s,e.dataType,t)),o.dispatchAction({type:"showTip",from:this.uid,dataIndexInside:e.dataIndex,seriesIndex:e.seriesIndex})}else if(e&&e.tooltip){var l=e.tooltip;if("string"==typeof l){var c=l;l={content:c,formatter:c}}var h=new b(l,n),p=h.get("content"),f=Math.random();this._showTooltipContent(h,p,h.get("formatterParams")||{},f,t.offsetX,t.offsetY,t.position,e,o)}else"item"===i?this._hide():this._showAxisTooltip(n,r,t),"cross"===n.get("axisPointer.type")&&o.dispatchAction({type:"showTip",from:this.uid,x:t.offsetX,y:t.offsetY})},_showAxisTooltip:function(t,e,n){var r=t.getModel("axisPointer"),o=r.get("type");if("cross"===o){var a=n.target;if(a&&null!=a.dataIndex){var s=e.getSeriesByIndex(a.seriesIndex),u=a.dataIndex;this._showItemTooltipContent(s,u,a.dataType,n)}}this._showAxisPointer();var l=!0;d.each(this._seriesGroupByAxis,function(e){var a=e.coordSys,s=a[0],u=[n.offsetX,n.offsetY];if(!s.containPoint(u))return void this._hideAxisPointer(s.name);l=!1;var c=s.dimensions,h=s.pointToData(u,!0);u=s.dataToPoint(h);var p=s.getBaseAxis(),f=r.get("axis");"auto"===f&&(f=p.dim);var g=!1,m=this._lastHover;if("cross"===o)i(m.data,h)&&(g=!0),m.data=h;else{var v=d.indexOf(c,f);m.data===h[v]&&(g=!0),m.data=h[v]}var y=t.get("animation");"cartesian2d"!==s.type||g?"polar"!==s.type||g?"singleAxis"!==s.type||g||this._showSinglePointer(r,s,f,u,y):this._showPolarPointer(r,s,f,u,y):this._showCartesianPointer(r,s,f,u,y),"cross"!==o&&this._dispatchAndShowSeriesTooltipContent(s,e.series,u,h,g,n.position)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),l&&this._hide()},_showCartesianPointer:function(t,e,n,i,a){function s(n,i,o){var a="x"===n?r(i[0],o[0],i[0],o[1]):r(o[0],i[1],o[1],i[1]),s=l._getPointerElement(e,t,n,a);f.subPixelOptimizeLine({shape:a,style:s.style}),p?f.updateProps(s,{shape:a},t):s.attr({shape:a})}function u(n,i,r){var a=e.getAxis(n),s=a.getBandWidth(),u=r[1]-r[0],c="x"===n?o(i[0]-s/2,r[0],s,u):o(r[0],i[1]-s/2,u,s),h=l._getPointerElement(e,t,n,c);p?f.updateProps(h,{shape:c},t):h.attr({shape:c})}var l=this,c=t.get("type"),h=e.getBaseAxis(),p=a&&"cross"!==c&&"category"===h.type&&h.getBandWidth()>20;if("cross"===c)s("x",i,e.getAxis("y").getGlobalExtent()),s("y",i,e.getAxis("x").getGlobalExtent()),this._updateCrossText(e,i,t);else{var d=e.getAxis("x"===n?"y":"x"),g=d.getGlobalExtent();"cartesian2d"===e.type&&("line"===c?s:u)(n,i,g)}},_showSinglePointer:function(t,e,n,i,o){function a(n,i,o){var a=e.getAxis(),u=a.orient,c="horizontal"===u?r(i[0],o[0],i[0],o[1]):r(o[0],i[1],o[1],i[1]),h=s._getPointerElement(e,t,n,c);l?f.updateProps(h,{shape:c},t):h.attr({shape:c})}var s=this,u=t.get("type"),l=o&&"cross"!==u&&"category"===e.getBaseAxis().type,c=e.getRect(),h=[c.y,c.y+c.height];
a(n,i,h)},_showPolarPointer:function(t,e,n,i,o){function s(n,i,o){var a,s=e.pointToCoord(i);if("angle"===n){var u=e.coordToPoint([o[0],s[1]]),c=e.coordToPoint([o[1],s[1]]);a=r(u[0],u[1],c[0],c[1])}else a={cx:e.cx,cy:e.cy,r:s[0]};var h=l._getPointerElement(e,t,n,a);d?f.updateProps(h,{shape:a},t):h.attr({shape:a})}function u(n,i,r){var o,s=e.getAxis(n),u=s.getBandWidth(),c=e.pointToCoord(i),h=Math.PI/180;o="angle"===n?a(e.cx,e.cy,r[0],r[1],(-c[1]-u/2)*h,(-c[1]+u/2)*h):a(e.cx,e.cy,c[0]-u/2,c[0]+u/2,0,2*Math.PI);var p=l._getPointerElement(e,t,n,o);d?f.updateProps(p,{shape:o},t):p.attr({shape:o})}var l=this,c=t.get("type"),h=e.getAngleAxis(),p=e.getRadiusAxis(),d=o&&"cross"!==c&&"category"===e.getBaseAxis().type;if("cross"===c)s("angle",i,p.getExtent()),s("radius",i,h.getExtent()),this._updateCrossText(e,i,t);else{var g=e.getAxis("radius"===n?"angle":"radius"),m=g.getExtent();("line"===c?s:u)(n,i,m)}},_updateCrossText:function(t,e,n){var i=n.getModel("crossStyle"),r=i.getModel("textStyle"),o=this._tooltipModel,a=this._crossText;a||(a=this._crossText=new f.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(a));var s=t.pointToData(e),u=t.dimensions;s=d.map(s,function(e,n){var i=t.getAxis(u[n]);return e="category"===i.type||"time"===i.type?i.scale.getLabel(e):g.addCommas(e.toFixed(i.getPixelPrecision()))}),a.setStyle({fill:r.getTextColor()||i.get("color"),textFont:r.getFont(),text:s.join(", "),x:e[0]+5,y:e[1]-5}),a.z=o.get("z"),a.zlevel=o.get("zlevel")},_getPointerElement:function(t,e,n,i){var r=this._tooltipModel,o=r.get("z"),a=r.get("zlevel"),s=this._axisPointers,u=t.name;if(s[u]=s[u]||{},s[u][n])return s[u][n];var l=e.get("type"),c=e.getModel(l+"Style"),h="shadow"===l,p=c[h?"getAreaStyle":"getLineStyle"](),d="polar"===t.type?h?"Sector":"radius"===n?"Circle":"Line":h?"Rect":"Line";h?p.stroke=null:p.fill=null;var g=s[u][n]=new f[d]({style:p,z:o,zlevel:a,silent:!0,shape:i});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(t,e,n,i,r,o){var a,s=this._tooltipModel,u=t.getBaseAxis(),l="x"===u.dim||"radius"===u.dim?0:1,h=d.map(e,function(t){return{seriesIndex:t.seriesIndex,dataIndexInside:t.getAxisTooltipDataIndex?t.getAxisTooltipDataIndex(t.coordDimToDataDim(u.dim),i,u):t.getData().indexOfNearest(t.coordDimToDataDim(u.dim)[0],i[l],!1,"category"===u.type?.5:null)}});d.each(h,function(t,n){e[n].getData().hasValue(t.dataIndexInside)&&(a=n)}),a=a||0;var p=this._lastHover,f=this._api;if(p.payloadBatch&&!r&&f.dispatchAction({type:"downplay",batch:p.payloadBatch}),r||(f.dispatchAction({type:"highlight",batch:h}),p.payloadBatch=h),f.dispatchAction({type:"showTip",dataIndexInside:h[a].dataIndexInside,seriesIndex:h[a].seriesIndex,from:this.uid}),u&&s.get("showContent")&&s.get("show")){var g=d.map(e,function(t,e){return t.getDataParams(h[e].dataIndexInside)});if(r)c(o||s.get("position"),n[0],n[1],s.get("confine"),this._tooltipContent,g,null,f);else{var m=h[a].dataIndexInside,v="time"===u.type?u.scale.getLabel(i[l]):e[a].getData().getName(m),y=(v?v+"<br />":"")+d.map(e,function(t,e){return t.formatTooltip(h[e].dataIndexInside,!0)}).join("<br />"),_="axis_"+t.name+"_"+m;this._showTooltipContent(s,y,g,_,n[0],n[1],o,null,f)}}},_showItemTooltipContent:function(t,e,n,i){var r=this._api,o=t.getData(n),a=o.getItemModel(e),s=a.get("tooltip",!0);if("string"==typeof s){var u=s;s={formatter:u}}var l=this._tooltipModel,c=t.getModel("tooltip",l),h=new b(s,c,c.ecModel),p=t.getDataParams(e,n),f=t.formatTooltip(e,!1,n),d="item_"+t.name+"_"+e;this._showTooltipContent(h,f,p,d,i.offsetX,i.offsetY,i.position,i.target,r)},_showTooltipContent:function(t,e,n,i,r,o,a,s,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var l=this._tooltipContent,h=t.get("confine"),p=t.get("formatter");a=a||t.get("position");var f=e;if(p)if("string"==typeof p)f=g.formatTpl(p,n);else if("function"==typeof p){var d=this,m=i,v=function(t,e){t===d._ticket&&(l.setContent(e),c(a,r,o,h,l,n,s,u))};d._ticket=m,f=p(n,m,v)}l.show(t),l.setContent(f),c(a,r,o,h,l,n,s,u)}},_showAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&d.each(e,function(t){t.show()})}else this.group.eachChild(function(t){t.show()}),this.group.show()},_resetLastHover:function(){var t=this._lastHover;t.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:t.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&d.each(e,function(t){t.hide()})}else this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(t,e){if(!_.node){var n=e.getZr();this._tooltipContent.hide(),n.off("click",this._tryShow),n.off("mousemove",this._mousemove),n.off("mouseout",this._hide),n.off("globalout",this._hide),e.off("showTip",this._manuallyShowTip),e.off("hideTip",this._manuallyHideTip)}}})},function(t,e,n){function i(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+t+"s "+e+",top "+t+"s "+e;return s.map(d,function(t){return t+"transition:"+n}).join(";")}function r(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();return i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),h(["decoration","align"],function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)}),e.join(";")}function o(t){t=t;var e=[],n=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.getModel("textStyle"),s=t.get("padding");return n&&e.push(i(n)),o&&(f.canvasSupported?e.push("background-Color:"+o):(e.push("background-Color:#"+u.toHex(o)),e.push("filter:alpha(opacity=70)"))),h(["width","color","radius"],function(n){var i="border-"+n,r=p(i),o=t.get(r);null!=o&&e.push(i+":"+o+("color"===n?"":"px"))}),e.push(r(a)),null!=s&&e.push("padding:"+c.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";"}function a(t,e){var n=document.createElement("div"),i=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r.enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!r.enterable){var n=i.handler;l.normalizeEvent(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){r.enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}var s=n(4),u=n(39),l=n(88),c=n(6),h=s.each,p=c.toCamelCase,f=n(2),d=["","-webkit-","-moz-","-o-"],g="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";a.prototype={constructor:a,enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText=g+o(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){var e=this.el;e.innerHTML=t,e.style.display=t?"block":"none"},moveTo:function(t,e){var n=this.el.style;n.left=t+"px",n.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this.enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(s.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}},t.exports=a},function(t,e,n){"use strict";n(287),n(293),n(295),n(1).extendComponentView({type:"polar"})},function(t,e,n){function i(t,e){var n=t.get("center"),i=t.get("radius"),r=e.getWidth(),o=e.getHeight(),a=s.parsePercent;this.cx=a(n[0],r),this.cy=a(n[1],o);var u=this.getRadiusAxis(),l=Math.min(r,o)/2;u.setExtent(0,a(i,l))}function r(t){var e=this,n=e.getAngleAxis(),i=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===e){var r=t.getData();i.scale.unionExtent(r.getDataExtent("radius","category"!==i.type)),n.scale.unionExtent(r.getDataExtent("angle","category"!==n.type))}}),c(n,n.model),c(i,i.model),"category"===n.type&&!n.onBand){var r=n.getExtent(),o=360/n.scale.count();n.inverse?r[1]+=o:r[1]-=o,n.setExtent(r[0],r[1])}}function o(t,e){if(t.type=e.get("type"),t.scale=l.createScaleByModel(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,"angleAxis"===e.mainType){var n=e.get("startAngle");t.inverse=e.get("inverse")^e.get("clockwise"),t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var a=n(288),s=n(7),u=n(4),l=n(115),c=l.niceScaleExtent;n(291);var h={dimensions:a.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,s){var u=new a(s);u.resize=i,u.update=r;var l=u.getRadiusAxis(),c=u.getAngleAxis(),h=t.findAxisModel("radiusAxis"),p=t.findAxisModel("angleAxis");o(l,h),o(c,p),u.resize(t,e),n.push(u),t.coordinateSystem=u}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];if(!n)throw new Error('Polar "'+u.retrieve(e.get("polarIndex"),e.get("polarId"),0)+'" not found');e.coordinateSystem=n.coordinateSystem}}),n}};n(26).register("polar",h)},function(t,e,n){"use strict";var i=n(289),r=n(290),o=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new i,this._angleAxis=new r};o.prototype={constructor:o,type:"polar",dimensions:["radius","angle"],containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxesByScale:function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(t){return t.mapArray(this.dimensions,function(t,e){return this.dataToPoint([t,e])},this)},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),o=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);i.inverse?o=a-360:a=o+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var u=Math.atan2(-n,e)/Math.PI*180,l=o>u?1:-1;o>u||u>a;)u+=360*l;return[s,u]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI,i=Math.cos(n)*e+this.cx,r=-Math.sin(n)*e+this.cy;return[i,r]}},t.exports=o},function(t,e,n){"use strict";function i(t,e){o.call(this,"radius",t,e),this.type="category"}var r=n(4),o=n(124);i.prototype={constructor:i,dataToRadius:o.prototype.dataToCoord,radiusToData:o.prototype.coordToData},r.inherits(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e){e=e||[0,360],o.call(this,"angle",t,e),this.type="category"}var r=n(4),o=n(124);i.prototype={constructor:i,dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData},r.inherits(i,o),t.exports=i},function(t,e,n){"use strict";n(292),n(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e,n=this.ecModel;return n.eachComponent(t,function(t){var i=n.queryComponents({mainType:"polar",index:t.getShallow("polarIndex"),id:t.getShallow("polarId")})[0];i===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(t,e,n){"use strict";function i(t,e){return e.type||(e.data?"category":"value")}var r=n(4),o=n(19),a=n(128),s=o.extend({type:"polarAxis",axis:null});r.merge(s.prototype,n(130)),r.merge(s.prototype,n(131));var u={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};a("angle",s,i,u.angle),a("radius",s,i,u.radius)},function(t,e,n){"use strict";n(287),n(294)},function(t,e,n){"use strict";function i(t,e,n,i){var r=t.coordToPoint([e,i]),o=t.coordToPoint([n,i]);return{x1:r[0],y1:r[1],x2:o[0],y2:o[1]}}var r=n(4),o=n(43),a=n(12),s=["axisLine","axisLabel","axisTick","splitLine","splitArea"];n(1).extendComponentView({type:"angleAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=e.getComponent("polar",t.get("polarIndex")),i=t.axis,o=n.coordinateSystem,a=o.getRadiusAxis().getExtent(),u=i.getTicksCoords();"category"!==i.type&&u.pop(),r.each(s,function(e){t.get(e+".show")&&this["_"+e](t,o,u,a)},this)}},_axisLine:function(t,e,n,i){var r=t.getModel("axisLine.lineStyle"),a=new o.Circle({shape:{cx:e.cx,cy:e.cy,r:i[1]},style:r.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,n,a){var s=t.getModel("axisTick"),u=(s.get("inside")?-1:1)*s.get("length"),l=r.map(n,function(t){return new o.Line({shape:i(e,a[1],a[1]+u,t)})});this.group.add(o.mergePath(l,{style:r.defaults(s.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,n,i){for(var r=t.axis,s=t.get("data"),u=t.getModel("axisLabel"),l=u.getModel("textStyle"),c=t.getFormattedLabels(),h=u.get("margin"),p=r.getLabelsCoords(),f=0;f<n.length;f++){var d=i[1],g=e.coordToPoint([d+h,p[f]]),m=e.cx,v=e.cy,y=Math.abs(g[0]-m)/d<.3?"center":g[0]>m?"left":"right",_=Math.abs(g[1]-v)/d<.3?"middle":g[1]>v?"top":"bottom",b=l;s&&s[f]&&s[f].textStyle&&(b=new a(s[f].textStyle,l)),this.group.add(new o.Text({style:{x:g[0],y:g[1],fill:b.getTextColor()||t.get("axisLine.lineStyle.color"),text:c[f],textAlign:y,textVerticalAlign:_,textFont:b.getFont()},silent:!0}))}},_splitLine:function(t,e,n,a){var s=t.getModel("splitLine"),u=s.getModel("lineStyle"),l=u.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],p=0;p<n.length;p++){var f=c++%l.length;h[f]=h[f]||[],h[f].push(new o.Line({shape:i(e,a[0],a[1],n[p])}))}for(var p=0;p<h.length;p++)this.group.add(o.mergePath(h[p],{style:r.defaults({stroke:l[p%l.length]},u.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,i){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),u=s.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=Math.PI/180,p=-n[0]*h,f=Math.min(i[0],i[1]),d=Math.max(i[0],i[1]),g=t.get("clockwise"),m=1;m<n.length;m++){var v=l++%u.length;c[v]=c[v]||[],c[v].push(new o.Sector({shape:{cx:e.cx,cy:e.cy,r0:f,r:d,startAngle:p,endAngle:-n[m]*h,clockwise:g},silent:!0})),p=-n[m]*h}for(var m=0;m<c.length;m++)this.group.add(o.mergePath(c[m],{style:r.defaults({fill:u[m%u.length]},s.getAreaStyle()),silent:!0}))}})},function(t,e,n){n(287),n(296)},function(t,e,n){"use strict";function i(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:e.getModel("axisLabel").get("rotate"),z2:1}}var r=n(4),o=n(43),a=n(134),s=["axisLine","axisLabel","axisTick","axisName"],u=["splitLine","splitArea"];n(1).extendComponentView({type:"radiusAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=e.getComponent("polar",t.get("polarIndex")),o=n.coordinateSystem.getAngleAxis(),l=t.axis,c=n.coordinateSystem,h=l.getTicksCoords(),p=o.getExtent()[0],f=l.getExtent(),d=i(c,t,p),g=new a(t,d);r.each(s,g.add,g),this.group.add(g.getGroup()),r.each(u,function(e){t.get(e+".show")&&this["_"+e](t,c,p,f,h)},this)}},_splitLine:function(t,e,n,i,a){var s=t.getModel("splitLine"),u=s.getModel("lineStyle"),l=u.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],p=0;p<a.length;p++){var f=c++%l.length;h[f]=h[f]||[],h[f].push(new o.Circle({shape:{cx:e.cx,cy:e.cy,r:a[p]},silent:!0}))}for(var p=0;p<h.length;p++)this.group.add(o.mergePath(h[p],{style:r.defaults({stroke:l[p%l.length],fill:null},u.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,i,a){var s=t.getModel("splitArea"),u=s.getModel("areaStyle"),l=u.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],p=a[0],f=1;f<a.length;f++){var d=c++%l.length;h[d]=h[d]||[],h[d].push(new o.Sector({shape:{cx:e.cx,cy:e.cy,r0:p,r:a[f],startAngle:0,endAngle:2*Math.PI},silent:!0})),p=a[f]}for(var f=0;f<h.length;f++)this.group.add(o.mergePath(h[f],{style:r.defaults({fill:l[f%l.length]},u.getAreaStyle()),silent:!0}))}})},function(t,e,n){function i(t,e){e.update="updateView",r.registerAction(e,function(e,n){var i={};return n.eachComponent({mainType:"geo",query:e},function(n){n[t](e.name);var r=n.coordinateSystem;o.each(r.regions,function(t){i[t.name]=n.isSelected(t.name)||!1})}),{selected:i,name:e.name}})}n(298),n(165),n(299),n(178);var r=n(1),o=n(4);i("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),i("select",{type:"geoSelect",event:"geoselected"}),i("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(t,e,n){"use strict";var i=n(5),r=n(19),o=n(12),a=n(4),s=n(142),u=n(165),l=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){r.prototype.init.apply(this,arguments),i.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var t=this.option,e=this;t.regions=u.getFilledRegions(t.regions,t.map),this._optionModelMap=a.reduce(t.regions||[],function(t,n){return n.name&&(t[n.name]=new o(n,e)),t},{}),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap[t]},getFormattedLabel:function(t,e){var n=this.get("label."+e+".formatter"),i={name:t};if("function"==typeof n)return i.status=e,n(i);if("string"==typeof n){var r=i.seriesName;return n.replace("{a}",null!=r?r:"")}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});a.mixin(l,s),t.exports=l},function(t,e,n){"use strict";var i=n(175);t.exports=n(1).extendComponentView({type:"geo",init:function(t,e){var n=new i(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var r=this._mapDraw;t.get("show")?r.draw(t,e,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}})},function(t,e,n){n(301),n(304),n(305);var i=n(1);i.extendComponentView({type:"single"})},function(t,e,n){function i(t,e){var n=[];return t.eachComponent("singleAxis",function(i,o){var a=new r(i,t,e);a.name="single_"+o,a.resize(i,e),i.coordinateSystem=a,n.push(a)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}var r=n(302);n(26).register("single",{create:i,dimensions:r.prototype.dimensions})},function(t,e,n){function i(t,e,n){this.dimension="x",this.dimensions=["x"],this._axis=null,this._rect,this._init(t,e,n),this._model=t}var r=n(303),o=n(115),a=n(21);i.prototype={type:"singleAxis",constructor:i,_init:function(t){var e=this.dimension,n=new r(e,o.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),i="category"===n.type;n.onBand=i&&t.get("boundaryGap"),n.inverse=t.get("inverse"),n.orient=t.get("orient"),t.axis=n,n.model=t,this._axis=n},update:function(t){this._updateAxisFromSeries(t)},_updateAxisFromSeries:function(t){t.eachSeries(function(t){var e=t.getData(),n=this.dimension;this._axis.scale.unionExtent(e.getDataExtent(t.coordDimToDataDim(n))),o.niceScaleExtent(this._axis,this._axis.model)},this)},resize:function(t,e){this._rect=a.getLayoutRect({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},containPoint:function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return"horizontal"===i?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i}},t.exports=i},function(t,e,n){var i=n(4),r=n(124),o=n(115),a=function(t,e,n,i,o){r.call(this,t,e,n),this.type=i||"value",this.position=o||"bottom",this.orient=null,this._labelInterval=null};a.prototype={constructor:a,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getLabelInterval:function(){var t=this._labelInterval;if(!t){var e=this.model,n=e.getModel("axisLabel"),r=n.get("interval");if("category"!==this.type||"auto"!==r)return t=this._labelInterval="auto"===r?0:r;t=this._labelInterval=o.getAxisLabelInterval(i.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(),n.getModel("textStyle").getFont(),this.isHorizontal())}return t},toGlobalCoord:null,toLocalCoord:null},i.inherits(a,r),t.exports=a},function(t,e,n){function i(t){var e=t.coordinateSystem,n=t.axis,i={},r=n.position,o=n.orient,a=e.getRect(),s=[a.x,a.x+a.width,a.y,a.y+a.height],u={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};i.position=["vertical"===o?u.vertical[r]:s[0],"horizontal"===o?u.horizontal[r]:s[3]];var l={horizontal:0,vertical:1};i.rotation=Math.PI/2*l[o];var c={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=c[r],t.getModel("axisTick").get("inside")&&(i.tickDirection=-i.tickDirection),t.getModel("axisLabel").get("inside")&&(i.labelDirection=-i.labelDirection);var h=t.getModel("axisLabel").get("rotate");return i.labelRotation="top"===r?-h:h,i.labelInterval=n.getLabelInterval(),i.z2=1,i}var r=n(134),o=n(4),a=n(43),s=r.getInterval,u=r.ifIgnoreOnTick,l=["axisLine","axisLabel","axisTick","axisName"],c="splitLine",h=n(1).extendComponentView({type:"singleAxis",render:function(t){var e=this.group;e.removeAll();var n=i(t),a=new r(t,n);o.each(l,a.add,a),e.add(a.getGroup()),t.get(c+".show")&&this["_"+c](t,n.labelInterval)},_splitLine:function(t,e){var n=t.axis,i=t.getModel("splitLine"),r=i.getModel("lineStyle"),o=r.get("width"),l=r.get("color"),c=s(i,e);l=l instanceof Array?l:[l];for(var h=t.coordinateSystem.getRect(),p=n.isHorizontal(),f=[],d=0,g=n.getTicksCoords(),m=[],v=[],y=0;y<g.length;++y)if(!u(n,y,c)){var _=n.toGlobalCoord(g[y]);p?(m[0]=_,m[1]=h.y,v[0]=_,v[1]=h.y+h.height):(m[0]=h.x,m[1]=_,v[0]=h.x+h.width,v[1]=_);var b=d++%l.length;f[b]=f[b]||[],f[b].push(new a.Line(a.subPixelOptimizeLine({shape:{x1:m[0],y1:m[1],x2:v[0],y2:v[1]},style:{lineWidth:o},silent:!0})))}for(var y=0;y<f.length;++y)this.group.add(a.mergePath(f[y],{style:{stroke:l[y%l.length],lineDash:r.getLineDash(o),lineWidth:o},silent:!0}))}});t.exports=h},function(t,e,n){function i(t,e){return e.type||(e.data?"category":"value")}var r=n(19),o=n(128),a=n(4),s=r.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null}),u={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};a.merge(s.prototype,n(130)),o("single",s,i,u),t.exports=s},function(t,e,n){n(1).registerPreprocessor(n(307)),n(308),n(312),n(313),n(314),n(315)},function(t,e,n){function i(t){var e={};r.each(t,function(t){e[t]=1}),t.length=0,r.each(e,function(e,n){t.push(n)})}var r=n(4),o=["rect","polygon","keep","clear"];t.exports=function(t,e){var n=t&&t.brush;if(r.isArray(n)||(n=n?[n]:[]),n.length){var a=[];r.each(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(a=a.concat(e))});var s=t&&t.toolbox;r.isArray(s)&&(s=s[0]),s||(s={feature:{}},t.toolbox=[s]);var u=s.feature||(s.feature={}),l=u.brush||(u.brush={}),c=l.type||(l.type=[]);c.push.apply(c,a),i(c),e&&!c.length&&c.push.apply(c,o)}}},function(t,e,n){function i(t,e,n,i,o){if(o){var a=t.getZr();if(!a[_]){a[y]||(a[y]=r);var s=g.createOrUpdate(a,y,n,e);s(t,i)}}}function r(t,e){if(!t.isDisposed()){var n=t.getZr();n[_]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[_]=!1}}function o(t,e,n,i){for(var r=n.getItemLayout(i),o=0,a=e.length;a>o;o++){var s=e[o];if(t[s.brushType](r,s.selectors,s))return!0}}function a(t){var e=t.brushSelector;if(p.isString(e)){var n=[];return p.each(d,function(t,i){n[i]=t[e]}),n}if(p.isFunction(e)){var i={};return p.each(d,function(t,n){i[n]=e}),i}return e}function s(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(p.isArray(n)?p.indexOf(n,e)<0:e!==n)}function u(t){var e=t.selectors={};return p.each(d[t.brushType],function(n,i){e[i]=function(i){return n(i,e,t)}}),t}function l(t){return new f(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var c=n(1),h=n(309),p=n(4),f=n(9),d=n(310),g=n(81),m=n(311),v=["inBrush","outOfBrush"],y="__ecBrushSelect",_="__ecInBrushSelectEvent",b=c.PRIORITY.VISUAL.BRUSH;c.registerLayout(b,function(t,e,n){t.eachComponent({mainType:"brush"},function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),e.coordInfoList=m.makeCoordInfoList(e.option,t),m.parseInputRanges(e,t)})}),c.registerVisual(b,function(t,e,n){var r,l,c=[];t.eachComponent({mainType:"brush"},function(e,n){function i(t){return"all"===b||w[t]}function f(t){return!!t.length}function d(t,e){var n=t.coordinateSystem;$|=n.hasAxisbrushed(),i(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(T[e]=1)})}function g(t,n,r){var u=a(t);if(u&&!s(e,n)&&(p.each(S,function(n){u[n.brushType]&&m.controlSeries(n,e,t)&&r.push(n),$|=f(r)}),i(n)&&f(r))){var l=t.getData();l.each(function(t){o(u,r,l,t)&&(T[t]=1)})}}var y={brushId:e.id,brushIndex:n,brushName:e.name,areas:p.clone(e.areas),selected:[]};c.push(y);var _=e.option,b=_.brushLink,w=[],T=[],k=[],$=0;n||(r=_.throttleType,l=_.throttleDelay);var S=p.map(e.areas,function(t){return u(p.defaults({boundingRect:x[t.brushType](t)},t))}),C=h.createVisualMappings(e.option,v,function(t){t.mappingMethod="fixed"});p.isArray(b)&&p.each(b,function(t){w[t]=1}),t.eachSeries(function(t,e){var n=k[e]=[];"parallel"===t.subType?d(t,e,n):g(t,e,n)}),t.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};y.selected.push(n);var r=a(t),s=k[e],u=t.getData(),l=i(e)?function(t){return T[t]?(n.dataIndex.push(u.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return o(r,s,u,t)?(n.dataIndex.push(u.getRawIndex(t)),"inBrush"):"outOfBrush"};(i(e)?$:f(s))&&h.applyVisual(v,C,u,l)})}),i(e,r,l,c,n)});var x={lineX:p.noop,lineY:p.noop,rect:function(t){return l(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;r>i;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&l(e)}}},function(t,e,n){function i(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}var r=n(4),o=n(194),a=r.each,s={createVisualMappings:function(t,e,n){function i(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}var s={};return a(e,function(e){var u=s[e]=i();a(t[e],function(t,i){if(o.isValidType(i)){var a={type:i,visual:t};n&&n(a,e),u[i]=new o(a),"opacity"===i&&(a=r.clone(a),a.type="colorAlpha",u.__hidden.__alphaForOpacity=new o(a))}})}),s},replaceVisualOption:function(t,e,n){var o;r.each(n,function(t){e.hasOwnProperty(t)&&i(e[t])&&(o=!0)}),o&&r.each(n,function(n){e.hasOwnProperty(n)&&i(e[n])?t[n]=r.clone(e[n]):delete t[n]})},applyVisual:function(t,e,n,i,a,s){function u(t){return n.getItemVisual(p,t)}function l(t,e){n.setItemVisual(p,t,e)}function c(t,n){p=null==s?t:n;for(var r=i.call(a,t),o=e[r],c=h[r],f=0,d=c.length;d>f;f++){var g=c[f];o[g]&&o[g].applyVisual(t,u,l)}}var h={};r.each(t,function(t){var n=o.prepareVisualTypes(e[t]);h[t]=n});var p;null==s?n.each(c,!0):n.each([s],c,!0)}};t.exports=s},function(t,e,n){function i(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){var o=i.range,a=e[t];return r(a,o)},rect:function(i,o,a){var s=a.range;return r(i[e[t]],s)||r(i[e[t]]+i[n[t]],s)}}}function r(t,e){return e[0]<=t&&t<=e[1]}function o(t,e,n,i,r){for(var o=0,s=r[r.length-1];o<r.length;o++){var u=r[o];if(a(t,e,n,i,u[0],u[1],s[0],s[1]))return!0;s=u}}function a(t,e,n,i,r,o,a,l){var c=u(n-t,r-a,i-e,o-l);if(s(c))return!1;var h=u(r-t,r-a,o-e,o-l)/c;if(0>h||h>1)return!1;var p=u(n-t,r-t,i-e,o-e)/c;return 0>p||p>1?!1:!0}function s(t){return 1e-6>=t&&t>=-1e-6}function u(t,e,n,i){return t*i-e*n}var l=n(169).contain,c=n(9),h={lineX:i(0),lineY:i(1),rect:{point:function(t,e,n){return n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return n.boundingRect.contain(t[0],t[1])&&l(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(i.length<=1)return!1;var r=t.x,a=t.y,s=t.width,u=t.height,h=i[0];return l(i,r,a)||l(i,r+s,a)||l(i,r,a+u)||l(i,r+s,a+u)||c.create(t).contain(h[0],h[1])||o(r,a,r+s,a,i)||o(r,a,r,a+u,i)||o(r+s,a,r+s,a+u,i)||o(r,a+u,r+s,a+u,i)?!0:void 0}}};t.exports=h},function(t,e,n){function i(t){return t[0]>t[1]&&t.reverse(),t}function r(t,e){for(var n=!0,i=0;i<c.length;i++){var r=c[i]+"Index";if(t[r]>=0){n=!1;for(var o=0;o<e.length;o++)if(e[o][r]===t[r])return e[o]}}return n}function o(t,e,n,r){var o=n.coordSys.getAxis(t);return a.assert(o,"line brush is only available in cartesian (grid)."),i(a.map([0,1],function(t){return e?o.coordToData(o.toLocalCoord(r[t])):o.toGlobalCoord(o.dataToCoord(r[t]))}))}var a=n(4),s=n(43),u=a.each,l={},c=["geo","xAxis","yAxis"],h="--",p=["dataToPoint","pointToData"];l.parseOutputRanges=function(t,e,n,i){u(t,function(t,n){var o=t.panelId;if(o){o=o.split(h),t[o[0]+"Index"]=+o[1];var a=r(t,e);t.coordRange=f[t.brushType](1,a,t.range),i&&(i[n]=a)}})},l.parseInputRanges=function(t){u(t.areas,function(e){var n=r(e,t.coordInfoList);a.assert(!n||n===!0||e.coordRange,"coordRange must be specified when coord index specified."),a.assert(!n||n!==!0||e.range,"range must be specified."),e.range=e.range||[],n&&n!==!0&&(e.range=f[e.brushType](0,n,e.coordRange),e.panelId=n.panelId)})},l.makePanelOpts=function(t){var e=[];return u(t,function(t){var n,i=t.coordSys;t.geoIndex>=0?(n=i.getBoundingRect().clone(),n.applyTransform(s.getTransform(i))):n=i.grid.getRect().clone(),e.push({panelId:t.panelId,rect:n})}),e},l.makeCoordInfoList=function(t,e){var n=[];return u(c,function(i){var r=t[i+"Index"];null!=r&&"none"!==r&&("all"===r||a.isArray(r)||(r=[r]),e.eachComponent({mainType:i},function(t,e){if(!("all"!==r&&a.indexOf(r,e)<0)){var o,s;"xAxis"===i||"yAxis"===i?o=t.axis.grid:s=t.coordinateSystem;for(var u,l=0,c=n.length;c>l;l++){var p=n[l];if(a.assert(p[i+"Index"]!=e,"Coord should not be defined duplicately: "+i+e),"yAxis"===i&&!p.yAxis&&p.xAxis){var f=o.getCartesian(p.xAxisIndex,e);
if(f){s=f,u=p;break}}}!u&&n.push(u={}),u[i]=t,u[i+"Index"]=e,u.panelId=i+h+e,u.coordSys=s||o.getCartesian(u.xAxisIndex,u.yAxisIndex),u.coordSys?n[i+"Has"]=!0:n.pop()}}))}),n},l.controlSeries=function(t,e,n){var i=r(t,e.coordInfoList);return i===!0||i&&i.coordSys===n.coordinateSystem};var f={lineX:a.curry(o,"x"),lineY:a.curry(o,"y"),rect:function(t,e,n){var r=e.coordSys,o=r[p[t]]([n[0][0],n[1][0]]),a=r[p[t]]([n[0][1],n[1][1]]);return[i([o[0],a[0]]),i([o[1],a[1]])]},polygon:function(t,e,n){var i=e.coordSys;return a.map(n,i[p[t]],i)}};t.exports=l},function(t,e,n){var i=n(1),r=n(4),o=n(309),a=n(12),s=["#ddd"],u=i.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;!e&&o.replaceVisualOption(n,t,["inBrush","outOfBrush"]),n.inBrush=n.inBrush||{},n.outOfBrush=n.outOfBrush||{color:s}},setAreas:function(t){r.assert(r.isArray(t)),r.each(t,function(t){r.assert(t.brushType,"Illegal areas")}),t&&(this.areas=r.map(t,function(t){return this._mergeBrushOption(t)},this))},setBrushOption:function(t){this.brushOption=this._mergeBrushOption(t),this.brushType=this.brushOption.brushType},_mergeBrushOption:function(t){var e=this.option;return r.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new a(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick},t,!0)}});t.exports=u},function(t,e,n){function i(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(s.makePanelOpts(t.coordInfoList)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}var r=n(4),o=n(235),a=n(1),s=n(311);t.exports=a.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new o(e.getZr())).on("brush",r.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,i.apply(this,arguments)},updateView:i,updateLayout:i,updateVisual:i,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;s.parseOutputRanges(t,this.model.coordInfoList,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:r.clone(t),$from:n})}})},function(t,e,n){var i=n(1);i.registerAction({type:"brush",event:"brush",update:"updateView"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(t,e,n){"use strict";function i(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}var r=n(316),o=n(4);i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}};var a=i.prototype;a.render=a.updateView=a.updateLayout=function(t,e){var n,i,r;e.eachComponent({mainType:"brush"},function(t){n=t.brushType,i=t.brushOption.brushMode||"single",r|=t.areas.length}),this._brushType=n,this._brushMode=i,o.each(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===i:"clear"===e?r:e===n)?"emphasis":"normal")})},a.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return o.each(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},a.onclick=function(t,e,n){var e=this.api,i=this._brushType,r=this._brushMode;e.dispatchAction("clear"===n?{type:"brush",areas:[]}:{type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i===n?!1:n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},r.register("brush",i),t.exports=i},function(t){"use strict";var e={};t.exports={register:function(t,n){e[t]=n},get:function(t){return e[t]}}},function(t,e,n){"use strict";var i=n(1),r=n(43),o=n(21);i.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),i.extendComponentView({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,a=t.getModel("textStyle"),s=t.getModel("subtextStyle"),u=t.get("textAlign"),l=t.get("textBaseline"),c=new r.Text({style:{text:t.get("text"),textFont:a.getFont(),fill:a.getTextColor()},z2:10}),h=c.getBoundingRect(),p=t.get("subtext"),f=new r.Text({style:{text:p,textFont:s.getFont(),fill:s.getTextColor(),y:h.height+t.get("itemGap"),textBaseline:"top"},z2:10}),d=t.get("link"),g=t.get("sublink");c.silent=!d,f.silent=!g,d&&c.on("click",function(){window.open(d,"_"+t.get("target"))}),g&&f.on("click",function(){window.open(g,"_"+t.get("subtarget"))}),i.add(c),p&&i.add(f);var m=i.getBoundingRect(),v=t.getBoxLayoutParams();v.width=m.width,v.height=m.height;var y=o.getLayoutRect(v,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));u||(u=t.get("left")||t.get("right"),"middle"===u&&(u="center"),"right"===u?y.x+=y.width:"center"===u&&(y.x+=y.width/2)),l||(l=t.get("top")||t.get("bottom"),"center"===l&&(l="middle"),"bottom"===l?y.y+=y.height:"middle"===l&&(y.y+=y.height/2),l=l||"top"),i.attr("position",[y.x,y.y]);var _={textAlign:u,textVerticalAlign:l};c.setStyle(_),f.setStyle(_),m=i.getBoundingRect();var b=y.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var w=new r.Rect({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2]},style:x,silent:!0});r.subPixelOptimizeRect(w),i.add(w)}}})},function(t,e,n){n(319),n(320),n(323),n(324),n(325),n(327),n(328),n(330),n(331)},function(t,e,n){n(19).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(t,e,n){function i(t){var e={};return h(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function r(t,e,n,i){null!=n[e]&&null==n[t]&&(i[t]=null)}var o=n(4),a=n(2),s=n(1),u=n(5),l=n(321),c=n(322),h=o.each,p=l.eachAxisDim,f=s.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0;var r=i(t);this.mergeDefaultAndTheme(t,n),this.doInit(r)},mergeOption:function(t){var e=i(t);o.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;a.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),r("start","startValue",t,e),r("end","endValue",t,e),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,n,i,r){var o=this.dependentModels[e.axis][n],a=o.__dzAxisProxy||(o.__dzAxisProxy=new c(e.name,n,this,r));t[e.name+"_"+n]=a},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();p(function(e){var n=e.axisIndex;t[n]=u.normalizeToArray(t[n])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;p(function(n){null!=t[n.axisIndex]&&(e=!0)},this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option;if(t){var i="vertical"===e?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"};this.dependentModels[i.axis].length&&(n[i.axisIndex]=[0],t=!1)}t&&p(function(e){if(t){var i=[],r=this.dependentModels[e.axis];if(r.length&&!i.length)for(var o=0,a=r.length;a>o;o++)"category"===r[o].get("type")&&i.push(o);n[e.axisIndex]=i,i.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&p(function(e){var i=n[e.axisIndex],r=t.get(e.axisIndex),a=t.get(e.axisId),s=t.ecModel.queryComponents({mainType:e.axis,index:r,id:a})[0];if(!s)throw new Error(e.axis+' "'+o.retrieve(r,a,0)+'" not found');r=s.componentIndex,o.indexOf(i,r)<0&&i.push(r)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return p(function(i){var r=t.get(i.axisIndex),o=this.dependentModels[i.axis][r];o&&o.get("type")===e||(n=!1)},this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return p(function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}},this),t},eachTargetAxis:function(t,e){var n=this.ecModel;p(function(i){h(this.get(i.axisIndex),function(r){t.call(e,i,r,this,n)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},setRawRange:function(t){h(["start","end","startValue","endValue"],function(e){this.option[e]=t[e]},this)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();return t?t.getDataPercentWindow():void 0},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){var t=this._axisProxies;for(var e in t)if(t.hasOwnProperty(e)&&t[e].hostedBy(this))return t[e];for(var e in t)if(t.hasOwnProperty(e)&&!t[e].hostedBy(this))return t[e]}});t.exports=f},function(t,e,n){var i=n(6),r=n(4),o={},a=["x","y","z","radius","angle"];o.createNameEach=function(t,e){t=t.slice();var n=r.map(t,i.capitalFirst);e=(e||[]).slice();var o=r.map(e,i.capitalFirst);return function(i,a){r.each(t,function(t,r){for(var s={name:t,capital:n[r]},u=0;u<e.length;u++)s[e[u]]=t+o[u];i.call(a,s)})}},o.eachAxisDim=o.createNameEach(a,["axisIndex","axis","index","id"]),o.createLinkedNodesFinder=function(t,e,n){function i(t,e){return r.indexOf(e.nodes,t)>=0}function o(t,i){var o=!1;return e(function(e){r.each(n(t,e)||[],function(t){i.records[e.name][t]&&(o=!0)})}),o}function a(t,i){i.nodes.push(t),e(function(e){r.each(n(t,e)||[],function(t){i.records[e.name][t]=!0})})}return function(n){function r(t){!i(t,s)&&o(t,s)&&(a(t,s),u=!0)}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!n)return s;a(n,s);var u;do u=!1,t(r);while(u);return s}},t.exports=o},function(t,e,n){function i(t,e){var n=[1/0,-1/0];return u(e,function(e){var i=e.getData();i&&u(e.coordDimToDataDim(t),function(t){var e=i.getDataExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])})},this),n}function r(t,e,n){return u(["min","max"],function(i,r){var o=e.get(i,!0);null!=o&&(o+"").toLowerCase()!=="data"+i&&(t[r]=n.parse(o))}),e.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function o(t,e){var n=t.getAxisModel(),i=t._percentWindow,r=t._valueWindow;if(i){var o=e||0===i[0]&&100===i[1],a=!e&&s.getPixelPrecision(r,[0,500]),u=!(e||20>a&&a>=0),l=e||o||u;n.setRange&&n.setRange(l?null:+r[0].toFixed(a),l?null:+r[1].toFixed(a))}}var a=n(4),s=n(7),u=a.each,l=s.asc,c=function(t,e,n,i){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=i,this._dataZoomModel=n};c.prototype={constructor:c,hostedBy:function(t){return this._dataZoomModel===t},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(n){var i=n.get("coordinateSystem");if("cartesian2d"===i||"polar"===i){var r=this._dimName,o=e.queryComponents({mainType:r+"Axis",index:n.get(r+"AxisIndex"),id:n.get(r+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&t.push(n)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n=this._dimName,i=this.ecModel,r=this.getAxisModel(),o="x"===n||"y"===n;o?(e="gridIndex",t="x"===n?"y":"x"):(e="polarIndex",t="angle"===n?"radius":"angle");var a;return i.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(r.get(e)||0)&&(a=t)}),a},calculateDataWindow:function(t,e){var n=this.getAxisModel(),i=n.axis.scale,o=[0,100],a=[t.start,t.end],c=[];return e=e.slice(),r(e,n,i),u(["startValue","endValue"],function(e){c.push(null!=t[e]?i.parse(t[e]):null)}),u([0,1],function(t){var n=c[t],r=a[t];null!=r||null==n?(null==r&&(r=o[t]),n=i.parse(s.linearMap(r,o,e,!0))):r=s.linearMap(n,e,o,!0),c[t]=n,a[t]=r}),{valueWindow:l(c),percentWindow:l(a)}},reset:function(t){if(t===this._dataZoomModel){var e=this._dataExtent=i(this._dimName,this.getTargetSeriesModels()),n=this.calculateDataWindow(t.option,e);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,o(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,o(this,!0))},filterData:function(t){function e(t){return t>=o[0]&&t<=o[1]}if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get("filterMode"),o=this._valueWindow,a=this.getOtherAxisModel();t.get("$fromToolbox")&&a&&"category"===a.get("type")&&(r="empty"),u(i,function(t){var i=t.getData();i&&u(t.coordDimToDataDim(n),function(n){"empty"===r?t.setData(i.map(n,function(t){return e(t)?t:0/0})):i.filterSelf(n,e)})})}}},t.exports=c},function(t,e,n){var i=n(29);t.exports=i.extend({type:"dataZoom",render:function(t,e,n){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetInfo:function(){function t(t,e,n,i){for(var r,o=0;o<n.length;o++)if(n[o].model===t){r=n[o];break}r||n.push(r={model:t,axisModels:[],coordIndex:i}),r.axisModels.push(e)}var e=this.dataZoomModel,n=this.ecModel,i=[],r=[],o=[];return e.eachTargetAxis(function(e,a){var s=n.getComponent(e.axis,a);if(s){o.push(s);var u,l=e.axis;"xAxis"===l||"yAxis"===l?u="grid":("angleAxis"===l||"radiusAxis"===l)&&(u="polar");var c=u?n.queryComponents({mainType:u,index:s.get(u+"Index"),id:s.get(u+"Id")})[0]:null;null!=c&&t(c,s,"grid"===u?i:r,c.componentIndex)}},this),{cartesians:i,polars:r,axisModels:o}}})},function(t,e,n){var i=n(320),r=i.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});t.exports=r},function(t,e,n){function i(t){return"x"===t?"y":"x"}var r=n(4),o=n(43),a=n(81),s=n(323),u=o.Rect,l=n(7),c=l.linearMap,h=n(21),p=n(326),f=l.asc,d=r.bind,g=r.each,m=7,v=1,y=30,_="horizontal",b="vertical",x=5,w=["line","bar","candlestick","scatter"],T=s.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,i){return T.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),void this._updateView())},remove:function(){T.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){T.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new o.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},o=this._orient===_?{right:i.width-n.x-n.width,top:i.height-y-m,width:n.width,height:y}:{right:m,top:n.y,width:y,height:n.height},a=h.getLayoutParams(t.option);r.each(["right","top","width","height"],function(t){"ph"===a[t]&&(a[t]=o[t])});var s=h.getLayoutRect(a,i,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===b&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==_||r?n===_&&r?{scale:a?[-1,1]:[-1,-1]}:n!==b||r?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=t.getBoundingRect([o]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size;this._displayables.barGroup.add(new u({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,i=n.getRawData(),a=n.getShadowDim?n.getShadowDim():t.otherDim,s=i.getDataExtent(a),u=.3*(s[1]-s[0]);s=[s[0]-u,s[1]+u];var l,h=[0,e[1]],p=[0,e[0]],f=[[e[0],0],[0,0]],d=[],g=p[1]/(i.count()-1),m=0,v=Math.round(i.count()/e[0]);i.each([a],function(t,e){if(v>0&&e%v)return void(m+=g);var n=null==t||isNaN(t)||""===t,i=n?0:c(t,s,h,!0);n&&!l&&e?(f.push([f[f.length-1][0],0]),d.push([d[d.length-1][0],0])):!n&&l&&(f.push([m,0]),d.push([m,0])),f.push([m,i]),d.push([m,i]),m+=g,l=n});var y=this.dataZoomModel;this._displayables.barGroup.add(new o.Polygon({shape:{points:f},style:r.defaults({fill:y.get("dataBackgroundColor")},y.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new o.Polyline({shape:{points:d},style:y.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(e!==!1){var n,o=this.ecModel;return t.eachTargetAxis(function(a,s){var u=t.getAxisProxy(a.name,s).getTargetSeriesModels();r.each(u,function(t){if(!(n||e!==!0&&r.indexOf(w,t.get("type"))<0)){var u=i(a.name),l=o.getComponent(a.axis,s).axis;n={thisAxis:l,series:t,thisDim:a.name,otherDim:u,otherAxisInverse:t.coordinateSystem.getOtherAxis(l).inverse}}},this)},this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],i=this._displayables.barGroup,r=this._size,a=this.dataZoomModel;i.add(t.filler=new u({draggable:!0,cursor:"move",drift:d(this._onDragMove,this,"all"),ondragstart:d(this._showDataInfo,this,!0),ondragend:d(this._onDragEnd,this),onmouseover:d(this._showDataInfo,this,!0),onmouseout:d(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),i.add(new u(o.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:v,fill:"rgba(0,0,0,0)"}})));var s=a.get("handleIcon");g([0,1],function(t){var r=o.makePath(s,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:d(this._onDragMove,this,t),ondragend:d(this._onDragEnd,this),onmouseover:d(this._showDataInfo,this,!0),onmouseout:d(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center"),u=r.getBoundingRect();this._handleHeight=l.parsePercent(a.get("handleSize"),this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,r.setStyle(a.getModel("handleStyle").getItemStyle());var c=a.get("handleColor");null!=c&&(r.style.fill=c),i.add(e[t]=r);var h=a.textStyleModel;this.group.add(n[t]=new o.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[c(t[0],[0,100],e,!0),c(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this._handleEnds,i=this._getViewExtent();p(e,n,i,"all"===t||this.dataZoomModel.get("zoomLock")?"rigid":"cross",t),this._range=f([c(n[0],i,[0,100],!0),c(n[1],i,[0,100],!0)])},_updateView:function(t){var e=this._displayables,n=this._handleEnds,i=f(n.slice()),r=this._size;g([0,1],function(t){var i=e.handles[t],o=this._handleHeight;i.attr({scale:[o,o],position:[n[t],r[1]/2-o/2]})},this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=o.getTransform(i.handles[t].parent,this.group),n=o.transformDirection(0===t?"right":"left",e),u=this._handleWidth/2+x,l=o.applyTransform([p[t]+(0===t?-u:u),this._size[1]/2],e);r[t].setStyle({x:l[0],y:l[1],textVerticalAlign:a===_?"middle":n,textAlign:a===_?n:"center",text:s[t]})}var n=this.dataZoomModel,i=this._displayables,r=i.handleLabels,a=this._orient,s=["",""];if(n.get("showDetail")){var u=n.findRepresentativeAxisProxy();if(u){var l=u.getAxisModel().axis,c=this._range,h=t?u.calculateDataWindow({start:c[0],end:c[1]},u.getDataExtent()).valueWindow:u.getDataValueWindow();s=[this._formatLabel(h[0],l),this._formatLabel(h[1],l)]}}var p=f(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");(null==o||"auto"===o)&&(o=e.getPixelPrecision());var a=null==t&&isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20));return r.isFunction(i)?i(t,a):r.isString(i)?i.replace("{value}",a):a},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n){this._dragging=!0;var i=this._applyBarTransform([e,n],!0);this._updateInterval(t,i[0]);var r=this.dataZoomModel.get("realtime");this._updateView(!r),r&&r&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_applyBarTransform:function(t,e){var n=this._displayables.barGroup.getLocalTransform();return o.applyTransform(t,n,e)},_findCoordRect:function(){var t,e=this.getTargetInfo();if(e.cartesians.length)t=e.cartesians[0].model.coordinateSystem.getRect();else{var n=this.api.getWidth(),i=this.api.getHeight();t={x:.2*n,y:.2*i,width:.6*n,height:.6*i}}return t}});t.exports=T},function(t){t.exports=function(t,e,n,i,r){function o(t,e,n){var i=e.length?e.slice():[e,e];return e[0]>e[1]&&i.reverse(),0>t&&i[0]+t<n[0]&&(t=n[0]-i[0]),t>0&&i[1]+t>n[1]&&(t=n[1]-i[1]),t}return t?("rigid"===i?(t=o(t,e,n),e[0]+=t,e[1]+=t):(t=o(t,e[r],n),e[r]+=t,"push"===i&&e[0]>e[1]&&(e[1-r]=e[r])),e):e}},function(t,e,n){t.exports=n(320).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1}})},function(t,e,n){function i(t){var e=[0,100];return!(t[0]<=e[1])&&(t[0]=e[1]),!(t[1]<=e[1])&&(t[1]=e[1]),!(t[0]>=e[0])&&(t[0]=e[0]),!(t[1]>=e[0])&&(t[1]=e[0]),t}var r=n(323),o=n(4),a=n(326),s=n(329),u=o.bind,l=r.extend({type:"dataZoom.inside",init:function(){this._range},render:function(t,e,n,i){l.superApply(this,"render",arguments),s.shouldRecordRange(i,t.id)&&(this._range=t.getPercentRange());var r=this.getTargetInfo();o.each(["cartesians","polars"],function(e){var i=r[e],a=o.map(i,function(t){return s.generateCoordId(t.model)});o.each(i,function(i){var r=i.model,o=r.coordinateSystem;s.register(n,{coordId:s.generateCoordId(r),allCoordIds:a,coordinateSystem:o,containsPoint:u(c[e].containsPoint,this,o),dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:u(this._onPan,this,i,e),zoomGetRange:u(this._onZoom,this,i,e)})},this)},this)},dispose:function(){s.unregister(this.api,this.dataZoomModel.id),l.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,n,i,r,o,s,u,l){if(this.dataZoomModel.option.disabled)return this._range;var h=this._range.slice(),p=t.axisModels[0];if(p){var f=c[e].getDirectionInfo([o,s],[u,l],p,n,t),d=f.signal*(h[1]-h[0])*f.pixel/f.pixelLength;return a(d,h,[0,100],"rigid"),this._range=h}},_onZoom:function(t,e,n,r,o,a){var s=this.dataZoomModel.option;if(s.disabled||s.zoomLock)return this._range;var u=this._range.slice(),l=t.axisModels[0];if(l){var h=c[e].getDirectionInfo(null,[o,a],l,n,t),p=(h.pixel-h.pixelStart)/h.pixelLength*(u[1]-u[0])+u[0];return r=Math.max(1/r,0),u[0]=(u[0]-p)*r+p,u[1]=(u[1]-p)*r+p,this._range=i(u)}}}),c={cartesians:{getDirectionInfo:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},containsPoint:function(t,e,n){return t.getRect().contain(e,n)}},polars:{getDirectionInfo:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,u=s.getRadiusAxis().getExtent(),l=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?-1:1),a},containsPoint:function(t,e,n){var i=t.getRadiusAxis().getExtent()[1],r=t.cx,o=t.cy;return Math.pow(e-r,2)+Math.pow(n-o,2)<=Math.pow(i,2)}}};t.exports=l},function(t,e,n){function i(t){var e=t.getZr();return e[d]||(e[d]={})}function r(t,e,n){var i=new h(t.getZr());return i.enable(),i.on("pan",f(a,n)),i.on("zoom",f(s,n)),i}function o(t){c.each(t,function(e,n){e.count||(e.controller.dispose(),delete t[n])})}function a(t,e,n,i,r,o,a){u(t,function(s){return s.panGetRange(t.controller,e,n,i,r,o,a)})}function s(t,e,n,i){u(t,function(r){return r.zoomGetRange(t.controller,e,n,i)})}function u(t,e){var n=[];c.each(t.dataZoomInfos,function(t){var i=e(t);i&&n.push({dataZoomId:t.dataZoomId,start:i[0],end:i[1]})}),t.dispatchAction(n)}function l(t,e){t.dispatchAction({type:"dataZoom",batch:e})}var c=n(4),h=n(176),p=n(81),f=c.curry,d="\x00_ec_dataZoom_roams",g={register:function(t,e){var n=i(t),a=e.dataZoomId,s=e.coordId;c.each(n,function(t){var n=t.dataZoomInfos;n[a]&&c.indexOf(e.allCoordIds,s)<0&&(delete n[a],t.count--)}),o(n);var u=n[s];u||(u=n[s]={coordId:s,dataZoomInfos:{},count:0},u.controller=r(t,e,u),u.dispatchAction=c.curry(l,t)),u.controller.setContainsPoint(e.containsPoint),p.createOrUpdate(u,"dispatchAction",e.throttleRate,"fixRate"),!u.dataZoomInfos[a]&&u.count++,u.dataZoomInfos[a]=e},unregister:function(t,e){var n=i(t);c.each(n,function(t){t.controller.dispose();var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)}),o(n)},shouldRecordRange:function(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var n=0,i=t.batch.length;i>n;n++)if(t.batch[n].dataZoomId===e)return!1;return!0},generateCoordId:function(t){return t.type+"\x00_"+t.id}};t.exports=g},function(t,e,n){function i(t,e,n){n.getAxisProxy(t.name,e).reset(n)}function r(t,e,n){n.getAxisProxy(t.name,e).filterData(n)}var o=n(1);o.registerProcessor(function(t){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(i),t.eachTargetAxis(r)}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setRawRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})})})},function(t,e,n){var i=n(4),r=n(321),o=n(1);o.registerAction("dataZoom",function(t,e){var n=r.createLinkedNodesFinder(i.bind(e.eachComponent,e,"dataZoom"),r.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),o=[];e.eachComponent({mainType:"dataZoom",query:t},function(t){o.push.apply(o,n(t).nodes)}),i.each(o,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},function(t,e,n){n(333),n(344)},function(t,e,n){n(1).registerPreprocessor(n(334)),n(335),n(336),n(337),n(340),n(343)},function(t,e,n){function i(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var r=n(4),o=r.each;t.exports=function(t){var e=t&&t.visualMap;r.isArray(e)||(e=e?[e]:[]),o(e,function(t){if(t){i(t,"splitList")&&!i(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&r.isArray(e)&&o(e,function(t){r.isObject(t)&&(i(t,"start")&&!i(t,"min")&&(t.min=t.start),i(t,"end")&&!i(t,"max")&&(t.max=t.end))})}})}},function(t,e,n){n(19).registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})},function(t,e,n){function i(t){t.eachTargetSeries(function(e){var n=e.getData();s.applyVisual(t.stateList,t.targetVisuals,n,t.getValueState,t,t.getDataDimension(n))})}function r(t){t.eachSeries(function(e){var n=e.getData(),i=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(l.bind(o,null,e,t))||{stops:[],outerColors:[]};r.dimension=t.getDataDimension(n),i.push(r)}}),e.getData().setVisual("visualMeta",i)})}function o(t,e,n,i){function r(t){return l[t]}function o(t,e){l[t]=e}for(var a=e.targetVisuals[i],s=u.prepareVisualTypes(a),l={color:t.getData().getVisual("color")},c=0,h=s.length;h>c;c++){var p=s[c],f=a["opacity"===p?"__alphaForOpacity":p];f&&f.applyVisual(n,r,o)}return l.color}var a=n(1),s=n(309),u=n(194),l=n(4);a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,function(t){t.eachComponent("visualMap",function(e){i(e,t)}),r(t)})},function(t,e,n){function i(t,e,n){if(n[0]===n[1])return n.slice();for(var i=200,r=(n[1]-n[0])/i,o=n[0],a=[],s=0;i>=s&&o<n[1];s++)a.push(o),o+=r;
return a.push(n[1]),a}var r=n(338),o=n(4),a=n(7),s=[20,140],u=r.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(){u.superApply(this,"optionUpdated",arguments),this.resetTargetSeries(),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){u.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=s[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=s[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):o.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){r.prototype.completeVisualOption.apply(this,arguments),o.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=a.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)},!0,this),e.push({seriesId:n.id,dataIndex:i})},this),e},getVisualMeta:function(t){function e(e,n){o.push({value:e,color:t(e,n)})}for(var n=i(this,"outOfRange",this.getExtent()),r=i(this,"inRange",this.option.range.slice()),o=[],a=0,s=0,u=r.length,l=n.length;l>s&&(!r.length||n[s]<=r[0]);s++)n[s]<r[a]&&e(n[s],"outOfRange");for(var c=1;u>a;a++,c=0)c&&o.length&&e(r[a],"outOfRange"),e(r[a],"inRange");for(var c=1;l>s;s++)(!r.length||r[r.length-1]<n[s])&&(c&&(o.length&&e(o[o.length-1].value,"outOfRange"),c=0),e(n[s],"outOfRange"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}}});t.exports=u},function(t,e,n){var i=n(1),r=n(4),o=n(2),a=n(339),s=n(194),u=n(309),l=s.mapVisual,c=n(5),h=s.eachVisual,p=n(7),f=r.isArray,d=r.each,g=p.asc,m=p.linearMap,v=r.noop,y=["#f6efa6","#d88273","#bf444c"],_=i.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;o.canvasSupported||(n.realtime=!1),!e&&u.replaceVisualOption(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=r.bind(t,this),this.controllerVisuals=u.createVisualMappings(this.option.controller,e,t),this.targetVisuals=u.createVisualMappings(this.option.target,e,t)},resetTargetSeries:function(){var t=this.option,e=null==t.seriesIndex;t.seriesIndex=e?[]:c.normalizeToArray(t.seriesIndex),e&&this.ecModel.eachSeries(function(e,n){t.seriesIndex.push(n)})},eachTargetSeries:function(t,e){r.each(this.option.seriesIndex,function(n){t.call(e,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},formatValueText:function(t,e,n){function i(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(u)}var o,a,s=this.option,u=s.precision,l=this.dataBound,c=s.formatter;return n=n||["<",">"],r.isArray(t)&&(t=t.slice(),o=!0),a=e?t:o?[i(t[0]),i(t[1])]:i(t),r.isString(c)?c.replace("{value}",o?a[0]:a).replace("{value2}",o?a[1]:a):r.isFunction(c)?o?c(t[0],t[1]):c(t):o?t[0]===l[0]?n[0]+" "+a[1]:t[1]===l[1]?n[1]+" "+a[0]:a[0]+" - "+a[1]:a},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){f(i.color)&&!t.inRange&&(t.inRange={color:i.color.slice().reverse()}),t.inRange=t.inRange||{color:y},d(this.stateList,function(e){var n=t[e];if(r.isString(n)){var i=a.get(n,"active",p);i?(t[e]={},t[e][n]=i):delete t[e]}},this)}function e(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},d(i,function(t,e){if(s.isValidType(e)){var n=a.get(e,"inactive",p);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}}))}function n(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor");d(this.stateList,function(o){var a=this.itemSize,s=t[o];s||(s=t[o]={color:p?i:[i]}),null==s.symbol&&(s.symbol=e&&r.clone(e)||(p?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&r.clone(n)||(p?a[0]:[a[0],a[0]])),s.symbol=l(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var u=s.symbolSize;if(null!=u){var c=-1/0;h(u,function(t){t>c&&(c=t)}),s.symbolSize=l(u,function(t){return m(t,[0,c],[0,a[0]],!0)})}},this)}var i=this.option,o={inRange:i.inRange,outOfRange:i.outOfRange},u=i.target||(i.target={}),c=i.controller||(i.controller={});r.merge(u,o),r.merge(c,o);var p=this.isCategory();t.call(this,u),t.call(this,c),e.call(this,u,"inRange","outOfRange"),n.call(this,c)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v});t.exports=_},function(t,e,n){var i=n(4),r={get:function(t,e,n){var r=i.clone((o[t]||{})[e]);return n&&i.isArray(r)?r[r.length-1]:r}},o={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};t.exports=r},function(t,e,n){function i(t,e,n,i){return new l.Polygon({shape:{points:t},draggable:!!n,cursor:e,drift:n,ondragend:i})}function r(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function o(t,e,n,i){return t?[[0,-y(e,_(n,0))],[x,0],[0,y(e,_(i-n,0))]]:[[0,0],[5,-5],[5,5]]}function a(t,e,n){var i=b/2,r=t.get("hoverLinkDataSize");return r&&(i=m(r,e,n,!0)/2),i}function s(t){return!t.get("realtime")&&t.get("hoverLinkOnHandle")}var u=n(341),l=n(43),c=n(4),h=n(7),p=n(326),f=n(78),d=n(342),g=n(5),m=h.linearMap,v=c.each,y=Math.min,_=Math.max,b=12,x=6,w=u.extend({type:"visualMap.continuous",init:function(){w.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.barGroup,u=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),c=this._applyTransform(0===n?"bottom":"top",s),h=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new l.Text({style:{x:u[0],y:u[1],textVerticalAlign:"horizontal"===h?"middle":c,textAlign:"horizontal"===h?c:"center",text:i,textFont:p.getFont(),fill:p.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,o=this._orient,a=this._useHandle,s=d.getItemAlign(e,this.api,r),u=n.barGroup=this._createBarGroup(s);u.add(n.outOfRange=i()),u.add(n.inRange=i(null,a?"move":null,c.bind(this._dragHandle,this,"all",!1),c.bind(this._dragHandle,this,"all",!0)));var l=e.textStyleModel.getTextRect("国"),h=_(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(u,0,r,h,o,s),this._createHandle(u,1,r,h,o,s)),this._createIndicator(u,r,h,o),t.add(u)},_createHandle:function(t,e,n,o,a){var s=c.bind(this._dragHandle,this,e,!1),u=c.bind(this._dragHandle,this,e,!0),h=i(r(e,o),"move",s,u);h.position[0]=n[0],t.add(h);var p=this.visualMapModel.textStyleModel,f=new l.Text({draggable:!0,drift:s,ondragend:u,style:{x:0,y:0,text:"",textFont:p.getFont(),fill:p.getTextColor()}});this.group.add(f);var d=["horizontal"===a?o/2:1.5*o,"horizontal"===a?0===e?-(1.5*o):1.5*o:0===e?-o/2:o/2],g=this._shapes;g.handleThumbs[e]=h,g.handleLabelPoints[e]=d,g.handleLabels[e]=f},_createIndicator:function(t,e,n,r){var o=i([[0,0]],"move");o.position[0]=e[0],o.attr({invisible:!0,silent:!0}),t.add(o);var a=this.visualMapModel.textStyleModel,s=new l.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),fill:a.getTextColor()}});this.group.add(s);var u=["horizontal"===r?n/2:x+3,0],c=this._shapes;c.indicator=o,c.indicatorLabel=s,c.indicatorLabelPoint=u},_dragHandle:function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(t,r[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():s(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[m(e[0],n,i,!0),m(e[1],n,i,!0)]},_updateInterval:function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds;p(e,i,[0,n.itemSize[1]],"all"===t?"rigid":"push",t);var r=n.getExtent(),o=[0,n.itemSize[1]];this._dataInterval=[m(i[0],o,r,!0),m(i[1],o,r,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],o=t?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(o,a)},_createBarVisual:function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,r),a=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new f(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(t,e){var n=100,i=[],r=(t[1]-t[0])/n;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var o=1;n>o;o++){var a=t[0]+r*o;if(a>t[1])break;i.push({color:this.getControllerVisual(a,"color",e),offset:o/n})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new l.Group("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels;v([0,1],function(a){var s=r[a];s.setStyle("fill",e.handlesColor[a]),s.position[1]=t[a];var u=l.applyTransform(n.handleLabelPoints[a],l.getTransform(s,this.group));o[a].setStyle({x:u[0],y:u[1],text:i.formatValueText(this._dataInterval[a]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(t,e,n,i){var r=this.visualMapModel,a=r.getExtent(),s=r.itemSize,u=[0,s[1]],c=m(t,a,u,!0),h=this._shapes,p=h.indicator;if(p){p.position[1]=c,p.attr("invisible",!1),p.setShape("points",o(!!n,i,c,s[1]));var f={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",f);p.setStyle("fill",d);var g=l.applyTransform(h.indicatorLabelPoint,l.getTransform(p,this.group)),v=h.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",h.barGroup),_=this._orient;v.setStyle({text:(n?n:"")+r.formatValueText(e),textVerticalAlign:"horizontal"===_?y:"middle",textAlign:"horizontal"===_?"center":y,x:g[0],y:g[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);i[1]=y(_(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();t=y(_(r[0],t),r[1]);var u=a(n,o,r),l=[t-u,t+u],c=m(t,r,o,!0),h=[m(l[0],r,o,!0),m(l[1],r,o,!0)];l[0]<r[0]&&(h[0]=-1/0),l[1]>r[1]&&(h[1]=1/0),e&&(h[0]===-1/0?this._showIndicator(c,h[1],"< ",u):1/0===h[1]?this._showIndicator(c,h[0],"> ",u):this._showIndicator(c,c,"≈ ",u));var p=this._hoverLinkDataIndices,f=[];(e||s(n))&&(f=this._hoverLinkDataIndices=n.findTargetDataIndices(h));var v=g.compressBatches(p,f);this._dispatchHighDown("downplay",d.convertDataIndex(v[0])),this._dispatchHighDown("highlight",d.convertDataIndex(v[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target;if(e&&null!=e.dataIndex){var n=e.dataModel||this.ecModel.getSeriesByIndex(e.seriesIndex),i=n.getData(e.dataType),r=i.getDimension(this.visualMapModel.getDataDimension(i)),o=i.get(r,e.dataIndex,!0);isNaN(o)||this._showIndicator(o,o)}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",d.convertDataIndex(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,n,i){var r=l.getTransform(e,i?null:this.group);return l[c.isArray(t)?"applyTransform":"transformDirection"](t,r,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});t.exports=w},function(t,e,n){var i=n(4),r=n(43),o=n(6),a=n(21),s=n(1),u=n(194);t.exports=s.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t){return this.visualMapModel=t,t.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(t){var e=this.visualMapModel,n=o.normalizeCssArray(e.get("padding")||0),i=t.getBoundingRect();t.add(new r.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,n){function r(t){return l[t]}function o(t,e){l[t]=e}n=n||{};var a=n.forceState,s=this.visualMapModel,l={};if("symbol"===e&&(l.symbol=s.get("itemSymbol")),"color"===e){var c=s.get("contentColor");l.color=c}var h=s.controllerVisuals[a||s.getValueState(t)],p=u.prepareVisualTypes(h);return i.each(p,function(i){var a=h[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",a=h.__alphaForOpacity),u.dependsOn(i,e)&&a&&a.applyVisual(t,r,o)}),l[e]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;a.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:i.noop})},function(t,e,n){var i=n(4),r=n(21),o={getItemAlign:function(t,e,n){var i=t.option,o=i.align;if(null!=o&&"auto"!==o)return o;for(var a={width:e.getWidth(),height:e.getHeight()},s="horizontal"===i.orient?1:0,u=[["left","right","width"],["top","bottom","height"]],l=u[s],c=[0,null,10],h={},p=0;3>p;p++)h[u[1-s][p]]=c[p],h[l[p]]=2===p?n[0]:i[l[p]];var f=[["x","width",3],["y","height",0]][s],d=r.getLayoutRect(h,a,i.padding);return l[(d.margin[f[2]]||0)+d[f[0]]+.5*d[f[1]]<.5*a[f[1]]?0:1]},convertDataIndex:function(t){return i.each(t||[],function(){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}};t.exports=o},function(t,e,n){var i=n(1),r={type:"selectDataRange",event:"dataRangeSelected",update:"update"};i.registerAction(r,function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})})},function(t,e,n){n(1).registerPreprocessor(n(334)),n(335),n(336),n(345),n(346),n(343)},function(t,e,n){function i(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var r=n(338),o=n(4),a=n(194),s=n(339),u=n(7).reformIntervals,l=r.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0},optionUpdated:function(t,e){l.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetTargetSeries(),this.resetExtent();var n=this._mode=this._determineMode();c[this._mode].call(this),this._resetSelected(t,e);var i=this.option.categories;this.resetVisual(function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=o.clone(i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=o.map(this._pieceList,function(t){var t=o.clone(t);return"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,n){return t&&t[e]&&(o.isObject(t[e])?t[e].hasOwnProperty(n):t[e]===n)}var e=this.option,n={},i=a.listVisualTypes(),u=this.isCategory();o.each(e.pieces,function(t){o.each(i,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),o.each(n,function(n,i){var r=0;o.each(this.stateList,function(n){r|=t(e,n,i)||t(e.target,n,i)},this),!r&&o.each(this.stateList,function(t){(e[t]||(e[t]={}))[i]=s.get(i,"inRange"===t?"active":"inactive",u)})},this),r.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,o.each(i,function(t){var e=this.getSelectedMapKey(t);r.hasOwnProperty(e)||(r[e]=!0)},this),"single"===n.selectedMode){var a=!1;o.each(i,function(t){var e=this.getSelectedMapKey(t);r[e]&&(a?r[e]=!1:a=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=o.clone(t)},getValueState:function(t){var e=a.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(e,n){var r=a.findPieceIndex(e,this._pieceList);r===t&&i.push(n)},!0,this),e.push({seriesId:n.id,dataIndex:i})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&1/0===n[1]?0:(n[0]+n[1])/2}return e},getVisualMeta:function(t){function e(e,o){var a=r.getRepresentValue({interval:e});o||(o=r.getValueState(a));var s=t(a,o);e[0]===-1/0?i[0]=s:1/0===e[1]?i[1]=s:n.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var n=[],i=[],r=this,a=this._pieceList.slice();if(a.length){var s=a[0].interval[0];s!==-1/0&&a.unshift({interval:[-1/0,s]}),s=a[a.length-1].interval[1],1/0!==s&&a.push({interval:[s,1/0]})}else a.push({interval:[-1/0,1/0]});var u=-1/0;return o.each(a,function(t){var n=t.interval;n&&(n[0]>u&&e([u,n[0]],"outOfRange"),e(n.slice()),u=n[1])},this),{stops:n,outerColors:i}}}}),c={splitNumber:function(){var t=this.option,e=this._pieceList,n=t.precision,i=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var a=(i[1]-i[0])/r;+a.toFixed(n)!==a&&5>n;)n++;t.precision=n,a=+a.toFixed(n);var s=0;t.minOpen&&e.push({index:s++,interval:[-1/0,i[0]],close:[0,0]});for(var l=i[0],c=s+r;c>s;l+=a){var h=s===r-1?i[1]:l+a;e.push({index:s++,interval:[l,h],close:[1,1]})}t.maxOpen&&e.push({index:s++,interval:[i[1],1/0],close:[0,0]}),u(e),o.each(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;o.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),i(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;o.each(t.pieces,function(t,n){o.isObject(t)||(t={value:t});var i={text:"",index:n};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var r=i.value=t.value;i.interval=[r,r],i.close=[1,1]}else{for(var s=i.interval=[],u=i.close=[0,0],l=[1,0,1],c=[-1/0,1/0],h=[],p=0;2>p;p++){for(var f=[["gte","gt","min"],["lte","lt","max"]][p],d=0;3>d&&null==s[p];d++)s[p]=t[f[d]],u[p]=l[d],h[p]=2===d;null==s[p]&&(s[p]=c[p])}h[0]&&1/0===s[1]&&(u[0]=0),h[1]&&s[0]===-1/0&&(u[1]=0),s[0]>s[1]&&console.warn("Piece "+n+"is illegal: "+s+" lower bound should not greater then uppper bound."),s[0]===s[1]&&u[0]&&u[1]&&(i.value=s[0])}i.visual=a.retrieveVisuals(t),e.push(i)},this),i(t,e),u(e),o.each(e,function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}};t.exports=l},function(t,e,n){var i=n(341),r=n(4),o=n(43),a=n(107),s=n(21),u=n(342),l=i.extend({type:"visualMap.piecewise",doRender:function(){function t(t){var a=t.piece,s=new o.Group;s.onclick=r.bind(this._onItemClick,this,a),this._enableHoverLink(s,t.indexInModelPieceList);var p=n.getRepresentValue(a);if(this._createItemSymbol(s,p,[0,0,h[0],h[1]]),f){var d=this.visualMapModel.getValueState(p);s.add(new o.Text({style:{x:"right"===c?-i:h[0]+i,y:h[1]/2,text:a.text,textVerticalAlign:"middle",textAlign:c,textFont:u,fill:l,opacity:"outOfRange"===d?.5:1}}))}e.add(s)}var e=this.group;e.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,u=a.getFont(),l=a.getTextColor(),c=this._getItemAlign(),h=n.itemSize,p=this._getViewData(),f=!p.endsText,d=!f;d&&this._renderEndsText(e,p.endsText[0],h),r.each(p.viewPieceList,t,this),d&&this._renderEndsText(e,p.endsText[1],h),s.box(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(t,e){function n(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:t,batch:u.convertDataIndex(n.findTargetDataIndices(e))})}t.on("mouseover",r.bind(n,this,"highlight")).on("mouseout",r.bind(n,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return u.getItemAlign(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(t,e,n){if(e){var i=new o.Group,r=this.visualMapModel.textStyleModel;i.add(new o.Text({style:{x:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:"center",text:e,textFont:r.getFont(),fill:r.getTextColor()}})),t.add(i)}},_getViewData:function(){var t=this.visualMapModel,e=r.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),i=t.get("orient"),o=t.get("inverse");return("horizontal"===i?o:!o)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(a.createSymbol(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,i=r.clone(n.selected),o=e.getSelectedMapKey(t);"single"===n.selectedMode?(i[o]=!0,r.each(i,function(t,e){i[e]=e===o})):i[o]=!i[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});t.exports=l},function(t,e,n){n(348),n(350),n(1).registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},function(t,e,n){t.exports=n(349).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(t,e,n){function i(t){r.defaultEmphasis(t.label,r.LABEL_OPTIONS)}var r=n(5),o=n(4),a=n(2),s=n(6),u=s.addCommas,l=s.encodeHTML,c=n(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,n,i){if("marker"===this.type)throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(t,n),this.mergeOption(t,n,i.createdBySelf,!0)},ifEnableAnimation:function(){if(a.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.ifEnableAnimation()},mergeOption:function(t,e,n,r){var a=this.constructor,s=this.mainType+"Model";n||e.eachSeries(function(t){var n=t.get(this.mainType),u=t[s];return n&&n.data?(u?u.mergeOption(n,e,!0):(r&&i(n),o.each(n.data,function(t){t instanceof Array?(i(t[0]),i(t[1])):i(t)}),u=new a(n,this,e),o.extend(u,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),u.__hostSeries=t),void(t[s]=u)):void(t[s]=null)},this)},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=o.isArray(n)?o.map(n,u).join(", "):u(n),r=e.getName(t),a=this.name;return(null!=n||r)&&(a+="<br />"),r&&(a+=l(r),null!=n&&(a+=" : ")),null!=n&&(a+=i),a},getData:function(){return this._data},setData:function(t){this._data=t}});o.mixin(c,r.dataFormatMixin),t.exports=c},function(t,e,n){function i(t,e,n){var i=e.coordinateSystem;t.each(function(r){var o,a=t.getItemModel(r),u=s.parsePercent(a.get("x"),n.getWidth()),l=s.parsePercent(a.get("y"),n.getHeight());if(isNaN(u)||isNaN(l)){if(e.getMarkerPosition)o=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var c=t.get(i.dimensions[0],r),h=t.get(i.dimensions[1],r);o=i.dataToPoint([c,h])}}else o=[u,l];isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l),t.setItemLayout(r,o)})}function r(t,e,n){var i;i=t?a.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n}):[{name:"value",type:"float"}];var r=new u(i,n),o=a.map(n.get("data"),a.curry(l.dataTransform,e));return t&&(o=a.filter(o,a.curry(l.dataFilter,t))),r.initData(o,null,t?l.dimValueGetter:function(t){return t.value}),r}var o=n(105),a=n(4),s=n(7),u=n(98),l=n(351);n(352).extend({type:"markPoint",updateLayout:function(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(i(e.getData(),t,n),this.markerGroupMap[t.name].updateLayout(e))},this)},renderSeries:function(t,e,n,a){var s=t.coordinateSystem,u=t.name,l=t.getData(),c=this.markerGroupMap,h=c[u];h||(h=c[u]=new o);var p=r(s,t,e);e.setData(p),i(e.getData(),t,a),p.each(function(t){var n=p.getItemModel(t),i=n.getShallow("symbolSize");"function"==typeof i&&(i=i(e.getRawValue(t),e.getDataParams(t))),p.setItemVisual(t,{symbolSize:i,color:n.get("itemStyle.normal.color")||l.getVisual("color"),symbol:n.getShallow("symbol")})}),h.updateData(p),this.group.add(h.group),p.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),h.__keep=!0,h.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){function i(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function r(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function o(t,e,n){var i=-1;do i=Math.max(u.getPrecision(t.get(e,n)),i),t=t.stackedOn;while(t);return i}function a(t,e,n,i,r,a){var s=[],u=m(e,i,t),l=e.indexOfNearest(i,u,!0);s[r]=e.get(n,l,!0),s[a]=e.get(i,l,!0);var c=o(e,i,l);return c>=0&&(s[a]=+s[a].toFixed(c)),s}var s=n(4),u=n(7),l=s.indexOf,c=s.curry,h={min:c(a,"min"),max:c(a,"max"),average:c(a,"average")},p=function(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&!r(e)&&!s.isArray(e.coord)&&i){var o=i.dimensions,a=f(e,n,i,t);if(e=s.clone(e),e.type&&h[e.type]&&a.baseAxis&&a.valueAxis){var u=l(o,a.baseAxis.dim),c=l(o,a.valueAxis.dim);e.coord=h[e.type](n,a.baseDataDim,a.valueDataDim,u,c),e.value=e.coord[c]}else{for(var p=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],d=0;2>d;d++)if(h[p[d]]){var g=t.coordDimToDataDim(o[d])[0];p[d]=m(n,g,p[d])}e.coord=p}}return e},f=function(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(i.dataDimToCoordDim(r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=i.coordDimToDataDim(r.baseAxis.dim)[0]):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=i.coordDimToDataDim(r.baseAxis.dim)[0],r.valueDataDim=i.coordDimToDataDim(r.valueAxis.dim)[0]),r},d=function(t,e){return t&&t.containData&&e.coord&&!i(e)?t.containData(e.coord):!0},g=function(t,e,n,i){return 2>i?t.coord&&t.coord[i]:t.value},m=function(t,e,n){if("average"===n){var i=0,r=0;return t.each(e,function(t){isNaN(t)||(i+=t,r++)},!0),i/r}return t.getDataExtent(e,!0)["max"===n?1:0]};t.exports={dataTransform:p,dataFilter:d,dimValueGetter:g,getAxisInfo:f,numCalculate:m}},function(t,e,n){t.exports=n(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(t,e,n){var i=this.markerGroupMap;for(var r in i)i.hasOwnProperty(r)&&(i[r].__keep=!1);var o=this.type+"Model";e.eachSeries(function(t){var i=t[o];i&&this.renderSeries(t,i,e,n)},this);for(var r in i)i.hasOwnProperty(r)&&!i[r].__keep&&this.group.remove(i[r].group)},renderSeries:function(){}})},function(t,e,n){n(354),n(355),n(1).registerPreprocessor(function(t){t.markLine=t.markLine||{}})},function(t,e,n){t.exports=n(349).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(t,e,n){function i(t){return!isNaN(t)&&!isFinite(t)}function r(t,e,n,r){var o=1-t,a=r.dimensions[t];
return i(e[o])&&i(n[o])&&e[t]===n[t]&&r.getAxis(a).containData(e[t])}function o(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(r(1,n,i,t)||r(0,n,i,t)))return!0}return h.dataFilter(t,e[0])&&h.dataFilter(t,e[1])}function a(t,e,n,r,o){var a,s=r.coordinateSystem,u=t.getItemModel(e),l=c.parsePercent(u.get("x"),o.getWidth()),h=c.parsePercent(u.get("y"),o.getHeight());if(isNaN(l)||isNaN(h)){if(r.getMarkerPosition)a=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var p=s.dimensions,f=t.get(p[0],e),d=t.get(p[1],e);a=s.dataToPoint([f,d])}if("cartesian2d"===s.type){var g=s.getAxis("x"),m=s.getAxis("y"),p=s.dimensions;i(t.get(p[0],e))?a[0]=g.toGlobalCoord(g.getExtent()[n?0:1]):i(t.get(p[1],e))&&(a[1]=m.toGlobalCoord(m.getExtent()[n?0:1]))}isNaN(l)||(a[0]=l),isNaN(h)||(a[1]=h)}else a=[l,h];t.setItemLayout(e,a)}function s(t,e,n){var i;i=t?u.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n}):[{name:"value",type:"float"}];var r=new l(i,n),a=new l(i,n),s=new l([],n),c=u.map(n.get("data"),u.curry(f,e,t,n));t&&(c=u.filter(c,u.curry(o,t)));var p=t?h.dimValueGetter:function(t){return t.value};return r.initData(u.map(c,function(t){return t[0]}),null,p),a.initData(u.map(c,function(t){return t[1]}),null,p),s.initData(u.map(c,function(t){return t[2]})),s.hasItemOption=!0,{from:r,to:a,line:s}}var u=n(4),l=n(98),c=n(7),h=n(351),p=n(201),f=function(t,e,n,i){var r=t.getData(),o=i.type;if(!u.isArray(i)&&("min"===o||"max"===o||"average"===o||null!=i.xAxis||null!=i.yAxis)){var a,s,l;if(null!=i.yAxis||null!=i.xAxis)s=null!=i.yAxis?"y":"x",a=e.getAxis(s),l=u.retrieve(i.yAxis,i.xAxis);else{var c=h.getAxisInfo(i,r,e,t);s=c.valueDataDim,a=c.valueAxis,l=h.numCalculate(r,s,o)}var p="x"===s?0:1,f=1-p,d=u.clone(i),g={};d.type=null,d.coord=[],g.coord=[],d.coord[f]=-1/0,g.coord[f]=1/0;var m=n.get("precision");m>=0&&"number"==typeof l&&(l=+l.toFixed(m)),d.coord[p]=g.coord[p]=l,i=[d,g,{type:o,valueIndex:i.valueIndex,value:l}]}return i=[h.dataTransform(t,i[0]),h.dataTransform(t,i[1]),u.extend({},i[2])],i[2].type=i[2].type||"",u.merge(i[2],i[0]),u.merge(i[2],i[1]),i};n(352).extend({type:"markLine",updateLayout:function(t,e,n){e.eachSeries(function(t){var e=t.markLineModel;if(e){var i=e.getData(),r=e.__from,o=e.__to;r.each(function(e){a(r,e,!0,t,n),a(o,e,!1,t,n)}),i.each(function(t){i.setItemLayout(t,[r.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap[t.name].updateLayout()}},this)},renderSeries:function(t,e,n,i){function r(e,n,r){var o=e.getItemModel(n);a(e,n,r,t,i),e.setItemVisual(n,{symbolSize:o.get("symbolSize")||_[r?0:1],symbol:o.get("symbol",!0)||y[r?0:1],color:o.get("itemStyle.normal.color")||c.getVisual("color")})}var o=t.coordinateSystem,l=t.name,c=t.getData(),h=this.markerGroupMap,f=h[l];f||(f=h[l]=new p),this.group.add(f.group);var d=s(o,t,e),g=d.from,m=d.to,v=d.line;e.__from=g,e.__to=m,e.setData(v);var y=e.get("symbol"),_=e.get("symbolSize");u.isArray(y)||(y=[y,y]),"number"==typeof _&&(_=[_,_]),d.from.each(function(t){r(g,t,!0),r(m,t,!1)}),v.each(function(t){var e=v.getItemModel(t).get("lineStyle.normal.color");v.setItemVisual(t,{color:e||g.getItemVisual(t,"color")}),v.setItemLayout(t,[g.getItemLayout(t),m.getItemLayout(t)]),v.setItemVisual(t,{fromSymbolSize:g.getItemVisual(t,"symbolSize"),fromSymbol:g.getItemVisual(t,"symbol"),toSymbolSize:m.getItemVisual(t,"symbolSize"),toSymbol:m.getItemVisual(t,"symbol")})}),f.updateData(v),d.line.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),f.__keep=!0,f.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){n(357),n(358),n(1).registerPreprocessor(function(t){t.markArea=t.markArea||{}})},function(t,e,n){t.exports=n(349).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(t,e,n){function i(t){return!isNaN(t)&&!isFinite(t)}function r(t,e,n){var r=1-t;return i(e[r])&&i(n[r])}function o(t,e){var n=e.coord[0],i=e.coord[1];return"cartesian2d"===t.type&&n&&i&&(r(1,n,i,t)||r(0,n,i,t))?!0:f.dataFilter(t,{coord:n,x:e.x0,y:e.y0})||f.dataFilter(t,{coord:i,x:e.x1,y:e.y1})}function a(t,e,n,r,o){var a,s=r.coordinateSystem,u=t.getItemModel(e),l=c.parsePercent(u.get(n[0]),o.getWidth()),h=c.parsePercent(u.get(n[1]),o.getHeight());if(isNaN(l)||isNaN(h)){if(r.getMarkerPosition)a=r.getMarkerPosition(t.getValues(n,e));else{var p=t.get(n[0],e),f=t.get(n[1],e);a=s.dataToPoint([p,f],!0)}if("cartesian2d"===s.type){var d=s.getAxis("x"),g=s.getAxis("y"),p=t.get(n[0],e),f=t.get(n[1],e);i(p)?a[0]=d.toGlobalCoord(d.getExtent()["x0"===n[0]?0:1]):i(f)&&(a[1]=g.toGlobalCoord(g.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(h)||(a[1]=h)}else a=[l,h];return a}function s(t,e,n){var i,r,a=["x0","y0","x1","y1"];t?(i=u.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return n.name=t,n}),r=new l(u.map(a,function(t,e){return{name:t,type:i[e%2].type}}),n)):(i=[{name:"value",type:"float"}],r=new l(i,n));var s=u.map(n.get("data"),u.curry(d,e,t,n));t&&(s=u.filter(s,u.curry(o,t)));var c=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return r.initData(s,null,c),r.hasItemOption=!0,r}var u=n(4),l=n(98),c=n(7),h=n(43),p=n(39),f=n(351),d=function(t,e,n,i){var r=f.dataTransform(t,i[0]),o=f.dataTransform(t,i[1]),a=u.retrieve,s=r.coord,l=o.coord;s[0]=a(s[0],-1/0),s[1]=a(s[1],-1/0),l[0]=a(l[0],1/0),l[1]=a(l[1],1/0);var c=u.mergeAll([{},r,o]);return c.coord=[r.coord,o.coord],c.x0=r.x,c.y0=r.y,c.x1=o.x,c.y1=o.y,c},g=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];n(352).extend({type:"markArea",updateLayout:function(t,e,n){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var i=e.getData();i.each(function(e){var r=u.map(g,function(r){return a(i,e,r,t,n)});i.setItemLayout(e,r);var o=i.getItemGraphicEl(e);o.setShape("points",r)})}},this)},renderSeries:function(t,e,n,i){var r=t.coordinateSystem,o=t.name,l=t.getData(),c=this.markerGroupMap,f=c[o];f||(f=c[o]={group:new h.Group}),this.group.add(f.group),f.__keep=!0;var d=s(r,t,e);e.setData(d),d.each(function(e){d.setItemLayout(e,u.map(g,function(n){return a(d,e,n,t,i)})),d.setItemVisual(e,{color:l.getVisual("color")})}),d.diff(f.__data).add(function(t){var e=new h.Polygon({shape:{points:d.getItemLayout(t)}});d.setItemGraphicEl(t,e),f.group.add(e)}).update(function(t,n){var i=f.__data.getItemGraphicEl(n);h.updateProps(i,{shape:{points:d.getItemLayout(t)}},e,t),f.group.add(i),d.setItemGraphicEl(t,i)}).remove(function(t){var e=f.__data.getItemGraphicEl(t);f.group.remove(e)}).execute(),d.eachItemGraphicEl(function(t,n){var i=d.getItemModel(n),r=i.getModel("label.normal"),o=i.getModel("label.emphasis"),a=d.getItemVisual(n,"color");t.useStyle(u.defaults(i.getModel("itemStyle.normal").getItemStyle(),{fill:p.modifyAlpha(a,.4),stroke:a})),t.hoverStyle=i.getModel("itemStyle.normal").getItemStyle();var s=d.getName(n)||"",l=a||t.style.fill;h.setText(t.style,r,l),t.style.text=u.retrieve(e.getFormattedLabel(n,"normal"),s),h.setText(t.hoverStyle,o,l),t.hoverStyle.text=u.retrieve(e.getFormattedLabel(n,"emphasis"),s),h.setHoverStyle(t,{}),t.dataModel=e}),f.__data=d,f.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){var i=n(1);i.registerPreprocessor(n(360)),n(361),n(362),n(363),n(365)},function(t,e,n){function i(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),r(t),o(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});o(i,"position")||(i.position=t.controlPosition),"none"!==i.position||o(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}a.each(t.data||[],function(t){a.isObject(t)&&!a.isArray(t)&&(!o(t,"value")&&o(t,"name")&&(t.value=t.name),r(t))})}function r(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),s={normal:1,emphasis:1};a.each(i,function(t,e){s[e]||o(r,e)||(r[e]=t)}),n.label&&!o(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function o(t,e){return t.hasOwnProperty(e)}var a=n(4);t.exports=function(t){var e=t&&t.timeline;a.isArray(e)||(e=e?[e]:[]),a.each(e,function(t){t&&i(t)})}},function(t,e,n){n(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(t,e,n){var i=n(1),r=n(4);i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),r.defaults({currentIndex:n.option.currentIndex},t)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)})},function(t,e,n){var i=n(364),r=n(4),o=n(5),a=i.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});r.mixin(a,o.dataFormatMixin),t.exports=a},function(t,e,n){var i=n(19),r=n(98),o=n(4),a=n(5),s=i.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),0>t&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,i=this._names=[];if("category"===n){var s=[];o.each(e,function(t,e){var n,r=a.getDataItemValue(t);o.isObject(t)?(n=o.clone(t),n.value=e):n=e,s.push(n),o.isString(r)||null!=r&&!isNaN(r)||(r=""),i.push(r+"")}),e=s}var u={category:"ordinal",time:"time"}[n]||"number",l=this._data=new r([{name:"value",type:u}],this);l.initData(e,i)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}});t.exports=s},function(t,e,n){function i(t,e){return l.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function r(t,e,n,i){var r=u.makePath(t.get(e).replace(/^path:\/\//,""),s.clone(i||{}),new d(n[0],n[1],n[2],n[3]),"center");return r}function o(t,e,n,i,r,o){var a=e.get("color");if(r)r.setColor(a),n.add(r),o&&o.onUpdate(r);else{var u=t.get("symbol");r=p.createSymbol(u,-1,-1,2,2,a),r.setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r)}var l=e.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(l),i=s.merge({rectHover:!0,z2:100},i,!0);var c=t.get("symbolSize");c=c instanceof Array?c.slice():[+c,+c],c[0]/=2,c[1]/=2,i.scale=c;var h=t.get("symbolOffset");if(h){var f=i.position=i.position||[0,0];f[0]+=m.parsePercent(h[0],c[0]),f[1]+=m.parsePercent(h[1],c[1])}var d=t.get("symbolRotate");return i.rotation=(d||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function a(t,e,n,i,r){if(!t.dragging){var o=i.getModel("checkpointStyle"),a=n.dataToCoord(i.getData().get(["value"],e));r||!o.get("animation",!0)?t.attr({position:[a,0]}):(t.stopAnimation(!0),t.animateTo({position:[a,0]},o.get("animationDuration",!0),o.get("animationEasing",!0)))}}var s=n(4),u=n(43),l=n(21),c=n(366),h=n(367),p=n(107),f=n(115),d=n(9),g=n(11),m=n(7),v=n(6),y=v.encodeHTML,_=s.bind,b=s.each,x=Math.PI;t.exports=c.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),r=this._createGroup("mainGroup"),o=this._createGroup("labelGroup"),a=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){return y(a.scale.getLabel(t))},b(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](i,r,a,t)},this),this._renderAxisLabel(i,o,a,t),this._position(i,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.normal.position"),r=t.get("orient"),o=i(t,e);null==n||"auto"===n?n="horizontal"===r?o.y+o.height/2<e.getHeight()/2?"-":"+":o.x+o.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][n]);var a={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},s={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:x/2},l="vertical"===r?o.height:o.width,c=t.getModel("controlStyle"),h=c.get("show"),p=h?c.get("itemSize"):0,f=h?c.get("itemGap"):0,d=p+f,g=t.get("label.normal.rotate")||0;g=g*x/180;var m,v,y,_,b=c.get("position",!0),h=c.get("show",!0),w=h&&c.get("showPlayBtn",!0),T=h&&c.get("showPrevBtn",!0),k=h&&c.get("showNextBtn",!0),$=0,S=l;return"left"===b||"bottom"===b?(w&&(m=[0,0],$+=d),T&&(v=[$,0],$+=d),k&&(y=[S-p,0],S-=d)):(w&&(m=[S-p,0],S-=d),T&&(v=[0,0],$+=d),k&&(y=[S-p,0],S-=d)),_=[$,S],t.get("inverse")&&_.reverse(),{viewRect:o,mainLength:l,orient:r,rotation:u[r],labelRotation:g,labelPosOpt:n,labelAlign:a[r],labelBaseline:s[r],playPosition:m,prevBtnPosition:v,nextBtnPosition:y,axisExtent:_,controlSize:p,controlGap:f}},_position:function(t){function e(t){var e=t.position;t.origin=[c[0][0]-e[0],c[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function i(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}var r=this._mainGroup,o=this._labelGroup,a=t.viewRect;if("vertical"===t.orient){var s=g.create(),u=a.x,l=a.y+a.height;g.translate(s,s,[-u,-l]),g.rotate(s,s,-x/2),g.translate(s,s,[u,l]),a=a.clone(),a.applyTransform(s)}var c=n(a),h=n(r.getBoundingRect()),p=n(o.getBoundingRect()),f=r.position,d=o.position;d[0]=f[0]=c[0][0];var m=t.labelPosOpt;if(isNaN(m)){var v="+"===m?0:1;i(f,h,c,1,v),i(d,p,c,1,1-v)}else{var v=m>=0?0:1;i(f,h,c,1,v),d[1]=f[1]+m}r.attr("position",f),o.attr("position",d),r.rotation=o.rotation=t.rotation,e(r),e(o)},_createAxis:function(t,e){var n=e.getData(),i=e.get("axisType"),r=f.createScaleByModel(e,i),o=n.getDataExtent("value");r.setExtent(o[0],o[1]),this._customizeScale(r,n),r.niceTicks();var a=new h("value",r,t.axisExtent,i);return a.model=e,a},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray(["value"],function(t){return t})},t.getTicksLabels=function(){return s.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new u.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,n,i){var r=n.getExtent();i.get("lineStyle.show")&&e.add(new u.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:s.extend({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,i){var r=i.getData(),a=n.scale.getTicks();b(a,function(t,a){var s=n.dataToCoord(t),l=r.getItemModel(a),c=l.getModel("itemStyle.normal"),h=l.getModel("itemStyle.emphasis"),p={position:[s,0],onclick:_(this._changeTimeline,this,a)},f=o(l,c,e,p);u.setHoverStyle(f,h.getItemStyle()),l.get("tooltip")?(f.dataIndex=a,f.dataModel=i):f.dataIndex=f.dataModel=null},this)},_renderAxisLabel:function(t,e,n,i){var r=i.getModel("label.normal");if(r.get("show")){var o=i.getData(),a=n.scale.getTicks(),s=f.getFormattedLabels(n,r.get("formatter")),l=n.getLabelInterval();b(a,function(i,r){if(!n.isLabelIgnored(r,l)){var a=o.getItemModel(r),c=a.getModel("label.normal.textStyle"),h=a.getModel("label.emphasis.textStyle"),p=n.dataToCoord(i),f=new u.Text({style:{text:s[r],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline,textFont:c.getFont(),fill:c.getTextColor()},position:[p,0],rotation:t.labelRotation-t.rotation,onclick:_(this._changeTimeline,this,r),silent:!1});e.add(f),u.setHoverStyle(f,h.getItemStyle())}},this)}},_renderControl:function(t,e,n,i){function o(t,n,o,p){if(t){var f={position:t,origin:[a/2,0],rotation:p?-s:0,rectHover:!0,style:l,onclick:o},d=r(i,n,h,f);e.add(d),u.setHoverStyle(d,c)}}var a=t.controlSize,s=t.rotation,l=i.getModel("controlStyle.normal").getItemStyle(),c=i.getModel("controlStyle.emphasis").getItemStyle(),h=[0,-a/2,a,a],p=i.getPlayState(),f=i.get("inverse",!0);o(t.nextBtnPosition,"controlStyle.nextIcon",_(this._changeTimeline,this,f?"-":"+")),o(t.prevBtnPosition,"controlStyle.prevIcon",_(this._changeTimeline,this,f?"+":"-")),o(t.playPosition,"controlStyle."+(p?"stopIcon":"playIcon"),_(this._handlePlayClick,this,!p),!0)},_renderCurrentPointer:function(t,e,n,i){var r=i.getData(),s=i.getCurrentIndex(),u=r.getItemModel(s).getModel("checkpointStyle"),l=this,c={onCreate:function(t){t.draggable=!0,t.drift=_(l._handlePointerDrag,l),t.ondragend=_(l._handlePointerDragend,l),a(t,s,n,i,!0)},onUpdate:function(t){a(t,s,n,i)}};this._currentPointer=o(u,u,this._mainGroup,{},this._currentPointer,c)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],i=this._axis,r=m.asc(i.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var o=this._findNearestTick(n),a=this.model;(e||o!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(_(t,this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return u.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],function(n,o){var a=r.dataToCoord(n),s=Math.abs(a-t);i>s&&(i=s,e=o)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}})},function(t,e,n){var i=n(29);t.exports=i.extend({type:"timeline"})},function(t,e,n){var i=n(4),r=n(124),o=n(115),a=function(t,e,n,i){r.call(this,t,e,n),this.type=i||"value",this._autoLabelInterval,this.model=null};a.prototype={constructor:a,getLabelInterval:function(){var t=this.model,e=t.getModel("label.normal"),n=e.get("interval");if(null!=n&&"auto"!=n)return n;var n=this._autoLabelInterval;return n||(n=this._autoLabelInterval=o.getAxisLabelInterval(i.map(this.scale.getTicks(),this.dataToCoord,this),o.getFormattedLabels(this,e.get("formatter")),e.getModel("textStyle").getFont(),"horizontal"===t.get("orient"))),n},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},i.inherits(a,r),t.exports=a},function(t,e,n){n(369),n(370),n(372),n(373),n(374),n(375),n(380)},function(t,e,n){var i=n(316),r=n(4),o=n(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(){o.superApply(this,"mergeDefaultAndTheme",arguments),r.each(this.option.feature,function(t,e){var n=i.get(e);n&&r.merge(t,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});t.exports=o},function(t,e,n){(function(){function e(t){return 0===t.indexOf("my")}var i=n(316),r=n(4),o=n(43),a=n(12),s=n(99),u=n(280),l=n(8);t.exports=n(1).extendComponentView({type:"toolbox",render:function(t,n,c,h){function p(r,o){var s,u=y[r],l=y[o],p=m[u],d=new a(p,t,t.ecModel);if(u&&!l){if(e(u))s={model:d,onclick:d.option.onclick,featureName:u};else{var g=i.get(u);if(!g)return;s=new g(d,n,c)}v[u]=s}else{if(s=v[l],!s)return;s.model=d,s.ecModel=n,s.api=c}return!u&&l?void(s.dispose&&s.dispose(n,c)):!d.get("show")||s.unusable?void(s.remove&&s.remove(n,c)):(f(d,s,u),d.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&i[t].trigger(e)},void(s.render&&s.render(d,n,c,h)))}function f(e,i,a){var s=e.getModel("iconStyle"),u=i.getIcons?i.getIcons():e.get("icon"),l=e.get("title")||{};if("string"==typeof u){var h=u,p=l;u={},l={},u[a]=h,l[a]=p}var f=e.iconPaths={};r.each(u,function(a,u){var h=s.getModel("normal").getItemStyle(),p=s.getModel("emphasis").getItemStyle(),m={x:-g/2,y:-g/2,width:g,height:g},v=0===a.indexOf("image://")?(m.image=a.slice(8),new o.Image({style:m})):o.makePath(a.replace("path://",""),{style:h,hoverStyle:p,rectHover:!0},m,"center");o.setHoverStyle(v),t.get("showTitle")&&(v.__title=l[u],v.on("mouseover",function(){var t=s.getModel("emphasis").getItemStyle();v.setStyle({text:l[u],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})})),v.trigger(e.get("iconStatus."+u)||"normal"),d.add(v),v.on("click",r.bind(i.onclick,i,n,c,u)),f[u]=v})}var d=this.group;if(d.removeAll(),t.get("show")){var g=+t.get("itemSize"),m=t.get("feature")||{},v=this._features||(this._features={}),y=[];r.each(m,function(t,e){y.push(e)}),new s(this._featureNames||[],y).add(p).update(p).remove(r.curry(p,null)).execute(),this._featureNames=y,u.layout(d,t,c),u.addBackground(d,t),d.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var i=l.getBoundingRect(e,n.font),r=t.position[0]+d.position[0],o=t.position[1]+d.position[1]+g,a=!1;o+i.height>c.getHeight()&&(n.textPosition="top",a=!0);var s=a?-5-i.height:g+8;r+i.width/2>c.getWidth()?(n.textPosition=["100%",s],n.textAlign="right"):r-i.width/2<0&&(n.textPosition=[0,s],n.textAlign="left")}})}},updateView:function(t,e,n,i){r.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,i)})},updateLayout:function(t,e,n,i){r.each(this._features,function(t){t.updateLayout&&t.updateLayout(t.model,e,n,i)})},remove:function(t,e){r.each(this._features,function(n){n.remove&&n.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){r.each(this._features,function(n){n.dispose&&n.dispose(t,e)})}})}).call(e,n(371))},function(t){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===e||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(n){try{return l.call(null,t,0)}catch(n){return l.call(this,t,0)}}}function r(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function o(){d&&p&&(d=!1,p.length?f=p.concat(f):g=-1,f.length&&a())}function a(){if(!d){var t=i(o);d=!0;for(var e=f.length;e;){for(p=f,f=[];++g<e;)p&&p[g].run();g=-1,e=f.length}p=null,d=!1,r(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,c,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:e}catch(t){l=e}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var p,f=[],d=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new s(t,e)),1!==f.length||d||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){function i(t){this.model=t}var r=n(2);i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["右键另存为图片"]},i.prototype.unusable=!r.canvasSupported;var o=i.prototype;o.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",o=document.createElement("a"),a=n.get("type",!0)||"png";o.download=i+"."+a,o.target="_blank";var s=e.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(o.href=s,"function"!=typeof MouseEvent||r.browser.ie||r.browser.edge){var u=n.get("lang"),l='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(u&&u[0]||"")+'" /></body>',c=window.open();c.document.write(l)}else{var h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});o.dispatchEvent(h)}},n(316).register("saveAsImage",i),t.exports=i},function(t,e,n){"use strict";function i(t){this.model=t}var r=n(4);i.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}};var o=i.prototype;o.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return r.each(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n};var a={line:function(t,e,n,i){return"bar"===t?r.merge({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0):void 0},bar:function(t,e,n,i){return"line"===t?r.merge({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0):void 0},stack:function(t,e,n,i){return"line"===t||"bar"===t?r.merge({id:e,stack:"__ec_magicType_stack__"},i.get("option.stack")||{},!0):void 0},tiled:function(t,e,n,i){return"line"===t||"bar"===t?r.merge({id:e,stack:""},i.get("option.tiled")||{},!0):void 0}},s=[["line","bar"],["stack","tiled"]];o.onclick=function(t,e,n){var i=this.model,o=i.get("seriesIndex."+n);if(a[n]){var u={series:[]},l=function(e){var o=e.subType,s=e.id,l=a[n](o,s,e,i);l&&(r.defaults(l,e.option),u.series.push(l));var c=e.coordinateSystem;if(c&&"cartesian2d"===c.type&&("line"===n||"bar"===n)){var h=c.getAxesByScale("ordinal")[0];if(h){var p=h.dim,f=p+"Axis",d=t.queryComponents({mainType:f,index:e.get(name+"Index"),id:e.get(name+"Id")})[0],g=d.componentIndex;u[f]=u[f]||[];for(var m=0;g>=m;m++)u[f][g]=u[f][g]||{};u[f][g].boundaryGap="bar"===n?!0:!1}}};r.each(s,function(t){r.indexOf(t,n)>=0&&r.each(t,function(t){i.setIconStatus(t,"normal")})}),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},l),e.dispatchAction({type:"changeMagicType",currentType:n,newOption:u})}};var u=n(1);u.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),n(316).register("magicType",i),t.exports=i},function(t,e,n){function i(t){var e={},n=[],i=[];return t.eachRawSeries(function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(t);else{var o=r.getBaseAxis();if("category"===o.type){var a=o.dim+"_"+o.index;e[a]||(e[a]={categoryAxis:o,valueAxis:r.getOtherAxis(o),series:[]},i.push({axisDim:o.dim,axisIndex:o.index})),e[a].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:i}}function r(t){var e=[];return d.each(t,function(t){var n=t.categoryAxis,i=t.valueAxis,r=i.dim,o=[" "].concat(d.map(t.series,function(t){return t.name})),a=[n.model.getCategories()];d.each(t.series,function(t){a.push(t.getRawData().mapArray(r,function(t){return t}))});for(var s=[o.join(v)],u=0;u<a[0].length;u++){for(var l=[],c=0;c<a.length;c++)l.push(a[c][u]);s.push(l.join(v))}e.push(s.join("\n"))}),e.join("\n\n"+m+"\n\n")}function o(t){return d.map(t,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var t=arguments.length,r=arguments[t-1],o=e.getName(r),a=0;t-1>a;a++)i[a]=arguments[a];n.push((o?o+v:"")+i.join(v))}),n.join("\n")}).join("\n\n"+m+"\n\n")}function a(t){var e=i(t);return{value:d.filter([r(e.seriesGroupByCategoryAxis),o(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+m+"\n\n"),meta:e.meta}}function s(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function u(t){var e=t.slice(0,t.indexOf("\n"));return e.indexOf(v)>=0?!0:void 0
}function l(t){for(var e=t.split(/\n+/g),n=s(e.shift()).split(y),i=[],r=d.map(n,function(t){return{name:t,data:[]}}),o=0;o<e.length;o++){var a=s(e[o]).split(y);i.push(a.shift());for(var u=0;u<a.length;u++)r[u]&&(r[u].data[o]=a[u])}return{series:r,categories:i}}function c(t){for(var e=t.split(/\n+/g),n=s(e.shift()),i=[],r=0;r<e.length;r++){var o,a=s(e[r]).split(y),u="",l=!1;isNaN(a[0])?(l=!0,u=a[0],a=a.slice(1),i[r]={name:u,value:[]},o=i[r].value):o=i[r]=[];for(var c=0;c<a.length;c++)o.push(+a[c]);1===o.length&&(l?i[r].value=o[0]:i[r]=o[0])}return{name:n,data:i}}function h(t,e){var n=t.split(new RegExp("\n*"+m+"\n*","g")),i={series:[]};return d.each(n,function(t,n){if(u(t)){var r=l(t),o=e[n],a=o.axisDim+"Axis";o&&(i[a]=i[a]||[],i[a][o.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{var r=c(t);i.series.push(r)}}),i}function p(t){this._dom=null,this.model=t}function f(t,e){return d.map(t,function(t,n){var i=e&&e[n];return d.isObject(i)&&!d.isArray(i)?(d.isObject(t)&&!d.isArray(t)&&(t=t.value),d.defaults({value:t},i)):t})}var d=n(4),g=n(88),m=new Array(60).join("-"),v="	",y=new RegExp("["+v+"]+","g");p.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},p.prototype.onclick=function(t,e){function n(){i.removeChild(o),k._dom=null}var i=e.getDom(),r=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=r.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=r.get("lang")||[];s.innerHTML=u[0]||r.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=r.get("textColor");var l=document.createElement("div"),c=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:hidden;";var p=r.get("optionToContent"),f=r.get("contentToOption"),m=a(t);if("function"==typeof p){var y=p(e.getOption());"string"==typeof y?l.innerHTML=y:d.isDom(y)&&l.appendChild(y)}else l.appendChild(c),c.readOnly=r.get("readOnly"),c.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",c.style.color=r.get("textColor"),c.style.borderColor=r.get("textareaBorderColor"),c.style.backgroundColor=r.get("textareaColor"),c.value=m.value;var _=m.meta,b=document.createElement("div");b.style.cssText="position:absolute;bottom:0;left:0;right:0;";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),T=document.createElement("div");x+=";background-color:"+r.get("buttonColor"),x+=";color:"+r.get("buttonTextColor");var k=this;g.addEventListener(w,"click",n),g.addEventListener(T,"click",function(){var t;try{t="function"==typeof f?f(l,e.getOption()):h(c.value,_)}catch(i){throw n(),new Error("Data view format error "+i)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),n()}),w.innerHTML=u[1],T.innerHTML=u[2],T.style.cssText=x,w.style.cssText=x,!r.get("readOnly")&&b.appendChild(T),b.appendChild(w),g.addEventListener(c,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,n=this.selectionStart,i=this.selectionEnd;this.value=e.substring(0,n)+v+e.substring(i),this.selectionStart=this.selectionEnd=n+1,g.stop(t)}}),o.appendChild(s),o.appendChild(l),o.appendChild(b),l.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},p.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},p.prototype.dispose=function(t,e){this.remove(t,e)},n(316).register("dataView",p),n(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];d.each(t.newOption.series,function(t){var i=e.getSeriesByName(t.name)[0];if(i){var r=i.get("data");n.push({name:t.name,data:f(t.data,r)})}else n.push(d.extend({type:"scatter"},t))}),e.mergeOption(d.defaults({series:n},t.newOption))}),t.exports=p},function(t,e,n){"use strict";function i(t,e,n){(this._brushController=new u(n.getZr())).on("brush",s.bind(this._onBrush,this)).mount(),this._isZoomActive}function r(t){var e={};return s.each(["xAxisIndex","yAxisIndex"],function(n){e[n]=t[n],null==e[n]&&(e[n]="all"),(e[n]===!1||"none"===e[n])&&(e[n]=[])}),e}function o(t,e){t.setIconStatus("back",c.count(e)>1?"emphasis":"normal")}function a(t,e,n,i){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key?i.dataZoomSelectActive:!1),n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=l.makeCoordInfoList(r(t.option),e),s=a.xAxisHas&&!a.yAxisHas?"lineX":!a.xAxisHas&&a.yAxisHas?"lineY":"rect";n._brushController.setPanels(l.makePanelOpts(a)).enableBrush(o?{brushType:s,brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}var s=n(4),u=n(235),l=n(311),c=n(376),h=s.each;n(377);var p="\x00_ec_\x00toolbox-dataZoom_";i.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}};var f=i.prototype;f.render=function(t,e,n,i){this.model=t,this.ecModel=e,this.api=n,a(t,e,this,i),o(t,e)},f.onclick=function(t,e,n){d[n].call(this)},f.remove=function(){this._brushController.unmount()},f.dispose=function(){this._brushController.dispose()};var d={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(c.pop(this.ecModel))}};f._onBrush=function(t,e){function n(t,e,n){var r=i(t,n[t],a);r&&(o[r.id]={dataZoomId:r.id,startValue:e[0],endValue:e[1]})}function i(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(r){var o=r.get(t+"Index");null!=o&&n.getComponent(t,o)===e&&(i=r)}),i}if(e.isEnd&&t.length){var o={},a=this.ecModel;this._brushController.updateCovers([]);var s=l.makeCoordInfoList(r(this.model.option),a),u=[];l.parseOutputRanges(t,s,a,u);var h=t[0],p=u[0],f=h.coordRange,d=h.brushType;if(p&&f)if("rect"===d)n("xAxis",f[0],p),n("yAxis",f[1],p);else{var g={lineX:"xAxis",lineY:"yAxis"};n(g[d],f,p)}c.push(a,o),this._dispatchZoomAction(o)}},f._dispatchZoomAction=function(t){var e=[];h(t,function(t){e.push(s.clone(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},n(316).register("dataZoom",i),n(1).registerPreprocessor(function(t){function e(t,e){if(e){var r=t+"Index",o=e[r];null==o||"all"==o||s.isArray(o)||(o=o===!1||"none"===o?[]:[o]),n(t,function(e,n){if(null==o||"all"==o||-1!==s.indexOf(o,n)){var a={type:"select",$fromToolbox:!0,id:p+t+n};a[r]=n,i.push(a)}})}}function n(e,n){var i=t[e];s.isArray(i)||(i=i?[i]:[]),h(i,n)}if(t){var i=t.dataZoom||(t.dataZoom=[]);s.isArray(i)||(t.dataZoom=i=[i]);var r=t.toolbox;if(r&&(s.isArray(r)&&(r=r[0]),r&&r.feature)){var o=r.feature.dataZoom;e("xAxis",o),e("yAxis",o)}}}),t.exports=i},function(t,e,n){function i(t){var e=t[a];return e||(e=t[a]=[{}]),e}var r=n(4),o=r.each,a="\x00_ec_hist_store",s={push:function(t,e){var n=i(t);o(e,function(e,i){for(var r=n.length-1;r>=0;r--){var o=n[r];if(o[i])break}if(0>r){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(a){var s=a.getPercentRange();n[0][i]={dataZoomId:i,start:s[0],end:s[1]}}}}),n.push(e)},pop:function(t){var e=i(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return o(n,function(t,n){for(var i=e.length-1;i>=0;i--){var t=e[i][n];if(t){r[n]=t;break}}}),r},clear:function(t){t[a]=null},count:function(t){return i(t).length}};t.exports=s},function(t,e,n){n(319),n(320),n(323),n(378),n(379),n(330),n(331)},function(t,e,n){var i=n(320);t.exports=i.extend({type:"dataZoom.select"})},function(t,e,n){t.exports=n(323).extend({type:"dataZoom.select"})},function(t,e,n){"use strict";function i(t){this.model=t}var r=n(376);i.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"};var o=i.prototype;o.onclick=function(t,e){r.clear(t),e.dispatchAction({type:"restore",from:this.uid})},n(316).register("restore",i),n(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")}),t.exports=i},function(t,e,n){n(382),n(82).registerPainter("vml",n(384))},function(t,e,n){if(!n(2).canvasSupported){var i=n(10),r=n(9),o=n(49).CMD,a=n(39),s=n(8),u=n(48),l=n(46),c=n(61),h=n(63),p=n(45),f=n(79),d=n(383),g=Math.round,m=Math.sqrt,v=Math.abs,y=Math.cos,_=Math.sin,b=Math.max,x=i.applyTransform,w=",",T="progid:DXImageTransform.Microsoft",k=21600,$=k/2,S=1e5,C=1e3,A=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=k+","+k,t.coordorigin="0,0"},I=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},M=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},D=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},E=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},O=function(t,e,n){return(parseFloat(t)||0)*S+(parseFloat(e)||0)*C+n},P=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},L=function(t,e,n){var i=a.parse(e);n=+n,isNaN(n)&&(n=1),i&&(t.color=M(i[0],i[1],i[2]),t.opacity=n*i[3])},N=function(t){var e=a.parse(t);return[M(e[0],e[1],e[2]),e[3]]},R=function(t,e,n){var i=e.fill;if(null!=i)if(i instanceof f){var r,o=0,a=[0,0],s=0,u=1,l=n.getBoundingRect(),c=l.width,h=l.height;if("linear"===i.type){r="gradient";var p=n.transform,d=[i.x*c,i.y*h],g=[i.x2*c,i.y2*h];p&&(x(d,d,p),x(g,g,p));var m=g[0]-d[0],v=g[1]-d[1];o=180*Math.atan2(m,v)/Math.PI,0>o&&(o+=360),1e-6>o&&(o=0)}else{r="gradientradial";var d=[i.x*c,i.y*h],p=n.transform,y=n.scale,_=c,w=h;a=[(d[0]-l.x)/_,(d[1]-l.y)/w],p&&x(d,d,p),_/=y[0]*k,w/=y[1]*k;var T=b(_,w);s=0/T,u=2*i.r/T-s}var $=i.colorStops.slice();$.sort(function(t,e){return t.offset-e.offset});for(var S=$.length,C=[],A=[],I=0;S>I;I++){var M=$[I],D=N(M.color);A.push(M.offset*u+s+" "+D[0]),(0===I||I===S-1)&&C.push(D)}if(S>=2){var E=C[0][0],O=C[1][0],P=C[0][1]*e.opacity,R=C[1][1]*e.opacity;t.type=r,t.method="none",t.focus="100%",t.angle=o,t.color=E,t.color2=O,t.colors=A.join(","),t.opacity=R,t.opacity2=P}"radial"===r&&(t.focusposition=a.join(","))}else L(t,i,e.opacity)},U=function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof f||L(t,e.stroke,e.opacity)},V=function(t,e,n,i){var r="fill"==e,o=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(r||!r&&n.lineWidth)?(t[r?"filled":"stroked"]="true",n[e]instanceof f&&E(t,o),o||(o=d.createNode(e)),r?R(o,n,i):U(o,n),D(t,o)):(t[r?"filled":"stroked"]="false",E(t,o))},W=[[],[],[]],B=function(t,e){var n,i,r,a,s,u,l=o.M,c=o.C,h=o.L,p=o.A,f=o.Q,d=[];for(a=0;a<t.length;){switch(r=t[a++],i="",n=0,r){case l:i=" m ",n=1,s=t[a++],u=t[a++],W[0][0]=s,W[0][1]=u;break;case h:i=" l ",n=1,s=t[a++],u=t[a++],W[0][0]=s,W[0][1]=u;break;case f:case c:i=" c ",n=3;var v,b,T=t[a++],S=t[a++],C=t[a++],A=t[a++];r===f?(v=C,b=A,C=(C+2*T)/3,A=(A+2*S)/3,T=(s+2*T)/3,S=(u+2*S)/3):(v=t[a++],b=t[a++]),W[0][0]=T,W[0][1]=S,W[1][0]=C,W[1][1]=A,W[2][0]=v,W[2][1]=b,s=v,u=b;break;case p:var I=0,M=0,D=1,E=1,O=0;e&&(I=e[4],M=e[5],D=m(e[0]*e[0]+e[1]*e[1]),E=m(e[2]*e[2]+e[3]*e[3]),O=Math.atan2(-e[1]/E,e[0]/D));var P=t[a++],L=t[a++],N=t[a++],R=t[a++],U=t[a++]+O,V=t[a++]+U+O;a++;var B=t[a++],K=P+y(U)*N,j=L+_(U)*R,T=P+y(V)*N,S=L+_(V)*R,z=B?" wa ":" at ";Math.abs(K-T)<1e-10&&(Math.abs(V-U)>.01?B&&(K+=270/k):Math.abs(j-L)<1e-10?B&&P>K||!B&&K>P?S-=270/k:S+=270/k:B&&L>j||!B&&j>L?T+=270/k:T-=270/k),d.push(z,g(((P-N)*D+I)*k-$),w,g(((L-R)*E+M)*k-$),w,g(((P+N)*D+I)*k-$),w,g(((L+R)*E+M)*k-$),w,g((K*D+I)*k-$),w,g((j*E+M)*k-$),w,g((T*D+I)*k-$),w,g((S*E+M)*k-$)),s=T,u=S;break;case o.R:var H=W[0],F=W[1];H[0]=t[a++],H[1]=t[a++],F[0]=H[0]+t[a++],F[1]=H[1]+t[a++],e&&(x(H,H,e),x(F,F,e)),H[0]=g(H[0]*k-$),F[0]=g(F[0]*k-$),H[1]=g(H[1]*k-$),F[1]=g(F[1]*k-$),d.push(" m ",H[0],w,H[1]," l ",F[0],w,H[1]," l ",F[0],w,F[1]," l ",H[0],w,F[1]);break;case o.Z:d.push(" x ")}if(n>0){d.push(i);for(var q=0;n>q;q++){var G=W[q];e&&x(G,G,e),d.push(g(G[0]*k-$),w,g(G[1]*k-$),n-1>q?w:"")}}}return d.join("")};p.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=d.createNode("shape"),A(n),this._vmlEl=n),V(n,"fill",e,this),V(n,"stroke",e,this);var i=this.transform,r=null!=i,o=n.getElementsByTagName("stroke")[0];if(o){var a=e.lineWidth;if(r&&!e.strokeNoScale){var s=i[0]*i[3]-i[1]*i[2];a*=m(v(s))}o.weight=a+"px"}var u=this.path;this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1),n.path=B(u.data,this.transform),n.style.zIndex=O(this.zlevel,this.z,this.z2),D(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},p.prototype.onRemove=function(t){E(t,this._vmlEl),this.removeRectText(t)},p.prototype.onAdd=function(t){D(t,this._vmlEl),this.appendRectText(t)};var K=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};c.prototype.brushVML=function(t){var e,n,i=this.style,r=i.image;if(K(r)){var o=r.src;if(o===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var a=r.runtimeStyle,s=a.width,u=a.height;a.width="auto",a.height="auto",e=r.width,n=r.height,a.width=s,a.height=u,this._imageSrc=o,this._imageWidth=e,this._imageHeight=n}r=o}else r===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(r){var l=i.x||0,c=i.y||0,h=i.width,p=i.height,f=i.sWidth,v=i.sHeight,y=i.sx||0,_=i.sy||0,k=f&&v,$=this._vmlEl;$||($=d.doc.createElement("div"),A($),this._vmlEl=$);var S,C=$.style,I=!1,M=1,E=1;if(this.transform&&(S=this.transform,M=m(S[0]*S[0]+S[1]*S[1]),E=m(S[2]*S[2]+S[3]*S[3]),I=S[1]||S[2]),I){var P=[l,c],L=[l+h,c],N=[l,c+p],R=[l+h,c+p];x(P,P,S),x(L,L,S),x(N,N,S),x(R,R,S);var U=b(P[0],L[0],N[0],R[0]),V=b(P[1],L[1],N[1],R[1]),W=[];W.push("M11=",S[0]/M,w,"M12=",S[2]/E,w,"M21=",S[1]/M,w,"M22=",S[3]/E,w,"Dx=",g(l*M+S[4]),w,"Dy=",g(c*E+S[5])),C.padding="0 "+g(U)+"px "+g(V)+"px 0",C.filter=T+".Matrix("+W.join("")+", SizingMethod=clip)"}else S&&(l=l*M+S[4],c=c*E+S[5]),C.filter="",C.left=g(l)+"px",C.top=g(c)+"px";var B=this._imageEl,j=this._cropEl;B||(B=d.doc.createElement("div"),this._imageEl=B);var z=B.style;if(k){if(e&&n)z.width=g(M*e*h/f)+"px",z.height=g(E*n*p/v)+"px";else{var H=new Image,F=this;H.onload=function(){H.onload=null,e=H.width,n=H.height,z.width=g(M*e*h/f)+"px",z.height=g(E*n*p/v)+"px",F._imageWidth=e,F._imageHeight=n,F._imageSrc=r},H.src=r}j||(j=d.doc.createElement("div"),j.style.overflow="hidden",this._cropEl=j);var q=j.style;q.width=g((h+y*h/f)*M),q.height=g((p+_*p/v)*E),q.filter=T+".Matrix(Dx="+-y*h/f*M+",Dy="+-_*p/v*E+")",j.parentNode||$.appendChild(j),B.parentNode!=j&&j.appendChild(B)}else z.width=g(M*h)+"px",z.height=g(E*p)+"px",$.appendChild(B),j&&j.parentNode&&($.removeChild(j),this._cropEl=null);var G="",Y=i.opacity;1>Y&&(G+=".Alpha(opacity="+g(100*Y)+") "),G+=T+".AlphaImageLoader(src="+r+", SizingMethod=scale)",z.filter=G,$.style.zIndex=O(this.zlevel,this.z,this.z2),D(t,$),null!=i.text&&this.drawRectText(t,this.getBoundingRect())}},c.prototype.onRemove=function(t){E(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},c.prototype.onAdd=function(t){D(t,this._vmlEl),this.appendRectText(t)};var j,z="normal",H={},F=0,q=100,G=document.createElement("div"),Y=function(t){var e=H[t];if(!e){F>q&&(F=0,H={});var n,i=G.style;try{i.font=t,n=i.fontFamily.split(",")[0]}catch(r){}e={style:i.fontStyle||z,variant:i.fontVariant||z,weight:i.fontWeight||z,size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},H[t]=e,F++}return e};s.measureText=function(t,e){var n=d.doc;j||(j=n.createElement("div"),j.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",d.doc.body.appendChild(j));try{j.style.font=e}catch(i){}return j.innerHTML="",j.appendChild(n.createTextNode(t)),{width:j.offsetWidth}};for(var Z=new r,X=function(t,e,n,i){var r=this.style,o=r.text;if(null!=o&&(o+=""),o){var a,u,l=r.textAlign,c=Y(r.textFont),h=c.style+" "+c.variant+" "+c.weight+" "+c.size+'px "'+c.family+'"',p=r.textBaseline,f=r.textVerticalAlign;n=n||s.getBoundingRect(o,h,l,p);var m=this.transform;if(m&&!i&&(Z.copy(e),Z.applyTransform(m),e=Z),i)a=e.x,u=e.y;else{var v=r.textPosition,y=r.textDistance;if(v instanceof Array)a=e.x+P(v[0],e.width),u=e.y+P(v[1],e.height),l=l||"left",p=p||"top";else{var _=s.adjustTextPositionOnRect(v,e,n,y);a=_.x,u=_.y,l=l||_.textAlign,p=p||_.textBaseline}}if(f){switch(f){case"middle":u-=n.height/2;break;case"bottom":u-=n.height}p="top"}var b=c.size;switch(p){case"hanging":case"top":u+=b/1.75;break;case"middle":break;default:u-=b/2.25}switch(l){case"left":break;case"center":a-=n.width/2;break;case"right":a-=n.width}var T,k,$,S=d.createNode,C=this._textVmlEl;C?($=C.firstChild,T=$.nextSibling,k=T.nextSibling):(C=S("line"),T=S("path"),k=S("textpath"),$=S("skew"),k.style["v-text-align"]="left",A(C),T.textpathok=!0,k.on=!0,C.from="0 0",C.to="1000 0.05",D(C,$),D(C,T),D(C,k),this._textVmlEl=C);var M=[a,u],E=C.style;m&&i?(x(M,M,m),$.on=!0,$.matrix=m[0].toFixed(3)+w+m[2].toFixed(3)+w+m[1].toFixed(3)+w+m[3].toFixed(3)+",0,0",$.offset=(g(M[0])||0)+","+(g(M[1])||0),$.origin="0 0",E.left="0px",E.top="0px"):($.on=!1,E.left=g(a)+"px",E.top=g(u)+"px"),k.string=I(o);try{k.style.font=h}catch(L){}V(C,"fill",{fill:i?r.fill:r.textFill,opacity:r.opacity},this),V(C,"stroke",{stroke:i?r.stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash},this),C.style.zIndex=O(this.zlevel,this.z,this.z2),D(t,C)}},J=function(t){E(t,this._textVmlEl),this._textVmlEl=null},Q=function(t){D(t,this._textVmlEl)},te=[u,l,c,p,h],ee=0;ee<te.length;ee++){var ne=te[ee].prototype;ne.drawRectText=X,ne.removeRectText=J,ne.appendRectText=Q}h.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},h.prototype.onRemove=function(t){this.removeRectText(t)},h.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,n){if(!n(2).canvasSupported){var i,r="urn:schemas-microsoft-com:vml",o=window,a=o.document,s=!1;try{!a.namespaces.zrvml&&a.namespaces.add("zrvml",r),i=function(t){return a.createElement("<zrvml:"+t+' class="zrvml">')}}catch(u){i=function(t){return a.createElement("<"+t+' xmlns="'+r+'" class="zrvml">')}}var l=function(){if(!s){s=!0;var t=a.styleSheets;t.length<31?a.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}};t.exports={doc:a,initVML:l,createNode:i}}},function(t,e,n){function i(t){return parseInt(t,10)}function r(t,e){s.initVML(),this.root=t,this.storage=e;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=e.delFromMap,o=e.addToMap;e.delFromMap=function(t){var n=e.get(t);r.call(e,t),n&&n.onRemove&&n.onRemove(i)},e.addToMap=function(t){t.onAdd&&t.onAdd(i),o.call(e,t)},this._firstPaint=!0}function o(t){return function(){a('In IE8.0 VML mode painter not support method "'+t+'"')}}var a=n(40),s=n(383);r.prototype={constructor:r,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var i=t[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||i(e.width))-i(e.paddingLeft)-i(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||i(e.height))-i(e.paddingTop)-i(e.paddingBottom)|0}};for(var u=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],l=0;l<u.length;l++){var c=u[l];r.prototype[c]=o(c)}t.exports=r}])}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return gr.apply(null,arguments)}function e(t){gr=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function o(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return yn(t,e,n,i,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(t){return null==t._pf&&(t._pf=h()),t._pf}function f(t){if(null==t._isValid){var e=p(t),n=vr.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function d(t){var e=c(0/0);return null!=t?l(p(e),t):p(e).userInvalidated=!0,e}function g(t){return void 0===t}function m(t,e){var n,i,r;if(g(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),g(e._i)||(t._i=e._i),g(e._f)||(t._f=e._f),g(e._l)||(t._l=e._l),g(e._strict)||(t._strict=e._strict),g(e._tzm)||(t._tzm=e._tzm),g(e._isUTC)||(t._isUTC=e._isUTC),g(e._offset)||(t._offset=e._offset),g(e._pf)||(t._pf=p(e)),g(e._locale)||(t._locale=e._locale),yr.length>0)for(n in yr)i=yr[n],r=e[i],g(r)||(t[i]=r);return t}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),this.isValid()||(this._d=new Date(0/0)),_r===!1&&(_r=!0,t.updateOffset(this),_r=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function _(t){return 0>t?Math.ceil(t)||0:Math.floor(t)}function b(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function x(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&b(t[i])!==b(e[i]))&&a++;return a+o}function w(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,n){var i=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){r+="\n["+a+"] ";for(var s in arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}w(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),br[e]||(w(n),br[e]=!0)}function $(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)e=t[n],$(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function C(t,e){var n,r=l({},t);for(n in e)u(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},l(r[n],t[n]),l(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)u(t,n)&&!u(e,n)&&i(t[n])&&(r[n]=l({},r[n]));return r}function A(t){null!=t&&this.set(t)}function I(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return $(i)?i.call(e,n):i}function M(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function D(){return this._invalidDate}function E(t){return this._ordinal.replace("%d",t)}function O(t,e,n,i){var r=this._relativeTime[n];return $(r)?r(t,e,n,i):r.replace(/%d/i,t)}function P(t,e){var n=this._relativeTime[t>0?"future":"past"];return $(n)?n(e):n.replace(/%s/i,e)}function L(t,e){var n=t.toLowerCase();Mr[n]=Mr[n+"s"]=Mr[e]=t}function N(t){return"string"==typeof t?Mr[t]||Mr[t.toLowerCase()]:void 0}function R(t){var e,n,i={};for(n in t)u(t,n)&&(e=N(n),e&&(i[e]=t[n]));return i}function U(t,e){Dr[t]=e}function V(t){var e=[];for(var n in t)e.push({unit:n,priority:Dr[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function W(e,n){return function(i){return null!=i?(K(this,e,i),t.updateOffset(this,n),this):B(this,e)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():0/0}function K(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function j(t){return t=N(t),$(this[t])?this[t]():this}function z(t,e){if("object"==typeof t){t=R(t);for(var n=V(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=N(t),$(this[t]))return this[t](e);return this}function H(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function F(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Lr[t]=r),e&&(Lr[e[0]]=function(){return H(r.apply(this,arguments),e[1],e[2])}),n&&(Lr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function q(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,i=t.match(Er);for(e=0,n=i.length;n>e;e++)i[e]=Lr[i[e]]?Lr[i[e]]:q(i[e]);return function(e){var r,o="";for(r=0;n>r;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function Y(t,e){return t.isValid()?(e=Z(e,t.localeData()),Pr[e]=Pr[e]||G(e),Pr[e](t)):t.localeData().invalidDate()}function Z(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Or.lastIndex=0;i>=0&&Or.test(t);)t=t.replace(Or,n),Or.lastIndex=0,i-=1;return t}function X(t,e,n){Qr[t]=$(e)?e:function(t){return t&&n?n:e}}function J(t,e){return u(Qr,t)?Qr[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return te(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function te(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),o(e)&&(i=function(t,n){n[e]=b(t)}),n=0;n<t.length;n++)to[t[n]]=i}function ne(t,e){ee(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function ie(t,e,n){null!=e&&u(to,t)&&to[t](e,n._a,n,t)}function re(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function oe(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ho).test(e)?"format":"standalone"][t.month()]:this._months}function ae(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ho.test(e)?"format":"standalone"][t.month()]:this._monthsShort}function se(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=co.call(this._shortMonthsParse,a),-1!==r?r:null):(r=co.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===e?(r=co.call(this._shortMonthsParse,a),-1!==r?r:(r=co.call(this._longMonthsParse,a),-1!==r?r:null)):(r=co.call(this._longMonthsParse,a),-1!==r?r:(r=co.call(this._shortMonthsParse,a),-1!==r?r:null))}function ue(t,e,n){var i,r,o;if(this._monthsParseExact)return se.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function le(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),!o(e))return t;return n=Math.min(t.date(),re(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ce(e){return null!=e?(le(this,e),t.updateOffset(this,!0),this):B(this,"Month")}function he(){return re(this.year(),this.month())}function pe(t){return this._monthsParseExact?(u(this,"_monthsRegex")||de.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=go),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(t){return this._monthsParseExact?(u(this,"_monthsRegex")||de.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=mo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function de(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=c([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=te(i[e]),r[e]=te(r[e]);for(e=0;24>e;e++)o[e]=te(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ge(t){return me(t)?366:365}function me(t){return t%4===0&&t%100!==0||t%400===0}function ve(){return me(this.year())}function ye(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return 100>t&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function _e(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function be(t,e,n){var i=7+e-n,r=(7+_e(t,0,i).getUTCDay()-e)%7;return-r+i-1}function xe(t,e,n,i,r){var o,a,s=(7+n-i)%7,u=be(t,i,r),l=1+7*(e-1)+s+u;return 0>=l?(o=t-1,a=ge(o)+l):l>ge(t)?(o=t+1,a=l-ge(t)):(o=t,a=l),{year:o,dayOfYear:a}}function we(t,e,n){var i,r,o=be(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return 1>a?(r=t.year()-1,i=a+Te(r,e,n)):a>Te(t.year(),e,n)?(i=a-Te(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function Te(t,e,n){var i=be(t,e,n),r=be(t+1,e,n);return(ge(t)-i+r)/7}function ke(t){return we(t,this._week.dow,this._week.doy).week
}function $e(){return this._week.dow}function Se(){return this._week.doy}function Ce(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ae(t){var e=we(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Ie(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Me(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function De(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:this._weekdays}function Ee(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Oe(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Pe(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=co.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===e?(r=co.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=co.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===e?(r=co.call(this._weekdaysParse,a),-1!==r?r:(r=co.call(this._shortWeekdaysParse,a),-1!==r?r:(r=co.call(this._minWeekdaysParse,a),-1!==r?r:null))):"ddd"===e?(r=co.call(this._shortWeekdaysParse,a),-1!==r?r:(r=co.call(this._weekdaysParse,a),-1!==r?r:(r=co.call(this._minWeekdaysParse,a),-1!==r?r:null))):(r=co.call(this._minWeekdaysParse,a),-1!==r?r:(r=co.call(this._weekdaysParse,a),-1!==r?r:(r=co.call(this._shortWeekdaysParse,a),-1!==r?r:null)))}function Le(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Pe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ne(t){if(!this.isValid())return null!=t?this:0/0;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ie(t,this.localeData()),this.add(t-e,"d")):e}function Re(t){if(!this.isValid())return null!=t?this:0/0;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ue(t){if(!this.isValid())return null!=t?this:0/0;if(null!=t){var e=Me(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ve(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=wo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function We(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=To),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Be(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ke.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ko),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ke(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],u=[],l=[];for(e=0;7>e;e++)n=c([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),u.push(o),l.push(i),l.push(r),l.push(o);for(a.sort(t),s.sort(t),u.sort(t),l.sort(t),e=0;7>e;e++)s[e]=te(s[e]),u[e]=te(u[e]),l[e]=te(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function je(){return this.hours()%12||12}function ze(){return this.hours()||24}function He(t,e){F(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Fe(t,e){return e._meridiemParse}function qe(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ge(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ye(t){return t?t.toLowerCase().replace("_","-"):t}function Ze(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Ye(t[o]).split("-"),e=r.length,n=Ye(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Xe(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(r,n,!0)>=e-1)break;e--}o++}return null}function Xe(t){var e=null;if(!Io[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=$o._abbr,require("./locale/"+t),Je(e)}catch(n){}return Io[t]}function Je(t,e){var n;return t&&(n=g(e)?en(t):Qe(t,e),n&&($o=n)),$o._abbr}function Qe(t,e){if(null!==e){var n=Ao;if(e.abbr=t,null!=Io[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Io[t]._config;else if(null!=e.parentLocale){if(null==Io[e.parentLocale])return Mo[e.parentLocale]||(Mo[e.parentLocale]=[]),Mo[e.parentLocale].push({name:t,config:e}),null;n=Io[e.parentLocale]._config}return Io[t]=new A(C(n,e)),Mo[t]&&Mo[t].forEach(function(t){Qe(t.name,t.config)}),Je(t),Io[t]}return delete Io[t],null}function tn(t,e){if(null!=e){var n,i=Ao;null!=Io[t]&&(i=Io[t]._config),e=C(i,e),n=new A(e),n.parentLocale=Io[t],Io[t]=n,Je(t)}else null!=Io[t]&&(null!=Io[t].parentLocale?Io[t]=Io[t].parentLocale:null!=Io[t]&&delete Io[t]);return Io[t]}function en(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $o;if(!n(t)){if(e=Xe(t))return e;t=[t]}return Ze(t)}function nn(){return Tr(Io)}function rn(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[no]<0||n[no]>11?no:n[io]<1||n[io]>re(n[eo],n[no])?io:n[ro]<0||n[ro]>24||24===n[ro]&&(0!==n[oo]||0!==n[ao]||0!==n[so])?ro:n[oo]<0||n[oo]>59?oo:n[ao]<0||n[ao]>59?ao:n[so]<0||n[so]>999?so:-1,p(t)._overflowDayOfYear&&(eo>e||e>io)&&(e=io),p(t)._overflowWeeks&&-1===e&&(e=uo),p(t)._overflowWeekday&&-1===e&&(e=lo),p(t).overflow=e),t}function on(t){var e,n,i,r,o,a,s=t._i,u=Do.exec(s)||Eo.exec(s);if(u){for(p(t).iso=!0,e=0,n=Po.length;n>e;e++)if(Po[e][1].exec(u[1])){r=Po[e][0],i=Po[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=Lo.length;n>e;e++)if(Lo[e][1].exec(u[3])){o=(u[2]||" ")+Lo[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Oo.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),hn(t)}else t._isValid=!1}function an(e){var n=No.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(on(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function sn(t,e,n){return null!=t?t:null!=e?e:n}function un(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ln(t){var e,n,i,r,o=[];if(!t._d){for(i=un(t),t._w&&null==t._a[io]&&null==t._a[no]&&cn(t),t._dayOfYear&&(r=sn(t._a[eo],i[eo]),t._dayOfYear>ge(r)&&(p(t)._overflowDayOfYear=!0),n=_e(r,0,t._dayOfYear),t._a[no]=n.getUTCMonth(),t._a[io]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ro]&&0===t._a[oo]&&0===t._a[ao]&&0===t._a[so]&&(t._nextDay=!0,t._a[ro]=0),t._d=(t._useUTC?_e:ye).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ro]=24)}}function cn(t){var e,n,i,r,o,a,s,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=sn(e.GG,t._a[eo],we(_n(),1,4).year),i=sn(e.W,1),r=sn(e.E,1),(1>r||r>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=we(_n(),o,a);n=sn(e.gg,t._a[eo],l.year),i=sn(e.w,l.week),null!=e.d?(r=e.d,(0>r||r>6)&&(u=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(u=!0)):r=o}1>i||i>Te(n,o,a)?p(t)._overflowWeeks=!0:null!=u?p(t)._overflowWeekday=!0:(s=xe(n,i,r,o,a),t._a[eo]=s.year,t._dayOfYear=s.dayOfYear)}function hn(e){if(e._f===t.ISO_8601)return void on(e);e._a=[],p(e).empty=!0;var n,i,r,o,a,s=""+e._i,u=s.length,l=0;for(r=Z(e._f,e._locale).match(Er)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(J(o,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&p(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),l+=i.length),Lr[o]?(i?p(e).empty=!1:p(e).unusedTokens.push(o),ie(o,i,e)):e._strict&&!i&&p(e).unusedTokens.push(o);p(e).charsLeftOver=u-l,s.length>0&&p(e).unusedInput.push(s),e._a[ro]<=12&&p(e).bigHour===!0&&e._a[ro]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[ro]=pn(e._locale,e._a[ro],e._meridiem),ln(e),rn(e)}function pn(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function fn(t){var e,n,i,r,o;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],hn(e),f(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==i||i>o)&&(i=o,n=e));l(t,n||e)}function dn(t){if(!t._d){var e=R(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ln(t)}}function gn(t){var e=new v(rn(mn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function mn(t){var e=t._i,i=t._f;return t._locale=t._locale||en(t._l),null===e||void 0===i&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(rn(e)):(a(e)?t._d=e:n(i)?fn(t):i?hn(t):vn(t),f(t)||(t._d=null),t))}function vn(e){var i=e._i;void 0===i?e._d=new Date(t.now()):a(i)?e._d=new Date(i.valueOf()):"string"==typeof i?an(e):n(i)?(e._a=s(i.slice(0),function(t){return parseInt(t,10)}),ln(e)):"object"==typeof i?dn(e):o(i)?e._d=new Date(i):t.createFromInputFallback(e)}function yn(t,e,o,a,s){var u={};return(o===!0||o===!1)&&(a=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=o,u._i=t,u._f=e,u._strict=a,gn(u)}function _n(t,e,n,i){return yn(t,e,n,i,!1)}function bn(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return _n();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function xn(){var t=[].slice.call(arguments,0);return bn("isBefore",t)}function wn(){var t=[].slice.call(arguments,0);return bn("isAfter",t)}function Tn(t){var e=R(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=en(),this._bubble()}function kn(t){return t instanceof Tn}function $n(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function Sn(t,e){F(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}function Cn(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Wo)||["-",0,0],o=+(60*r[1])+b(r[2]);return 0===o?0:"+"===r[0]?o:-o}function An(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(y(e)||a(e)?e.valueOf():_n(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):_n(e).local()}function In(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Mn(e,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:0/0;if(null!=e){if("string"==typeof e){if(e=Cn(Zr,e),null===e)return this}else Math.abs(e)<16&&(e=60*e);return!this._isUTC&&n&&(i=In(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Fn(this,Bn(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:In(this)}function Dn(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function En(t){return this.utcOffset(0,t)}function On(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(In(this),"m")),this}function Pn(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=Cn(Yr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ln(t){return this.isValid()?(t=t?_n(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Nn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Rn(){if(!g(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=mn(t),t._a){var e=t._isUTC?c(t._a):_n(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Un(){return this.isValid()?!this._isUTC:!1}function Vn(){return this.isValid()?this._isUTC:!1}function Wn(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Bn(t,e){var n,i,r,a=t,s=null;return kn(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:o(t)?(a={},e?a[e]=t:a.milliseconds=t):(s=Bo.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:b(s[io])*n,h:b(s[ro])*n,m:b(s[oo])*n,s:b(s[ao])*n,ms:b($n(1e3*s[so]))*n}):(s=Ko.exec(t))?(n="-"===s[1]?-1:1,a={y:Kn(s[2],n),M:Kn(s[3],n),w:Kn(s[4],n),d:Kn(s[5],n),h:Kn(s[6],n),m:Kn(s[7],n),s:Kn(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=zn(_n(a.from),_n(a.to)),a={},a.ms=r.milliseconds,a.M=r.months),i=new Tn(a),kn(t)&&u(t,"_locale")&&(i._locale=t._locale),i}function Kn(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function jn(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function zn(t,e){var n;return t.isValid()&&e.isValid()?(e=An(e,t),t.isBefore(e)?n=jn(t,e):(n=jn(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Hn(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Bn(n,i),Fn(this,r,t),this}}function Fn(e,n,i,r){var o=n._milliseconds,a=$n(n._days),s=$n(n._months);e.isValid()&&(r=null==r?!0:r,o&&e._d.setTime(e._d.valueOf()+o*i),a&&K(e,"Date",B(e,"Date")+a*i),s&&le(e,B(e,"Month")+s*i),r&&t.updateOffset(e,a||s))}function qn(t,e){var n=t.diff(e,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Gn(e,n){var i=e||_n(),r=An(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",a=n&&($(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,_n(i)))}function Yn(){return new v(this)}function Zn(t,e){var n=y(t)?t:_n(t);return this.isValid()&&n.isValid()?(e=N(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Xn(t,e){var n=y(t)?t:_n(t);return this.isValid()&&n.isValid()?(e=N(g(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Jn(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Qn(t,e){var n,i=y(t)?t:_n(t);return this.isValid()&&i.isValid()?(e=N(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function ti(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ei(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ni(t,e,n){var i,r,o,a;return this.isValid()?(i=An(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=N(e),"year"===e||"month"===e||"quarter"===e?(a=ii(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-i,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?a:_(a)):0/0):0/0}function ii(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function ri(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function oi(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?$(Date.prototype.toISOString)?this.toDate().toISOString():Y(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ai(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function si(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Y(this,e);return this.localeData().postformat(n)}function ui(t,e){return this.isValid()&&(y(t)&&t.isValid()||_n(t).isValid())?Bn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function li(t){return this.from(_n(),t)}function ci(t,e){return this.isValid()&&(y(t)&&t.isValid()||_n(t).isValid())?Bn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function hi(t){return this.to(_n(),t)}function pi(t){var e;return void 0===t?this._locale._abbr:(e=en(t),null!=e&&(this._locale=e),this)}function fi(){return this._locale}function di(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function gi(t){return t=N(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function mi(){return this._d.valueOf()-6e4*(this._offset||0)}function vi(){return Math.floor(this.valueOf()/1e3)}function yi(){return new Date(this.valueOf())}function _i(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function bi(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function wi(){return f(this)}function Ti(){return l({},p(this))}function ki(){return p(this).overflow}function $i(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Si(t,e){F(0,[t,t.length],0,e)}function Ci(t){return Di.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ai(t){return Di.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ii(){return Te(this.year(),1,4)}function Mi(){var t=this.localeData()._week;return Te(this.year(),t.dow,t.doy)}function Di(t,e,n,i,r){var o;return null==t?we(this,i,r).year:(o=Te(t,i,r),e>o&&(e=o),Ei.call(this,t,e,n,i,r))}function Ei(t,e,n,i,r){var o=xe(t,e,n,i,r),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Oi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Pi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Li(t,e){e[so]=b(1e3*("0."+t))}function Ni(){return this._isUTC?"UTC":""}function Ri(){return this._isUTC?"Coordinated Universal Time":""}function Ui(t){return _n(1e3*t)}function Vi(){return _n.apply(null,arguments).parseZone()}function Wi(t){return t}function Bi(t,e,n,i){var r=en(),o=c().set(i,e);return r[n](o,t)}function Ki(t,e,n){if(o(t)&&(e=t,t=void 0),t=t||"",null!=e)return Bi(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Bi(t,i,n,"month");return r}function ji(t,e,n,i){"boolean"==typeof t?(o(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,o(e)&&(n=e,e=void 0),e=e||"");var r=en(),a=t?r._week.dow:0;if(null!=n)return Bi(e,(n+a)%7,i,"day");var s,u=[];for(s=0;7>s;s++)u[s]=Bi(e,(s+a)%7,i,"day");return u}function zi(t,e){return Ki(t,e,"months")}function Hi(t,e){return Ki(t,e,"monthsShort")}function Fi(t,e,n){return ji(t,e,n,"weekdays")}function qi(t,e,n){return ji(t,e,n,"weekdaysShort")}function Gi(t,e,n){return ji(t,e,n,"weekdaysMin")}function Yi(){var t=this._data;return this._milliseconds=Qo(this._milliseconds),this._days=Qo(this._days),this._months=Qo(this._months),t.milliseconds=Qo(t.milliseconds),t.seconds=Qo(t.seconds),t.minutes=Qo(t.minutes),t.hours=Qo(t.hours),t.months=Qo(t.months),t.years=Qo(t.years),this}function Zi(t,e,n,i){var r=Bn(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Xi(t,e){return Zi(this,t,e,1)}function Ji(t,e){return Zi(this,t,e,-1)}function Qi(t){return 0>t?Math.floor(t):Math.ceil(t)}function tr(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Qi(nr(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=_(o/1e3),u.seconds=t%60,e=_(t/60),u.minutes=e%60,n=_(e/60),u.hours=n%24,a+=_(n/24),r=_(er(a)),s+=r,a-=Qi(nr(r)),i=_(s/12),s%=12,u.days=a,u.months=s,u.years=i,this}function er(t){return 4800*t/146097}function nr(t){return 146097*t/4800}function ir(t){var e,n,i=this._milliseconds;if(t=N(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+er(e),"month"===t?n:n/12;switch(e=this._days+Math.round(nr(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function rr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function or(t){return function(){return this.as(t)}}function ar(t){return t=N(t),this[t+"s"]()}function sr(t){return function(){return this._data[t]}}function ur(){return _(this.days()/7)}function lr(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function cr(t,e,n){var i=Bn(t).abs(),r=ga(i.as("s")),o=ga(i.as("m")),a=ga(i.as("h")),s=ga(i.as("d")),u=ga(i.as("M")),l=ga(i.as("y")),c=r<ma.s&&["s",r]||1>=o&&["m"]||o<ma.m&&["mm",o]||1>=a&&["h"]||a<ma.h&&["hh",a]||1>=s&&["d"]||s<ma.d&&["dd",s]||1>=u&&["M"]||u<ma.M&&["MM",u]||1>=l&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,lr.apply(null,c)}function hr(t){return void 0===t?ga:"function"==typeof t?(ga=t,!0):!1}function pr(t,e){return void 0===ma[t]?!1:void 0===e?ma[t]:(ma[t]=e,!0)}function fr(t){var e=this.localeData(),n=cr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function dr(){var t,e,n,i=va(this._milliseconds)/1e3,r=va(this._days),o=va(this._months);t=_(i/60),e=_(t/60),i%=60,t%=60,n=_(o/12),o%=12;var a=n,s=o,u=r,l=e,c=t,h=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var gr,mr;mr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;n>i;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var vr=mr,yr=t.momentProperties=[],_r=!1,br={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var xr;xr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var wr,Tr=xr,kr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},$r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Sr="Invalid date",Cr="%d",Ar=/\d{1,2}/,Ir={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Mr={},Dr={},Er=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Or=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pr={},Lr={},Nr=/\d/,Rr=/\d\d/,Ur=/\d{3}/,Vr=/\d{4}/,Wr=/[+-]?\d{6}/,Br=/\d\d?/,Kr=/\d\d\d\d?/,jr=/\d\d\d\d\d\d?/,zr=/\d{1,3}/,Hr=/\d{1,4}/,Fr=/[+-]?\d{1,6}/,qr=/\d+/,Gr=/[+-]?\d+/,Yr=/Z|[+-]\d\d:?\d\d/gi,Zr=/Z|[+-]\d\d(?::?\d\d)?/gi,Xr=/[+-]?\d+(\.\d{1,3})?/,Jr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qr={},to={},eo=0,no=1,io=2,ro=3,oo=4,ao=5,so=6,uo=7,lo=8;wr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var co=wr;F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),F("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),U("month",8),X("M",Br),X("MM",Br,Rr),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),ee(["M","MM"],function(t,e){e[no]=b(t)-1}),ee(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[no]=r:p(n).invalidMonth=t});var ho=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,po="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),go=Jr,mo=Jr;F("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),L("year","y"),U("year",1),X("Y",Gr),X("YY",Br,Rr),X("YYYY",Hr,Vr),X("YYYYY",Fr,Wr),X("YYYYYY",Fr,Wr),ee(["YYYYY","YYYYYY"],eo),ee("YYYY",function(e,n){n[eo]=2===e.length?t.parseTwoDigitYear(e):b(e)}),ee("YY",function(e,n){n[eo]=t.parseTwoDigitYear(e)}),ee("Y",function(t,e){e[eo]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var vo=W("FullYear",!0);F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),U("week",5),U("isoWeek",5),X("w",Br),X("ww",Br,Rr),X("W",Br),X("WW",Br,Rr),ne(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=b(t)});var yo={dow:0,doy:6};F("d",0,"do","day"),F("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),F("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),F("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),X("d",Br),X("e",Br),X("E",Br),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),ne(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:p(n).invalidWeekday=t}),ne(["d","e","E"],function(t,e,n,i){e[i]=b(t)});var _o="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wo=Jr,To=Jr,ko=Jr;F("H",["HH",2],0,"hour"),F("h",["hh",2],0,je),F("k",["kk",2],0,ze),F("hmm",0,0,function(){return""+je.apply(this)+H(this.minutes(),2)}),F("hmmss",0,0,function(){return""+je.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),F("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),F("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),He("a",!0),He("A",!1),L("hour","h"),U("hour",13),X("a",Fe),X("A",Fe),X("H",Br),X("h",Br),X("HH",Br,Rr),X("hh",Br,Rr),X("hmm",Kr),X("hmmss",jr),X("Hmm",Kr),X("Hmmss",jr),ee(["H","HH"],ro),ee(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ee(["h","hh"],function(t,e,n){e[ro]=b(t),p(n).bigHour=!0}),ee("hmm",function(t,e,n){var i=t.length-2;e[ro]=b(t.substr(0,i)),e[oo]=b(t.substr(i)),p(n).bigHour=!0}),ee("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[ro]=b(t.substr(0,i)),e[oo]=b(t.substr(i,2)),e[ao]=b(t.substr(r)),p(n).bigHour=!0}),ee("Hmm",function(t,e){var n=t.length-2;e[ro]=b(t.substr(0,n)),e[oo]=b(t.substr(n))}),ee("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[ro]=b(t.substr(0,n)),e[oo]=b(t.substr(n,2)),e[ao]=b(t.substr(i))});var $o,So=/[ap]\.?m?\.?/i,Co=W("Hours",!0),Ao={calendar:kr,longDateFormat:$r,invalidDate:Sr,ordinal:Cr,ordinalParse:Ar,relativeTime:Ir,months:po,monthsShort:fo,week:yo,weekdays:_o,weekdaysMin:xo,weekdaysShort:bo,meridiemParse:So},Io={},Mo={},Do=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Eo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oo=/Z|[+-]\d\d(?::?\d\d)?/,Po=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Lo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],No=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=T("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Ro=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_n.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:d()}),Uo=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_n.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:d()}),Vo=function(){return Date.now?Date.now():+new Date};Sn("Z",":"),Sn("ZZ",""),X("Z",Zr),X("ZZ",Zr),ee(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Cn(Zr,t)});var Wo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Bo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ko=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Bn.fn=Tn.prototype;
var jo=Hn(1,"add"),zo=Hn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ho=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Si("gggg","weekYear"),Si("ggggg","weekYear"),Si("GGGG","isoWeekYear"),Si("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),X("G",Gr),X("g",Gr),X("GG",Br,Rr),X("gg",Br,Rr),X("GGGG",Hr,Vr),X("gggg",Hr,Vr),X("GGGGG",Fr,Wr),X("ggggg",Fr,Wr),ne(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=b(t)}),ne(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),F("Q",0,"Qo","quarter"),L("quarter","Q"),U("quarter",7),X("Q",Nr),ee("Q",function(t,e){e[no]=3*(b(t)-1)}),F("D",["DD",2],"Do","date"),L("date","D"),U("date",9),X("D",Br),X("DD",Br,Rr),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),ee(["D","DD"],io),ee("Do",function(t,e){e[io]=b(t.match(Br)[0],10)});var Fo=W("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),U("dayOfYear",4),X("DDD",zr),X("DDDD",Ur),ee(["DDD","DDDD"],function(t,e,n){n._dayOfYear=b(t)}),F("m",["mm",2],0,"minute"),L("minute","m"),U("minute",14),X("m",Br),X("mm",Br,Rr),ee(["m","mm"],oo);var qo=W("Minutes",!1);F("s",["ss",2],0,"second"),L("second","s"),U("second",15),X("s",Br),X("ss",Br,Rr),ee(["s","ss"],ao);var Go=W("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return 10*this.millisecond()}),F(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),F(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),F(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),F(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),F(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),U("millisecond",16),X("S",zr,Nr),X("SS",zr,Rr),X("SSS",zr,Ur);var Yo;for(Yo="SSSS";Yo.length<=9;Yo+="S")X(Yo,qr);for(Yo="S";Yo.length<=9;Yo+="S")ee(Yo,Li);var Zo=W("Milliseconds",!1);F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var Xo=v.prototype;Xo.add=jo,Xo.calendar=Gn,Xo.clone=Yn,Xo.diff=ni,Xo.endOf=gi,Xo.format=si,Xo.from=ui,Xo.fromNow=li,Xo.to=ci,Xo.toNow=hi,Xo.get=j,Xo.invalidAt=ki,Xo.isAfter=Zn,Xo.isBefore=Xn,Xo.isBetween=Jn,Xo.isSame=Qn,Xo.isSameOrAfter=ti,Xo.isSameOrBefore=ei,Xo.isValid=wi,Xo.lang=Ho,Xo.locale=pi,Xo.localeData=fi,Xo.max=Uo,Xo.min=Ro,Xo.parsingFlags=Ti,Xo.set=z,Xo.startOf=di,Xo.subtract=zo,Xo.toArray=_i,Xo.toObject=bi,Xo.toDate=yi,Xo.toISOString=oi,Xo.inspect=ai,Xo.toJSON=xi,Xo.toString=ri,Xo.unix=vi,Xo.valueOf=mi,Xo.creationData=$i,Xo.year=vo,Xo.isLeapYear=ve,Xo.weekYear=Ci,Xo.isoWeekYear=Ai,Xo.quarter=Xo.quarters=Oi,Xo.month=ce,Xo.daysInMonth=he,Xo.week=Xo.weeks=Ce,Xo.isoWeek=Xo.isoWeeks=Ae,Xo.weeksInYear=Mi,Xo.isoWeeksInYear=Ii,Xo.date=Fo,Xo.day=Xo.days=Ne,Xo.weekday=Re,Xo.isoWeekday=Ue,Xo.dayOfYear=Pi,Xo.hour=Xo.hours=Co,Xo.minute=Xo.minutes=qo,Xo.second=Xo.seconds=Go,Xo.millisecond=Xo.milliseconds=Zo,Xo.utcOffset=Mn,Xo.utc=En,Xo.local=On,Xo.parseZone=Pn,Xo.hasAlignedHourOffset=Ln,Xo.isDST=Nn,Xo.isLocal=Un,Xo.isUtcOffset=Vn,Xo.isUtc=Wn,Xo.isUTC=Wn,Xo.zoneAbbr=Ni,Xo.zoneName=Ri,Xo.dates=T("dates accessor is deprecated. Use date instead.",Fo),Xo.months=T("months accessor is deprecated. Use month instead",ce),Xo.years=T("years accessor is deprecated. Use year instead",vo),Xo.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Dn),Xo.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Rn);var Jo=A.prototype;Jo.calendar=I,Jo.longDateFormat=M,Jo.invalidDate=D,Jo.ordinal=E,Jo.preparse=Wi,Jo.postformat=Wi,Jo.relativeTime=O,Jo.pastFuture=P,Jo.set=S,Jo.months=oe,Jo.monthsShort=ae,Jo.monthsParse=ue,Jo.monthsRegex=fe,Jo.monthsShortRegex=pe,Jo.week=ke,Jo.firstDayOfYear=Se,Jo.firstDayOfWeek=$e,Jo.weekdays=De,Jo.weekdaysMin=Oe,Jo.weekdaysShort=Ee,Jo.weekdaysParse=Le,Jo.weekdaysRegex=Ve,Jo.weekdaysShortRegex=We,Jo.weekdaysMinRegex=Be,Jo.isPM=qe,Jo.meridiem=Ge,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=T("moment.lang is deprecated. Use moment.locale instead.",Je),t.langData=T("moment.langData is deprecated. Use moment.localeData instead.",en);var Qo=Math.abs,ta=or("ms"),ea=or("s"),na=or("m"),ia=or("h"),ra=or("d"),oa=or("w"),aa=or("M"),sa=or("y"),ua=sr("milliseconds"),la=sr("seconds"),ca=sr("minutes"),ha=sr("hours"),pa=sr("days"),fa=sr("months"),da=sr("years"),ga=Math.round,ma={s:45,m:45,h:22,d:26,M:11},va=Math.abs,ya=Tn.prototype;return ya.abs=Yi,ya.add=Xi,ya.subtract=Ji,ya.as=ir,ya.asMilliseconds=ta,ya.asSeconds=ea,ya.asMinutes=na,ya.asHours=ia,ya.asDays=ra,ya.asWeeks=oa,ya.asMonths=aa,ya.asYears=sa,ya.valueOf=rr,ya._bubble=tr,ya.get=ar,ya.milliseconds=ua,ya.seconds=la,ya.minutes=ca,ya.hours=ha,ya.days=pa,ya.weeks=ur,ya.months=fa,ya.years=da,ya.humanize=fr,ya.toISOString=dr,ya.toString=dr,ya.toJSON=dr,ya.locale=pi,ya.localeData=fi,ya.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dr),ya.lang=Ho,F("X",0,0,"unix"),F("x",0,0,"valueOf"),X("x",Gr),X("X",Xr),ee("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ee("x",function(t,e,n){n._d=new Date(b(t))}),t.version="2.17.1",e(_n),t.fn=Xo,t.min=xn,t.max=wn,t.now=Vo,t.utc=c,t.unix=Ui,t.months=zi,t.isDate=a,t.locale=Je,t.invalid=d,t.duration=Bn,t.isMoment=y,t.weekdays=Fi,t.parseZone=Vi,t.localeData=en,t.isDuration=kn,t.monthsShort=Hi,t.weekdaysMin=Gi,t.defineLocale=Qe,t.updateLocale=tn,t.locales=nn,t.weekdaysShort=qi,t.normalizeUnits=N,t.relativeTimeRounding=hr,t.relativeTimeThreshold=pr,t.calendarFormat=qn,t.prototype=Xo,t}),/*
   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0

   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)
   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)
 */
function(){var t,e,n,i,r={}.hasOwnProperty,o=[].slice;t={LF:"\n",NULL:"\x00"},n=function(){function e(t,e,n){this.command=t,this.headers=null!=e?e:{},this.body=null!=n?n:""}var n;return e.prototype.toString=function(){var n,i,o,a,s;n=[this.command],o=this.headers["content-length"]===!1?!0:!1,o&&delete this.headers["content-length"],s=this.headers;for(i in s)r.call(s,i)&&(a=s[i],n.push(""+i+":"+a));return this.body&&!o&&n.push("content-length:"+e.sizeOfUTF8(this.body)),n.push(t.LF+this.body),n.join(t.LF)},e.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},n=function(n){var i,r,o,a,s,u,l,c,h,p,f,d,g,m,v,y,_;for(a=n.search(RegExp(""+t.LF+t.LF)),s=n.substring(0,a).split(t.LF),o=s.shift(),u={},d=function(t){return t.replace(/^\s+|\s+$/g,"")},y=s.reverse(),g=0,v=y.length;v>g;g++)p=y[g],c=p.indexOf(":"),u[d(p.substring(0,c))]=d(p.substring(c+1));if(i="",f=a+2,u["content-length"])h=parseInt(u["content-length"]),i=(""+n).substring(f,f+h);else for(r=null,l=m=f,_=n.length;(_>=f?_>m:m>_)&&(r=n.charAt(l),r!==t.NULL);l=_>=f?++m:--m)i+=r;return new e(o,u,i)},e.unmarshall=function(e){var i,r,o,a;return r=e.split(RegExp(""+t.NULL+t.LF+"*")),a={frames:[],partial:""},a.frames=function(){var t,e,o,a;for(o=r.slice(0,-1),a=[],t=0,e=o.length;e>t;t++)i=o[t],a.push(n(i));return a}(),o=r.slice(-1)[0],o===t.LF||-1!==o.search(RegExp(""+t.NULL+t.LF+"*$"))?a.frames.push(n(o)):a.partial=o,a},e.marshall=function(n,i,r){var o;return o=new e(n,i,r),o.toString()+t.NULL},e}(),e=function(){function e(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}var r;return e.prototype.debug=function(t){var e;return"undefined"!=typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},r=function(){return Date.now?Date.now():(new Date).valueOf},e.prototype._transmit=function(t,e,i){var r;for(r=n.marshall(t,e,i),"function"==typeof this.debug&&this.debug(">>> "+r);;){if(!(r.length>this.maxWebSocketFrameSize))return this.ws.send(r);this.ws.send(r.substring(0,this.maxWebSocketFrameSize)),r=r.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+r.length)}},e.prototype._setupHeartbeat=function(e){var n,o,a,s,u,l;if((u=e.version)===i.VERSIONS.V1_1||u===i.VERSIONS.V1_2)return l=function(){var t,n,i,r;for(i=e["heart-beat"].split(","),r=[],t=0,n=i.length;n>t;t++)s=i[t],r.push(parseInt(s));return r}(),o=l[0],n=l[1],0!==this.heartbeat.outgoing&&0!==n&&(a=Math.max(this.heartbeat.outgoing,n),"function"==typeof this.debug&&this.debug("send PING every "+a+"ms"),this.pinger=i.setInterval(a,function(e){return function(){return e.ws.send(t.LF),"function"==typeof e.debug?e.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==o?(a=Math.max(this.heartbeat.incoming,o),"function"==typeof this.debug&&this.debug("check PONG every "+a+"ms"),this.ponger=i.setInterval(a,function(t){return function(){var e;return e=r()-t.serverActivity,e>2*a?("function"==typeof t.debug&&t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close()):void 0}}(this))):void 0},e.prototype._parseConnect=function(){var t,e,n,i;switch(t=1<=arguments.length?o.call(arguments,0):[],i={},t.length){case 2:i=t[0],e=t[1];break;case 3:t[1]instanceof Function?(i=t[0],e=t[1],n=t[2]):(i.login=t[0],i.passcode=t[1],e=t[2]);break;case 4:i.login=t[0],i.passcode=t[1],e=t[2],n=t[3];break;default:i.login=t[0],i.passcode=t[1],e=t[2],n=t[3],i.host=t[4]}return[i,e,n]},e.prototype.connect=function(){var e,a,s,u;return e=1<=arguments.length?o.call(arguments,0):[],u=this._parseConnect.apply(this,e),s=u[0],this.connectCallback=u[1],a=u[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(e){return function(i){var o,s,u,l,c,h,p,f,d,g,m,v,y;if(l="undefined"!=typeof ArrayBuffer&&i.data instanceof ArrayBuffer?(o=new Uint8Array(i.data),"function"==typeof e.debug?e.debug("--- got data length: "+o.length):void 0,function(){var t,e,n;for(n=[],t=0,e=o.length;e>t;t++)s=o[t],n.push(String.fromCharCode(s));return n}().join("")):i.data,e.serverActivity=r(),l===t.LF)return void("function"==typeof e.debug&&e.debug("<<< PONG"));for("function"==typeof e.debug&&e.debug("<<< "+l),d=n.unmarshall(e.partialData+l),e.partialData=d.partial,v=d.frames,y=[],g=0,m=v.length;m>g;g++)switch(c=v[g],c.command){case"CONNECTED":"function"==typeof e.debug&&e.debug("connected to server "+c.headers.server),e.connected=!0,e._setupHeartbeat(c.headers),y.push("function"==typeof e.connectCallback?e.connectCallback(c):void 0);break;case"MESSAGE":f=c.headers.subscription,p=e.subscriptions[f]||e.onreceive,p?(u=e,h=c.headers["message-id"],c.ack=function(t){return null==t&&(t={}),u.ack(h,f,t)},c.nack=function(t){return null==t&&(t={}),u.nack(h,f,t)},y.push(p(c))):y.push("function"==typeof e.debug?e.debug("Unhandled received MESSAGE: "+c):void 0);break;case"RECEIPT":y.push("function"==typeof e.onreceipt?e.onreceipt(c):void 0);break;case"ERROR":y.push("function"==typeof a?a(c):void 0);break;default:y.push("function"==typeof e.debug?e.debug("Unhandled frame: "+c):void 0)}return y}}(this),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"==typeof t.debug&&t.debug(e),t._cleanUp(),"function"==typeof a?a(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"==typeof t.debug&&t.debug("Web Socket Opened..."),s["accept-version"]=i.VERSIONS.supportedVersions(),s["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",s)}}(this)},e.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof t?t():void 0},e.prototype._cleanUp=function(){return this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger?i.clearInterval(this.ponger):void 0},e.prototype.send=function(t,e,n){return null==e&&(e={}),null==n&&(n=""),e.destination=t,this._transmit("SEND",e,n)},e.prototype.subscribe=function(t,e,n){var i;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=t,this.subscriptions[n.id]=e,this._transmit("SUBSCRIBE",n),i=this,{id:n.id,unsubscribe:function(){return i.unsubscribe(n.id)}}},e.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},e.prototype.begin=function(t){var e,n;return n=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),e=this,{id:n,commit:function(){return e.commit(n)},abort:function(){return e.abort(n)}}},e.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},e.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},e.prototype.ack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("ACK",n)},e.prototype.nack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("NACK",n)},e}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,n){var r,o;return null==n&&(n=["v10.stomp","v11.stomp"]),r=i.WebSocketClass||WebSocket,o=new r(t,n),new e(o)},over:function(t){return new e(t)},Frame:n},"undefined"!=typeof exports&&null!==exports&&(exports.Stomp=i),"undefined"!=typeof window&&null!==window?(i.setInterval=function(t,e){return window.setInterval(e,t)},i.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=i):exports||(self.Stomp=i)}.call(this),/*! @preserve
 * numeral.js
 * version : 1.5.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */
function(){function t(t){this._value=t}function e(t,e,n,i){var r,o,a,s,u=t.toString().split("."),l=e-(i||0);return r=2===u.length?Math.min(Math.max(u[1].length,l),e):l,a=Math.pow(10,r),s=(n(t*a)/a).toFixed(r),i>e-r&&(o=new RegExp("\\.?0{1,"+(i-(e-r))+"}$"),s=s.replace(o,"")),s}function n(t,e,n){var l;return l=0===t._value&&null!==y.zeroFormat?y.zeroFormat:null===t._value&&null!==y.nullFormat?y.nullFormat:e.indexOf("$")>-1?i(t,e,n):e.indexOf("%")>-1?r(t,e,n):e.indexOf(":")>-1?s(t,e):e.indexOf("b")>-1||e.indexOf("ib")>-1?o(t,e,n):e.indexOf("o")>-1?a(t,e,n):u(t._value,e,n)}function i(t,e,n){var i,r,o=e.indexOf("$"),a=e.indexOf("("),s=e.indexOf("-"),l="";return e.indexOf(" $")>-1?(l=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(l=" ",e=e.replace("$ ","")):e=e.replace("$",""),r=u(t._value,e,n,!1),1>=o?r.indexOf("(")>-1||r.indexOf("-")>-1?(r=r.split(""),i=1,(a>o||s>o)&&(i=0),r.splice(i,0,m[y.currentLanguage].currency.symbol+l),r=r.join("")):r=m[y.currentLanguage].currency.symbol+l+r:r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,l+m[y.currentLanguage].currency.symbol),r=r.join("")):r=r+l+m[y.currentLanguage].currency.symbol,r}function r(t,e,n){var i,r="",o=100*t._value;return e.indexOf(" %")>-1?(r=" ",e=e.replace(" %","")):e=e.replace("%",""),i=u(o,e,n),i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,r+"%"),i=i.join("")):i=i+r+"%",i}function o(t,e,n){var i,r,o,a,s=e.indexOf("ib")>-1?_.iec:_.bytes,l=t._value,c="";for(e.indexOf(" b")>-1||e.indexOf(" ib")>-1?(c=" ",e=e.replace(" ib","").replace(" b","")):e=e.replace("ib","").replace("b",""),r=0;r<=s.length;r++)if(o=Math.pow(1024,r),a=Math.pow(1024,r+1),null===l||0===l||l>=o&&a>l){c+=s[r],o>0&&(l/=o);break}return i=u(l,e,n),i+c}function a(t,e,n){var i,r="";return e.indexOf(" o")>-1?(r=" ",e=e.replace(" o","")):e=e.replace("o",""),r+=m[y.currentLanguage].ordinal(t._value),i=u(t._value,e,n),i+r}function s(t){var e=Math.floor(t._value/60/60),n=Math.floor((t._value-60*e*60)/60),i=Math.round(t._value-60*e*60-60*n);return e+":"+(10>n?"0"+n:n)+":"+(10>i?"0"+i:i)}function u(t,n,i){var r,o,a,s,u=!1,l=!1,c=!1,h="",p=!1,f=!1,d=!1,g=!1,v=!1,_="",b=!1;return null===t&&(t=0),r=Math.abs(t),n.indexOf("(")>-1?(u=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(l=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(p=n.indexOf("aK")>=0,f=n.indexOf("aM")>=0,d=n.indexOf("aB")>=0,g=n.indexOf("aT")>=0,v=p||f||d||g,n.indexOf(" a")>-1&&(h=" "),n=n.replace(new RegExp(h+"a[KMBT]?"),""),r>=Math.pow(10,12)&&!v||g?(h+=m[y.currentLanguage].abbreviations.trillion,t/=Math.pow(10,12)):r<Math.pow(10,12)&&r>=Math.pow(10,9)&&!v||d?(h+=m[y.currentLanguage].abbreviations.billion,t/=Math.pow(10,9)):r<Math.pow(10,9)&&r>=Math.pow(10,6)&&!v||f?(h+=m[y.currentLanguage].abbreviations.million,t/=Math.pow(10,6)):(r<Math.pow(10,6)&&r>=Math.pow(10,3)&&!v||p)&&(h+=m[y.currentLanguage].abbreviations.thousand,t/=Math.pow(10,3))),n.indexOf("[.]")>-1&&(c=!0,n=n.replace("[.]",".")),o=t.toString().split(".")[0],a=n.split(".")[1],s=n.indexOf(","),a?(a.indexOf("[")>-1?(a=a.replace("]",""),a=a.split("["),_=e(t,a[0].length+a[1].length,i,a[1].length)):_=e(t,a.length,i),o=_.split(".")[0],_=_.indexOf(".")>-1?m[y.currentLanguage].delimiters.decimal+_.split(".")[1]:"",c&&0===Number(_.slice(1))&&(_="")):o=e(t,null,i),o.indexOf("-")>-1&&(o=o.slice(1),b=!0),s>-1&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m[y.currentLanguage].delimiters.thousands)),0===n.indexOf(".")&&(o=""),(u&&b?"(":"")+(!u&&b?"-":"")+(!b&&l?"+":"")+o+_+(h?h:"")+(u&&b?")":"")}function l(t,e){var n,i,r,o,a,s,u=e,l=!1;if(e.indexOf(":")>-1)s=c(e);else if(e===y.zeroFormat||e===y.nullFormat)s=0;else{for("."!==m[y.currentLanguage].delimiters.decimal&&(e=e.replace(/\./g,"").replace(m[y.currentLanguage].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+m[y.currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+m[y.currentLanguage].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+m[y.currentLanguage].abbreviations.million+"(?:\\)|(\\"+m[y.currentLanguage].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+m[y.currentLanguage].abbreviations.billion+"(?:\\)|(\\"+m[y.currentLanguage].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+m[y.currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+m[y.currentLanguage].currency.symbol+")?(?:\\))?)?$"),a=1;a<=_.bytes.length&&!(l=e.indexOf(_.bytes[a])>-1||e.indexOf(_.iec[a])>-1?Math.pow(1024,a):!1);a++);s=l?l:1,s*=u.match(n)?Math.pow(10,3):1,s*=u.match(i)?Math.pow(10,6):1,s*=u.match(r)?Math.pow(10,9):1,s*=u.match(o)?Math.pow(10,12):1,s*=e.indexOf("%")>-1?.01:1,s*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,s*=Number(e.replace(/[^0-9\.]+/g,"")),s=l?Math.ceil(s):s}return t._value=s,t._value}function c(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}function h(t,e){m[t]=e}function p(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function f(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var n=p(t),i=p(e);return n>i?n:i},-1/0)}var d,g="1.5.6",m={},v={currentLanguage:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},y={currentLanguage:v.currentLanguage,zeroFormat:v.zeroFormat,nullFormat:v.nullFormat,defaultFormat:v.defaultFormat},_={bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],iec:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};d=function(e){return e=d.isNumeral(e)?e.value():0===e||"undefined"==typeof e?0:null===e?null:Number(e)?Number(e):d.fn.unformat(e),new t(e)},d.version=g,d.isNumeral=function(e){return e instanceof t},d.language=function(t,e){if(!t)return y.currentLanguage;if(t=t.toLowerCase(),t&&!e){if(!m[t])throw new Error("Unknown language : "+t);y.currentLanguage=t}return(e||!m[t])&&h(t,e),d},d.reset=function(){for(var t in v)y[t]=v[t]},d.languageData=function(t){if(!t)return m[y.currentLanguage];if(!m[t])throw new Error("Unknown language : "+t);return m[t]},d.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),d.zeroFormat=function(t){y.zeroFormat="string"==typeof t?t:null},d.nullFormat=function(t){y.nullFormat="string"==typeof t?t:null},d.defaultFormat=function(t){y.defaultFormat="string"==typeof t?t:"0.0"},d.validate=function(t,e){var n,i,r,o,a,s,u,l;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),t.match(/^\d+$/))return!0;if(""===t)return!1;try{u=d.languageData(e)}catch(c){u=d.languageData(d.language())}return r=u.currency.symbol,a=u.abbreviations,n=u.delimiters.decimal,i="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,l=t.match(/^[^\d]+/),null!==l&&(t=t.substr(1),l[0]!==r)?!1:(l=t.match(/[^\d]+$/),null!==l&&(t=t.slice(0,-1),l[0]!==a.thousand&&l[0]!==a.million&&l[0]!==a.billion&&l[0]!==a.trillion)?!1:(s=new RegExp(i+"{2}"),t.match(/[^\d.,]/g)?!1:(o=t.split(n),o.length>2?!1:o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/))))},Array.prototype.reduce||(Array.prototype.reduce=function(t){"use strict";if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var e,n=Object(this),i=n.length>>>0,r=0;if(2===arguments.length)e=arguments[1];else{for(;i>r&&!(r in n);)r++;if(r>=i)throw new TypeError("Reduce of empty array with no initial value");e=n[r++]}for(;i>r;r++)r in n&&(e=t(e,n[r],r,n));return e}),d.fn=t.prototype={clone:function(){return d(this)},format:function(t,e){return n(this,t?t:y.defaultFormat,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:l(this,t?t:y.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e){return t+n*e}var n=f.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/n,this},subtract:function(t){function e(t,e){return t-n*e}var n=f.call(null,this._value,t);return this._value=[t].reduce(e,this._value*n)/n,this},multiply:function(t){function e(t,e){var n=f(t,e);return t*n*e*n/(n*n)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e){var n=f(t,e);return t*n/(e*n)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(d(this._value).subtract(t).value())}},"undefined"!=typeof module&&module.exports&&(module.exports=d),"undefined"==typeof ender&&(this.numeral=d),"function"==typeof define&&define.amd&&define([],function(){return d})}.call(this),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function r(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function s(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function u(t,e){var n=null==t?0:t.length;return!!n&&_(t,e,0)>-1}function l(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function c(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function h(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function p(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function f(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function d(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function g(t){return t.split("")}function m(t){return t.match(Vn)||[]}function v(t,e,n){var i;return n(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function y(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function _(t,e,n){return e===e?F(t,e,n):y(t,x,n)}function b(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function x(t){return t!==t}function w(t,e){var n=null==t?0:t.length;return n?C(t,e)/n:Ee}function T(t){return function(e){return null==e?Q:e[t]}}function k(t){return function(e){return null==t?Q:t[e]}}function $(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function S(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function C(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==Q&&(n=n===Q?o:n+o)}return n}function A(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function I(t,e){return c(e,function(e){return[e,t[e]]})}function M(t){return function(e){return t(e)}}function D(t,e){return c(e,function(e){return t[e]})}function E(t,e){return t.has(e)}function O(t,e){for(var n=-1,i=t.length;++n<i&&_(e,t[n],0)>-1;);return n}function P(t,e){for(var n=t.length;n--&&_(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function N(t){return"\\"+Xi[t]}function R(t,e){return null==t?Q:t[e]}function U(t){return Ki.test(t)}function V(t){return ji.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function B(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function K(t,e){return function(n){return t(e(n))}}function j(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];(a===e||a===ae)&&(t[n]=ae,o[r++]=n)}return o}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function F(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function q(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function G(t){return U(t)?Z(t):dr(t)}function Y(t){return U(t)?X(t):g(t)}function Z(t){for(var e=Wi.lastIndex=0;Wi.test(t);)++e;return e}function X(t){return t.match(Wi)||[]}function J(t){return t.match(Bi)||[]}var Q,te="4.17.3",ee=200,ne="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",re="__lodash_hash_undefined__",oe=500,ae="__lodash_placeholder__",se=1,ue=2,le=4,ce=1,he=2,pe=1,fe=2,de=4,ge=8,me=16,ve=32,ye=64,_e=128,be=256,xe=512,we=30,Te="...",ke=800,$e=16,Se=1,Ce=2,Ae=3,Ie=1/0,Me=9007199254740991,De=1.7976931348623157e308,Ee=0/0,Oe=4294967295,Pe=Oe-1,Le=Oe>>>1,Ne=[["ary",_e],["bind",pe],["bindKey",fe],["curry",ge],["curryRight",me],["flip",xe],["partial",ve],["partialRight",ye],["rearg",be]],Re="[object Arguments]",Ue="[object Array]",Ve="[object AsyncFunction]",We="[object Boolean]",Be="[object Date]",Ke="[object DOMException]",je="[object Error]",ze="[object Function]",He="[object GeneratorFunction]",Fe="[object Map]",qe="[object Number]",Ge="[object Null]",Ye="[object Object]",Ze="[object Promise]",Xe="[object Proxy]",Je="[object RegExp]",Qe="[object Set]",tn="[object String]",en="[object Symbol]",nn="[object Undefined]",rn="[object WeakMap]",on="[object WeakSet]",an="[object ArrayBuffer]",sn="[object DataView]",un="[object Float32Array]",ln="[object Float64Array]",cn="[object Int8Array]",hn="[object Int16Array]",pn="[object Int32Array]",fn="[object Uint8Array]",dn="[object Uint8ClampedArray]",gn="[object Uint16Array]",mn="[object Uint32Array]",vn=/\b__p \+= '';/g,yn=/\b(__p \+=) '' \+/g,_n=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bn=/&(?:amp|lt|gt|quot|#39);/g,xn=/[&<>"']/g,wn=RegExp(bn.source),Tn=RegExp(xn.source),kn=/<%-([\s\S]+?)%>/g,$n=/<%([\s\S]+?)%>/g,Sn=/<%=([\s\S]+?)%>/g,Cn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,An=/^\w*$/,In=/^\./,Mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dn=/[\\^$.*+?()[\]{}|]/g,En=RegExp(Dn.source),On=/^\s+|\s+$/g,Pn=/^\s+/,Ln=/\s+$/,Nn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rn=/\{\n\/\* \[wrapped with (.+)\] \*/,Un=/,? & /,Vn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wn=/\\(\\)?/g,Bn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kn=/\w*$/,jn=/^[-+]0x[0-9a-f]+$/i,zn=/^0b[01]+$/i,Hn=/^\[object .+?Constructor\]$/,Fn=/^0o[0-7]+$/i,qn=/^(?:0|[1-9]\d*)$/,Gn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yn=/($^)/,Zn=/['\n\r\u2028\u2029\\]/g,Xn="\\ud800-\\udfff",Jn="\\u0300-\\u036f",Qn="\\ufe20-\\ufe2f",ti="\\u20d0-\\u20ff",ei=Jn+Qn+ti,ni="\\u2700-\\u27bf",ii="a-z\\xdf-\\xf6\\xf8-\\xff",ri="\\xac\\xb1\\xd7\\xf7",oi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ai="\\u2000-\\u206f",si=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ui="A-Z\\xc0-\\xd6\\xd8-\\xde",li="\\ufe0e\\ufe0f",ci=ri+oi+ai+si,hi="['’]",pi="["+Xn+"]",fi="["+ci+"]",di="["+ei+"]",gi="\\d+",mi="["+ni+"]",vi="["+ii+"]",yi="[^"+Xn+ci+gi+ni+ii+ui+"]",_i="\\ud83c[\\udffb-\\udfff]",bi="(?:"+di+"|"+_i+")",xi="[^"+Xn+"]",wi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ti="[\\ud800-\\udbff][\\udc00-\\udfff]",ki="["+ui+"]",$i="\\u200d",Si="(?:"+vi+"|"+yi+")",Ci="(?:"+ki+"|"+yi+")",Ai="(?:"+hi+"(?:d|ll|m|re|s|t|ve))?",Ii="(?:"+hi+"(?:D|LL|M|RE|S|T|VE))?",Mi=bi+"?",Di="["+li+"]?",Ei="(?:"+$i+"(?:"+[xi,wi,Ti].join("|")+")"+Di+Mi+")*",Oi="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Pi="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Li=Di+Mi+Ei,Ni="(?:"+[mi,wi,Ti].join("|")+")"+Li,Ri="(?:"+[xi+di+"?",di,wi,Ti,pi].join("|")+")",Ui=RegExp(hi,"g"),Vi=RegExp(di,"g"),Wi=RegExp(_i+"(?="+_i+")|"+Ri+Li,"g"),Bi=RegExp([ki+"?"+vi+"+"+Ai+"(?="+[fi,ki,"$"].join("|")+")",Ci+"+"+Ii+"(?="+[fi,ki+Si,"$"].join("|")+")",ki+"?"+Si+"+"+Ai,ki+"+"+Ii,Pi,Oi,gi,Ni].join("|"),"g"),Ki=RegExp("["+$i+Xn+ei+li+"]"),ji=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Hi=-1,Fi={};Fi[un]=Fi[ln]=Fi[cn]=Fi[hn]=Fi[pn]=Fi[fn]=Fi[dn]=Fi[gn]=Fi[mn]=!0,Fi[Re]=Fi[Ue]=Fi[an]=Fi[We]=Fi[sn]=Fi[Be]=Fi[je]=Fi[ze]=Fi[Fe]=Fi[qe]=Fi[Ye]=Fi[Je]=Fi[Qe]=Fi[tn]=Fi[rn]=!1;var qi={};qi[Re]=qi[Ue]=qi[an]=qi[sn]=qi[We]=qi[Be]=qi[un]=qi[ln]=qi[cn]=qi[hn]=qi[pn]=qi[Fe]=qi[qe]=qi[Ye]=qi[Je]=qi[Qe]=qi[tn]=qi[en]=qi[fn]=qi[dn]=qi[gn]=qi[mn]=!0,qi[je]=qi[ze]=qi[rn]=!1;var Gi={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Yi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ji=parseFloat,Qi=parseInt,tr="object"==typeof global&&global&&global.Object===Object&&global,er="object"==typeof self&&self&&self.Object===Object&&self,nr=tr||er||Function("return this")(),ir="object"==typeof exports&&exports&&!exports.nodeType&&exports,rr=ir&&"object"==typeof module&&module&&!module.nodeType&&module,or=rr&&rr.exports===ir,ar=or&&tr.process,sr=function(){try{return ar&&ar.binding&&ar.binding("util")}catch(t){}}(),ur=sr&&sr.isArrayBuffer,lr=sr&&sr.isDate,cr=sr&&sr.isMap,hr=sr&&sr.isRegExp,pr=sr&&sr.isSet,fr=sr&&sr.isTypedArray,dr=T("length"),gr=k(Gi),mr=k(Yi),vr=k(Zi),yr=function br(g){function k(t){if(ll(t)&&!xf(t)&&!(t instanceof X)){if(t instanceof Z)return t;if(bh.call(t,"__wrapped__"))return as(t)}return new Z(t)}function F(){}function Z(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Q}function X(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Vn(){var t=new X(this.__wrapped__);return t.__actions__=Bo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Bo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Bo(this.__views__),t}function Xn(){if(this.__filtered__){var t=new X(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Jn(){var t=this.__wrapped__.value(),e=this.__dir__,n=xf(t),i=0>e,r=n?t.length:0,o=Ma(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,h=c.length,p=0,f=Zh(u,this.__takeCount__);if(!n||!i&&r==u&&f==u)return wo(t,this.__actions__);var d=[];t:for(;u--&&f>p;){l+=e;for(var g=-1,m=t[l];++g<h;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(_==Ce)m=b;else if(!b){if(_==Se)continue t;break t}}d[p++]=m}return d}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ti(){this.__data__=ap?ap(null):{},this.size=0}function ei(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function ni(t){var e=this.__data__;if(ap){var n=e[t];return n===re?Q:n}return bh.call(e,t)?e[t]:Q}function ii(t){var e=this.__data__;return ap?e[t]!==Q:bh.call(e,t)}function ri(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ap&&e===Q?re:e,this}function oi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ai(){this.__data__=[],this.size=0}function si(t){var e=this.__data__,n=Ei(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():Ph.call(e,n,1),--this.size,!0}function ui(t){var e=this.__data__,n=Ei(e,t);return 0>n?Q:e[n][1]}function li(t){return Ei(this.__data__,t)>-1}function ci(t,e){var n=this.__data__,i=Ei(n,t);return 0>i?(++this.size,n.push([t,e])):n[i][1]=e,this}function hi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function pi(){this.size=0,this.__data__={hash:new Qn,map:new(np||oi),string:new Qn}}function fi(t){var e=Sa(this,t)["delete"](t);return this.size-=e?1:0,e}function di(t){return Sa(this,t).get(t)}function gi(t){return Sa(this,t).has(t)}function mi(t,e){var n=Sa(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function vi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new hi;++e<n;)this.add(t[e])}function yi(t){return this.__data__.set(t,re),this}function _i(t){return this.__data__.has(t)}function bi(t){var e=this.__data__=new oi(t);this.size=e.size}function xi(){this.__data__=new oi,this.size=0}function wi(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function Ti(t){return this.__data__.get(t)}function ki(t){return this.__data__.has(t)}function $i(t,e){var n=this.__data__;if(n instanceof oi){var i=n.__data__;if(!np||i.length<ee-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new hi(i)}return n.set(t,e),this.size=n.size,this}function Si(t,e){var n=xf(t),i=!n&&bf(t),r=!n&&!i&&Tf(t),o=!n&&!i&&!r&&Af(t),a=n||i||r||o,s=a?A(t.length,fh):[],u=s.length;for(var l in t)!e&&!bh.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ua(l,u))||s.push(l);return s}function Ci(t){var e=t.length;return e?t[no(0,e-1)]:Q}function Ai(t,e){return ns(Bo(t),Wi(e,0,t.length))}function Ii(t){return ns(Bo(t))}function Mi(t,e,n){(n!==Q&&!Yu(t[e],n)||n===Q&&!(e in t))&&Ni(t,e,n)}function Di(t,e,n){var i=t[e];bh.call(t,e)&&Yu(i,n)&&(n!==Q||e in t)||Ni(t,e,n)}function Ei(t,e){for(var n=t.length;n--;)if(Yu(t[n][0],e))return n;return-1}function Oi(t,e,n,i){return yp(t,function(t,r,o){e(i,t,n(t),o)}),i}function Pi(t,e){return t&&Ko(e,zl(e),t)}function Li(t,e){return t&&Ko(e,Hl(e),t)}function Ni(t,e,n){"__proto__"==e&&Uh?Uh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ri(t,e){for(var n=-1,i=e.length,r=ah(i),o=null==t;++n<i;)r[n]=o?Q:Bl(t,e[n]);return r}function Wi(t,e,n){return t===t&&(n!==Q&&(t=n>=t?t:n),e!==Q&&(t=t>=e?t:e)),t}function Bi(t,e,n,i,o,a){var s,u=e&se,l=e&ue,c=e&le;if(n&&(s=o?n(t,i,o,a):n(t)),s!==Q)return s;if(!ul(t))return t;var h=xf(t);if(h){if(s=Oa(t),!u)return Bo(t,s)}else{var p=Mp(t),f=p==ze||p==He;if(Tf(t))return Io(t,u);if(p==Ye||p==Re||f&&!o){if(s=l||f?{}:Pa(t),!u)return l?zo(t,Li(s,t)):jo(t,Pi(s,t))}else{if(!qi[p])return o?t:{};s=La(t,p,Bi,u)}}a||(a=new bi);var d=a.get(t);if(d)return d;a.set(t,s);var g=c?l?wa:xa:l?Hl:zl,m=h?Q:g(t);return r(m||t,function(i,r){m&&(r=i,i=t[r]),Di(s,r,Bi(i,e,n,r,t,a))}),s}function Ki(t){var e=zl(t);return function(n){return ji(n,t,e)}}function ji(t,e,n){var i=n.length;if(null==t)return!i;for(t=hh(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===Q&&!(r in t)||!o(a))return!1}return!0}function Gi(t,e,n){if("function"!=typeof t)throw new dh(ie);return Op(function(){t.apply(Q,n)},e)}function Yi(t,e,n,i){var r=-1,o=u,a=!0,s=t.length,h=[],p=e.length;if(!s)return h;n&&(e=c(e,M(n))),i?(o=l,a=!1):e.length>=ee&&(o=E,a=!1,e=new vi(e));t:for(;++r<s;){var f=t[r],d=null==n?f:n(f);if(f=i||0!==f?f:0,a&&d===d){for(var g=p;g--;)if(e[g]===d)continue t;h.push(f)}else o(e,d,i)||h.push(f)}return h}function Zi(t,e){var n=!0;return yp(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Xi(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===Q?a===a&&!bl(a):n(a,s)))var s=a,u=o}return u}function tr(t,e,n,i){var r=t.length;for(n=Sl(n),0>n&&(n=-n>r?0:r+n),i=i===Q||i>r?r:Sl(i),0>i&&(i+=r),i=n>i?0:Cl(i);i>n;)t[n++]=e;return t}function er(t,e){var n=[];return yp(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ir(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=Ra),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ir(s,e-1,n,i,r):h(r,s):i||(r[r.length]=s)}return r}function rr(t,e){return t&&bp(t,e,zl)}function ar(t,e){return t&&xp(t,e,zl)}function sr(t,e){return s(e,function(e){return ol(t[e])})}function dr(t,e){e=Co(e,t);for(var n=0,i=e.length;null!=t&&i>n;)t=t[is(e[n++])];return n&&n==i?t:Q}function yr(t,e,n){var i=e(t);return xf(t)?i:h(i,n(t))}function xr(t){return null==t?t===Q?nn:Ge:Rh&&Rh in hh(t)?Ia(t):Za(t)}function wr(t,e){return t>e}function Tr(t,e){return null!=t&&bh.call(t,e)}function kr(t,e){return null!=t&&e in hh(t)}function $r(t,e,n){return t>=Zh(e,n)&&t<Yh(e,n)}function Sr(t,e,n){for(var i=n?l:u,r=t[0].length,o=t.length,a=o,s=ah(o),h=1/0,p=[];a--;){var f=t[a];a&&e&&(f=c(f,M(e))),h=Zh(f.length,h),s[a]=!n&&(e||r>=120&&f.length>=120)?new vi(a&&f):Q}f=t[0];var d=-1,g=s[0];t:for(;++d<r&&p.length<h;){var m=f[d],v=e?e(m):m;if(m=n||0!==m?m:0,!(g?E(g,v):i(p,v,n))){for(a=o;--a;){var y=s[a];if(!(y?E(y,v):i(t[a],v,n)))continue t}g&&g.push(v),p.push(m)}}return p}function Cr(t,e,n,i){return rr(t,function(t,r,o){e(i,n(t),r,o)}),i}function Ar(t,e,i){e=Co(e,t),t=Ja(t,e);var r=null==t?t:t[is($s(e))];return null==r?Q:n(r,t,i)}function Ir(t){return ll(t)&&xr(t)==Re}function Mr(t){return ll(t)&&xr(t)==an}function Dr(t){return ll(t)&&xr(t)==Be}function Er(t,e,n,i,r){return t===e?!0:null==t||null==e||!ll(t)&&!ll(e)?t!==t&&e!==e:Or(t,e,n,i,Er,r)}function Or(t,e,n,i,r,o){var a=xf(t),s=xf(e),u=a?Ue:Mp(t),l=s?Ue:Mp(e);u=u==Re?Ye:u,l=l==Re?Ye:l;var c=u==Ye,h=l==Ye,p=u==l;if(p&&Tf(t)){if(!Tf(e))return!1;a=!0,c=!1}if(p&&!c)return o||(o=new bi),a||Af(t)?va(t,e,n,i,r,o):ya(t,e,u,n,i,r,o);if(!(n&ce)){var f=c&&bh.call(t,"__wrapped__"),d=h&&bh.call(e,"__wrapped__");if(f||d){var g=f?t.value():t,m=d?e.value():e;return o||(o=new bi),r(g,m,n,i,o)}}return p?(o||(o=new bi),_a(t,e,n,i,r,o)):!1}function Pr(t){return ll(t)&&Mp(t)==Fe}function Lr(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=hh(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===Q&&!(u in t))return!1}else{var h=new bi;if(i)var p=i(l,c,u,t,e,h);if(!(p===Q?Er(c,l,ce|he,i,h):p))return!1}}return!0}function Nr(t){if(!ul(t)||ja(t))return!1;var e=ol(t)?Sh:Hn;return e.test(rs(t))}function Rr(t){return ll(t)&&xr(t)==Je}function Ur(t){return ll(t)&&Mp(t)==Qe}function Vr(t){return ll(t)&&sl(t.length)&&!!Fi[xr(t)]}function Wr(t){return"function"==typeof t?t:null==t?Pc:"object"==typeof t?xf(t)?Fr(t[0],t[1]):Hr(t):Kc(t)}function Br(t){if(!za(t))return Gh(t);var e=[];for(var n in hh(t))bh.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Kr(t){if(!ul(t))return Ya(t);var e=za(t),n=[];for(var i in t)("constructor"!=i||!e&&bh.call(t,i))&&n.push(i);return n}function jr(t,e){return e>t}function zr(t,e){var n=-1,i=Zu(t)?ah(t.length):[];return yp(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Hr(t){var e=Ca(t);return 1==e.length&&e[0][2]?Fa(e[0][0],e[0][1]):function(n){return n===t||Lr(n,t,e)}}function Fr(t,e){return Wa(t)&&Ha(e)?Fa(is(t),e):function(n){var i=Bl(n,t);return i===Q&&i===e?jl(n,t):Er(e,i,ce|he)}}function qr(t,e,n,i,r){t!==e&&bp(e,function(o,a){if(ul(o))r||(r=new bi),Gr(t,e,a,n,qr,i,r);else{var s=i?i(t[a],o,a+"",t,e,r):Q;s===Q&&(s=o),Mi(t,a,s)}},Hl)}function Gr(t,e,n,i,r,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)return void Mi(t,n,l);var c=o?o(s,u,n+"",t,e,a):Q,h=c===Q;if(h){var p=xf(u),f=!p&&Tf(u),d=!p&&!f&&Af(u);c=u,p||f||d?xf(s)?c=s:Xu(s)?c=Bo(s):f?(h=!1,c=Io(u,!0)):d?(h=!1,c=No(u,!0)):c=[]:vl(u)||bf(u)?(c=s,bf(s)?c=Il(s):(!ul(s)||i&&ol(s))&&(c=Pa(u))):h=!1}h&&(a.set(u,c),r(c,u,i,o,a),a["delete"](u)),Mi(t,n,c)}function Yr(t,e){var n=t.length;if(n)return e+=0>e?n:0,Ua(e,n)?t[e]:Q}function Zr(t,e,n){var i=-1;e=c(e.length?e:[Pc],M($a()));var r=zr(t,function(t){var n=c(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return S(r,function(t,e){return Uo(t,e,n)})}function Xr(t,e){return Jr(t,e,function(e,n){return jl(t,n)})}function Jr(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=dr(t,a);n(s,a)&&uo(o,Co(a,t),s)}return o}function Qr(t){return function(e){return dr(e,t)}}function to(t,e,n,i){var r=i?b:_,o=-1,a=e.length,s=t;for(t===e&&(e=Bo(e)),n&&(s=c(t,M(n)));++o<a;)for(var u=0,l=e[o],h=n?n(l):l;(u=r(s,h,u,i))>-1;)s!==t&&Ph.call(s,u,1),Ph.call(t,u,1);return t}function eo(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Ua(r)?Ph.call(t,r,1):_o(t,r)}}return t}function no(t,e){return t+jh(Qh()*(e-t+1))}function io(t,e,n,i){for(var r=-1,o=Yh(Kh((e-t)/(n||1)),0),a=ah(o);o--;)a[i?o:++r]=t,t+=n;return a}function ro(t,e){var n="";if(!t||1>e||e>Me)return n;do e%2&&(n+=t),e=jh(e/2),e&&(t+=t);while(e);return n}function oo(t,e){return Pp(Xa(t,e,Pc),t+"")}function ao(t){return Ci(ic(t))}function so(t,e){var n=ic(t);return ns(n,Wi(e,0,n.length))}function uo(t,e,n,i){if(!ul(t))return t;e=Co(e,t);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var u=is(e[r]),l=n;if(r!=a){var c=s[u];l=i?i(c,u,s):Q,l===Q&&(l=ul(c)?c:Ua(e[r+1])?[]:{})}Di(s,u,l),s=s[u]}return t}function lo(t){return ns(ic(t))}function co(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=ah(r);++i<r;)o[i]=t[i+e];return o}function ho(t,e){var n;return yp(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function po(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&Le>=r){for(;r>i;){var o=i+r>>>1,a=t[o];null!==a&&!bl(a)&&(n?e>=a:e>a)?i=o+1:r=o}return r}return fo(t,e,Pc,n)}function fo(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=bl(e),l=e===Q;o>r;){var c=jh((r+o)/2),h=n(t[c]),p=h!==Q,f=null===h,d=h===h,g=bl(h);if(a)var m=i||d;else m=l?d&&(i||p):s?d&&p&&(i||!f):u?d&&p&&!f&&(i||!g):f||g?!1:i?e>=h:e>h;m?r=c+1:o=c}return Zh(o,Pe)}function go(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Yu(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function mo(t){return"number"==typeof t?t:bl(t)?Ee:+t}function vo(t){if("string"==typeof t)return t;if(xf(t))return c(t,vo)+"";if(bl(t))return mp?mp.call(t):"";var e=t+"";return"0"==e&&1/t==-Ie?"-0":e}function yo(t,e,n){var i=-1,r=u,o=t.length,a=!0,s=[],c=s;if(n)a=!1,r=l;else if(o>=ee){var h=e?null:Sp(t);if(h)return z(h);a=!1,r=E,c=new vi}else c=e?[]:s;t:for(;++i<o;){var p=t[i],f=e?e(p):p;if(p=n||0!==p?p:0,a&&f===f){for(var d=c.length;d--;)if(c[d]===f)continue t;e&&c.push(f),s.push(p)}else r(c,f,n)||(c!==s&&c.push(f),s.push(p))}return s}function _o(t,e){return e=Co(e,t),t=Ja(t,e),null==t||delete t[is($s(e))]}function bo(t,e,n,i){return uo(t,e,n(dr(t,e)),i)}function xo(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?co(t,i?0:o,i?o+1:r):co(t,i?o+1:0,i?r:o)}function wo(t,e){var n=t;
return n instanceof X&&(n=n.value()),p(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function To(t,e,n){var i=t.length;if(2>i)return i?yo(t[0]):[];for(var r=-1,o=ah(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Yi(o[r]||a,t[s],e,n));return yo(ir(o,1),e,n)}function ko(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=o>i?e[i]:Q;n(a,t[i],s)}return a}function $o(t){return Xu(t)?t:[]}function So(t){return"function"==typeof t?t:Pc}function Co(t,e){return xf(t)?t:Wa(t,e)?[t]:Lp(Dl(t))}function Ao(t,e,n){var i=t.length;return n=n===Q?i:n,!e&&n>=i?t:co(t,e,n)}function Io(t,e){if(e)return t.slice();var n=t.length,i=Mh?Mh(n):new t.constructor(n);return t.copy(i),i}function Mo(t){var e=new t.constructor(t.byteLength);return new Ih(e).set(new Ih(t)),e}function Do(t,e){var n=e?Mo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Eo(e,n,i){var r=n?i(B(e),se):B(e);return p(r,t,new e.constructor)}function Oo(t){var e=new t.constructor(t.source,Kn.exec(t));return e.lastIndex=t.lastIndex,e}function Po(t,n,i){var r=n?i(z(t),se):z(t);return p(r,e,new t.constructor)}function Lo(t){return gp?hh(gp.call(t)):{}}function No(t,e){var n=e?Mo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ro(t,e){if(t!==e){var n=t!==Q,i=null===t,r=t===t,o=bl(t),a=e!==Q,s=null===e,u=e===e,l=bl(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&e>t||l&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!u)return-1}return 0}function Uo(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var u=Ro(r[i],o[i]);if(u){if(i>=s)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}function Vo(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,u=e.length,l=Yh(o-a,0),c=ah(u+l),h=!i;++s<u;)c[s]=e[s];for(;++r<a;)(h||o>r)&&(c[n[r]]=t[r]);for(;l--;)c[s++]=t[r++];return c}function Wo(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=Yh(o-s,0),h=ah(c+l),p=!i;++r<c;)h[r]=t[r];for(var f=r;++u<l;)h[f+u]=e[u];for(;++a<s;)(p||o>r)&&(h[f+n[a]]=t[r++]);return h}function Bo(t,e){var n=-1,i=t.length;for(e||(e=ah(i));++n<i;)e[n]=t[n];return e}function Ko(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=i?i(n[s],t[s],s,n,t):Q;u===Q&&(u=t[s]),r?Ni(n,s,u):Di(n,s,u)}return n}function jo(t,e){return Ko(t,Ap(t),e)}function zo(t,e){return Ko(t,Ip(t),e)}function Ho(t,e){return function(n,r){var o=xf(n)?i:Oi,a=e?e():{};return o(n,t,$a(r,2),a)}}function Fo(t){return oo(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:Q,a=r>2?n[2]:Q;for(o=t.length>3&&"function"==typeof o?(r--,o):Q,a&&Va(n[0],n[1],a)&&(o=3>r?Q:o,r=1),e=hh(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function qo(t,e){return function(n,i){if(null==n)return n;if(!Zu(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=hh(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function Go(t){return function(e,n,i){for(var r=-1,o=hh(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(n(o[u],u,o)===!1)break}return e}}function Yo(t,e,n){function i(){var e=this&&this!==nr&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&pe,o=Jo(t);return i}function Zo(t){return function(e){e=Dl(e);var n=U(e)?Y(e):Q,i=n?n[0]:e.charAt(0),r=n?Ao(n,1).join(""):e.slice(1);return i[t]()+r}}function Xo(t){return function(e){return p(Ic(lc(e).replace(Ui,"")),t,"")}}function Jo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=vp(t.prototype),i=t.apply(n,e);return ul(i)?i:n}}function Qo(t,e,i){function r(){for(var a=arguments.length,s=ah(a),u=a,l=ka(r);u--;)s[u]=arguments[u];var c=3>a&&s[0]!==l&&s[a-1]!==l?[]:j(s,l);if(a-=c.length,i>a)return ca(t,e,na,r.placeholder,Q,s,c,Q,Q,i-a);var h=this&&this!==nr&&this instanceof r?o:t;return n(h,this,s)}var o=Jo(t);return r}function ta(t){return function(e,n,i){var r=hh(e);if(!Zu(e)){var o=$a(n,3);e=zl(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:Q}}function ea(t){return ba(function(e){var n=e.length,i=n,r=Z.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new dh(ie);if(r&&!a&&"wrapper"==Ta(o))var a=new Z([],!0)}for(i=a?i:n;++i<n;){o=e[i];var s=Ta(o),u="wrapper"==s?Cp(o):Q;a=u&&Ka(u[0])&&u[1]==(_e|ge|ve|be)&&!u[4].length&&1==u[9]?a[Ta(u[0])].apply(a,u[3]):1==o.length&&Ka(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&xf(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function na(t,e,n,i,r,o,a,s,u,l){function c(){for(var v=arguments.length,y=ah(v),_=v;_--;)y[_]=arguments[_];if(d)var b=ka(c),x=L(y,b);if(i&&(y=Vo(y,i,r,d)),o&&(y=Wo(y,o,a,d)),v-=x,d&&l>v){var w=j(y,b);return ca(t,e,na,c.placeholder,n,y,w,s,u,l-v)}var T=p?n:this,k=f?T[t]:t;return v=y.length,s?y=Qa(y,s):g&&v>1&&y.reverse(),h&&v>u&&(y.length=u),this&&this!==nr&&this instanceof c&&(k=m||Jo(k)),k.apply(T,y)}var h=e&_e,p=e&pe,f=e&fe,d=e&(ge|me),g=e&xe,m=f?Q:Jo(t);return c}function ia(t,e){return function(n,i){return Cr(n,t,e(i),{})}}function ra(t,e){return function(n,i){var r;if(n===Q&&i===Q)return e;if(n!==Q&&(r=n),i!==Q){if(r===Q)return i;"string"==typeof n||"string"==typeof i?(n=vo(n),i=vo(i)):(n=mo(n),i=mo(i)),r=t(n,i)}return r}}function oa(t){return ba(function(e){return e=c(e,M($a())),oo(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function aa(t,e){e=e===Q?" ":vo(e);var n=e.length;if(2>n)return n?ro(e,t):e;var i=ro(e,Kh(t/G(e)));return U(e)?Ao(Y(i),0,t).join(""):i.slice(0,t)}function sa(t,e,i,r){function o(){for(var e=-1,u=arguments.length,l=-1,c=r.length,h=ah(c+u),p=this&&this!==nr&&this instanceof o?s:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++e];return n(p,a?i:this,h)}var a=e&pe,s=Jo(t);return o}function ua(t){return function(e,n,i){return i&&"number"!=typeof i&&Va(e,n,i)&&(n=i=Q),e=$l(e),n===Q?(n=e,e=0):n=$l(n),i=i===Q?n>e?1:-1:$l(i),io(e,n,i,t)}}function la(t){return function(e,n){return("string"!=typeof e||"string"!=typeof n)&&(e=Al(e),n=Al(n)),t(e,n)}}function ca(t,e,n,i,r,o,a,s,u,l){var c=e&ge,h=c?a:Q,p=c?Q:a,f=c?o:Q,d=c?Q:o;e|=c?ve:ye,e&=~(c?ye:ve),e&de||(e&=~(pe|fe));var g=[t,e,r,f,h,d,p,s,u,l],m=n.apply(Q,g);return Ka(t)&&Ep(m,g),m.placeholder=i,ts(m,t,e)}function ha(t){var e=ch[t];return function(t,n){if(t=Al(t),n=null==n?0:Zh(Sl(n),292)){var i=(Dl(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Dl(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function pa(t){return function(e){var n=Mp(e);return n==Fe?B(e):n==Qe?H(e):I(e,t(e))}}function fa(t,e,n,i,r,o,a,s){var u=e&fe;if(!u&&"function"!=typeof t)throw new dh(ie);var l=i?i.length:0;if(l||(e&=~(ve|ye),i=r=Q),a=a===Q?a:Yh(Sl(a),0),s=s===Q?s:Sl(s),l-=r?r.length:0,e&ye){var c=i,h=r;i=r=Q}var p=u?Q:Cp(t),f=[t,e,n,i,r,c,h,o,a,s];if(p&&Ga(f,p),t=f[0],e=f[1],n=f[2],i=f[3],r=f[4],s=f[9]=f[9]===Q?u?0:t.length:Yh(f[9]-l,0),!s&&e&(ge|me)&&(e&=~(ge|me)),e&&e!=pe)d=e==ge||e==me?Qo(t,e,s):e!=ve&&e!=(pe|ve)||r.length?na.apply(Q,f):sa(t,e,n,i);else var d=Yo(t,e,n);var g=p?wp:Ep;return ts(g(d,f),t,e)}function da(t,e,n,i){return t===Q||Yu(t,vh[n])&&!bh.call(i,n)?e:t}function ga(t,e,n,i,r,o){return ul(t)&&ul(e)&&(o.set(e,t),qr(t,e,Q,ga,o),o["delete"](e)),t}function ma(t,e){return e!==Q&&vl(t)?Q:t}function va(t,e,n,i,r,o){var a=n&ce,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,p=n&he?new vi:Q;for(o.set(t,e),o.set(e,t);++c<s;){var f=t[c],g=e[c];if(i)var m=a?i(g,f,c,e,t,o):i(f,g,c,t,e,o);if(m!==Q){if(m)continue;h=!1;break}if(p){if(!d(e,function(t,e){return E(p,e)||f!==t&&!r(f,t,n,i,o)?void 0:p.push(e)})){h=!1;break}}else if(f!==g&&!r(f,g,n,i,o)){h=!1;break}}return o["delete"](t),o["delete"](e),h}function ya(t,e,n,i,r,o,a){switch(n){case sn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case an:return t.byteLength==e.byteLength&&o(new Ih(t),new Ih(e))?!0:!1;case We:case Be:case qe:return Yu(+t,+e);case je:return t.name==e.name&&t.message==e.message;case Je:case tn:return t==e+"";case Fe:var s=B;case Qe:var u=i&ce;if(s||(s=z),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=he,a.set(t,e);var c=va(s(t),s(e),i,r,o,a);return a["delete"](t),c;case en:if(gp)return gp.call(t)==gp.call(e)}return!1}function _a(t,e,n,i,r,o){var a=n&ce,s=xa(t),u=s.length,l=xa(e),c=l.length;if(u!=c&&!a)return!1;for(var h=u;h--;){var p=s[h];if(!(a?p in e:bh.call(e,p)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var d=!0;o.set(t,e),o.set(e,t);for(var g=a;++h<u;){p=s[h];var m=t[p],v=e[p];if(i)var y=a?i(v,m,p,e,t,o):i(m,v,p,t,e,o);if(!(y===Q?m===v||r(m,v,n,i,o):y)){d=!1;break}g||(g="constructor"==p)}if(d&&!g){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o["delete"](t),o["delete"](e),d}function ba(t){return Pp(Xa(t,Q,vs),t+"")}function xa(t){return yr(t,zl,Ap)}function wa(t){return yr(t,Hl,Ip)}function Ta(t){for(var e=t.name+"",n=up[e],i=bh.call(up,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function ka(t){var e=bh.call(k,"placeholder")?k:t;return e.placeholder}function $a(){var t=k.iteratee||Lc;return t=t===Lc?Wr:t,arguments.length?t(arguments[0],arguments[1]):t}function Sa(t,e){var n=t.__data__;return Ba(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ca(t){for(var e=zl(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Ha(r)]}return e}function Aa(t,e){var n=R(t,e);return Nr(n)?n:Q}function Ia(t){var e=bh.call(t,Rh),n=t[Rh];try{t[Rh]=Q;var i=!0}catch(r){}var o=Th.call(t);return i&&(e?t[Rh]=n:delete t[Rh]),o}function Ma(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Zh(e,t+a);break;case"takeRight":t=Yh(t,e-a)}}return{start:t,end:e}}function Da(t){var e=t.match(Rn);return e?e[1].split(Un):[]}function Ea(t,e,n){e=Co(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var a=is(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&sl(r)&&Ua(a,r)&&(xf(t)||bf(t)))}function Oa(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&bh.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Pa(t){return"function"!=typeof t.constructor||za(t)?{}:vp(Dh(t))}function La(t,e,n,i){var r=t.constructor;switch(e){case an:return Mo(t);case We:case Be:return new r(+t);case sn:return Do(t,i);case un:case ln:case cn:case hn:case pn:case fn:case dn:case gn:case mn:return No(t,i);case Fe:return Eo(t,i,n);case qe:case tn:return new r(t);case Je:return Oo(t);case Qe:return Po(t,i,n);case en:return Lo(t)}}function Na(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Nn,"{\n/* [wrapped with "+e+"] */\n")}function Ra(t){return xf(t)||bf(t)||!!(Lh&&t&&t[Lh])}function Ua(t,e){return e=null==e?Me:e,!!e&&("number"==typeof t||qn.test(t))&&t>-1&&t%1==0&&e>t}function Va(t,e,n){if(!ul(n))return!1;var i=typeof e;return("number"==i?Zu(n)&&Ua(e,n.length):"string"==i&&e in n)?Yu(n[e],t):!1}function Wa(t,e){if(xf(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||bl(t)?!0:An.test(t)||!Cn.test(t)||null!=e&&t in hh(e)}function Ba(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ka(t){var e=Ta(t),n=k[e];if("function"!=typeof n||!(e in X.prototype))return!1;if(t===n)return!0;var i=Cp(n);return!!i&&t===i[0]}function ja(t){return!!wh&&wh in t}function za(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||vh;return t===n}function Ha(t){return t===t&&!ul(t)}function Fa(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==Q||t in hh(n))}}function qa(t){var e=Lu(t,function(t){return n.size===oe&&n.clear(),t}),n=e.cache;return e}function Ga(t,e){var n=t[1],i=e[1],r=n|i,o=(pe|fe|_e)>r,a=i==_e&&n==ge||i==_e&&n==be&&t[7].length<=e[8]||i==(_e|be)&&e[7].length<=e[8]&&n==ge;if(!o&&!a)return t;i&pe&&(t[2]=e[2],r|=n&pe?0:de);var s=e[3];if(s){var u=t[3];t[3]=u?Vo(u,s,e[4]):s,t[4]=u?j(t[3],ae):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Wo(u,s,e[6]):s,t[6]=u?j(t[5],ae):e[6]),s=e[7],s&&(t[7]=s),i&_e&&(t[8]=null==t[8]?e[8]:Zh(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Ya(t){var e=[];if(null!=t)for(var n in hh(t))e.push(n);return e}function Za(t){return Th.call(t)}function Xa(t,e,i){return e=Yh(e===Q?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Yh(r.length-e,0),s=ah(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=ah(e+1);++o<e;)u[o]=r[o];return u[e]=i(s),n(t,this,u)}}function Ja(t,e){return e.length<2?t:dr(t,co(e,0,-1))}function Qa(t,e){for(var n=t.length,i=Zh(e.length,n),r=Bo(t);i--;){var o=e[i];t[i]=Ua(o,n)?r[o]:Q}return t}function ts(t,e,n){var i=e+"";return Pp(t,Na(i,os(Da(i),n)))}function es(t){var e=0,n=0;return function(){var i=Xh(),r=$e-(i-n);if(n=i,r>0){if(++e>=ke)return arguments[0]}else e=0;return t.apply(Q,arguments)}}function ns(t,e){var n=-1,i=t.length,r=i-1;for(e=e===Q?i:e;++n<e;){var o=no(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function is(t){if("string"==typeof t||bl(t))return t;var e=t+"";return"0"==e&&1/t==-Ie?"-0":e}function rs(t){if(null!=t){try{return _h.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function os(t,e){return r(Ne,function(n){var i="_."+n[0];e&n[1]&&!u(t,i)&&t.push(i)}),t.sort()}function as(t){if(t instanceof X)return t.clone();var e=new Z(t.__wrapped__,t.__chain__);return e.__actions__=Bo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ss(t,e,n){e=(n?Va(t,e,n):e===Q)?1:Yh(Sl(e),0);var i=null==t?0:t.length;if(!i||1>e)return[];for(var r=0,o=0,a=ah(Kh(i/e));i>r;)a[o++]=co(t,r,r+=e);return a}function us(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function ls(){var t=arguments.length;if(!t)return[];for(var e=ah(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return h(xf(n)?Bo(n):[n],ir(e,1))}function cs(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:Sl(e),co(t,0>e?0:e,i)):[]}function hs(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:Sl(e),e=i-e,co(t,0,0>e?0:e)):[]}function ps(t,e){return t&&t.length?xo(t,$a(e,3),!0,!0):[]}function fs(t,e){return t&&t.length?xo(t,$a(e,3),!0):[]}function ds(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Va(t,e,n)&&(n=0,i=r),tr(t,e,n,i)):[]}function gs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Sl(n);return 0>r&&(r=Yh(i+r,0)),y(t,$a(e,3),r)}function ms(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==Q&&(r=Sl(n),r=0>n?Yh(i+r,0):Zh(r,i-1)),y(t,$a(e,3),r,!0)}function vs(t){var e=null==t?0:t.length;return e?ir(t,1):[]}function ys(t){var e=null==t?0:t.length;return e?ir(t,Ie):[]}function _s(t,e){var n=null==t?0:t.length;return n?(e=e===Q?1:Sl(e),ir(t,e)):[]}function bs(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function xs(t){return t&&t.length?t[0]:Q}function ws(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Sl(n);return 0>r&&(r=Yh(i+r,0)),_(t,e,r)}function Ts(t){var e=null==t?0:t.length;return e?co(t,0,-1):[]}function ks(t,e){return null==t?"":qh.call(t,e)}function $s(t){var e=null==t?0:t.length;return e?t[e-1]:Q}function Ss(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==Q&&(r=Sl(n),r=0>r?Yh(i+r,0):Zh(r,i-1)),e===e?q(t,e,r):y(t,x,r,!0)}function Cs(t,e){return t&&t.length?Yr(t,Sl(e)):Q}function As(t,e){return t&&t.length&&e&&e.length?to(t,e):t}function Is(t,e,n){return t&&t.length&&e&&e.length?to(t,e,$a(n,2)):t}function Ms(t,e,n){return t&&t.length&&e&&e.length?to(t,e,Q,n):t}function Ds(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=$a(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return eo(t,r),n}function Es(t){return null==t?t:tp.call(t)}function Os(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Va(t,e,n)?(e=0,n=i):(e=null==e?0:Sl(e),n=n===Q?i:Sl(n)),co(t,e,n)):[]}function Ps(t,e){return po(t,e)}function Ls(t,e,n){return fo(t,e,$a(n,2))}function Ns(t,e){var n=null==t?0:t.length;if(n){var i=po(t,e);if(n>i&&Yu(t[i],e))return i}return-1}function Rs(t,e){return po(t,e,!0)}function Us(t,e,n){return fo(t,e,$a(n,2),!0)}function Vs(t,e){var n=null==t?0:t.length;if(n){var i=po(t,e,!0)-1;if(Yu(t[i],e))return i}return-1}function Ws(t){return t&&t.length?go(t):[]}function Bs(t,e){return t&&t.length?go(t,$a(e,2)):[]}function Ks(t){var e=null==t?0:t.length;return e?co(t,1,e):[]}function js(t,e,n){return t&&t.length?(e=n||e===Q?1:Sl(e),co(t,0,0>e?0:e)):[]}function zs(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:Sl(e),e=i-e,co(t,0>e?0:e,i)):[]}function Hs(t,e){return t&&t.length?xo(t,$a(e,3),!1,!0):[]}function Fs(t,e){return t&&t.length?xo(t,$a(e,3)):[]}function qs(t){return t&&t.length?yo(t):[]}function Gs(t,e){return t&&t.length?yo(t,$a(e,2)):[]}function Ys(t,e){return e="function"==typeof e?e:Q,t&&t.length?yo(t,Q,e):[]}function Zs(t){if(!t||!t.length)return[];var e=0;return t=s(t,function(t){return Xu(t)?(e=Yh(t.length,e),!0):void 0}),A(e,function(e){return c(t,T(e))})}function Xs(t,e){if(!t||!t.length)return[];var i=Zs(t);return null==e?i:c(i,function(t){return n(e,Q,t)})}function Js(t,e){return ko(t||[],e||[],Di)}function Qs(t,e){return ko(t||[],e||[],uo)}function tu(t){var e=k(t);return e.__chain__=!0,e}function eu(t,e){return e(t),t}function nu(t,e){return e(t)}function iu(){return tu(this)}function ru(){return new Z(this.value(),this.__chain__)}function ou(){this.__values__===Q&&(this.__values__=kl(this.value()));var t=this.__index__>=this.__values__.length,e=t?Q:this.__values__[this.__index__++];return{done:t,value:e}}function au(){return this}function su(t){for(var e,n=this;n instanceof F;){var i=as(n);i.__index__=0,i.__values__=Q,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function uu(){var t=this.__wrapped__;if(t instanceof X){var e=t;return this.__actions__.length&&(e=new X(this)),e=e.reverse(),e.__actions__.push({func:nu,args:[Es],thisArg:Q}),new Z(e,this.__chain__)}return this.thru(Es)}function lu(){return wo(this.__wrapped__,this.__actions__)}function cu(t,e,n){var i=xf(t)?a:Zi;return n&&Va(t,e,n)&&(e=Q),i(t,$a(e,3))}function hu(t,e){var n=xf(t)?s:er;return n(t,$a(e,3))}function pu(t,e){return ir(yu(t,e),1)}function fu(t,e){return ir(yu(t,e),Ie)}function du(t,e,n){return n=n===Q?1:Sl(n),ir(yu(t,e),n)}function gu(t,e){var n=xf(t)?r:yp;return n(t,$a(e,3))}function mu(t,e){var n=xf(t)?o:_p;return n(t,$a(e,3))}function vu(t,e,n,i){t=Zu(t)?t:ic(t),n=n&&!i?Sl(n):0;var r=t.length;return 0>n&&(n=Yh(r+n,0)),_l(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&_(t,e,n)>-1}function yu(t,e){var n=xf(t)?c:zr;return n(t,$a(e,3))}function _u(t,e,n,i){return null==t?[]:(xf(e)||(e=null==e?[]:[e]),n=i?Q:n,xf(n)||(n=null==n?[]:[n]),Zr(t,e,n))}function bu(t,e,n){var i=xf(t)?p:$,r=arguments.length<3;return i(t,$a(e,4),n,r,yp)}function xu(t,e,n){var i=xf(t)?f:$,r=arguments.length<3;return i(t,$a(e,4),n,r,_p)}function wu(t,e){var n=xf(t)?s:er;return n(t,Nu($a(e,3)))}function Tu(t){var e=xf(t)?Ci:ao;return e(t)}function ku(t,e,n){e=(n?Va(t,e,n):e===Q)?1:Sl(e);var i=xf(t)?Ai:so;return i(t,e)}function $u(t){var e=xf(t)?Ii:lo;return e(t)}function Su(t){if(null==t)return 0;if(Zu(t))return _l(t)?G(t):t.length;var e=Mp(t);return e==Fe||e==Qe?t.size:Br(t).length}function Cu(t,e,n){var i=xf(t)?d:ho;return n&&Va(t,e,n)&&(e=Q),i(t,$a(e,3))}function Au(t,e){if("function"!=typeof e)throw new dh(ie);return t=Sl(t),function(){return--t<1?e.apply(this,arguments):void 0}}function Iu(t,e,n){return e=n?Q:e,e=t&&null==e?t.length:e,fa(t,_e,Q,Q,Q,Q,e)}function Mu(t,e){var n;if("function"!=typeof e)throw new dh(ie);return t=Sl(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Q),n}}function Du(t,e,n){e=n?Q:e;var i=fa(t,ge,Q,Q,Q,Q,Q,e);return i.placeholder=Du.placeholder,i}function Eu(t,e,n){e=n?Q:e;var i=fa(t,me,Q,Q,Q,Q,Q,e);return i.placeholder=Eu.placeholder,i}function Ou(t,e,n){function i(e){var n=p,i=f;return p=f=Q,y=e,g=t.apply(i,n)}function r(t){return y=t,m=Op(s,e),_?i(t):g}function o(t){var n=t-v,i=t-y,r=e-n;return b?Zh(r,d-i):r}function a(t){var n=t-v,i=t-y;return v===Q||n>=e||0>n||b&&i>=d}function s(){var t=lf();return a(t)?u(t):void(m=Op(s,o(t)))}function u(t){return m=Q,x&&p?i(t):(p=f=Q,g)}function l(){m!==Q&&$p(m),y=0,p=v=f=m=Q}function c(){return m===Q?g:u(lf())}function h(){var t=lf(),n=a(t);if(p=arguments,f=this,v=t,n){if(m===Q)return r(v);if(b)return m=Op(s,e),i(v)}return m===Q&&(m=Op(s,e)),g}var p,f,d,g,m,v,y=0,_=!1,b=!1,x=!0;if("function"!=typeof t)throw new dh(ie);return e=Al(e)||0,ul(n)&&(_=!!n.leading,b="maxWait"in n,d=b?Yh(Al(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),h.cancel=l,h.flush=c,h}function Pu(t){return fa(t,xe)}function Lu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new dh(ie);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Lu.Cache||hi),n}function Nu(t){if("function"!=typeof t)throw new dh(ie);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ru(t){return Mu(2,t)}function Uu(t,e){if("function"!=typeof t)throw new dh(ie);return e=e===Q?e:Sl(e),oo(t,e)}function Vu(t,e){if("function"!=typeof t)throw new dh(ie);return e=null==e?0:Yh(Sl(e),0),oo(function(i){var r=i[e],o=Ao(i,0,e);return r&&h(o,r),n(t,this,o)})}function Wu(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new dh(ie);return ul(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ou(t,e,{leading:i,maxWait:e,trailing:r})}function Bu(t){return Iu(t,1)}function Ku(t,e){return gf(So(e),t)}function ju(){if(!arguments.length)return[];var t=arguments[0];return xf(t)?t:[t]}function zu(t){return Bi(t,le)}function Hu(t,e){return e="function"==typeof e?e:Q,Bi(t,le,e)}function Fu(t){return Bi(t,se|le)}function qu(t,e){return e="function"==typeof e?e:Q,Bi(t,se|le,e)}function Gu(t,e){return null==e||ji(t,e,zl(e))}function Yu(t,e){return t===e||t!==t&&e!==e}function Zu(t){return null!=t&&sl(t.length)&&!ol(t)}function Xu(t){return ll(t)&&Zu(t)}function Ju(t){return t===!0||t===!1||ll(t)&&xr(t)==We}function Qu(t){return ll(t)&&1===t.nodeType&&!vl(t)}function tl(t){if(null==t)return!0;if(Zu(t)&&(xf(t)||"string"==typeof t||"function"==typeof t.splice||Tf(t)||Af(t)||bf(t)))return!t.length;var e=Mp(t);if(e==Fe||e==Qe)return!t.size;if(za(t))return!Br(t).length;for(var n in t)if(bh.call(t,n))return!1;return!0}function el(t,e){return Er(t,e)}function nl(t,e,n){n="function"==typeof n?n:Q;var i=n?n(t,e):Q;return i===Q?Er(t,e,Q,n):!!i}function il(t){if(!ll(t))return!1;var e=xr(t);return e==je||e==Ke||"string"==typeof t.message&&"string"==typeof t.name&&!vl(t)}function rl(t){return"number"==typeof t&&Fh(t)}function ol(t){if(!ul(t))return!1;var e=xr(t);return e==ze||e==He||e==Ve||e==Xe}function al(t){return"number"==typeof t&&t==Sl(t)}function sl(t){return"number"==typeof t&&t>-1&&t%1==0&&Me>=t}function ul(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ll(t){return null!=t&&"object"==typeof t}function cl(t,e){return t===e||Lr(t,e,Ca(e))}function hl(t,e,n){return n="function"==typeof n?n:Q,Lr(t,e,Ca(e),n)}function pl(t){return ml(t)&&t!=+t}function fl(t){if(Dp(t))throw new uh(ne);return Nr(t)}function dl(t){return null===t}function gl(t){return null==t}function ml(t){return"number"==typeof t||ll(t)&&xr(t)==qe}function vl(t){if(!ll(t)||xr(t)!=Ye)return!1;var e=Dh(t);if(null===e)return!0;var n=bh.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&_h.call(n)==kh}function yl(t){return al(t)&&t>=-Me&&Me>=t}function _l(t){return"string"==typeof t||!xf(t)&&ll(t)&&xr(t)==tn}function bl(t){return"symbol"==typeof t||ll(t)&&xr(t)==en}function xl(t){return t===Q}function wl(t){return ll(t)&&Mp(t)==rn}function Tl(t){return ll(t)&&xr(t)==on}function kl(t){if(!t)return[];if(Zu(t))return _l(t)?Y(t):Bo(t);if(Nh&&t[Nh])return W(t[Nh]());var e=Mp(t),n=e==Fe?B:e==Qe?z:ic;return n(t)}function $l(t){if(!t)return 0===t?t:0;if(t=Al(t),t===Ie||t===-Ie){var e=0>t?-1:1;return e*De}return t===t?t:0}function Sl(t){var e=$l(t),n=e%1;return e===e?n?e-n:e:0}function Cl(t){return t?Wi(Sl(t),0,Oe):0}function Al(t){if("number"==typeof t)return t;if(bl(t))return Ee;if(ul(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ul(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(On,"");var n=zn.test(t);return n||Fn.test(t)?Qi(t.slice(2),n?2:8):jn.test(t)?Ee:+t}function Il(t){return Ko(t,Hl(t))}function Ml(t){return t?Wi(Sl(t),-Me,Me):0===t?t:0}function Dl(t){return null==t?"":vo(t)}function El(t,e){var n=vp(t);return null==e?n:Pi(n,e)}function Ol(t,e){return v(t,$a(e,3),rr)}function Pl(t,e){return v(t,$a(e,3),ar)}function Ll(t,e){return null==t?t:bp(t,$a(e,3),Hl)}function Nl(t,e){return null==t?t:xp(t,$a(e,3),Hl)}function Rl(t,e){return t&&rr(t,$a(e,3))}function Ul(t,e){return t&&ar(t,$a(e,3))}function Vl(t){return null==t?[]:sr(t,zl(t))}function Wl(t){return null==t?[]:sr(t,Hl(t))}function Bl(t,e,n){var i=null==t?Q:dr(t,e);return i===Q?n:i}function Kl(t,e){return null!=t&&Ea(t,e,Tr)}function jl(t,e){return null!=t&&Ea(t,e,kr)}function zl(t){return Zu(t)?Si(t):Br(t)}function Hl(t){return Zu(t)?Si(t,!0):Kr(t)}function Fl(t,e){var n={};return e=$a(e,3),rr(t,function(t,i,r){Ni(n,e(t,i,r),t)}),n}function ql(t,e){var n={};return e=$a(e,3),rr(t,function(t,i,r){Ni(n,i,e(t,i,r))}),n}function Gl(t,e){return Yl(t,Nu($a(e)))}function Yl(t,e){if(null==t)return{};var n=c(wa(t),function(t){return[t]});return e=$a(e),Jr(t,n,function(t,n){return e(t,n[0])})}function Zl(t,e,n){e=Co(e,t);var i=-1,r=e.length;for(r||(r=1,t=Q);++i<r;){var o=null==t?Q:t[is(e[i])];o===Q&&(i=r,o=n),t=ol(o)?o.call(t):o}return t}function Xl(t,e,n){return null==t?t:uo(t,e,n)}function Jl(t,e,n,i){return i="function"==typeof i?i:Q,null==t?t:uo(t,e,n,i)}function Ql(t,e,n){var i=xf(t),o=i||Tf(t)||Af(t);if(e=$a(e,4),null==n){var a=t&&t.constructor;n=o?i?new a:[]:ul(t)&&ol(a)?vp(Dh(t)):{}}return(o?r:rr)(t,function(t,i,r){return e(n,t,i,r)}),n}function tc(t,e){return null==t?!0:_o(t,e)}function ec(t,e,n){return null==t?t:bo(t,e,So(n))}function nc(t,e,n,i){return i="function"==typeof i?i:Q,null==t?t:bo(t,e,So(n),i)}function ic(t){return null==t?[]:D(t,zl(t))}function rc(t){return null==t?[]:D(t,Hl(t))}function oc(t,e,n){return n===Q&&(n=e,e=Q),n!==Q&&(n=Al(n),n=n===n?n:0),e!==Q&&(e=Al(e),e=e===e?e:0),Wi(Al(t),e,n)}function ac(t,e,n){return e=$l(e),n===Q?(n=e,e=0):n=$l(n),t=Al(t),$r(t,e,n)}function sc(t,e,n){if(n&&"boolean"!=typeof n&&Va(t,e,n)&&(e=n=Q),n===Q&&("boolean"==typeof e?(n=e,e=Q):"boolean"==typeof t&&(n=t,t=Q)),t===Q&&e===Q?(t=0,e=1):(t=$l(t),e===Q?(e=t,t=0):e=$l(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Qh();return Zh(t+r*(e-t+Ji("1e-"+((r+"").length-1))),e)}return no(t,e)}function uc(t){return td(Dl(t).toLowerCase())}function lc(t){return t=Dl(t),t&&t.replace(Gn,gr).replace(Vi,"")}function cc(t,e,n){t=Dl(t),e=vo(e);var i=t.length;n=n===Q?i:Wi(Sl(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function hc(t){return t=Dl(t),t&&Tn.test(t)?t.replace(xn,mr):t}function pc(t){return t=Dl(t),t&&En.test(t)?t.replace(Dn,"\\$&"):t}function fc(t,e,n){t=Dl(t),e=Sl(e);var i=e?G(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return aa(jh(r),n)+t+aa(Kh(r),n)}function dc(t,e,n){t=Dl(t),e=Sl(e);var i=e?G(t):0;return e&&e>i?t+aa(e-i,n):t}function gc(t,e,n){t=Dl(t),e=Sl(e);var i=e?G(t):0;return e&&e>i?aa(e-i,n)+t:t}function mc(t,e,n){return n||null==e?e=0:e&&(e=+e),Jh(Dl(t).replace(Pn,""),e||0)}function vc(t,e,n){return e=(n?Va(t,e,n):e===Q)?1:Sl(e),ro(Dl(t),e)}function yc(){var t=arguments,e=Dl(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function _c(t,e,n){return n&&"number"!=typeof n&&Va(t,e,n)&&(e=n=Q),(n=n===Q?Oe:n>>>0)?(t=Dl(t),t&&("string"==typeof e||null!=e&&!Sf(e))&&(e=vo(e),!e&&U(t))?Ao(Y(t),0,n):t.split(e,n)):[]}function bc(t,e,n){return t=Dl(t),n=null==n?0:Wi(Sl(n),0,t.length),e=vo(e),t.slice(n,n+e.length)==e}function xc(t,e,n){var i=k.templateSettings;n&&Va(t,e,n)&&(e=Q),t=Dl(t),e=Of({},e,i,da);var r,o,a=Of({},e.imports,i.imports,da),s=zl(a),u=D(a,s),l=0,c=e.interpolate||Yn,h="__p += '",p=ph((e.escape||Yn).source+"|"+c.source+"|"+(c===Sn?Bn:Yn).source+"|"+(e.evaluate||Yn).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Hi+"]")+"\n";t.replace(p,function(e,n,i,a,s,u){return i||(i=a),h+=t.slice(l,u).replace(Zn,N),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var d=e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(vn,""):h).replace(yn,"$1").replace(_n,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=ed(function(){return lh(s,f+"return "+h).apply(Q,u)});if(g.source=h,il(g))throw g;return g}function wc(t){return Dl(t).toLowerCase()}function Tc(t){return Dl(t).toUpperCase()}function kc(t,e,n){if(t=Dl(t),t&&(n||e===Q))return t.replace(On,"");if(!t||!(e=vo(e)))return t;var i=Y(t),r=Y(e),o=O(i,r),a=P(i,r)+1;return Ao(i,o,a).join("")}function $c(t,e,n){if(t=Dl(t),t&&(n||e===Q))return t.replace(Ln,"");if(!t||!(e=vo(e)))return t;var i=Y(t),r=P(i,Y(e))+1;return Ao(i,0,r).join("")}function Sc(t,e,n){if(t=Dl(t),t&&(n||e===Q))return t.replace(Pn,"");if(!t||!(e=vo(e)))return t;var i=Y(t),r=O(i,Y(e));return Ao(i,r).join("")}function Cc(t,e){var n=we,i=Te;if(ul(e)){var r="separator"in e?e.separator:r;n="length"in e?Sl(e.length):n,i="omission"in e?vo(e.omission):i}t=Dl(t);var o=t.length;if(U(t)){var a=Y(t);o=a.length}if(n>=o)return t;var s=n-G(i);if(1>s)return i;var u=a?Ao(a,0,s).join(""):t.slice(0,s);if(r===Q)return u+i;if(a&&(s+=u.length-s),Sf(r)){if(t.slice(s).search(r)){var l,c=u;for(r.global||(r=ph(r.source,Dl(Kn.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var h=l.index;u=u.slice(0,h===Q?s:h)}}else if(t.indexOf(vo(r),s)!=s){var p=u.lastIndexOf(r);p>-1&&(u=u.slice(0,p))}return u+i}function Ac(t){return t=Dl(t),t&&wn.test(t)?t.replace(bn,vr):t}function Ic(t,e,n){return t=Dl(t),e=n?Q:e,e===Q?V(t)?J(t):m(t):t.match(e)||[]}function Mc(t){var e=null==t?0:t.length,i=$a();return t=e?c(t,function(t){if("function"!=typeof t[1])throw new dh(ie);return[i(t[0]),t[1]]}):[],oo(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function Dc(t){return Ki(Bi(t,se))}function Ec(t){return function(){return t}}function Oc(t,e){return null==t||t!==t?e:t}function Pc(t){return t}function Lc(t){return Wr("function"==typeof t?t:Bi(t,se))}function Nc(t){return Hr(Bi(t,se))}function Rc(t,e){return Fr(t,Bi(e,se))}function Uc(t,e,n){var i=zl(e),o=sr(e,i);null!=n||ul(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=sr(e,zl(e)));var a=!(ul(n)&&"chain"in n&&!n.chain),s=ol(t);return r(o,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=Bo(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,h([this.value()],arguments))})}),t}function Vc(){return nr._===this&&(nr._=$h),this}function Wc(){}function Bc(t){return t=Sl(t),oo(function(e){return Yr(e,t)})}function Kc(t){return Wa(t)?T(is(t)):Qr(t)}function jc(t){return function(e){return null==t?Q:dr(t,e)}}function zc(){return[]}function Hc(){return!1}function Fc(){return{}}function qc(){return""
}function Gc(){return!0}function Yc(t,e){if(t=Sl(t),1>t||t>Me)return[];var n=Oe,i=Zh(t,Oe);e=$a(e),t-=Oe;for(var r=A(i,e);++n<t;)e(n);return r}function Zc(t){return xf(t)?c(t,is):bl(t)?[t]:Bo(Lp(Dl(t)))}function Xc(t){var e=++xh;return Dl(t)+e}function Jc(t){return t&&t.length?Xi(t,Pc,wr):Q}function Qc(t,e){return t&&t.length?Xi(t,$a(e,2),wr):Q}function th(t){return w(t,Pc)}function eh(t,e){return w(t,$a(e,2))}function nh(t){return t&&t.length?Xi(t,Pc,jr):Q}function ih(t,e){return t&&t.length?Xi(t,$a(e,2),jr):Q}function rh(t){return t&&t.length?C(t,Pc):0}function oh(t,e){return t&&t.length?C(t,$a(e,2)):0}g=null==g?nr:_r.defaults(nr.Object(),g,_r.pick(nr,zi));var ah=g.Array,sh=g.Date,uh=g.Error,lh=g.Function,ch=g.Math,hh=g.Object,ph=g.RegExp,fh=g.String,dh=g.TypeError,gh=ah.prototype,mh=lh.prototype,vh=hh.prototype,yh=g["__core-js_shared__"],_h=mh.toString,bh=vh.hasOwnProperty,xh=0,wh=function(){var t=/[^.]+$/.exec(yh&&yh.keys&&yh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Th=vh.toString,kh=_h.call(hh),$h=nr._,Sh=ph("^"+_h.call(bh).replace(Dn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ch=or?g.Buffer:Q,Ah=g.Symbol,Ih=g.Uint8Array,Mh=Ch?Ch.allocUnsafe:Q,Dh=K(hh.getPrototypeOf,hh),Eh=hh.create,Oh=vh.propertyIsEnumerable,Ph=gh.splice,Lh=Ah?Ah.isConcatSpreadable:Q,Nh=Ah?Ah.iterator:Q,Rh=Ah?Ah.toStringTag:Q,Uh=function(){try{var t=Aa(hh,"defineProperty");return t({},"",{}),t}catch(e){}}(),Vh=g.clearTimeout!==nr.clearTimeout&&g.clearTimeout,Wh=sh&&sh.now!==nr.Date.now&&sh.now,Bh=g.setTimeout!==nr.setTimeout&&g.setTimeout,Kh=ch.ceil,jh=ch.floor,zh=hh.getOwnPropertySymbols,Hh=Ch?Ch.isBuffer:Q,Fh=g.isFinite,qh=gh.join,Gh=K(hh.keys,hh),Yh=ch.max,Zh=ch.min,Xh=sh.now,Jh=g.parseInt,Qh=ch.random,tp=gh.reverse,ep=Aa(g,"DataView"),np=Aa(g,"Map"),ip=Aa(g,"Promise"),rp=Aa(g,"Set"),op=Aa(g,"WeakMap"),ap=Aa(hh,"create"),sp=op&&new op,up={},lp=rs(ep),cp=rs(np),hp=rs(ip),pp=rs(rp),fp=rs(op),dp=Ah?Ah.prototype:Q,gp=dp?dp.valueOf:Q,mp=dp?dp.toString:Q,vp=function(){function t(){}return function(e){if(!ul(e))return{};if(Eh)return Eh(e);t.prototype=e;var n=new t;return t.prototype=Q,n}}();k.templateSettings={escape:kn,evaluate:$n,interpolate:Sn,variable:"",imports:{_:k}},k.prototype=F.prototype,k.prototype.constructor=k,Z.prototype=vp(F.prototype),Z.prototype.constructor=Z,X.prototype=vp(F.prototype),X.prototype.constructor=X,Qn.prototype.clear=ti,Qn.prototype["delete"]=ei,Qn.prototype.get=ni,Qn.prototype.has=ii,Qn.prototype.set=ri,oi.prototype.clear=ai,oi.prototype["delete"]=si,oi.prototype.get=ui,oi.prototype.has=li,oi.prototype.set=ci,hi.prototype.clear=pi,hi.prototype["delete"]=fi,hi.prototype.get=di,hi.prototype.has=gi,hi.prototype.set=mi,vi.prototype.add=vi.prototype.push=yi,vi.prototype.has=_i,bi.prototype.clear=xi,bi.prototype["delete"]=wi,bi.prototype.get=Ti,bi.prototype.has=ki,bi.prototype.set=$i;var yp=qo(rr),_p=qo(ar,!0),bp=Go(),xp=Go(!0),wp=sp?function(t,e){return sp.set(t,e),t}:Pc,Tp=Uh?function(t,e){return Uh(t,"toString",{configurable:!0,enumerable:!1,value:Ec(e),writable:!0})}:Pc,kp=oo,$p=Vh||function(t){return nr.clearTimeout(t)},Sp=rp&&1/z(new rp([,-0]))[1]==Ie?function(t){return new rp(t)}:Wc,Cp=sp?function(t){return sp.get(t)}:Wc,Ap=zh?function(t){return null==t?[]:(t=hh(t),s(zh(t),function(e){return Oh.call(t,e)}))}:zc,Ip=zh?function(t){for(var e=[];t;)h(e,Ap(t)),t=Dh(t);return e}:zc,Mp=xr;(ep&&Mp(new ep(new ArrayBuffer(1)))!=sn||np&&Mp(new np)!=Fe||ip&&Mp(ip.resolve())!=Ze||rp&&Mp(new rp)!=Qe||op&&Mp(new op)!=rn)&&(Mp=function(t){var e=xr(t),n=e==Ye?t.constructor:Q,i=n?rs(n):"";if(i)switch(i){case lp:return sn;case cp:return Fe;case hp:return Ze;case pp:return Qe;case fp:return rn}return e});var Dp=yh?ol:Hc,Ep=es(wp),Op=Bh||function(t,e){return nr.setTimeout(t,e)},Pp=es(Tp),Lp=qa(function(t){var e=[];return In.test(t)&&e.push(""),t.replace(Mn,function(t,n,i,r){e.push(i?r.replace(Wn,"$1"):n||t)}),e}),Np=oo(function(t,e){return Xu(t)?Yi(t,ir(e,1,Xu,!0)):[]}),Rp=oo(function(t,e){var n=$s(e);return Xu(n)&&(n=Q),Xu(t)?Yi(t,ir(e,1,Xu,!0),$a(n,2)):[]}),Up=oo(function(t,e){var n=$s(e);return Xu(n)&&(n=Q),Xu(t)?Yi(t,ir(e,1,Xu,!0),Q,n):[]}),Vp=oo(function(t){var e=c(t,$o);return e.length&&e[0]===t[0]?Sr(e):[]}),Wp=oo(function(t){var e=$s(t),n=c(t,$o);return e===$s(n)?e=Q:n.pop(),n.length&&n[0]===t[0]?Sr(n,$a(e,2)):[]}),Bp=oo(function(t){var e=$s(t),n=c(t,$o);return e="function"==typeof e?e:Q,e&&n.pop(),n.length&&n[0]===t[0]?Sr(n,Q,e):[]}),Kp=oo(As),jp=ba(function(t,e){var n=null==t?0:t.length,i=Ri(t,e);return eo(t,c(e,function(t){return Ua(t,n)?+t:t}).sort(Ro)),i}),zp=oo(function(t){return yo(ir(t,1,Xu,!0))}),Hp=oo(function(t){var e=$s(t);return Xu(e)&&(e=Q),yo(ir(t,1,Xu,!0),$a(e,2))}),Fp=oo(function(t){var e=$s(t);return e="function"==typeof e?e:Q,yo(ir(t,1,Xu,!0),Q,e)}),qp=oo(function(t,e){return Xu(t)?Yi(t,e):[]}),Gp=oo(function(t){return To(s(t,Xu))}),Yp=oo(function(t){var e=$s(t);return Xu(e)&&(e=Q),To(s(t,Xu),$a(e,2))}),Zp=oo(function(t){var e=$s(t);return e="function"==typeof e?e:Q,To(s(t,Xu),Q,e)}),Xp=oo(Zs),Jp=oo(function(t){var e=t.length,n=e>1?t[e-1]:Q;return n="function"==typeof n?(t.pop(),n):Q,Xs(t,n)}),Qp=ba(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Ri(e,t)};return!(e>1||this.__actions__.length)&&i instanceof X&&Ua(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:nu,args:[r],thisArg:Q}),new Z(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Q),t})):this.thru(r)}),tf=Ho(function(t,e,n){bh.call(t,n)?++t[n]:Ni(t,n,1)}),ef=ta(gs),nf=ta(ms),rf=Ho(function(t,e,n){bh.call(t,n)?t[n].push(e):Ni(t,n,[e])}),of=oo(function(t,e,i){var r=-1,o="function"==typeof e,a=Zu(t)?ah(t.length):[];return yp(t,function(t){a[++r]=o?n(e,t,i):Ar(t,e,i)}),a}),af=Ho(function(t,e,n){Ni(t,n,e)}),sf=Ho(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),uf=oo(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Va(t,e[0],e[1])?e=[]:n>2&&Va(e[0],e[1],e[2])&&(e=[e[0]]),Zr(t,ir(e,1),[])}),lf=Wh||function(){return nr.Date.now()},cf=oo(function(t,e,n){var i=pe;if(n.length){var r=j(n,ka(cf));i|=ve}return fa(t,i,e,n,r)}),hf=oo(function(t,e,n){var i=pe|fe;if(n.length){var r=j(n,ka(hf));i|=ve}return fa(e,i,t,n,r)}),pf=oo(function(t,e){return Gi(t,1,e)}),ff=oo(function(t,e,n){return Gi(t,Al(e)||0,n)});Lu.Cache=hi;var df=kp(function(t,e){e=1==e.length&&xf(e[0])?c(e[0],M($a())):c(ir(e,1),M($a()));var i=e.length;return oo(function(r){for(var o=-1,a=Zh(r.length,i);++o<a;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),gf=oo(function(t,e){var n=j(e,ka(gf));return fa(t,ve,Q,e,n)}),mf=oo(function(t,e){var n=j(e,ka(mf));return fa(t,ye,Q,e,n)}),vf=ba(function(t,e){return fa(t,be,Q,Q,Q,e)}),yf=la(wr),_f=la(function(t,e){return t>=e}),bf=Ir(function(){return arguments}())?Ir:function(t){return ll(t)&&bh.call(t,"callee")&&!Oh.call(t,"callee")},xf=ah.isArray,wf=ur?M(ur):Mr,Tf=Hh||Hc,kf=lr?M(lr):Dr,$f=cr?M(cr):Pr,Sf=hr?M(hr):Rr,Cf=pr?M(pr):Ur,Af=fr?M(fr):Vr,If=la(jr),Mf=la(function(t,e){return e>=t}),Df=Fo(function(t,e){if(za(e)||Zu(e))return void Ko(e,zl(e),t);for(var n in e)bh.call(e,n)&&Di(t,n,e[n])}),Ef=Fo(function(t,e){Ko(e,Hl(e),t)}),Of=Fo(function(t,e,n,i){Ko(e,Hl(e),t,i)}),Pf=Fo(function(t,e,n,i){Ko(e,zl(e),t,i)}),Lf=ba(Ri),Nf=oo(function(t){return t.push(Q,da),n(Of,Q,t)}),Rf=oo(function(t){return t.push(Q,ga),n(Kf,Q,t)}),Uf=ia(function(t,e,n){t[e]=n},Ec(Pc)),Vf=ia(function(t,e,n){bh.call(t,e)?t[e].push(n):t[e]=[n]},$a),Wf=oo(Ar),Bf=Fo(function(t,e,n){qr(t,e,n)}),Kf=Fo(function(t,e,n,i){qr(t,e,n,i)}),jf=ba(function(t,e){var n={};if(null==t)return n;var i=!1;e=c(e,function(e){return e=Co(e,t),i||(i=e.length>1),e}),Ko(t,wa(t),n),i&&(n=Bi(n,se|ue|le,ma));for(var r=e.length;r--;)_o(n,e[r]);return n}),zf=ba(function(t,e){return null==t?{}:Xr(t,e)}),Hf=pa(zl),Ff=pa(Hl),qf=Xo(function(t,e,n){return e=e.toLowerCase(),t+(n?uc(e):e)}),Gf=Xo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yf=Xo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Zf=Zo("toLowerCase"),Xf=Xo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Jf=Xo(function(t,e,n){return t+(n?" ":"")+td(e)}),Qf=Xo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),td=Zo("toUpperCase"),ed=oo(function(t,e){try{return n(t,Q,e)}catch(i){return il(i)?i:new uh(i)}}),nd=ba(function(t,e){return r(e,function(e){e=is(e),Ni(t,e,cf(t[e],t))}),t}),id=ea(),rd=ea(!0),od=oo(function(t,e){return function(n){return Ar(n,t,e)}}),ad=oo(function(t,e){return function(n){return Ar(t,n,e)}}),sd=oa(c),ud=oa(a),ld=oa(d),cd=ua(),hd=ua(!0),pd=ra(function(t,e){return t+e},0),fd=ha("ceil"),dd=ra(function(t,e){return t/e},1),gd=ha("floor"),md=ra(function(t,e){return t*e},1),vd=ha("round"),yd=ra(function(t,e){return t-e},0);return k.after=Au,k.ary=Iu,k.assign=Df,k.assignIn=Ef,k.assignInWith=Of,k.assignWith=Pf,k.at=Lf,k.before=Mu,k.bind=cf,k.bindAll=nd,k.bindKey=hf,k.castArray=ju,k.chain=tu,k.chunk=ss,k.compact=us,k.concat=ls,k.cond=Mc,k.conforms=Dc,k.constant=Ec,k.countBy=tf,k.create=El,k.curry=Du,k.curryRight=Eu,k.debounce=Ou,k.defaults=Nf,k.defaultsDeep=Rf,k.defer=pf,k.delay=ff,k.difference=Np,k.differenceBy=Rp,k.differenceWith=Up,k.drop=cs,k.dropRight=hs,k.dropRightWhile=ps,k.dropWhile=fs,k.fill=ds,k.filter=hu,k.flatMap=pu,k.flatMapDeep=fu,k.flatMapDepth=du,k.flatten=vs,k.flattenDeep=ys,k.flattenDepth=_s,k.flip=Pu,k.flow=id,k.flowRight=rd,k.fromPairs=bs,k.functions=Vl,k.functionsIn=Wl,k.groupBy=rf,k.initial=Ts,k.intersection=Vp,k.intersectionBy=Wp,k.intersectionWith=Bp,k.invert=Uf,k.invertBy=Vf,k.invokeMap=of,k.iteratee=Lc,k.keyBy=af,k.keys=zl,k.keysIn=Hl,k.map=yu,k.mapKeys=Fl,k.mapValues=ql,k.matches=Nc,k.matchesProperty=Rc,k.memoize=Lu,k.merge=Bf,k.mergeWith=Kf,k.method=od,k.methodOf=ad,k.mixin=Uc,k.negate=Nu,k.nthArg=Bc,k.omit=jf,k.omitBy=Gl,k.once=Ru,k.orderBy=_u,k.over=sd,k.overArgs=df,k.overEvery=ud,k.overSome=ld,k.partial=gf,k.partialRight=mf,k.partition=sf,k.pick=zf,k.pickBy=Yl,k.property=Kc,k.propertyOf=jc,k.pull=Kp,k.pullAll=As,k.pullAllBy=Is,k.pullAllWith=Ms,k.pullAt=jp,k.range=cd,k.rangeRight=hd,k.rearg=vf,k.reject=wu,k.remove=Ds,k.rest=Uu,k.reverse=Es,k.sampleSize=ku,k.set=Xl,k.setWith=Jl,k.shuffle=$u,k.slice=Os,k.sortBy=uf,k.sortedUniq=Ws,k.sortedUniqBy=Bs,k.split=_c,k.spread=Vu,k.tail=Ks,k.take=js,k.takeRight=zs,k.takeRightWhile=Hs,k.takeWhile=Fs,k.tap=eu,k.throttle=Wu,k.thru=nu,k.toArray=kl,k.toPairs=Hf,k.toPairsIn=Ff,k.toPath=Zc,k.toPlainObject=Il,k.transform=Ql,k.unary=Bu,k.union=zp,k.unionBy=Hp,k.unionWith=Fp,k.uniq=qs,k.uniqBy=Gs,k.uniqWith=Ys,k.unset=tc,k.unzip=Zs,k.unzipWith=Xs,k.update=ec,k.updateWith=nc,k.values=ic,k.valuesIn=rc,k.without=qp,k.words=Ic,k.wrap=Ku,k.xor=Gp,k.xorBy=Yp,k.xorWith=Zp,k.zip=Xp,k.zipObject=Js,k.zipObjectDeep=Qs,k.zipWith=Jp,k.entries=Hf,k.entriesIn=Ff,k.extend=Ef,k.extendWith=Of,Uc(k,k),k.add=pd,k.attempt=ed,k.camelCase=qf,k.capitalize=uc,k.ceil=fd,k.clamp=oc,k.clone=zu,k.cloneDeep=Fu,k.cloneDeepWith=qu,k.cloneWith=Hu,k.conformsTo=Gu,k.deburr=lc,k.defaultTo=Oc,k.divide=dd,k.endsWith=cc,k.eq=Yu,k.escape=hc,k.escapeRegExp=pc,k.every=cu,k.find=ef,k.findIndex=gs,k.findKey=Ol,k.findLast=nf,k.findLastIndex=ms,k.findLastKey=Pl,k.floor=gd,k.forEach=gu,k.forEachRight=mu,k.forIn=Ll,k.forInRight=Nl,k.forOwn=Rl,k.forOwnRight=Ul,k.get=Bl,k.gt=yf,k.gte=_f,k.has=Kl,k.hasIn=jl,k.head=xs,k.identity=Pc,k.includes=vu,k.indexOf=ws,k.inRange=ac,k.invoke=Wf,k.isArguments=bf,k.isArray=xf,k.isArrayBuffer=wf,k.isArrayLike=Zu,k.isArrayLikeObject=Xu,k.isBoolean=Ju,k.isBuffer=Tf,k.isDate=kf,k.isElement=Qu,k.isEmpty=tl,k.isEqual=el,k.isEqualWith=nl,k.isError=il,k.isFinite=rl,k.isFunction=ol,k.isInteger=al,k.isLength=sl,k.isMap=$f,k.isMatch=cl,k.isMatchWith=hl,k.isNaN=pl,k.isNative=fl,k.isNil=gl,k.isNull=dl,k.isNumber=ml,k.isObject=ul,k.isObjectLike=ll,k.isPlainObject=vl,k.isRegExp=Sf,k.isSafeInteger=yl,k.isSet=Cf,k.isString=_l,k.isSymbol=bl,k.isTypedArray=Af,k.isUndefined=xl,k.isWeakMap=wl,k.isWeakSet=Tl,k.join=ks,k.kebabCase=Gf,k.last=$s,k.lastIndexOf=Ss,k.lowerCase=Yf,k.lowerFirst=Zf,k.lt=If,k.lte=Mf,k.max=Jc,k.maxBy=Qc,k.mean=th,k.meanBy=eh,k.min=nh,k.minBy=ih,k.stubArray=zc,k.stubFalse=Hc,k.stubObject=Fc,k.stubString=qc,k.stubTrue=Gc,k.multiply=md,k.nth=Cs,k.noConflict=Vc,k.noop=Wc,k.now=lf,k.pad=fc,k.padEnd=dc,k.padStart=gc,k.parseInt=mc,k.random=sc,k.reduce=bu,k.reduceRight=xu,k.repeat=vc,k.replace=yc,k.result=Zl,k.round=vd,k.runInContext=br,k.sample=Tu,k.size=Su,k.snakeCase=Xf,k.some=Cu,k.sortedIndex=Ps,k.sortedIndexBy=Ls,k.sortedIndexOf=Ns,k.sortedLastIndex=Rs,k.sortedLastIndexBy=Us,k.sortedLastIndexOf=Vs,k.startCase=Jf,k.startsWith=bc,k.subtract=yd,k.sum=rh,k.sumBy=oh,k.template=xc,k.times=Yc,k.toFinite=$l,k.toInteger=Sl,k.toLength=Cl,k.toLower=wc,k.toNumber=Al,k.toSafeInteger=Ml,k.toString=Dl,k.toUpper=Tc,k.trim=kc,k.trimEnd=$c,k.trimStart=Sc,k.truncate=Cc,k.unescape=Ac,k.uniqueId=Xc,k.upperCase=Qf,k.upperFirst=td,k.each=gu,k.eachRight=mu,k.first=xs,Uc(k,function(){var t={};return rr(k,function(e,n){bh.call(k.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),k.VERSION=te,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){k[t].placeholder=k}),r(["drop","take"],function(t,e){X.prototype[t]=function(n){n=n===Q?1:Yh(Sl(n),0);var i=this.__filtered__&&!e?new X(this):this.clone();return i.__filtered__?i.__takeCount__=Zh(n,i.__takeCount__):i.__views__.push({size:Zh(n,Oe),type:t+(i.__dir__<0?"Right":"")}),i},X.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Se||n==Ae;X.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$a(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");X.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");X.prototype[t]=function(){return this.__filtered__?new X(this):this[n](1)}}),X.prototype.compact=function(){return this.filter(Pc)},X.prototype.find=function(t){return this.filter(t).head()},X.prototype.findLast=function(t){return this.reverse().find(t)},X.prototype.invokeMap=oo(function(t,e){return"function"==typeof t?new X(this):this.map(function(n){return Ar(n,t,e)})}),X.prototype.reject=function(t){return this.filter(Nu($a(t)))},X.prototype.slice=function(t,e){t=Sl(t);var n=this;return n.__filtered__&&(t>0||0>e)?new X(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Q&&(e=Sl(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},X.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},X.prototype.toArray=function(){return this.take(Oe)},rr(X.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=k[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(k.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof X,u=a[0],l=s||xf(e),c=function(t){var e=r.apply(k,h([t],a));return i&&p?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var p=this.__chain__,f=!!this.__actions__.length,d=o&&!p,g=s&&!f;if(!o&&l){e=g?e:new X(this);var m=t.apply(e,a);return m.__actions__.push({func:nu,args:[c],thisArg:Q}),new Z(m,p)}return d&&g?t.apply(this,a):(m=this.thru(c),d?i?m.value()[0]:m.value():m)})}),r(["pop","push","shift","sort","splice","unshift"],function(t){var e=gh[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);k.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(xf(r)?r:[],t)}return this[n](function(n){return e.apply(xf(n)?n:[],t)})}}),rr(X.prototype,function(t,e){var n=k[e];if(n){var i=n.name+"",r=up[i]||(up[i]=[]);r.push({name:e,func:n})}}),up[na(Q,fe).name]=[{name:"wrapper",func:Q}],X.prototype.clone=Vn,X.prototype.reverse=Xn,X.prototype.value=Jn,k.prototype.at=Qp,k.prototype.chain=iu,k.prototype.commit=ru,k.prototype.next=ou,k.prototype.plant=su,k.prototype.reverse=uu,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=lu,k.prototype.first=k.prototype.head,Nh&&(k.prototype[Nh]=au),k},_r=yr();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nr._=_r,define(function(){return _r})):rr?((rr.exports=_r)._=_r,ir._=_r):nr._=_r}.call(this);